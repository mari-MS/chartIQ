{"code":"!function(t){function e(e){for(var a,s,o=e[0],l=e[1],h=e[2],u=0,d=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);for(c&&c(e);d.length;)d.shift()();return n.push.apply(n,h||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],a=!0,o=1;o<i.length;o++){var l=i[o];0!==r[l]&&(a=!1)}a&&(n.splice(e--,1),t=s(s.s=i[0]))}return t}var a={},r={2:0},n=[];function s(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=a,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var a in t)s.d(i,a,function(e){return t[e]}.bind(null,a));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,\"a\",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p=\"\";var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var h=0;h<o.length;h++)e(o[h]);var c=l;n.push([10,3,0,1]),i()}([function(t,e,i){\"use strict\";(function(t){var a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,B,E,O,L,N,H,I,R,W;function z(){}i.d(e,\"c\",(function(){return V})),i.d(e,\"d\",(function(){return U})),i.d(e,\"e\",(function(){return j})),i.d(e,\"a\",(function(){return q})),i.d(e,\"b\",(function(){return Y})),function(){var t,e=[\"127.0.0.1\",\"localhost\",\"angelbroking.com\",\"localfolder://\"];if(t=new Date(\"2021/08/01\").getTime()){var i=(new Date).getTime();if(t<=i)console.error(\"This license has expired!\");else;}if(\"undefined\"!=typeof document){if(\"file:\"==document.location.protocol)return;if(e&&e.length>0){for(var a=document.location.href,r=!1,n=0;n<e.length;n++)if(a.indexOf(e[n])>-1){r=!0;break}r||(alert(\"ERROR: Not licensed for domain \"+a),console.error(\"ERROR: Not licensed for domain \"+a))}}}(),z[516308]=function(){for(var t=2;9!==t;)switch(t){case 1:return globalThis;case 2:t=\"object\"==typeof globalThis?1:5;break;case 5:var e;try{for(var i=2;6!==i;)switch(i){case 3:throw\"\";case 9:delete e.RyU9K,delete Object.prototype.an7Eu,i=6;break;case 2:Object.defineProperty(Object.prototype,\"an7Eu\",{get:function(){for(;;)return this},configurable:!0}),(e=an7Eu).RyU9K=e,i=4;break;case 4:i=\"undefined\"==typeof RyU9K?3:9}}catch(t){e=window}return e}}(),z[251947]=function(t){function e(t,e,i,a,r){for(var n=2;14!==n;)switch(n){case 9:l[7]=6,l[7]=8,l[7]=9;try{for(var s=2;8!==s;)switch(s){case 2:l[9]={},l[1]=(0,l[0][1])(l[0][0]),l[2]=[l[7],l[1].prototype][l[0][3]],s=4;break;case 4:l[9].value=l[2][l[0][2]];try{for(var o=2;3!==o;)switch(o){case 4:l[0][0].Object[l[3]](l[2],l[0][4],l[9]),o=3;break;case 2:l[3]=l[6],l[3]+=l[4],l[3]+=l[5],o=4}}catch(t){}l[2][l[0][4]]=l[9].value,s=8}}catch(t){}n=14;break;case 2:var l=[arguments];l[5]=\"ty\",l[4]=\"\",l[4]=\"roper\",l[6]=\"defineP\",n=9}}for(var i=2;11!==i;)switch(i){case 3:a[3]=\"C\",a[7]=\"4\",a[4]=1,a[1]=a[3],i=6;break;case 2:var a=[arguments];a[5]=\"\",a[5]=\"\",a[5]=\"ll\",i=3;break;case 13:var r=function(t,i,r,n){for(var s=2;5!==s;)switch(s){case 2:var o=[arguments];e(a[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};i=12;break;case 6:a[1]+=a[7],a[1]+=a[5],i=13;break;case 12:r(n,\"charCodeAt\",a[4],a[1]),i=11}function n(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments];return i[0][0].String}}}(z[516308]),z[315644]=function(t){function e(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments];return i[0][0].String}}function i(t,e,i,a,r){for(var n=2;8!==n;)switch(n){case 2:var s=[arguments];s[6]=\"\",s[6]=\"Property\",s[8]=\"ine\",s[7]=\"def\";try{for(var o=2;8!==o;)switch(o){case 3:try{for(var l=2;3!==l;)switch(l){case 4:s[0][0].Object[s[3]](s[4],s[0][4],s[2]),l=3;break;case 2:s[3]=s[7],s[3]+=s[8],s[3]+=s[6],l=4}}catch(t){}s[4][s[0][4]]=s[2].value,o=8;break;case 2:s[2]={},s[5]=(0,s[0][1])(s[0][0]),s[4]=[s[5],s[5].prototype][s[0][3]],s[2].value=s[4][s[0][2]],o=3}}catch(t){}n=8}}function a(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments];return i[0][0]}}for(var r=2;42!==r;)switch(r){case 2:var n=[arguments];n[2]=\"\",n[2]=\"47\",n[3]=\"t4\",r=3;break;case 3:n[7]=\"\",n[7]=\"\",n[1]=\"H\",n[7]=\"7\",r=6;break;case 43:s(o,\"charCodeAt\",n[8],n[23]),r=42;break;case 28:s(e,\"fromCharCode\",n[51],n[49]),r=44;break;case 30:var s=function(t,e,a,r){for(var s=2;5!==s;)switch(s){case 1:i(n[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5;break;case 2:var o=[arguments];s=1}};r=29;break;case 6:n[9]=\"\",n[9]=\"\",n[9]=\"R4\",n[4]=\"\",n[4]=\"77\",n[5]=\"4\",n[6]=\"\",r=19;break;case 19:n[6]=\"G\",n[8]=1,n[51]=6,n[51]=1,r=15;break;case 29:s(a,\"String\",n[51],n[90]),r=28;break;case 15:n[51]=0,n[23]=n[6],n[23]+=n[5],n[23]+=n[4],r=24;break;case 44:s(o,\"substring\",n[8],n[50]),r=43;break;case 24:n[50]=n[9],n[50]+=n[7],n[50]+=n[7],n[49]=n[1],r=35;break;case 35:n[49]+=n[2],n[49]+=n[7],n[90]=n[3],n[90]+=n[7],n[90]+=n[7],r=30}function o(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments];return i[0][0].String}}}(z[516308]),z[150122]=function(t){function e(t,e,i,a,r){for(var n=2;7!==n;)switch(n){case 2:var s=[arguments];s[7]=\"\",s[7]=\"ty\",s[2]=9,n=3;break;case 3:s[4]=\"roper\",s[3]=\"defineP\";try{for(var o=2;8!==o;)switch(o){case 3:try{for(var l=2;3!==l;)switch(l){case 2:s[8]=s[3],s[8]+=s[4],s[8]+=s[7],s[0][0].Object[s[8]](s[1],s[0][4],s[6]),l=3}}catch(t){}s[1][s[0][4]]=s[6].value,o=8;break;case 2:s[6]={},s[5]=(0,s[0][1])(s[0][0]),s[1]=[s[2],s[5].prototype][s[0][3]],s[6].value=s[1][s[0][2]],o=3}}catch(t){}n=7}}for(var i=2;15!==i;)switch(i){case 16:a(n,\"map\",r[1],r[6]),i=15;break;case 12:r[6]+=r[2],r[6]+=r[2],r[9]=r[4],r[9]+=r[5],r[9]+=r[7],i=18;break;case 3:r[4]=\"K\",r[2]=\"\",r[2]=\"O\",r[3]=\"j3\",r[1]=8,r[1]=1,r[6]=r[3],i=12;break;case 17:a(s,\"replace\",r[1],r[9]),i=16;break;case 18:var a=function(t,i,a,n){for(var s=2;5!==s;)switch(s){case 2:var o=[arguments];e(r[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};i=17;break;case 2:var r=[arguments];r[7]=\"OO\",r[5]=\"\",r[5]=\"3\",i=3}function n(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments];return i[0][0].Array}}function s(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments];return i[0][0].String}}}(z[516308]),z[415570]=function(t){function e(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments];return i[0][0].Array}}function i(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments];return i[0][0].Function}}function a(t,e,i,a,r){for(var n=2;6!==n;)switch(n){case 3:l[5]=\"roper\",l[8]=\"\",l[8]=\"defineP\";try{for(var s=2;8!==s;)switch(s){case 5:l[2]=[l[7],l[7].prototype][l[0][3]],l[9].value=l[2][l[0][2]];try{for(var o=2;3!==o;)switch(o){case 2:l[1]=l[8],l[1]+=l[5],l[1]+=l[6],l[0][0].Object[l[1]](l[2],l[0][4],l[9]),o=3}}catch(t){}l[2][l[0][4]]=l[9].value,s=8;break;case 2:l[9]={},l[7]=(0,l[0][1])(l[0][0]),s=5}}catch(t){}n=6;break;case 2:var l=[arguments];l[6]=\"\",l[6]=\"ty\",l[5]=\"\",n=3}}function r(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments];return i[0][0]}}for(var n=2;73!==n;)switch(n){case 24:o[58]=\"\",o[58]=\"76\",o[52]=\"\",o[52]=\"S\",o[72]=\"6\",o[76]=\"7\",o[81]=\"66\",n=32;break;case 76:s(r,o[13],o[30],o[96]),n=75;break;case 15:o[85]=\"\",o[85]=\"__re\",o[94]=\"sid\",o[40]=\"ual\",n=24;break;case 19:o[2]=\"\",o[2]=\"_\",o[49]=\"\",o[49]=\"b7\",n=15;break;case 57:var s=function(t,e,i,r){for(var n=2;5!==n;)switch(n){case 2:var s=[arguments];a(o[0][0],s[0][0],s[0][1],s[0][2],s[0][3]),n=5}};n=56;break;case 43:o[62]+=o[76],o[62]+=o[81],o[28]=o[52],o[28]+=o[58],n=39;break;case 55:s(l,\"test\",o[10],o[63]),n=77;break;case 12:o[8]=\"\",o[8]=\"bstract\",o[6]=\"\",o[6]=\"_a\",n=19;break;case 74:s(i,\"apply\",o[10],o[62]),n=73;break;case 7:o[7]=\"__opti\",o[5]=\"ize\",o[1]=\"\",o[1]=\"E\",n=12;break;case 61:o[63]+=o[72],o[43]=o[3],o[43]+=o[76],o[43]+=o[81],n=57;break;case 32:o[33]=\"\",o[33]=\"\",o[33]=\"U\",o[10]=1,o[30]=0,o[62]=o[33],n=43;break;case 77:s(r,o[42],o[30],o[17]),n=76;break;case 2:var o=[arguments];o[3]=\"\",o[3]=\"P\",o[4]=\"\",o[4]=\"z\",o[9]=\"\",o[9]=\"m\",n=7;break;case 56:s(e,\"push\",o[10],o[43]),n=55;break;case 51:o[13]=o[2],o[13]+=o[6],o[13]+=o[8],o[17]=o[1],n=47;break;case 39:o[28]+=o[72],o[48]=o[85],o[48]+=o[94],o[48]+=o[40],o[96]=o[49],o[96]+=o[72],o[96]+=o[72],n=51;break;case 47:o[17]+=o[76],o[17]+=o[81],o[42]=o[7],o[42]+=o[9],o[42]+=o[5],o[63]=o[4],o[63]+=o[58],n=61;break;case 75:s(r,o[48],o[30],o[28]),n=74}function l(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments];return i[0][0].RegExp}}}(z[516308]),z.m4o=function(){return\"function\"==typeof z[232311].o7L?z[232311].o7L.apply(z[232311],arguments):z[232311].o7L},z.u8P=function(){return\"function\"==typeof z[117406].a6o?z[117406].a6o.apply(z[117406],arguments):z[117406].a6o},z[232311]=function(t){function e(e){for(var i=2;15!==i;)switch(i){case 9:i=l--?7:8;break;case 13:h=t[7],i=12;break;case 3:r=32,i=9;break;case 17:a=e-c>r,i=19;break;case 14:i=l--?12:13;break;case 6:o=s&&u(s,r),i=14;break;case 11:c=(h||0===h)&&u(h,r),i=10;break;case 4:i=l--?9:3;break;case 5:u=n[t[4]],i=4;break;case 19:return a;case 7:i=l--?14:6;break;case 10:i=c>=0&&o>=0?20:18;break;case 1:i=l--?4:5;break;case 18:i=c>=0?17:16;break;case 16:a=o-e>r,i=19;break;case 12:i=l--?10:11;break;case 2:var a,r,s,o,h,c,u;i=1;break;case 20:a=e-c>r&&o-e>r,i=19;break;case 8:s=t[6],i=7}}for(var i=2;10!==i;)switch(i){case 14:t=t.j3OO((function(t){for(var e=2;13!==e;)switch(e){case 5:r=\"\",e=4;break;case 14:return r;case 4:var i=0;e=3;break;case 2:var r;e=1;break;case 1:e=l--?4:5;break;case 3:e=i<t.length?9:7;break;case 7:e=r?14:6;break;case 8:i++,e=3;break;case 9:r+=n[o][a](t[i]+103),e=8;break;case 6:return}})),i=13;break;case 5:n=z[516308],i=4;break;case 6:i=l--?13:14;break;case 4:var a=\"fromCharCode\",r=\"RegExp\";i=3;break;case 2:var n,s,o,l;i=1;break;case 1:i=l--?4:5;break;case 3:i=l--?8:9;break;case 7:o=s.K3OO(new n[r](\"^['-|]\"),\"S\"),i=6;break;case 13:i=l--?11:12;break;case 9:s=typeof a,i=8;break;case 8:i=l--?6:7;break;case 12:var h,c=0;i=11;break;case 11:return{o7L:function(i){for(var a=2;6!==a;)switch(a){case 5:a=l--?3:4;break;case 2:var r=(new n[t[0]])[t[1]]();a=1;break;case 8:return function(e,a){for(var r=2;10!==r;)switch(r){case 6:r=0===o?14:12;break;case 5:r=void 0===a&&void 0!==t?4:3;break;case 4:a=t,r=3;break;case 14:s=h,r=13;break;case 1:e=i,r=5;break;case 11:return s;case 3:var s,o=0;r=9;break;case 9:r=o<e[a[5]]?8:11;break;case 2:r=void 0===e&&void 0!==i?1:5;break;case 8:var l=n[a[4]](e[a[2]](o),16)[a[3]](2),h=l[a[2]](l[a[5]]-1);r=6;break;case 13:o++,r=9;break;case 12:s^=h,r=13}}(void 0,void 0)?h:!h;case 9:c=r+6e4,a=8;break;case 4:h=e(r),a=3;break;case 1:a=r>c?5:8;break;case 3:a=l--?8:9}}}}}([[-35,-6,13,-2],[0,-2,13,-19,2,6,-2],[-4,1,-6,11,-38,13],[13,8,-20,13,11,2,7,0],[9,-6,11,12,-2,-30,7,13],[5,-2,7,0,13,1],[-54,-1,-2,-4,8,-53,10,-55,-55],[]]),z.Y6R=function(){return\"function\"==typeof z[234673].c9W?z[234673].c9W.apply(z[234673],arguments):z[234673].c9W},z[516308].p9yy=z,z.F9B=function(){return\"function\"==typeof z[575515].E8B?z[575515].E8B.apply(z[575515],arguments):z[575515].E8B},z[575515]={E8B:function(){var t,e=arguments;switch(a){case 9:t=e[0]*e[1];break;case 33:t=(e[0]+e[1])/(e[3]^e[2]);break;case 27:t=e[6]+e[4]+e[1]+e[5]+e[3]+e[2]+e[0];break;case 12:t=e[2]*(e[3]-e[4]/(e[0]-e[1]));break;case 3:t=e[1]+e[0];break;case 47:t=e[0]-+e[1];break;case 22:t=e[1]*+e[0];break;case 59:t=e[0]*(e[2]<<e[1]);break;case 49:t=e[2]*(e[0]-e[1])+e[3];break;case 28:t=e[1]+e[7]+e[0]+e[8]+e[2]+e[4]+e[3]+e[5]+e[6];break;case 58:t=e[0]>e[1];break;case 32:t=e[1]<e[0];break;case 55:t=e[0]-e[1]/e[3]+(e[2]-e[4]);break;case 38:t=e[2]/e[3]*e[0]*e[4]*e[1]+e[5];break;case 13:t=(e[0]-e[1])/e[2];break;case 0:t=e[1]>>e[0];break;case 57:t=e[0]+e[3]/e[1]*e[2];break;case 68:t=e[1]*(e[2]>>e[0]);break;case 20:t=e[2]+e[0]/e[1];break;case 66:t=e[2]*e[0]*+e[1]*e[3]*e[4];break;case 36:t=-e[3]/e[2]*(e[1]*(e[6]-e[4])-e[5])+e[0];break;case 53:t=e[1]-e[0]-e[2];break;case 54:t=e[1]+e[0]*e[2];break;case 62:t=e[1]!=e[0];break;case 52:t=e[2]-e[0]-e[1]+e[3];break;case 50:t=e[0]-e[3]-(e[1]-e[2]);break;case 17:t=e[2]+(e[4]-e[1])*e[0]*e[3];break;case 10:t=e[5]+e[8]+e[1]+e[9]+e[0]+e[2]+e[4]+e[7]/e[6]+e[3];break;case 19:t=e[0]*e[1]-e[2];break;case 4:t=(e[5]-e[4])*(e[0]-e[2])/(e[3]-e[1]);break;case 43:t=e[0]==e[1];break;case 8:t=e[0]/e[1];break;case 42:t=(e[0]-e[2])*(e[6]-e[3])-(e[7]-e[1])*(e[5]-e[4]);break;case 15:t=(e[2]+e[0])/e[1];break;case 64:t=+e[1]*(e[2]>>e[0]);break;case 16:t=(e[1]-e[2])/e[0]+e[3];break;case 40:t=e[2]*(e[1]*e[4]*e[0]+e[3])+e[5];break;case 56:t=e[0]+(e[2]+e[1]);break;case 69:t=e[2]-(e[1]-e[0]);break;case 63:t=e[1]-e[2]*e[0];break;case 31:t=e[0]+(e[2]|e[1]);break;case 5:t=e[0]^e[1];break;case 29:t=e[8]+e[3]+e[4]+e[1]+e[10]+e[9]+e[2]+e[7]+e[6]+e[0]+e[5];break;case 60:t=e[1]/(e[2]&e[0]);break;case 39:t=e[4]/e[2]*(e[5]*e[6]*e[3]+e[0])+e[1];break;case 34:t=e[1]/(e[0]>>e[2]);break;case 6:t=e[1]-e[0];break;case 48:t=(e[3]-e[2])/(e[0]-e[1]);break;case 65:t=e[0]*e[1]*e[2]*e[3];break;case 18:t=e[6]+(e[5]-e[4])*(e[2]/e[0]-e[1])*e[3];break;case 41:t=e[1]!==e[0];break;case 1:t=e[1]*-e[0];break;case 2:t=e[0]+ +e[1];break;case 30:t=e[0]*e[2]*+e[3]*e[1];break;case 24:t=e[1]+e[0]+e[2];break;case 26:t=e[1]|e[0];break;case 11:t=e[0]/+e[1];break;case 23:t=e[1]*(e[0]*e[2]);break;case 14:t=e[0]<<e[1];break;case 7:t=e[4]|e[3]<<e[2]|e[5]<<(e[1]>>e[0]);break;case 67:t=e[0]/e[2]*e[1];break;case 37:t=e[2]/(e[1]^e[0]);break;case 25:t=e[0]&e[1];break;case 51:t=+e[1]-e[0];break;case 46:t=e[1]-(e[3]-(e[0]<<e[2]));break;case 45:t=e[3]+e[1]+e[0]+e[2];break;case 61:t=e[0]+e[1]-e[2];break;case 44:t=e[0]+e[2]*(e[3]-e[1]);break;case 35:t=e[1]/+e[4]*e[2]*e[3]+e[0];break;case 21:t=e[2]-e[0]/e[1]}return t},J8B:function(t){a=t}},z.O7R=function(){return\"function\"==typeof z[234673].U9W?z[234673].U9W.apply(z[234673],arguments):z[234673].U9W},z.O7e=function(){return\"function\"==typeof z.B7e.g92?z.B7e.g92.apply(z.B7e,arguments):z.B7e.g92},z.B7e=function(){for(var t=2;9!==t;)switch(t){case 3:return e[4];case 2:var e=[arguments];e[8]=void 0,e[4]={},e[4].g92=function(){for(var t=2;90!==t;)switch(t){case 54:i[8].P766(i[86]),i[8].P766(i[7]),i[8].P766(i[87]),i[8].P766(i[2]),t=50;break;case 70:i[16]++,t=57;break;case 2:var i=[arguments];t=1;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 26:e=a[2]>=.5?25:24;break;case 5:return;case 11:a[5][a[4][i[84]]].t+=!0,e=10;break;case 20:a[5][a[4][i[84]]].h+=!0,e=19;break;case 10:e=a[4][i[61]]===i[38]?20:19;break;case 25:a[6]=!0,e=24;break;case 6:a[4]=a[0][0][a[9]],e=14;break;case 1:e=0===a[0][0].length?5:4;break;case 2:var a=[arguments];e=1;break;case 14:e=void 0===a[5][a[4][i[84]]]?13:11;break;case 12:a[3].P766(a[4][i[84]]),e=11;break;case 18:a[6]=!1,e=17;break;case 24:a[9]++,e=16;break;case 23:return a[6];case 4:a[5]={},a[3]=[],a[9]=0,e=8;break;case 8:a[9]=0,e=7;break;case 15:a[7]=a[3][a[9]],a[2]=a[5][a[7]].h/a[5][a[7]].t,e=26;break;case 19:a[9]++,e=7;break;case 16:e=a[9]<a[3].length?15:23;break;case 7:e=a[9]<a[0][0].length?6:18;break;case 17:a[9]=0,e=16;break;case 13:a[5][a[4][i[84]]]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];return e[9]={},e[9].h=0,e[9].t=0,e[9]}}.U766(this,arguments),e=12}}(i[34])?68:67;break;case 44:i[37]=i[59],i[52]={},i[52].D8o=[\"q8o\"],i[52].s8o=function(){return/\\x32\\x35/.z766(function(){return encodeURIComponent(\"%\")}+[])},t=40;break;case 16:i[3].s8o=function(){return\"function\"==typeof E766},i[5]=i[3],i[72]={},i[72].D8o=[\"L8o\"],i[72].s8o=function(){return\"function\"==typeof b766},i[39]=i[72],i[55]={},t=22;break;case 57:t=i[16]<i[8].length?56:69;break;case 62:i[41]=\"D8o\",i[61]=\"p8o\",i[97]=\"s8o\",t=59;break;case 76:t=i[35]<i[82][i[41]].length?75:70;break;case 1:t=e[8]?5:4;break;case 68:t=68;break;case 12:i[2]=i[6],i[9]={},i[9].D8o=[\"q8o\"],i[9].s8o=function(){return/\\x58/.z766(function(){return\"x\".toUpperCase()}+[])},i[7]=i[9],i[3]={},i[3].D8o=[\"L8o\"],t=16;break;case 40:i[87]=i[52],i[33]={},i[33].D8o=[\"q8o\"],i[33].s8o=function(){return/\\u0078/.z766(function(){return\"X\".toLowerCase()}+[])},i[31]=i[33],t=54;break;case 34:i[81]={},i[81].D8o=[\"q8o\"],i[81].s8o=function(){return!/\\x32\\u0035/.z766(function(){return decodeURIComponent(\"%25\")}+[])},i[29]=i[81],i[59]={},i[59].D8o=[\"q8o\"],i[59].s8o=function(){return/\\u0074\\x72\\x75\\u0065/.z766(function(){return\"aaa\".includes(\"a\")}+[])},t=44;break;case 22:i[55].D8o=[\"L8o\"],i[55].s8o=function(){return\"function\"==typeof S766},i[86]=i[55],t=34;break;case 77:i[35]=0,t=76;break;case 5:return 63;case 50:i[8].P766(i[39]),i[8].P766(i[37]),t=48;break;case 4:i[8]=[],i[1]={},i[1].D8o=[\"L8o\"],i[1].s8o=function(){var t=!1,e=[];try{for(var i in console)e.P766(i);t=0===e.length}catch(t){}return t},i[4]=i[1],i[6]={},i[6].D8o=[\"q8o\"],t=13;break;case 59:i[84]=\"E8o\",t=58;break;case 58:i[16]=0,t=57;break;case 75:i[80]={},i[80][i[84]]=i[82][i[41]][i[35]],i[80][i[61]]=i[57],i[34].P766(i[80]),t=71;break;case 71:i[35]++,t=76;break;case 67:return e[8]=80,16;case 13:i[6].s8o=function(){return/\\x32\\u0035/.z766(function(){return encodeURI(\"%\")}+[])},t=12;break;case 45:i[8].P766(i[5]),i[34]=[],i[38]=\"M8o\",i[83]=\"l8o\",t=62;break;case 56:i[82]=i[8][i[16]];try{i[57]=i[82][i[97]]()?i[38]:i[83]}catch(t){i[57]=i[83]}t=77;break;case 48:i[8].P766(i[4]),i[8].P766(i[31]),i[8].P766(i[29]),t=45}},t=3}}(),z.Q7e=function(){return\"function\"==typeof z.B7e.g92?z.B7e.g92.apply(z.B7e,arguments):z.B7e.g92},z.Z9B=function(){return\"function\"==typeof z[575515].J8B?z[575515].J8B.apply(z[575515],arguments):z[575515].J8B},z[234673]=function(){function t(t){for(var e=2;7!==e;)switch(e){case 3:a+=t477.H477(t[r]-i+108),e=9;break;case 2:var i=2,a=\"\";e=5;break;case 9:r++,e=4;break;case 5:var r=0;e=4;break;case 4:e=r<t.length?3:8;break;case 8:return a}}for(var e=2;4!==e;)switch(e){case 5:return{U9W:function(t,e,i,a){for(;;)return n(t,e,i,a)},c9W:function(t,e,i,a){for(;;)return n(t,e,i,a,!0)}};case 2:var i,a,r=z[516308];e=5}function n(e,n,s,o,l){for(var h=2;15!==h;)switch(h){case 8:u=(c=d.R477(e,o)).length,h=6;break;case 9:h=o>0?8:19;break;case 16:case 6:return z.J8P(c,u,s);case 3:d=l?a:i,h=9;break;case 2:var c,u,d,p;p=r[t([2,5,-7,-9,10,-1,5,4])],!i&&(i=void 0!==p?p[t([-2,5,9,10,4,-9,3,-5])]||\" \":\"\"),!a&&(a=void 0!==p?p[t([-2,8,-5,-4])]:\"\"),h=3;break;case 11:return u=(c=d.R477(g,d.length)).length,z.J8P(c,u,s);case 14:var g=d.length-e;h=13;break;case 12:return!1;case 18:u=(c=d.R477(0,d.length)).length,h=16;break;case 19:h=null===e||e<=0?18:14;break;case 13:h=n&&g>0&&46!==d.G477(g-1)?12:11}}}(),z.f4o=function(){return\"function\"==typeof z[232311].o7L?z[232311].o7L.apply(z[232311],arguments):z[232311].o7L},z[117406]=(r=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{a6o:function(t,e,i){for(var a=i,n=-4&e,s=0;s<n;s+=4){var o=255&t.C4ll(s)|(255&t.C4ll(s+1))<<8|(255&t.C4ll(s+2))<<16|(255&t.C4ll(s+3))<<24;o=r(o,3432918353),a=5*(a=(524287&(a^=o=r(o=(131071&o)<<15|o>>>17,461845907)))<<13|a>>>19)+3864292196|0}switch(o=0,e%4){case 3:o=(255&t.C4ll(n+2))<<16;case 2:o|=(255&t.C4ll(n+1))<<8;case 1:o|=255&t.C4ll(n),o=r(o,3432918353),a^=o=r(o=(131071&o)<<15|o>>>17,461845907)}return a^=e,a=r(a^=a>>>16,2246822507),a=r(a^=a>>>13,3266489909),a^=a>>>16}}),z.J8P=function(){return\"function\"==typeof z[117406].a6o?z[117406].a6o.apply(z[117406],arguments):z[117406].a6o},z.e9B=function(){return\"function\"==typeof z[575515].E8B?z[575515].E8B.apply(z[575515],arguments):z[575515].E8B},z.H9B=function(){return\"function\"==typeof z[575515].J8B?z[575515].J8B.apply(z[575515],arguments):z[575515].J8B},z.W6R=function(){return\"function\"==typeof z[234673].U9W?z[234673].U9W.apply(z[234673],arguments):z[234673].U9W},z.M6R=function(){return\"function\"==typeof z[234673].c9W?z[234673].c9W.apply(z[234673],arguments):z[234673].c9W},z.T8o=function(t){if(z.Q7e(),z)return z.f4o(t)},z.k6o=function(t){if(z.Q7e(),z)return z.m4o(t)},z.y4o=function(t){if(z.O7e(),z&&t)return z.m4o(t)},z.U4o=function(t){if(z.O7e(),z)return z.m4o(t)},z.O4o=function(t){if(z.Q7e(),z)return z.f4o(t)},z.d4o=function(t){if(z.O7e(),z)return z.f4o(t)},z.W4o=function(t){if(z.Q7e(),z&&t)return z.f4o(t)},z.Q4o=function(t){if(z.O7e(),z&&t)return z.f4o(t)},n=t=>{function e(){}t.timezoneJS={},z.O7e(),t.CIQ=e,e.inheritsFrom=function(t,e,i){var a;a=e.prototype||Object.getPrototypeOf(e),t.prototype=!1!==i&&\"function\"==typeof e?new e:Object.create(a),Object.defineProperties(t.prototype,{constructor:{configurable:!0,enumerable:!1,value:t,writable:!0},parent:{configurable:!0,enumerable:!1,value:a,writable:!0}})},e.extend=function(t,i,a){var r,n;for(r in i)t!==(n=i[r])&&void 0!==n&&(null===n||!0===a?t[r]=n:n.constructor==Array?t[r]=n.slice():n.constructor==Object?t[r]=e.extend(\"object\"==typeof t[r]&&null!==t[r]?t[r]:{},n):t[r]=n);return t},e.activateImports=function(...e){var i;(i=this).activatedImports||(i.activatedImports={}),z.Q7e(),e.forEach(e=>{z.O7e(),\"function\"==typeof e&&(e.__guid in i.activatedImports||(e.__guid=i.uniqueID(!0),i.activatedImports[e.__guid]=e.__name||e.name,e(t)))})}},s=e=>{var i,a,r;i=\"undefined\"!=typeof window?window:void 0!==t?t:{},z.O7e(),a=function(t,e){var i;return z.Q7e(),(i=document.createEvent(\"Event\")).initEvent(t,!(!e||!e.bubbles),!(!e||!e.cancelable)),i},i.Event&&\"function\"!=typeof i.Event&&(a.prototype=i.Event.prototype,i.Event=a),r=function(t,e){var i;return i=document.createEvent(\"CustomEvent\"),z.Q7e(),i.initCustomEvent(t,!(!e||!e.bubbles),!(!e||!e.cancelable),e&&e.detail),i},i.CustomEvent&&\"function\"!=typeof i.CustomEvent&&(r.prototype=i.CustomEvent.prototype,i.CustomEvent=r),void 0!==t&&void 0===t.CanvasRenderingContext2D&&(t.CanvasRenderingContext2D=function(){})},o=t=>{var e,i,a,r,n;e=t.CIQ,a=(i=\"undefined\"!=typeof navigator?navigator:{userAgent:\"\"}).userAgent,r=\"undefined\"!=typeof window?window:{},n=\"undefined\"!=typeof document?document:{},e.ipad=-1!=a.indexOf(\"iPad\")||\"MacIntel\"===i.platform&&i.maxTouchPoints>1,e.iphone=-1!=a.indexOf(\"iPhone\"),e.isAndroid=a.toLowerCase().indexOf(\"android\")>-1,e.isIE=a.toLowerCase().indexOf(\"msie\")>-1||a.indexOf(\"Trident/\")>-1,e.isEdge=a.indexOf(\"Edge/\")>-1,e.isSafari=a.indexOf(\"Safari/\")>-1,e.isIOS7=a.match(/(iPad|iPhone);.*CPU.*OS 7_\\d/i),e.isIOS8=a.match(/(iPad|iPhone);.*CPU.*OS 8_\\d/i),e.isIOS9=a.match(/(iPad|iPhone);.*CPU.*OS 9_\\d/i),e.isIOS10=a.match(/(iPad|iPhone);.*CPU.*OS 10_\\d/i),e.isIOS7or8=e.isIOS7||e.isIOS8||e.isIOS9||e.isIOS10,e.isMobile=e.isAndroid||e.ipad||e.iphone,e.touchDevice=void 0!==n.ontouchstart||i.maxTouchPoints>1,e.isSurface=e.touchDevice&&(e.isEdge||e.isIE||a.indexOf(\"Edg/\")>-1),e.is_chrome=a.toLowerCase().indexOf(\"chrome\")>-1&&!e.isEdge,e.isFF=a.toLowerCase().indexOf(\"firefox\")>-1,e.isSurfaceApp=r.MSApp,e.isWebComponentsSupported=\"undefined\"!=typeof document&&\"registerElement\"in document&&\"import\"in document.createElement(\"link\")&&\"content\"in document.createElement(\"template\"),e.noKeyboard=e.isMobile||e.isSurfaceApp},l=t=>{var e,i,a;t.SplinePlotter||(t.SplinePlotter={}),e=t.CIQ,i=t.SplinePlotter,a=function(t,e,i,a){var r,n,s,o,l;function h(t,e,a){[1,2].forEach(t=>{e[t].cp={},[\"x\",\"y\"].forEach((function(i){var r;z.Q7e(),r=1/(1+Math.sqrt(Math.pow(e[2*t-1].x-e[2*t-2].x,2)+Math.pow(e[2*t-1].y-e[2*t-2].y,2))/Math.sqrt(Math.pow(e[2].x-e[1].x,2)+Math.pow(e[2].y-e[1].y,2))),e[t].cp[i]=e[t][i]+(3-2*t)*(e[t+1][i]-e[t-1][i])*a*(r||0),e[t].cp[i]<Math.min(e[1][i],e[2][i])&&(e[t].cp[i]=Math.min(e[1][i],e[2][i])),e[t].cp[i]>Math.max(e[1][i],e[2][i])&&(e[t].cp[i]=Math.max(e[1][i],e[2][i]))}))}),z.O7e(),0===t?i.quadraticCurveTo(e[2].cp.x,e[2].cp.y,e[2].x,e[2].y):t===n-4?i.quadraticCurveTo(e[1].cp.x,e[1].cp.y,e[2].x,e[2].y):i.bezierCurveTo(e[1].cp.x,e[1].cp.y,e[2].cp.x,e[2].cp.y,e[2].x,e[2].y)}r=0,a||(a=[]),(!e||e<0)&&(e=0),n=t.length,i.moveTo(t[0],t[1]);for(var c=0;c<n-3;c+=2)o=c,l=void 0,r!=a.length&&(l=a[r]).coord[0]==t[o]&&l.coord[1]==t[o+1]&&(i.stroke(),i.strokeStyle=l.color,i.setLineDash(l.pattern),i.lineDashOffset=0,i.lineWidth=l.width,i.beginPath(),i.moveTo(t[o],t[o+1]),r++),(s=[])[0]={x:t[Math.max(0,c-2)],y:t[Math.max(1,c-1)]},s[1]={x:t[c],y:t[c+1]},s[2]={x:t[c+2],y:t[c+3]},s[z.e9B(1526091328,\"3\",z.H9B(0))]={x:t[Math.min(n-2,c+4)],y:t[Math.min(n-1,c+5)]},4===n&&(e=0),h(c,s,e)},t.SplinePlotter.plotSpline||(t.SplinePlotter.plotSpline=a),e.clearCanvas=function(t,i){var a,r,n;t.isDirty=!1,a=t.context,z.O7e(),a.clearRect(0,0,t.width,t.height),!e.isAndroid||e.is_chrome||e.isFF||(e.ChartEngine.useOldAndroidClear&&i&&(a.fillStyle=i.containerColor,a.fillRect(0,0,t.width,t.height),a.clearRect(0,0,t.width,t.height)),r=t.width,t.width=1,t.width=r),n=i.chart.canvasShim.childNodes.length>0,(i.useBackgroundCanvas||n)&&(i.useBackgroundCanvas=n,t==i.chart.canvas&&e.clearCanvas(i.chart.backgroundCanvas,i))},e.fillTransparentCanvas=function(t,e,i,a){var r;r=t.globalCompositeOperation,t.globalCompositeOperation=\"destination-over\",z.O7e(),t.fillStyle=e,t.fillRect(0,0,i,a),t.globalCompositeOperation=r},e.convertBoxToPixels=function(t,e,i){var a;return a=t.panels[e],{x0:t.pixelFromTick(i.x0,a.chart),x1:t.pixelFromTick(i.x1,a.chart),y0:i.cy0||0===i.cy0?i.cy0:t.pixelFromValueAdjusted(a,i.x0,i.y0),y1:i.cy1||0===i.cy1?i.cy1:t.pixelFromValueAdjusted(a,i.x1,i.y1)}},e.fillArea=function(t,e,a){var r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C=z;if(r=\"o\",r+=\"bj\",r+=\"ect\",e.length){if(s=(n=t.chart.context).globalAlpha,o=arguments[2],l=arguments[3],h=arguments[4],c=0,u=null,a&&typeof a==r){o=a.color,l=a.opacity,d=-145490996,p=-1537548618,g=2;for(var b=1;C.J8P(b.toString(),b.toString().length,7934)!==d;b++)c=a.tension,g+=2;C.u8P(g.toString(),g.toString().length,38814)!==p&&(c=a.tension),c=a.tension,h=a.panelName,u=a.yAxis}if(l||0===l||(l=.2),\"auto\"==o&&(o=t.defaultColor),n.globalAlpha=l,o&&(n.fillStyle=o),m=Number.MAX_VALUE,C.H9B(1),f=C.F9B(1,m),(y=t.panels[h])&&(f=(u||y.yAxis).top,m=(u||y.yAxis).bottom,n.save(),n.beginPath(),n.rect(y.left,f,y.width,m-f),n.clip()),n.beginPath(),c){for(x=[],v=0;v<e.length-2;v++)x.push(e[v][0],e[v][1]);for(i.plotSpline(x,c,n),v=e.length-2;v<e.length;v++)n.lineTo(Math.round(e[v][0]),Math.round(e[v][1]))}else for(n.moveTo(e[0][0],e[0][1]),v=1;v<e.length;v++)n.lineTo(e[v][0],e[v][1]);n.closePath(),n.fill(),y&&n.restore(),n.globalAlpha=s}},e.prepareChannelFill=function(t,i){var a,r,n,s,o,l;(!i||i instanceof Array)&&(i=arguments[2]),i.gapDisplayStyle||!1===i.gapDisplayStyle||(i.gapDisplayStyle=i.gaps),a=t.panels[i.panelName],z.O7e(),t.chart.context.strokeStyle,r={noDraw:i.noDraw,gapDisplayStyle:i.gapDisplayStyle},n=e.ensureDefaults(i,{noDraw:!0,gapDisplayStyle:{},yAxis:a.yAxis}),s=t.plotDataSegmentAsLine(i.topBand,a,n),o=t.plotDataSegmentAsLine(i.bottomBand,a,n),i.noDraw=r.noDraw,i.gapDisplayStyle=r.gapDisplayStyle,l=[];for(var h=0;h<s.points.length;h+=2)l.push([s.points[h],s.points[h+1]]);for(var c=o.points.length-1;c>=0;c-=2)l.push([o.points[c-1],o.points[c]]);e.fillArea(t,l,i)},e.preparePeakValleyFill=function(t,i){var a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,B,E,O,L=z;(!i||i instanceof Array)&&(i=arguments[2]),i.gapDisplayStyle||!1===i.gapDisplayStyle||(i.gapDisplayStyle=i.gaps),r=(a=t.panels[i.panelName]).yAxis,(n=t.chart.context).strokeStyle,s={noDraw:i.noDraw,gapDisplayStyle:i.gapDisplayStyle},o=t.plotDataSegmentAsLine(i.band,a,e.ensureDefaults(i,{noDraw:!0,gapDisplayStyle:{}})),i.noDraw=s.noDraw,i.gapDisplayStyle=s.gapDisplayStyle,l=i.threshold,h=i.direction,c=i.reverse,u=i.gapDisplayStyle,i.yAxis&&(r=i.yAxis),d=-Number.MAX_VALUE,p=Number.MAX_VALUE,g=c?d:p,(l||0===l)&&(g=t.pixelFromPrice(l,a,r)),m=[],f=o.points.length;for(var N=0;N<f;N+=2)y=o.points[N],L.Z9B(2),v=o.points[L.F9B(N,\"1\")],i.roundOffEdges&&(0===N?y=Math.floor(y):N+2==f&&(y=Math.ceil(y))),isNaN(v)||(v>g&&h>0||v<g&&h<0||(m.push([y,v]),d=Math.max(v,d),p=Math.min(v,p)),N<f-3&&(L.Z9B(3),x=o.points[L.F9B(2,N)],L.Z9B(3),C=o.points[L.F9B(3,N)],(v<g&&C>g||v>g&&C<g)&&(L.H9B(4),y+=L.F9B(x,v,y,C,v,g),m.push([y,g]))));if(f=m.length){if(b=i.edgeParameters,i.edgeHighlight){b.lineWidth>100&&(L.H9B(0),b.lineWidth=L.e9B(879479968,\"1\")),n.save(),n.beginPath();for(var H=0;H<f-1;H++)if(S=\"segm\",S+=\"ent\",w=m[H],L.H9B(3),k=m[L.F9B(1,H)],w[1]!=g||k[1]!=g){if(w[0]==k[0]&&t.layout.candleWidth>=1){if(w[1]==g&&m[H-1]&&m[H-1][1]==g)continue;if(k[1]==g&&m[H+2]&&m[H+2][1]==g)continue}t.plotLine(e.extend({x0:w[0],x1:k[0],y0:w[1],y1:k[1],color:i.edgeHighlight,type:S,context:n,confineToPanel:a,deferStroke:!0},b))}n.stroke(),n.restore()}if(l||0===l||(r.flipped&&(c=!c),g=c?Math.min(p,r.top):Math.max(d,r.bottom)),m.push([m[f-1][0],g],[m[0][0],g]),(D=i.opacity)||0===D||(i.opacity=.3),e.fillArea(t,m,i),u&&u.color&&u.fillMountain&&!i.tension&&!e.isTransparent(u.color)&&!e.isTransparent(i.color)){for(n.save(),n.fillStyle instanceof CanvasGradient?(T=e.colorToHex(u.color),(M=n.createLinearGradient(0,1===h?a.top:a.bottom,0,g)).addColorStop(0,e.hexToRgba(T,60)),M.addColorStop(1,e.hexToRgba(T,10)),n.fillStyle=M):n.fillStyle=u.color,A=[],P={opacity:i.opacity,panelName:i.panelName},n.beginPath(),N=0;N<o.gapAreas.length;N++)_=(F=o.gapAreas[N]).start,B=F.end,E=F.threshold,_?A=[[_[0],_[1]],[_[0],E]]:A.push([B[0],E],[B[0],i.step?A[0][1]:B[1]]),4==A.length&&(e.fillArea(t,A,P),O=e.extend({x1:A[3][0],y0:A[0][1],type:\"segment\",deferStroke:!0,context:n,confineToPanel:a},u),i.step?(t.plotLine(e.extend({x0:A[0][0],y1:A[0][1]},O)),t.plotLine(e.extend({x0:A[3][0],y1:A[3][1]},O))):t.plotLine(e.extend({x0:A[0][0],y1:A[3][1]},O)));n.stroke(),n.restore()}i.opacity=D}},e.fillIntersecting=function(t,i,a){var r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C=z;r=\"destinati\",r+=\"on-over\",n=\"c\",n+=\"opy\",s=\"x\",s+=\"o\",s+=\"r\",(!a||a instanceof Array)&&(a=arguments[3]),o=a.topBand,l=a.bottomBand,h=a.topSubBand,c=a.bottomSubBand,u=a.topColor,d=a.bottomColor,(p=i).panel&&(p.outputs&&p.outputMap&&(u||(u=p.outputs[p.outputMap[o]]),d||(d=p.outputs[p.outputMap[l]])),p=p.panel),p=t.panels[p],m=(g=t.chart.context).canvas,(f=t.scratchContext)||(f=t.scratchContext=m.cloneNode(!0).getContext(\"2d\")),(y=f.canvas).height=m.height,y.width=m.width,C.Z9B(5),f.drawImage(m,0,C.e9B(\"0\",0)),e.clearCanvas(m,t),v=.3,C.Q7e(),a.opacity&&(v=a.opacity),g.save(),g.globalCompositeOperation=s,x={band:o,subField:h,color:u,opacity:1,panelName:p.name,yAxis:a.topAxis,skipTransform:a.skipTransform,tension:a.tension,roundOffEdges:!0},e.preparePeakValleyFill(t,x),e.extend(x,{band:l,subField:c,color:d,yAxis:a.bottomAxis}),e.preparePeakValleyFill(t,x),g.globalAlpha=v,g.globalCompositeOperation=n,g.scale(1/t.adjustedDisplayPixelRatio,1/t.adjustedDisplayPixelRatio),C.H9B(0),g.drawImage(m,C.F9B(391983328,\"0\"),0),g.globalAlpha=1,g.globalCompositeOperation=r,g.drawImage(y,0,0),g.restore()},e.drawLegendItem=function(t,e,i,a,r){var n,s,o,l,h=z;r||(r=1),n=e[0],s=e[1],(o=t.chart.context).globalAlpha=r,o.fillStyle=a,l=2;for(var c=1;-1199706784!==h.J8P(c.toString(),c.toString().length,74626);c++)o.fillRect(n,s,10,10),o.globalAlpha=2,h.H9B(6),n*=h.F9B(7,10),l+=2;return 1695035143!==h.J8P(l.toString(),l.toString().length,54123)&&(o.fillRect(n,s,10,10),o.globalAlpha=1,h.H9B(3),n+=h.F9B(2,10)),o.fillStyle=t.defaultColor,o.fillText(i,n,s),[n+=o.measureText(i).width+6,s]},e.drawLegend=function(t,i){var a,r,n,s,o,l,h,c,u,d,p,g;a=i.coordinates,(r=t.chart.context).textBaseline=\"top\",n=r.font,t.canvasFont(\"stx-legend\",r),s=i.chart||t.chart,a||(a=s.legend),o=[a.x,a.y],l=t.defaultColor;for(var m=0;m<2;m++)for(var f in i.legendColorMap)if((!(h=i.legendColorMap[f]).isBase||!m&&!i.noBase)&&(h.isBase||m)){if(h.color instanceof Array){for(c=(u=h.color).length-1;c>=0;c--)e.isTransparent(u[c])&&u.splice(c,1);if(u.length>1){for(d=r.createLinearGradient(o[0],o[1],o[0]+10,o[1]),c=0;c<u.length;c++)d.addColorStop(c/(u.length-1),u[c]);l=d}else l=u.length>0?u[0]:t.getCanvasColor(\"stx_line_chart\")}else l=h.color?h.color:null;l&&(p=f,h.display&&(p=h.display),p||(p=s.symbolDisplay?s.symbolDisplay:s.symbol),o[0]+r.measureText(p).width>s.panel.right&&(o=[a.x,a.y+r.measureText(\"M\").width+6]),o=e.drawLegendItem(t,o,p,l,h.opacity))}g=2;for(var y=1;1984243820!==z.u8P(y.toString(),y.toString().length,20178);y++)r.font=n,g+=2;507638292!==z.u8P(g.toString(),g.toString().length,35912)&&(r.font=n)}},h=t=>{var e;(e=t.CIQ).colorsEqual=function(t,i){var a,r,n,s,o;return t==i||(!t&&!i||!(!t||!i)&&(\"transparent\"==t&&(t=\"rgba(0,0,0,0)\"),\"transparent\"==i&&(i=\"rgba(0,0,0,0)\"),a=/^rgba\\(.*,(.+)\\)/,r=t.match(a),n=i.match(a),(r=r?parseFloat(r[1]):1)==(n=n?parseFloat(n[1]):1)&&(s=e.colorToHex(t),o=e.colorToHex(i),s.toLowerCase()==o.toLowerCase())))},e.colorToHex=function(t){var i,a,r,n,s,o,l,h=z;if(e.colorToHexMapping||(e.colorToHexMapping={}),t&&\"transparent\"!=t||(t=\"#000000\"),e.colorToHexMapping[t])return e.colorToHexMapping[t];if(\"#\"===t.substr(0,1))return 4==t.length&&(t=e.colorToHexMapping[t]=\"#\"+Array(3).join(t.substr(1,1))+Array(3).join(t.substr(2,1))+Array(3).join(t.substr(3,1))),t;if((i=/(.*?)rgb\\((\\d+), ?(\\d+), ?(\\d+)\\)/.exec(t))||(i=/(.*?)rgba\\((\\d+), ?(\\d+), ?(\\d+),.*\\)/.exec(t)),!i)return a=function(t){var a,r;if(\"c\",\"ol\",\"o\",\"r\",\"#00\",\"00\",\"0\",\"0\",\".ciq_color_c\",\"onverter\",\"undefi\",\"ned\",\"undefined\"==typeof document)return\"#000000\";(a=document.querySelector(\".ciq_color_converter\"))||(\"t\",\"ex\",\"t\",\"area\",(a=document.createElement(\"textarea\")).className=\"ciq_color_converter\",a.style.display=\"none\",document.body.appendChild(a));if(a.style.color=\"#000000\",a.style.color=t,r=getComputedStyle(a).getPropertyValue(\"color\"),i=/(.*?)rgb\\((\\d+), ?(\\d+), ?(\\d+)\\)/.exec(r))return e.colorToHex(r);if(\"#\"===r.substr(0,1))return r;return t}(t),e.colorToHexMapping[t]=a,a;r=parseFloat(i[2]),h.Q7e(),n=parseFloat(i[3]),s=parseFloat(i[4]),h.H9B(7);for(var c=(o=h.e9B(1512986080,\"16\",8,n,s,r).toString(16)).length;c<6;c++)h.H9B(3),o=h.F9B(o,\"0\");return l=i[1]+\"#\"+o,e.colorToHexMapping[t]=l,l},e.hexToRgba=function(t,i){var a,r,n,s,o,l=z;return t&&\"transparent\"!=t||(t=\"rgba(0,0,0,0)\"),\"rgba\"===t.substr(0,4)?(r=(a=/(.*?)rgba\\((\\d+), ?(\\d+), ?(\\d+), ?(\\d*\\.?\\d*)\\)/.exec(t))[5],(i||0===i)&&(r=i),r>1&&(l.Z9B(8),r=l.e9B(r,100)),\"rgba(\"+a[2]+\",\"+a[3]+\",\"+a[4]+\",\"+r+\")\"):(\"rgb\"===t.substr(0,3)&&(t=e.colorToHex(t)),i||0===i||(i=100),i<=1&&(l.H9B(9),i=l.e9B(i,100)),t=t.replace(\"#\",\"\"),n=parseInt(t.slice(0,2),16),s=parseInt(t.slice(2,4),16),o=parseInt(t.slice(4,6),16),isNaN(n)||isNaN(s)||isNaN(o)?(console.log(\"CIQ.hexToRgba: invalid hex :\",t),null):(l.H9B(10),l.e9B(\",\",\",\",o,\")\",\",\",\"rgba(\",100,i,n,s)))},e.convertToNativeColor=function(t){var e,i;return(e=document.createElement(\"DIV\")).style.color=t,z.O7e(),e.style.display=\"none\",document.body.appendChild(e),i=getComputedStyle(e).color,document.body.removeChild(e),i},e.isTransparent=function(t){var e;return!!t&&(\"transparent\"==t||null!==(e=/(.*?)rgba\\((\\d+), ?(\\d+), ?(\\d+), ?(\\d*\\.?\\d*)\\)/.exec(t))&&0===parseFloat(e[5]))},e.hsv=function(t){var i,a,r,n,s,o,l,h,c,u,d=z;\"#\"===(i=e.colorToHex(t)).substr(0,1)&&(i=i.slice(1));for(var p=i.length;p<6;p++)d.Z9B(3),i=d.e9B(i,\"0\");return a=parseInt(i.slice(0,2),16),r=parseInt(i.slice(2,4),16),n=parseInt(i.slice(4,6),16),d.Z9B(6),d.F9B(0,\"0\"),0,o=0,d.O7e(),a=parseInt((\"\"+a).replace(/\\s/g,\"\"),10),r=parseInt((\"\"+r).replace(/\\s/g,\"\"),10),n=parseInt((\"\"+n).replace(/\\s/g,\"\"),10),null===a||null===r||null===n||isNaN(a)||isNaN(r)||isNaN(n)?(console.log(\"CIQ.hsv: invalid color :\",t),null):a<0||r<0||n<0||a>255||r>255||n>255?null:(d.Z9B(8),a=d.F9B(a,255),d.H9B(11),r=d.e9B(r,\"255\"),d.Z9B(11),n=d.F9B(n,\"255\"),(l=Math.min(a,Math.min(r,n)))==(h=Math.max(a,Math.max(r,n)))?(o=l,d.Z9B(5),[0,d.F9B(\"0\",0),o]):(c=a==l?r-n:n==l?a-r:n-a,u=a==l?3:n==l?1:5,d.Z9B(12),s=d.F9B(h,l,60,u,c),d.Z9B(13),[s,d.e9B(h,l,h),o=h]))},e.hsl=function(t){var i,a,r,n,s,o,l,h,c,u,d=z;\"#\"===(i=e.colorToHex(t)).substr(0,1)&&(d.Z9B(14),i=i.slice(d.F9B(\"1\",1605113184)));for(var p=i.length;p<6;p++)d.H9B(3),i=d.F9B(i,\"0\");if(a=parseInt(i.slice(0,2),16),r=parseInt(i.slice(2,4),16),n=parseInt(i.slice(4,6),16),a/=255,r/=255,n/=255,s=Math.max(a,r,n),o=Math.min(a,r,n),d.O7e(),d.H9B(15),c=d.F9B(o,2,s),s==o)l=h=0;else{switch(d.H9B(6),u=d.e9B(o,s),h=c>.5?u/(2-s-o):u/(s+o),s){case a:d.Z9B(16),l=d.e9B(u,r,n,r<n?6:0);break;case r:d.H9B(16),l=d.e9B(u,n,a,2);break;case n:d.Z9B(16),l=d.e9B(u,a,r,4)}l/=6}return[l,h,c]},e.hslToRgb=function(t,e,i){var a,r,n,s,o,l,h=z;return h.O7e(),0===e?a=r=n=i:(s=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?(h.H9B(17),h.e9B(6,t,t,i,e)):i<.5?e:i<2/3?(h.Z9B(18),h.e9B(3,i,2,6,t,e,t)):t},o=i<.5?i*(1+e):i+e-i*e,h.H9B(19),l=h.F9B(2,i,o),h.H9B(20),a=s(l,o,h.e9B(1,3,t)),r=s(l,o,t),h.Z9B(21),n=s(l,o,h.F9B(1,3,t))),h.Z9B(9),[Math.round(h.F9B(a,255)),Math.round(h.e9B(\"255\",r,h.H9B(22))),Math.round(h.e9B(n,255,h.H9B(9)))]},e.chooseForegroundColor=function(t){var i;return\"#0000\",\"0\",\"0\",\"#\",\"FFF\",\"FFF\",i=e.colorToHex(t),.2126*parseInt(i.slice(1,3),16)+.7152*parseInt(i.slice(3,5),16)+.0722*parseInt(i.slice(5,7),16)<100?\"#FFFFFF\":\"#000000\"},e.borderPatternToArray=function(t,e){var i=z;return\"Unsupported\",\" patter\",'n \"',\"s\",\"o\",\"li\",\"d\",e?e instanceof Array?e:\"dotted\"==e?[t,t]:\"dashed\"==e?(i.H9B(9),[i.e9B(t,5),i.F9B(\"5\",t,1,i.Z9B(23))]):(\"solid\"!=e&&\"none\"!=e&&(i.Z9B(24),console.log(i.F9B(e,'Unsupported pattern \"','\"; defaulting to \"solid\"'))),[]):[]},e.getBackgroundColor=function(t){var i,a;for(i=null,z.Q7e();!i||e.isTransparent(i);){if(!(a=getComputedStyle(t)))return;if(i=a.backgroundColor,e.isTransparent(i)&&(i=\"transparent\"),!(t=t.parentNode)||!t.tagName)break}for(var r=1;805080491!==z.J8P(r.toString(),r.toString().length,22478);r++)return+i&&\"transparent\"!=i&&(i=\"transparent\"),i;if(-1692874853!==z.J8P(2..toString(),2..toString().length,34879))return\"trans\",\"parent\",i&&\"transparent\"!=i||(i=\"#FFFFFF\"),i}},c=t=>{var e,i,a;e=t.CIQ,i=t.timezoneJS,e.monthLetters=[\"J\",\"F\",\"M\",\"A\",\"M\",\"J\",\"J\",\"A\",\"S\",\"O\",\"N\",\"D\"],e.monthAbv=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],e.MILLISECOND=1,e.SECOND=1e3,z.O7e(),e.MINUTE=60*e.SECOND,a=2;for(var r=1;1205734423!==z.u8P(r.toString(),r.toString().length,71407);r++)e.HOUR=60*e.MINUTE,e.DAY=24*e.HOUR,e.WEEK=7*e.DAY,e.MONTH=31*e.DAY,e.YEAR=366*e.DAY,e.DECADE=10*e.YEAR-7*e.DAY,a+=2;-1720656163!==z.J8P(a.toString(),a.toString().length,93362)&&(e.HOUR=99+e.MINUTE,e.DAY=83-e.HOUR,e.WEEK=8/e.DAY,e.MONTH=77%e.DAY,e.YEAR=971+e.DAY,e.DECADE=26%e.YEAR%(4+e.DAY)),e.yyyymmddhhmmssmmmrx=new RegExp(\"\\\\d{17}\"),e.strToDateTime=function(t){var i,a,r,n,s,o,l,h,c,u,d,p,g,m,f,y=z;if(y.Q7e(),!t||t.getFullYear)return t;if(i=[],12==t.length||14==t.length)return a=parseFloat(t.substring(0,4)),r=parseFloat(t.substring(4,6))-1,n=parseFloat(t.substring(6,8)),s=parseFloat(t.substring(8,10)),o=parseFloat(t.substring(10,12)),l=parseFloat(t.substring(12,14))||0,new Date(a,r,n,s,o,l,0);if(e.yyyymmddhhmmssmmmrx.test(t))return a=parseFloat(t.substring(0,4)),r=parseFloat(t.substring(4,6))-1,n=parseFloat(t.substring(6,8)),s=parseFloat(t.substring(8,10)),o=parseFloat(t.substring(10,12)),l=parseFloat(t.substring(12,14)),h=parseFloat(t.substring(14,17)),new Date(a,r,n,s,o,l,h);if(c=[t],-1!=(u=t.indexOf(\"T\"))){if(-1!=(d=t.substring(u)).indexOf(\"Z\")||-1!=d.indexOf(\"-\")||-1!=d.indexOf(\"+\"))return new Date(t);c=t.split(\"T\")}else-1!=t.indexOf(\" \")&&(c=t.split(\" \"));if(-1!=c[0].indexOf(\"/\"))i=c[0].split(\"/\");else{if(-1==c[0].indexOf(\"-\"))return e.strToDate(t);i=c[0].split(\"-\")}return p=parseFloat(i[2],10),i[0]&&4==i[0].length&&(p=parseFloat(i[0],10),y.Z9B(5),i[0]=i[y.e9B(\"1\",0)],y.H9B(6),i[1]=i[y.e9B(0,\"2\")]),c.length>1?(g=c[2],c=c[1].split(\":\"),g&&(\"P\",\"M\",\"12\"==c[0]&&\"AM\"==g.toUpperCase()?c[0]=0:\"12\"!=c[0]&&\"PM\"==g.toUpperCase()&&(c[0]=parseInt(c[0],10)+12)),m=0,f=0,3==c.length&&(-1==c[2].indexOf(\".\")?m=parseInt(c[2],10):3==(m=c[2].split(\".\"))[1].length&&(f=m[1],m=m[0])),y.Z9B(0),new Date(p,i[0]-1,i[1],c[y.e9B(1559633952,\"0\")],c[1],m,f)):(y.Z9B(9),new Date(p,i[0]-1,i[1],0,0,0,y.e9B(\"0\",1)))},e.strToDate=function(t){var e,i,a=z;if(-1!=t.indexOf(\"/\"))e=t.split(\"/\");else{if(-1==t.indexOf(\"-\"))return t.length>=8?new Date(parseFloat(t.substring(0,4)),parseFloat(t.substring(4,6))-1,parseFloat(t.substring(6,8))):new Date;e=t.split(\"-\")}return e.length<3?new Date:(-1!=e[2].indexOf(\" \")?e[2]=e[2].substring(0,e[2].indexOf(\" \")):-1!=e[2].indexOf(\"T\")&&(a.H9B(6),e[a.e9B(0,\"2\")]=e[2].substring(0,e[2].indexOf(\"T\"))),(i=parseFloat(e[2],10))<20&&(a.H9B(25),i+=a.F9B(\"2000\",2147483647)),4==e[0].length&&(i=parseFloat(e[0],10),a.Z9B(25),e[a.F9B(\"0\",2147483647)]=e[1],a.H9B(25),e[1]=e[a.e9B(\"2\",2147483647)]),new Date(i,e[0]-1,e[1]))},e.dateToStr=function(t,e){var i,a,r,n;return\"s\",\"s\",\"h\",\"h\",\"H\",\"H\",\"d\",\"d\",a=(t,e=2)=>(\"0\".repeat(e)+t).slice(-e),r=(t,i)=>(z.Q7e(),e=e.replace(t,i)),n=(t,e)=>t>e?t-e:t,(i=t=>(z.Q7e(),e.includes(t)))(\"YYYY\")&&r(/YYYY/g,t.getFullYear()),i(\"MM\")&&r(/MM/g,a(t.getMonth()+1)),z.Q7e(),i(\"dd\")&&r(/dd/g,a(t.getDate())),i(\"HH\")&&r(/HH/g,a(t.getHours())),i(\"hh\")&&r(/hh/g,a(n(t.getHours()||12,12))),i(\"mm\")&&r(/mm/g,a(t.getMinutes())),i(\"ss\")&&r(/ss/g,a(t.getSeconds())),i(\"SSS\")&&r(/SSS/g,a(t.getMilliseconds(),3)),e},e.mmddyyyy=function(t){var i,a,r=z;return\"string\"==typeof t&&(t=e.strToDate(t)),(i=t.getMonth()+1)<10&&(r.H9B(3),i=r.F9B(i,\"0\")),(a=t.getDate())<10&&(r.H9B(3),a=r.F9B(a,\"0\")),i+\"/\"+a+\"/\"+t.getFullYear()},e.yyyymmdd=function(t){var e,i,a=z;return(e=t.getMonth()+1)<10&&(a.Z9B(3),e=a.e9B(e,\"0\")),i=t.getDate(),a.Q7e(),i<10&&(a.Z9B(3),i=a.e9B(i,\"0\")),t.getFullYear()+\"-\"+e+\"-\"+i},e.hhmm=function(t){var e,i,a=z;return a.Q7e(),(e=t.getHours())<10&&(a.Z9B(3),e=a.F9B(e,\"0\")),(i=t.getMinutes())<10&&(a.Z9B(3),i=a.e9B(i,\"0\")),a.H9B(24),a.e9B(\":\",e,i)},e.hhmmss=function(t){var i;return z.Q7e(),(i=t.getSeconds())<10&&(z.H9B(3),i=z.F9B(i,\"0\")),e.hhmm(t)+\":\"+i},e.yyyymmddhhmm=function(t){var i=z;return i.H9B(14),e.yyyymmddhhmmssmmm(t).substr(i.F9B(\"0\",213022528),i.F9B(8,\"12\",i.Z9B(26)))},e.yyyymmddhhmmssmmm=function(t){var e,i,a,r,n,s,o=z;return(e=t.getMonth()+1)<10&&(o.Z9B(3),e=o.e9B(e,\"0\")),(i=t.getDate())<10&&(o.H9B(3),i=o.e9B(i,\"0\")),o.Q7e(),(a=t.getHours())<10&&(o.H9B(3),a=o.F9B(a,\"0\")),(r=t.getMinutes())<10&&(o.Z9B(3),r=o.F9B(r,\"0\")),(n=t.getSeconds())<10&&(o.Z9B(3),n=o.F9B(n,\"0\")),(s=t.getMilliseconds())<10?(o.H9B(3),s=o.F9B(s,\"00\")):s<100&&(o.H9B(3),s=o.F9B(s,\"0\")),\"\"+t.getFullYear()+e+i+a+r+n+s},e.friendlyDate=function(t){return e.dateToStr(t,\"YYYY/MM/dd HH:mm\")},e.mmddhhmm=function(t){var i,a,r,n,s,o,l,h=z;return\"0\",\"0\",(a=(i=e.strToDateTime(t)).getMonth()+1)<10&&(h.Z9B(3),a=h.F9B(a,\"0\")),(r=i.getDate())<10&&(h.Z9B(3),r=h.e9B(r,\"0\")),(n=i.getHours())<10&&(h.H9B(3),n=h.e9B(n,\"0\")),(s=i.getMinutes())<10&&(h.Z9B(3),s=h.e9B(s,\"0\")),(o=i.getSeconds())<10&&(h.H9B(3),o=h.F9B(o,\"0\")),(l=i.getMilliseconds())<10?(h.H9B(3),l=h.F9B(l,\"00\")):l<100&&(h.Z9B(3),l=h.F9B(l,\"0\")),\"00\"==n&&\"00\"==s&&\"00\"==o&&\"000\"==l?a+\"-\"+r+\"-\"+i.getFullYear():\"00\"==o&&\"000\"==l?(h.H9B(27),h.e9B(s,r,\":\",n,\"-\",\" \",a)):\"000\"==l?(h.Z9B(28),h.F9B(r,a,n,s,\":\",\":\",o,\"-\",\" \")):(h.Z9B(29),h.F9B(\":\",\" \",s,\"-\",r,l,o,\":\",a,\":\",n))},e.getYearDay=function(t){var e,i,a,r,n=z;return(e=t)||(e=new Date),n.H9B(0),e.setHours(0,n.F9B(1740366144,\"0\"),0,0),i=new Date(e.getFullYear(),0,0),n.Q7e(),n.Z9B(6),a=n.F9B(i,e),n.Z9B(30),r=n.F9B(1e3,24,60,\"60\"),n.Z9B(8),Math.round(n.e9B(a,r))},e.getETDateTime=function(){var t;t=new Date;for(var i=1;124856783!==z.J8P(i.toString(),i.toString().length,36351);i++)return e.convertTimeZone(new Date(t.getTime()/(t.getTimezoneOffset()/46285)),\"America/New_York\",\"America/New_York\");return 759675523!==z.u8P(2..toString(),2..toString().length,34458)?(\"Ame\",\"ric\",\"a/New\",\"_York\",e.convertTimeZone(new Date(t.getTime()%(t.getTimezoneOffset()-62031)),\"America/New_York\",\"America/New_York\")):e.convertTimeZone(new Date(t.getTime()+6e4*t.getTimezoneOffset()),\"UTC\",\"America/New_York\")},e.fromET=function(t){var e,i,a,r;return i=4,((e=new Date).getMonth()<2||2==e.getMonth()&&e.getDate()<11||e.getMonth()>10||10==e.getMonth()&&e.getDate()>=4)&&(i=5),a=t.getTime()+36e5*i,r=new Date(a),z.Q7e(),r},e.monthAsDisplay=function(t,i,a){return i?a&&a.monthLetters?a.monthLetters[t]:e.monthLetters[t]:a&&a.monthAbv?a.monthAbv[t]:e.monthAbv[t]},e.timeAsDisplay=function(t,i,a){var r,n,s,o,l,h=z;return(r=i?i.internationalizer:null)?a==e.SECOND?r.hourMinuteSecond.format(t):a==e.MILLISECOND?r.hourMinuteSecond.format(t)+\".\"+t.getMilliseconds():r.hourMinute.format(t):((n=t.getMinutes())<10&&(h.Z9B(3),n=h.F9B(n,\"0\")),s=t.getHours()+\":\"+n,o=\"\",a<=e.SECOND&&((o=t.getSeconds())<10&&(h.H9B(3),o=h.F9B(o,\"0\")),h.Z9B(3),s+=h.e9B(o,\":\")),a==e.MILLISECOND&&((l=t.getMilliseconds())<10?(h.Z9B(3),l=h.F9B(l,\"00\")):l<100&&(h.Z9B(3),l=h.e9B(l,\"0\")),h.Z9B(3),s+=h.e9B(l,\".\")),h.O7e(),s)},e.displayableDate=function(t,i,a){var r,n,s,o,l,h,c,u,d,p,g,m=z;function f(t){return t<10?(m.Z9B(3),m.e9B(t,\"0\")):(m.Q7e(),t)}return\"millisec\",\"ond\",r=\"\",n=t.layout.interval,s=e.ChartEngine.isDailyInterval(n),o=i.xAxis.activeTimeUnit&&i.xAxis.activeTimeUnit<=e.SECOND||\"second\"==t.layout.timeUnit,l=i.xAxis.activeTimeUnit&&i.xAxis.activeTimeUnit<=e.MILLISECOND||\"millisecond\"==t.layout.timeUnit,i.xAxis.formatter?r=i.xAxis.formatter(a):t.internationalizer?(r=t.internationalizer.monthDay.format(a),o||l?(r+=\" \"+t.internationalizer.hourMinuteSecond.format(a),l&&(r+=\".\"+a.getMilliseconds())):s?r=\"month\"==n?t.internationalizer.yearMonth.format(a):t.internationalizer.yearMonthDay.format(a):r+=\" \"+t.internationalizer.hourMinute.format(a)):(h=f(a.getMonth()+1),c=f(a.getDate()),u=f(a.getHours()),d=f(a.getMinutes()),s?(\"mont\",\"h\",r=\"month\"==n?h+\"-\":h+\"-\"+c+\"-\",r+=a.getFullYear()):(m.H9B(27),r=m.e9B(d,c,\":\",u,\"/\",\" \",h),(o||l)&&(p=f(a.getSeconds()),m.Z9B(3),r+=m.F9B(p,\":\"),l&&((g=f(a.getMilliseconds()))<100&&(m.H9B(3),g=m.e9B(g,\"0\")),m.H9B(3),r+=m.e9B(g,\":\"))))),r},e.convertTimeZone=function(t,e,a){var r;return i.Date?(z.O7e(),(r=new i.Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds(),e)).setTimezone(a),r):t},e.convertToLocalTime=function(t,e){var a,r,n;return i.Date?(a=t.getSeconds(),r=t.getMilliseconds(),z.Q7e(),n=new i.Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),e),new Date(n.getTime()+1e3*a+r)):t}},u=t=>{var e,i,a;t.SplinePlotter||(t.SplinePlotter={}),e=t.CIQ,t.SplinePlotter,i=function(t,e){var a;if(!e)return document.getElementById(t);if(z.O7e(),e.id==t)return e;if(!e.hasChildNodes)return null;for(var r=0;r<e.childNodes.length;r++)if(a=i(t,e.childNodes[r]))return a;return null},t.$$=i,a=function(t,e){return e||(e=document),e.querySelectorAll(t)[0]},t.$$$=a,e.wheelEvent=function(){var t;if(\"d\",\"i\",\"v\",\"o\",\"nw\",\"h\",\"eel\",\"und\",\"e\",\"fi\",\"ned\",\"undefined\"!=typeof document){if(e.isIE||\"onwheel\"in document.createElement(\"div\"))return\"wheel\";-562354830,80887437,t=2;for(var i=1;-562354830!==z.J8P(i.toString(),i.toString().length,90554);i++){if(void 0===document.onmousewheel)return\"\";t+=2}return 80887437!==z.J8P(t.toString(),t.toString().length,29625)&&void 0!==document.onmousewheel?\"mousewheel\":\"DOMMouseScroll\"}}(),e.newChild=function(t,e,i,a){var r;return r=document.createElement(e),i&&(r.className=i),t.appendChild(r),a&&(r.innerHTML=a),r},e.innerHTML=function(t,e){z.Q7e(),window.MSApp&&window.MSApp.execUnsafeLocalFunction?window.MSApp.execUnsafeLocalFunction((function(){z.O7e(),t.innerHTML=e})):t.innerHTML=e},e.focus=function(t,i){var a;e.isSurface||i?(z.H9B(25),a=z.F9B(\"0\",2147483647),isNaN(parseInt(i,10))||(a=i),setTimeout((function(){t.focus()}),a)):t.focus()},e.blur=function(t){t||(t=document.activeElement),t&&t.blur(),window.focus()},e.findNodesByText=function(t,i){var a,r;if(t.innerHTML==i)return[t];a=[];for(var n=0;n<t.childNodes.length;n++)(r=e.findNodesByText(t.childNodes[n],i))&&(a=a.concat(r));return a.length?a:null},e.hideByText=function(t,i){var a;z.Q7e(),a=e.findNodesByText(t,i);for(var r=0;r<a.length;r++)\"non\",\"e\",a[r].style.display=\"none\"},e.pageHeight=function(){z.O7e();var{innerHeight:t,top:e,parent:i,self:a}=window;if(e!=a)try{t>i.innerHeight&&(t=i.innerHeight)}catch(t){}return t},e.pageWidth=function(){var{innerWidth:t,top:e,parent:i,self:a}=window;if(e!=a)try{t>i.innerWidth&&(t=i.innerWidth)}catch(t){}return t},e.stripPX=function(t){return t?\"number\"==typeof t?t:(z.O7e(),parseInt(t.substr(0,t.indexOf(\"p\")),10)):0},e.withinElement=function(t,e,i){var a;return z.O7e(),!(e<=(a=t.getBoundingClientRect()).left)&&(!(i<=a.top)&&(!(e>=a.left+t.offsetWidth)&&!(i>=a.top+t.offsetHeight)))},e.efficientDOMUpdate=function(t,e,i){return t[e]!==i&&(t[e]=i,!0)},e.cqvirtual=function(t){var e;if(z.Q7e(),t)return(e=t.cloneNode(!0)).innerHTML=\"\",e.original=t,e},e.cqrender=function(t){var i;if(t)return t.innerHTML==t.original.innerHTML||(z.O7e(),e.removeChildIfNot(t.original,\"template\"),(i=Array.from(t.children)).length&&i.forEach((function(e){t.original.appendChild(t.removeChild(e))}))),t.original},e.removeChildIfNot=function(t,e){var i;return(i=Array.from(t.children)).length&&i.forEach((function(i){e&&i.matches(e)||t.removeChild(i)})),z.O7e(),t},e.safeMouseOut=function(t,i){var a,r;z.Q7e(),t.addEventListener(\"mouseout\",(a=t,r=i,function(t){void 0===t.pageX&&(t.pageX=t.clientX,t.pageY=t.clientY),e.withinElement(a,t.pageX,t.pageY)||(a.stxMouseOver=!1,z.Q7e(),r(t))}))},e.safeMouseOver=function(t,i){var a,r;z.O7e(),t.addEventListener(\"mouseover\",(a=t,r=i,function(t){if(void 0===t.pageX&&(t.pageX=t.clientX,t.pageY=t.clientY),e.withinElement(a,t.pageX,t.pageY)){if(a.stxMouseOver)return;a.stxMouseOver=!0,r(t)}}))},e.installTapEvent=function(t,i){var a;a=function(t){var e;e=new Event(\"stxtap\",{bubbles:!0,cancelable:!0}),void 0===t.pageX&&(t.pageX=t.clientX,t.pageY=t.clientY),e.pageX=t.pageX,e.pageY=t.pageY,z.O7e(),t.target.dispatchEvent(e),i&&i.stopPropagation&&t.stopPropagation()},e.safeClickTouch(t,a,i)},e.safeClickTouch=function(t,i,a){var r,n,s,o,l,h,c,u;function d(t,e){return function(i){var a,r;a=i.clientX?i.clientX:i.pageX,r=i.clientY?i.clientY:i.pageY,e?(t.t=(new Date).getTime(),t.x=a,t.y=r):t.x&&Math.pow(t.x-a,2)+Math.pow(t.y-r,2)>16&&(t.t=null)}}function p(t,a,r){return function(n){var s;if(!e.safeClickTouchEvent){if(!r.t)return;if(s=r.t,r.t=null,s+1e3<(new Date).getTime())return}if(!(a.safety&&a.safety.recentlyDragged||n.which&&n.which>=2||n.button&&n.button>=2)){if(a.preventUnderlayClick)\"I\",\"N\",\"PUT\",\"INPUT\"!==n.target.tagName&&n.preventDefault();else{if(a.lastType!=t&&Date.now()<a.allowAnotherDevice)return;a.lastType=t,a.allowAnotherDevice=Date.now()+1e3}i(n)}}}a||(a={}),r={},z.O7e(),a.allowMultiple||e.clearSafeClickTouches(t),!1!==a.preventUnderlayClick&&(a.preventUnderlayClick=!0),!1!==a.absorbDownEvent&&(a.absorbDownEvent=!0),a.allowAnotherDevice=0,a.registeredClick=!1,(n=t.safeClickTouchEvents)||(n=t.safeClickTouchEvents=[]),s=p(\"mouseup\",a,r),o=p(\"touchend\",a,r),l=p(\"pointerup\",a,r),h=function(t){t.stopPropagation()},c={},e.safeClickTouchEvent?(u=p(e.safeClickTouchEvent,a),t.addEventListener(e.safeClickTouchEvent,u),c[e.safeClickTouchEvent]=u,n.push(c)):\"onpointerup\"in document&&!e.noPointerEvents?(t.addEventListener(\"pointerdown\",d(r,!0)),t.addEventListener(\"pointermove\",d(r)),t.addEventListener(\"pointerup\",l),c.pointerup=l,a.absorbDownEvent&&(t.addEventListener(\"pointerdown\",h),c.pointerdown=h),n.push(c)):(\"touch\",\"m\",\"ove\",\"t\",\"ouchstart\",\"m\",\"ouse\",\"m\",\"ove\",t.addEventListener(\"mousedown\",d(r,!0)),t.addEventListener(\"mousemove\",d(r)),t.addEventListener(\"touchstart\",d(r,!0)),t.addEventListener(\"touchmove\",d(r)),t.addEventListener(\"mouseup\",s),t.addEventListener(\"touchend\",o),c.mouseup=s,c.touchend=o,a.absorbDownEvent&&(t.addEventListener(\"mousedown\",h),c.mousedown=h,t.addEventListener(\"touchstart\",h),c.touchstart=h),n.push(c))},e.clearSafeClickTouches=function(t){var e,i,a;if(e=t.safeClickTouchEvents,z.Q7e(),e){for(var r=0;r<e.length;r++)for(var n in i=e[r])a=i[n],t.removeEventListener(n,a);t.safeClickTouchEvents=null}},e.safeDrag=function(t,i){var a,r,n,s,o,l,h,c,u,d,p,g,m;function f(t){return z.Q7e(),function(a){var r,n;d||(d=!0,e.ChartEngine.ignoreTouch=!0,r=function(t){t&&t.preventDefault&&t.preventDefault(),m.recentlyDragged=!0,t.displacementX=h(t)-p,t.displacementY=c(t)-g,i.move(t)},i.move&&document.body.addEventListener(t.move,r),z.Q7e(),n=function(a){e.ChartEngine.ignoreTouch=!1,i.move&&document.body.removeEventListener(t.move,r),document.body.removeEventListener(t.up,n),a.displacementX=h(a)-p,z.O7e(),a.displacementY=c(a)-g,i.up&&i.up(a),setTimeout((function(){z.O7e(),m.recentlyDragged=!1}),50)},document.body.addEventListener(t.up,n),setTimeout((function(){d=!1}),u),p=h(a),g=c(a),i.down&&i.down(a))}}return a=\"to\",a+=\"uchend\",r=\"mou\",r+=\"se\",r+=\"up\",n=\"pag\",n+=\"e\",n+=\"Y\",s=\"client\",s+=\"X\",o=\"pa\",z.Q7e(),o+=\"g\",h=(l=function(t,e){return z.Q7e(),function(i){var a=z;if(a.O7e(),i.touches){if(i.touches.length>0){1784645334,1769011049,2;for(var r=1;1784645334!==a.J8P(r.toString(),r.toString().length,80526);r++)return i.touches[8][t];return 1769011049!==a.J8P(2..toString(),2..toString().length,34635)?(a.H9B(6),i.touches[a.e9B(0,\"8\")][t]):i.touches[0][t]}if(i.changedTouches&&i.changedTouches.length>0)return i.changedTouches[0][t]}return void 0!==i[t]?i[t]:i[e]}})(o+=\"eX\",s),c=l(n,\"clientY\"),\"function\"==typeof i&&(i={down:arguments[1],move:arguments[2],up:arguments[3]}),i=i||{},u=100,d=!1,p=0,g=0,m={recentlyDragged:!1},t.addEventListener(\"mousedown\",f({down:\"mousedown\",move:\"mousemove\",up:r})),t.addEventListener(\"pointerdown\",f({down:\"pointerdown\",move:\"pointermove\",up:\"pointerup\"})),t.addEventListener(\"touchstart\",f({down:\"touchstart\",move:\"touchmove\",up:a}),{passive:!1}),m},e.inputKeyEvents=function(t,e){t.addEventListener(\"keyup\",(function(i){switch(z.Q7e(),i.keyCode){case 13:e();break;case 27:t.value=\"\"}}),!1)},e.fixScreen=function(){window.scrollTo(0,0)},e.setCaretPosition=function(t,i){var a,r,n,s=z;if(t.style.zIndex=5e3,t.setSelectionRange){e.focus(t);try{t.setSelectionRange(i,i)}catch(t){}}else if(t.createTextRange){\"char\",\"acter\",(a=t.createTextRange()).collapse(!0),a.moveEnd(\"character\",i),a.moveStart(\"character\",i),s.H9B(26),r=s.e9B(205522048,\"207830737\"),1210855220,n=2;for(var o=1;s.J8P(o.toString(),o.toString().length,94279)!==r;o++)a.select(),n+=2;1210855220!==s.u8P(n.toString(),n.toString().length,17157)&&a.select(),a.select()}},e.setValueIfNotActive=function(t,e){document.activeElement!=t&&(t.value=e)},e.hideKeyboard=function(t){var e;\"INPUT\"!=(e=document.activeElement).tagName&&\"TEXTAREA\"!=e.tagName||(e.blur(),window.focus(),t&&(t===document.body||document.body.contains(t))&&t.focus())},e.smartHover=function(){var t,e;function i(t){document.documentElement.setAttribute(\"ciq-last-interaction\",t)}document&&!document.documentElement.hasAttribute(\"ciq-last-interaction\")&&(t=!1,document.addEventListener(\"touchend\",(function(a){clearTimeout(e),t=!0,\"touch\"!=document.documentElement.getAttribute(\"ciq-last-interaction\")&&i(\"touch\"),e=setTimeout((function(){t=!1}),500)}),!1),document.addEventListener(\"mouseover\",(function(e){z.Q7e(),t||i(\"mouse\")}),!1),i(\"\"))},e.translatableTextNode=function(t,e,i){var a;if(z.Q7e(),t.translationCallback)return(a=document.createElement(\"translate\")).setAttribute(\"original\",e),a.innerHTML=t.translationCallback(e,i),a;for(var r=1;-1385487207!==z.J8P(r.toString(),r.toString().length,25696);r++)return document.createTextNode(e);return 774684537!==z.u8P(2..toString(),2..toString().length,38434)?document.createTextNode(e):void 0},e.climbUpDomTree=function(t,e){var i;if(!(t instanceof HTMLElement))return null;for(i=[],z.Q7e();t;)e&&!t.matches(e)||i.push(t),t=t.parentElement;return i},e.guaranteedSize=function(t){var e,i;if(t===document&&(t=window),!t.nodeType)return{width:t.innerWidth,height:t.innerHeight};if(!t||t.nodeType>1)return{};for(e=t.offsetWidth,i=t.offsetHeight;!e||!i;){if(\"BODY\"===t.tagName||t===window){e||(e=window.innerWidth),i||(i=window.innerHeight);break}t=t.parentElement,e||(e=t.offsetWidth),i||(i=t.offsetHeight)}return{width:e,height:i}},e.elementDimensions=function(t,e){var i,a,r,n,s;if(\"conte\",\"n\",\"t-\",\"box\",\"wi\",\"d\",\"t\",\"h\",!t||1!==t.nodeType)return{};for(var o in i=getComputedStyle(t),a={width:parseFloat(i.width),height:parseFloat(i.height)},n=[\"width\",\"height\"],r={margin:{},border:{},padding:{}})\"b\",\"ord\",\"e\",\"r\",s=\"border\"==o?\"Width\":\"\",r[o]={width:parseFloat(i[o+\"Left\"+s])+parseFloat(i[o+\"Right\"+s]),height:parseFloat(i[o+\"Top\"+s])+parseFloat(i[o+\"Bottom\"+s])};return e&&e.margin&&n.forEach((function(t){z.Q7e(),a[t]+=r.margin[t]})),e&&\"content-box\"===i.boxSizing?(e.padding&&n.forEach((function(t){z.Q7e(),a[t]+=r.padding[t]})),e.border&&n.forEach((function(t){z.Q7e(),a[t]+=r.border[t]}))):\"border-box\"===i.boxSizing&&(e&&e.padding||n.forEach((function(t){z.O7e(),a[t]-=r.padding[t]})),e&&e.border||n.forEach((function(t){a[t]-=r.border[t]}))),a},e.resizeObserver=function(t,e,i,a){return a?(\"u\",\"ndefined\",\"undefined\"!=typeof ResizeObserver?i||(i=new ResizeObserver(e)).observe(t):(i&&clearInterval(i),i=setInterval(e,a))):(i&&(\"undefined\"!=typeof ResizeObserver?i.disconnect():clearInterval(i)),i=null),i},e.getLines=function(t,e,i){var a,r,n,s,o;a=e.split(\" \"),r=[],n=\"\",s=!1;for(var l=0;l<a.length;l++)if(o=a[l],t.measureText(n+o).width<i?(s&&(n+=\" \"),s=!0,n+=o):(r.push(n),n=o),l===a.length-1){r.push(n);break}return r},e.alert=function(t){z.Q7e(),\"undefined\"!=typeof window?window.alert(t):console.log(t)},e.localStorage=\"undefined\"!=typeof localStorage?localStorage:{},e.privateBrowsingAlert=!1,e.localStorageSetItem=function(t,i){z.O7e();try{e.localStorage.setItem(t,i)}catch(t){e.privateBrowsingAlert||(\"No storage space available.  Possible causes include brows\",\"er being in Private Browsing mode, or maximum storage space has been reached.\",e.alert(\"No storage space available.  Possible causes include browser being in Private Browsing mode, or maximum storage space has been reached.\"),e.privateBrowsingAlert=!0)}}},d=t=>{var e,i;(e=t.CIQ).ChartEngine=function(t){var a;for(var r in t?\"undefined\"!=typeof HTMLDivElement&&t.constructor==HTMLDivElement&&(t={container:t}):t={container:null},i)this[r]=e.clone(e.ChartEngine.prototype[r]);this.container=null,this.createChartPanel=!0,this.markers={},this.panels={},this.overlays={},this.charts={},this.eventListeners=[],this.controls={},this.goneVertical=!1,this.pinchingScreen=!1,this.grabbingScreen=!1,this.grabStartX=0,this.grabStartY=0,this.grabStartScrollX=0,this.grabStartScrollY=0,this.swipe={},this.grabStartCandleWidth=0,this.grabStartZoom=0,this.grabOverrideClick=!1,this.grabMode=\"\",this.vectorsShowing=!1,this.mouseMode=!0,this.lineTravelSpacing=!1,this.highlightedDataSetField=null,this.anyHighlighted=!1,this.accessoryTimer=null,this.lastAccessoryUpdate=(new Date).getTime(),this.displayCrosshairs=!0,this.hrPanel=null,this.editingAnnotation=!1,this.openDialog=\"\",this.touches=[],this.changedTouches=[],this.crosshairTick=null,this.crosshairValue=null,this.pt={x1:-1,x2:-1,y1:-1,y2:-1},this.moveA=-1,this.moveB=-1,this.touchStartTime=-1,this.touchPointerType=\"\",this.gestureStartDistance=-1,this.grabStartPeriodicity=1,this.grabEndPeriodicity=-1,this.scrollEvent=null,this.cmd=!1,this.ctrl=!1,this.shift=!1,this.userPointerDown=!1,this.cloneDrawing=!1,this.insideChart=!1,this.overXAxis=!1,this.overYAxis=!1,this.displayInitialized=!1,this.cx=null,this.isHistoricalModeSet=null,this.cy=null,this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1},this.cancelTouchSingleClick=!1,this.locale=null,this.dataZone=null,this.displayZone=null,this.timeZoneOffset=0,this.masterData=null,this.transformDataSetPre=null,this.transformDataSetPost=null,this.dataCallback=null,this.drawingObjects=[],this.undoStamps=[],this.useBackgroundCanvas=!1,this.mainSeriesRenderer=null,this.styles={},this.plugins={},this.currentVectorParameters=e.clone(e.ChartEngine.currentVectorParameters),this.chart=new e.ChartEngine.Chart,(a=this.chart).name=\"chart\",a.yAxis.name=\"chart\",a.canvas=null,a.tempCanvas=null,a.container=t.container,e.Market&&(a.market=new e.Market),this.charts.chart=a,z.O7e(),e.extend(this,t),t.container&&(this.registerHTMLElements&&this.registerHTMLElements(),a.width=a.container.clientWidth-a.yAxis.width,this.setCandleWidth(this.layout.candleWidth,a),a.canvasHeight=a.container.clientHeight),this.construct()},e.ChartEngine.drawingLine=!1,e.ChartEngine.resizingPanel=null,e.ChartEngine.crosshairX=0,e.ChartEngine.crosshairY=0,e.ChartEngine.useAnimation=!0,e.ChartEngine.enableCaching=!1,e.ChartEngine.ignoreTouch=!1,e.ChartEngine.useOldAndroidClear=!0,e.ChartEngine.currentVectorParameters={},e.ChartEngine.defaultDisplayTimeZone=null,e.ChartEngine.pluginBasePath=\"plugins/\",e.ChartEngine.registeredContainers=[],e.ChartEngine.prototype.construct=function(){this.createChartPanel&&(this.stackPanel(\"chart\",\"chart\",1),this.adjustPanelPositions(),this.chart.panel=this.panels[this.chart.name]),this.cx=0,this.cy=0,this.micropixels=0,this.callbackListeners={doubleTap:[],doubleClick:[],drawing:[],drawingEdit:[],layout:[],longhold:[],move:[],newChart:[],periodicity:[],preferences:[],rightClick:[],scroll:[],studyOverlayEdit:[],studyPanelEdit:[],symbolChange:[],symbolImport:[],tap:[],theme:[],undoStamp:[]},this.longHoldTime=700},i={yTolerance:100,minimumLeftBars:1,reverseMouseWheel:!1,mouseWheelAcceleration:!0,minimumCandleWidth:1,maximumCandleWidth:200,minimumZoomTicks:9,allowZoom:!0,allowScroll:!0,allowSideswipe:!0,allowThreeFingerTouch:!1,bypassRightClick:{series:!1,study:!1,drawing:!1},adjustHighlightedDataSetField:function(t){return t},displayIconsUpDown:!0,displayIconsSolo:!0,displayIconsClose:!0,displayPanelResize:!0,soloPanelToFullScreen:!1,markerDelay:null,useBackingStore:!0,disableBackingStoreDuringTouch:e.isMobile||e.isSurface&&e.isFF,captureTouchEvents:!0,captureMouseWheelEvents:!0,doubleClickTime:250,yaxisLabelStyle:\"roundRectArrow\",axisBorders:null,singleDrawingHighlight:!0,crosshairXOffset:-40,crosshairYOffset:-40,extendLastTick:!1,translationCallback:null,dontRoll:!1,allowEquations:!0,cleanupGaps:!1,staticRange:!1,maxDataSetSize:2e4,maxMasterDataSize:0,resizeDetectMS:1e3,xAxisAsFooter:!0,xaxisHeight:30,displayGridLinesInStudies:!1,escapeOnSerialize:!0,candleWidthPercent:.65,colorByCandleDirection:!1,noWicksOnCandles:{renko:!0,linebreak:!0},fetchMaximumBars:{rangebars:!0,kagi:!0,renko:!0,linebreak:!0,pandf:!0},startComparisonsAtFirstVisibleBar:!1,animations:{zoom:{isStub:!0,run:function(t,e,i){t(i)},stop:function(){},reset:function(){},running:!1,hasCompleted:!0}},staticRangePeriodicityMap:[{rangeInMS:e.WEEK,periodicity:1,interval:5,timeUnit:\"minute\"},{rangeInMS:e.MONTH,periodicity:1,interval:30,timeUnit:\"minute\"},{rangeInMS:e.YEAR,periodicity:1,interval:\"day\"},{rangeInMS:e.DECADE,periodicity:1,interval:\"week\"},{rangeInMS:10*e.DECADE,periodicity:1,interval:\"month\"},{rangeInMS:Number.MAX_VALUE,periodicity:12,interval:\"month\"}],dynamicRangePeriodicityMap:[{interval:1,timeUnit:\"minute\",rangeInMS:e.MINUTE},{interval:5,timeUnit:\"minute\",rangeInMS:5*e.MINUTE},{interval:30,timeUnit:\"minute\",rangeInMS:30*e.MINUTE},{interval:60,timeUnit:\"minute\",rangeInMS:60*e.MINUTE},{interval:\"day\",rangeInMS:e.DAY},{interval:\"month\",rangeInMS:e.MONTH},{interval:\"year\",rangeInMS:e.YEAR}],layout:{interval:\"day\",periodicity:1,timeUnit:null,candleWidth:8,flipped:!1,volumeUnderlay:!1,adj:!0,crosshair:!1,chartType:\"candle\",extended:!1,marketSessions:{},aggregationType:\"ohlc\",chartScale:\"linear\",studies:{},panels:{},setSpan:{},outliers:!1},preferences:{currentPriceLine:!1,dragging:{series:!0,study:!0,yaxis:!0},drawings:null,highlightsRadius:10,highlightsTapRadius:30,magnet:!1,horizontalCrosshairField:null,labels:!0,language:null,timeZone:null,whitespace:50,zoomInSpeed:null,zoomOutSpeed:null,zoomAtCurrentMousePosition:!1},streamParameters:{count:0,maxWait:1e3,maxTicks:100,timeout:-1},autoPickCandleWidth:{turnOn:!1,candleWidth:5}},e.extend(e.ChartEngine.prototype,i),e.ChartEngine.NONE=0,e.ChartEngine.CLOSEUP=1,e.ChartEngine.CLOSEDOWN=2,e.ChartEngine.CLOSEEVEN=4,e.ChartEngine.CANDLEUP=8,e.ChartEngine.CANDLEDOWN=16,e.ChartEngine.CANDLEEVEN=32},z.O7e(),p=t=>{var e,i,a,r=z;r.H9B(5),e=r.F9B(\"2126345451\",0),i=2;for(var n=1;-1994831860!==r.u8P(n.toString(),n.toString().length,28548);n++)a=t.CIQ,i+=2;r.u8P(i.toString(),i.toString().length,50626)!==e&&(a=t.CIQ),(a=t.CIQ).convertFutureMonth=function(t){var e;if(\"1\",\"0\",(e=t.toString()).length<=0||e.length>2)return\"\";switch(e){case\"1\":return\"F\";case\"2\":return\"G\";case\"3\":return\"H\";case\"4\":return\"J\";case\"5\":return\"K\";case\"6\":return\"M\";case\"7\":return\"N\";case\"8\":return\"Q\";case\"9\":return\"U\";case\"10\":return\"V\";case\"11\":return\"X\";case\"12\":return\"Z\";case\"F\":return\"1\";case\"G\":return\"2\";case\"H\":return\"3\";case\"J\":return\"4\";case\"K\":return\"5\";case\"M\":return\"6\";case\"N\":return\"7\";case\"Q\":return\"8\";case\"U\":return\"9\";case\"V\":return\"10\";case\"X\":return\"1\",\"1\",\"11\";case\"Z\":return\"12\"}return e},a.money=function(t,e,i){return r.Q7e(),i||(i=\"$\"),3==i.length&&(i+=\" \"),e||0===e||(e=2),i+a.commas((Math.round(1e4*t)/1e4).toFixed(e))},a.convertCurrencyCode=function(t){var e;if(\"C\",\"F\",\"A\",\"k\",\"r\",\"C\",\"N\",\"\",\"C\",\"A\",\"$\",r.Q7e(),\"R\",\"$\",e={JPY:\"\",USD:\"$\",AUD:\"A$\",BRL:\"R$\",CAD:\"CA$\",CNY:\"CN\",CZK:\"K\",DKK:\"kr\",EUR:\"\",GBP:\"\",HKD:\"HK$\",HUF:\"Ft\",ILS:\"\",INR:\"\",KRW:\"\",MXN:\"MX$\",NOK:\"kr\",NZD:\"NZ$\",PLN:\"z\",RUB:\"\",SAR:\"\",SEK:\"kr\",SGD:\"S$\",THB:\"\",TRY:\"\",TWD:\"NT$\",VND:\"\",XAF:\"FCFA\",XCD:\"EC$\",XOF:\"CFA\",XPF:\"CFPF\",ZAR:\"R\"}[t])return e;for(var i=1;-2137806291!==r.u8P(i.toString(),i.toString().length,13265);i++)return t;return-1855891619!==r.u8P(2..toString(),2..toString().length,39350)?t:void 0},a.commas=function(t){return t.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\")},a.cleanPeriodicity=function(t,e,i){return\"m\",\"i\",\"n\",\"ute\",r.Q7e(),\"t\",\"i\",\"c\",\"k\",isNaN(t)&&(t=1),e||(e=1),!isNaN(e)&&i?\"minute\"!=i&&\"second\"!=i&&\"millisecond\"!=i&&(e=i,i=null):\"tick\"==e?i=null:i||isNaN(e)||(i=\"minute\"),\"year\"==e&&(e=\"month\",t||(t=1),r.Z9B(9),t=r.e9B(t,12)),{period:t,interval:e,timeUnit:i}},a.readablePeriodicity=function(t){var e,i;return e=t.layout.periodicity,i=t.layout.interval,\"number\"==typeof t.layout.interval&&t.layout.timeUnit?(e=t.layout.interval*t.layout.periodicity,i=t.layout.timeUnit):\"number\"!=typeof t.layout.interval||t.layout.timeUnit||(e=t.layout.interval*t.layout.periodicity,i=\"minute\"),e%60==0&&\"minute\"==i&&(e/=60,i=\"hour\"),e+\" \"+t.translateIf(a.capitalize(i))},a.fixPrice=function(t){var e;if(!t&&0!==t)return null;for(var i=(e=t.toFixed(10)).length-1;i>1&&\"0\"==e.charAt(i);i--);return r.Z9B(31),r.Q7e(),e=e.substring(0,r.e9B(i,0,\"1\")),parseFloat(e)},a.condenseInt=function(t){var e,i,a;if(\"n\",r.Q7e(),\"/\",\"a\",\"un\",\"defin\",\"ed\",null==t)return\"\";if(t===1/0||t===-1/0)return\"n/a\";if(r.H9B(32),e=r.F9B(0,t),isNaN(t)){189319772,r.H9B(14),i=r.F9B(\"221164226\",535307104),a=2;for(var n=1;189319772!==r.J8P(n.toString(),n.toString().length,20522);n++)t=t.toString(),a+=2;r.J8P(a.toString(),a.toString().length,30231)!==i&&(t=t.toString())}else t=(t=Math.abs(t))>1e12?Math.round(t/1e11)/10+\"t\":t>1e11?Math.round(t/1e9)+\"b\":t>1e10?(Math.round(t/1e8)/10).toFixed(1)+\"b\":t>1e9?(Math.round(t/1e7)/100).toFixed(2)+\"b\":t>1e8?Math.round(t/1e6)+\"m\":t>1e7?(Math.round(t/1e5)/10).toFixed(1)+\"m\":t>1e6?(Math.round(t/1e4)/100).toFixed(2)+\"m\":t>1e5?Math.round(t/1e3)+\"k\":t>1e4?(Math.round(t/100)/10).toFixed(1)+\"k\":t>1e3?(Math.round(t/10)/100).toFixed(2)+\"k\":t.toString();return e&&(r.H9B(3),t=r.F9B(t,\"-\")),t},r.Q7e(),a.calculateTradingDecimalPlaces=function(t){var e,i,a,n,s,o,l,h,c;if(i=2,50,a=(e=t.chart).masterData,r.O7e(),a&&a.length>50)for(var u=2;u<50&&(\"num\",\"ber\",!((n=a.length-u)<0));u++)(s=a[n]).Close&&\"number\"==typeof s.Close&&-1!=(l=(o=s.Close.toString()).indexOf(\".\"))&&(h=o.length-l-1)>i&&(i=h);return i>(c=e.yAxis.maxDecimalPlaces)&&null!==c&&(i=c),i},a.minMax=function(t,e,i,a){var r,n,s,o,l,h,c;r=Number.MAX_VALUE,n=-1*Number.MAX_VALUE,i||(i=\"Close\"),s=a?\"High\":i,o=a?\"Low\":i;for(var u=0;u<t.length;u++)\"o\",\"b\",\"ject\",(l=t[u])&&((h=l[e])||0===h)&&(c=h,\"object\"==typeof h&&(c=h[s]),isNaN(c)||!c&&0!==c||(n=Math.max(n,c)),\"object\"==typeof h&&(c=h[o]),isNaN(c)||!c&&0!==c||(r=Math.min(r,c)));return[r,n]},a.symbolEqual=function(t,e){var i,a;return!(!t||!e)&&(\"object\"!=typeof t&&(t={symbol:t}),\"object\"!=typeof e&&(e={symbol:e}),r.Q7e(),\"function\"==typeof t.equals?t.equals(e):(i=t.symbol,a=e.symbol,i&&(i=i.toUpperCase()),a&&(a=a.toUpperCase()),i==a&&t.source==e.source))},a.addMemberToMasterdata=function(t){var e,i,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P;if(t.constructor===a.ChartEngine&&(t={stx:arguments[0],label:arguments[1],data:arguments[2],fields:arguments[3],createObject:arguments[4],fieldForLabel:arguments[5]}),e=t.stx,i=t.label,n=t.data,s=t.fields,o=t.createObject,l=t.fieldForLabel,h=t.chart?t.chart:e.chart,t.noCleanupDates||e.doCleanupDates(n,e.layout.interval),c=[],e.getSeries&&(c=e.getSeries({symbol:i,chart:h})),n&&n.constructor==Object&&(n=[n]),n&&n.length){if(u=0,d=0,p=h.masterData,g=e.layout,!p){y=-108573324,v=-4232674,x=2;for(var F=1;r.J8P(F.toString(),F.toString().length,37198)!==y;F++)p=[],x+=2;r.u8P(x.toString(),x.toString().length,3096)!==v&&(p=[])}for(C=h&&h.defaultPlotField||null,b=e.mainSeriesRenderer&&!e.mainSeriesRenderer.highLowBars,S=g.chartType,!b&&S&&(w=a.Renderer.produce(S,{}))&&(b=!w.highLowBars),k=a.yyyymmddhhmmssmmm;n&&u<p.length&&d<n.length;){if(f=n[d],m=p[u],f.DT&&void 0!==f.DT?(D=\"numbe\",D+=\"r\",typeof f.DT==D&&(f.DT=new Date(f.DT)),f.Date&&17==f.Date.length||(f.Date=k(f.DT))):f.DT=a.strToDateTime(f.Date),0===d)for(var _=0;_<c.length;_++)(!c[_].endPoints.begin||c[_].endPoints.begin>f.DT)&&(c[_].endPoints.begin=f.DT);+f.DT!=+m.DT?f.DT<m.DT?p.splice(u,0,{DT:f.DT,Date:f.Date}):L(f.DT):(N(m,f),d++,u++)}if(r.O7e(),u>=p.length)for(;n&&d<n.length;)(f=n[d]).DT&&void 0!==f.DT?(T=\"nu\",T+=\"m\",T+=\"ber\",typeof f.DT==T&&(f.DT=new Date(f.DT)),f.Date&&17==f.Date.length||(f.Date=k(f.DT))):f.DT=a.strToDateTime(f.Date),N(m={DT:f.DT,Date:f.Date},f),p.push(m),d++;if(t.fillGaps&&p.length)if(M={noCleanupDates:!0,cleanupGaps:t.fillGaps},s)for(var B=0;B<s.length;B++)M.field=s[B],e.doCleanupGaps(p,h,M);else M.field=i,e.doCleanupGaps(p,h,M);for(var E=0;E<c.length;E++)(!(A=c[E].endPoints).end||!i||A.end<=m[i].DT)&&(A.end=i?m[i].DT:m.DT,P=i||c[E].parameters&&c[E].parameters.field||h.defaultPlotField,c[E].lastQuote=e.getFirstLastDataRecord(p,P,!0));e.setMasterData(p,h,{noCleanupDates:!0})}function O(t,e){var i;if(!t||\"object\"!=typeof t)return t=e;for(var a in i={Close:t.Close,High:t.High,Low:t.Low,Open:t.Open,Volume:t.Volume},t=e,i)\"nu\",\"mb\",\"e\",\"r\",null===t.Close?void 0!==t[a]&&(t[a]=null):\"number\"!=typeof t[a]?t[a]=i[a]:\"number\"==typeof i[a]&&(\"L\",\"o\",\"w\",\"Open\"==a?t.Open=i.Open:\"Low\"==a&&t.Low>i.Low?t.Low=i.Low:\"High\"==a&&t.High<i.High?t.High=i.High:\"Volume\"==a&&(t.Volume+=i.Volume));return t}function L(t){var e,i,a,n;if(e=u,i=p.length-1,p[i].DT<t)return r.Z9B(3),void(u=r.e9B(1,i));if(+p[i].DT!=+t){-1720668916,-65067562,r.Q7e(),a=2;for(var s=1;-1720668916!==r.u8P(s.toString(),s.toString().length,90796);s++)u++,n=0,a+=2;for(-65067562!==r.u8P(a.toString(),a.toString().length,67553)&&(u--,n=6);++n<100;){switch(+p[u].DT==+t?0:p[u].DT<t?1:(r.O7e(),p[u-1].DT>t?-1:(+p[u-1].DT==+t&&u--,0))){case 0:return;case 1:e=u;break;case-1:i=u}r.Z9B(33),u=Math.round(r.F9B(i,e,0,\"2\"))}n>=100&&(console.log(\"!!!Warning: addMemberToMasterdata() did not find insertion point.\"),u=p.length-1)}else u=i}function N(t,e){var r,n,h;if(s&&s.length)if(\"*\"==s[0])a.extend(t,e);else for(var c=0;c<s.length;c++)t[s[c]]=e[s[c]];else if(o){if(\"numb\",\"e\",\"r\",void 0!==e.Value)return void(t[i]=e.Value);t[i]=\"aggregate\"==o?O(t[i],e):e,\"number\"==typeof(r=t[i]).Close&&(\"n\",\"um\",\"ber\",\"numbe\",\"r\",\"number\"!=typeof r.Open&&(r.Open=r.Close),n=Math.max(r.Open,r.Close),h=Math.min(r.Open,r.Close),(\"number\"!=typeof r.High||r.High<n)&&(r.High=n),(\"number\"!=typeof r.Low||r.Low>h)&&(r.Low=h)),r.Volume&&\"number\"!=typeof r.Volume&&(r.Volume=parseInt(r.Volume,10))}else l?t[i]=e[l]:b&&C&&void 0!==e[C]?t[i]=e[C]:g.adj&&void 0!==e.Adj_Close?t[i]=e.Adj_Close:void 0!==e.Close?t[i]=e.Close:void 0!==e.Value?t[i]=e.Value:t[i]=e[i]}}},g=t=>{var e;z.O7e(),e=t.CIQ,Math.easeInOutQuad=function(t,e,i,a){var r=z;return r.Z9B(34),(t/=r.e9B(\"2\",a,1640597408))<1?(r.H9B(35),r.F9B(e,i,t,t,\"2\")):(t--,r.Z9B(36),r.e9B(e,t,2,i,2,1,t))},Math.easeInOutCubic=function(t,e,i,a){var r=z;return r.H9B(37),(t/=r.e9B(0,\"2\",a))<1?(r.H9B(38),r.e9B(t,t,i,2,t,e)):(r.Z9B(25),t-=r.F9B(\"2\",2147483647),r.Z9B(39),r.e9B(2,e,2,t,i,t,t))},Math.easeOutCubic=function(t,e,i,a){return t/=a,t--,z.O7e(),z.H9B(40),z.F9B(t,t,i,1,t,e)},e.xor=function(t,e){var i,a;return i=!t,a=!e,z.Z9B(41),z.F9B(a,i)},e.round=function(t,e){return z.Q7e(),\"e\",\"-\",Number(Math.round(t+\"e\"+e)+\"e-\"+e)},e.countDecimals=function(t){var i;return\"e\",\"-\",\"number\"!=typeof t||isNaN(t)||Math.floor(t)===Number(t)?0:(i=t.toString().split(\"e-\")).length>1?e.countDecimals(Number(i[0]))+Number(i[1]):(z.Q7e(),i[0].indexOf(\".\")>-1?i[0].split(\".\")[1].length:(z.Z9B(25),z.F9B(\"0\",2147483647)))},e.isValidNumber=function(t){return z.O7e(),isFinite(t)&&+t===t},e.log10=function(t){return Math.log(t)/Math.LN10},e.boxIntersects=function(t,e,i,a,r,n,s,o,l){var h,c,u,d,p,g,m;function f(t,e){return z.H9B(42),z.e9B(e,r,n,r,n,o,s,t)}if(h=\"r\",h+=\"ay\",z.O7e(),void 0!==arguments[9]&&console.warn(\"CIQ.boxIntersects() no longer supports isLog argument, please be sure arguments are passed in as pixels.\"),c=Math.min(t,i),u=Math.max(t,i),d=Math.min(e,a),p=Math.max(e,a),z.H9B(43),g=z.F9B(l,h),isNaN(r)||isNaN(s)||isNaN(n)||isNaN(o))return!1;if(\"line\"!=l){if(r<c&&s<c&&(!g||r>s))return!1;if(r>u&&s>u&&(!g||r<s))return!1;if(n<d&&o<d&&(!g||n>o))return!1;if(n>p&&o>p&&(!g||n<o))return!1}return!((m={a:f(t,e),b:f(t,a),c:f(i,e),d:f(i,a)}).a>0&&m.b>0&&m.c>0&&m.d>0)&&!(m.a<0&&m.b<0&&m.c<0&&m.d<0)},e.linesIntersect=function(t,e,i,a,r,n,s,o,l){var h,c,u,d,p,g=z;if(\"l\",\"i\",\"n\",\"e\",g.H9B(42),h=g.e9B(o,r,s,t,i,a,e,n),g.Z9B(42),c=g.F9B(n,s,r,s,r,t,i,o),g.O7e(),g.Z9B(42),u=g.F9B(e,i,t,s,r,t,i,a),0===h)return 0===c&&0===u;if(g.H9B(8),d=g.F9B(c,h),g.Z9B(8),p=g.e9B(u,h),\"segment\"==l){if(d>=0&&d<=1&&p>=0&&p<=1)return!0}else if(\"line\"==l||\"horizontal\"==l||\"vertical\"==l){if(d>=0&&d<=1)return!0}else if(\"ray\"==l&&d>=0&&d<=1&&p>=0)return!0;return!1},e.yIntersection=function(t,e){var i,a,r,n,s,o,l,h,c,u=z;if(i=t.x0,a=t.x1,r=e,n=e,s=t.y0,o=t.y1,0,1e4,u.H9B(42),l=u.F9B(1e4,r,0,i,s,o,a,n),u.Z9B(42),h=u.F9B(n,0,r,0,r,i,s,1e4),u.H9B(8),c=u.F9B(h,l),0===l){if(0!==h)return null;c=1}return u.Z9B(44),u.F9B(s,s,c,o)},e.xIntersection=function(t,e){var i,a,r,n,s,o,l,h,c,u=z;if(i=t.x0,a=t.x1,0,1e4,r=t.y0,n=t.y1,s=e,o=e,u.H9B(42),l=u.F9B(o,0,s,i,r,n,a,1e4),u.Z9B(42),h=u.F9B(1e4,s,0,s,0,i,r,o),u.Z9B(8),c=u.F9B(h,l),0===l){if(0!==h)return null;c=1}return u.H9B(44),u.e9B(i,i,c,a)},e.intersectLineLineX=function(t,e,i,a,r,n,s,o){var l,h,c,u=z;return u.H9B(42),l=u.F9B(n,s,r,s,r,t,i,o),u.Z9B(42),h=u.e9B(o,r,s,t,i,a,e,n),u.Q7e(),u.H9B(8),c=u.e9B(l,h),u.H9B(44),u.e9B(t,t,c,e)},e.intersectLineLineY=function(t,e,i,a,r,n,s,o){var l,h,c,u=z;return u.Z9B(42),l=u.F9B(n,s,r,s,r,t,i,o),u.Z9B(42),u.O7e(),h=u.F9B(o,r,s,t,i,a,e,n),u.H9B(8),c=u.F9B(l,h),u.Z9B(44),u.F9B(i,i,c,a)}},m=t=>{var e;(e=t.CIQ).deleteRHS=function(t,e){var i;for(var a in i=!1,t)t[a]==e&&(delete t[a],i=!0);return z.O7e(),i},e.scrub=function(t,e){for(var i in t)void 0===t[i]&&delete t[i],e&&null===t[i]&&delete t[i]},e.dataBindSafeAssignment=function(t,i){for(var a in e.extend(t,i),t)void 0===i[a]&&(t[a]=void 0)},e.clone=function(t,i){var a;if(z.Q7e(),null===t||\"object\"!=typeof t)return t;if((a=t.constructor)==Date||a==RegExp||a==String||a==Number||a==Boolean)return new a(t.valueOf());if(a==Function)return function(){return t.apply(this,arguments)};if(!i)try{i=new a}catch(e){i=Object.create(Object.getPrototypeOf(t))}for(var r in t)i[r]=i[r]!==t[r]?e.clone(t[r],null):i[r];return i},e.shallowClone=function(t){var e;if(!t)return t;if(t.constructor==Array){e=new Array(t.length);for(var i=0;i<t.length;i++)e[i]=t[i];return e}for(var a in e={},t)e[a]=t[a];return z.Q7e(),e},e.ensureDefaults=function(t,e){for(var i in e)\"und\",\"efined\",void 0===t[i]&&(t[i]=e[i]);return t},e.transferObject=function(t,e){var i;for(i in t)t.hasOwnProperty(i)&&delete t[i];for(i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},e.equals=function(t,i,a){if(!t&&i)return!1;if(t&&!i)return!1;if(typeof t!=typeof i)return!1;for(var r in t)if(!a||!a[r])if(\"object\"!=typeof t[r]){if(i[r]!=t[r])return!1}else if(!e.equals(t[r],i[r]))return!1;return!0},e.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},e.first=function(t){for(var e in z.O7e(),t)return e;return null},e.last=function(t){var e;for(var i in z.Q7e(),e=null,t)e=i;return e},e.objLength=function(t){var e;if(!t)return 0;for(var i in z.O7e(),e=0,t)e++;return e},e.deriveFromObjectChain=function(t,e){var i,a;if(z.Q7e(),-1==e.indexOf(\".\"))return{obj:t,member:e};i=e.split(\".\");for(var r=0;r<i.length-1;r++)t[a=i[r]]||0===t[a]||(t[a]={}),t=t[a];return{obj:t,member:i[r]}},e.createObjectChainNames=function(t,e){var i;i=[];for(var a=0;a<e.length;a++)i.push(t+\"--\\x3e\"+e[a]);return i},e.existsInObjectChain=function(t,e){var i,a;if(-1==e.indexOf(\"--\\x3e\"))return t[e]||0===t[e]?{obj:t,member:e}:null;z.O7e(),i=e.split(\"--\\x3e\");for(var r=0;r<i.length-1;r++){if(!t[a=i[r]]&&0!==t[a])return null;t=t[a]}return t[a=i[r]]||0===t[a]?{obj:t,member:a}:null},e.derivedFrom=function(t,e){return!!e.isPrototypeOf(t)||t instanceof e},e.replaceFields=function(t,i){var a,r,n,s,o;if(!t)return t;for(var l in a={},t)if(\"o\",\"bj\",\"e\",\"ct\",r=t[l],(n=i[l])||(n=l),r&&\"object\"==typeof r)if(r.constructor==Array){s=a[n]=new Array(r.length);for(var h=0;h<s.length;h++)\"objec\",\"t\",o=r[h],s[h]=\"object\"==typeof o?e.replaceFields(o,i):o}else a[n]=e.replaceFields(r,i);else a[n]=r;return a},e.removeNullValues=function(t){var i;for(var a in z.Q7e(),i=e.clone(t))i[a]||delete i[a];return i},e.reverseObject=function(t){var e;for(var i in e={},z.Q7e(),t)e[t[i]]=i;return e},e.getFromNS=(t,e,i)=>{var a,r,n;if(z.Q7e(),t){a=t,r=e.split(\".\");for(var s=0;s<r.length&&(\"un\",\"de\",\"fi\",\"ned\",void 0!==a[n=r[s]]);s++)a=a[n];if(s===r.length)return a}return i},e.getFnFromNS=(t,i,a)=>(z.O7e(),e.getFromNS(t,i,(function(){return a}))),e.get=(t,i)=>e.getFromNS(e,t,i),e.getFn=(t,i)=>e.getFromNS(e,t,(function(){return z.O7e(),i}))},f=t=>{var e;(e=t.CIQ).Plotter=function(){this.seriesArray=[],this.seriesMap={}},e.extend(e.Plotter.prototype,{Series:function(t,i,a,r,n,s){z.Q7e(),this.name=t,this.strokeOrFill=i,this.color=a,this.moves=[],this.text=[],(!r||r>1||r<0)&&(r=1),this.opacity=r,(!n||n>25||n<1)&&(n=1),this.width=n,this.pattern=e.borderPatternToArray(n,s)},newSeries:function(t,e,i,a,r){var n;n=i.constructor==String?new this.Series(t,e,i,a,r):new this.Series(t,e,i.color,i.opacity,r,i.borderTopStyle),this.seriesArray.push(n),this.seriesMap[t]=n},reset:function(t){var e;for(var i in this.seriesMap)t&&t!=i||(e=this.seriesMap[i])&&(e.moves=[],e.text=[])},moveTo:function(t,e,i){this.seriesMap[t].moves.push({action:\"moveTo\",x:e,y:i})},lineTo:function(t,e,i){var a,r;z.Q7e(),r=(a=this.seriesMap[t]).pattern,a.moves.push({action:\"lineTo\",x:e,y:i,pattern:r})},dashedLineTo:function(t,e,i,a){z.Q7e(),this.seriesMap[t].moves.push({action:\"lineTo\",x:e,y:i,pattern:a})},quadraticCurveTo:function(t,e,i,a,r){var n,s;n=this.seriesMap[t],z.Q7e(),s=n.pattern,n.moves.push({action:\"quadraticCurveTo\",x0:e,y0:i,x:a,y:r,pattern:s})},bezierCurveTo:function(t,e,i,a,r,n,s){var o,l;l=(o=this.seriesMap[t]).pattern,o.moves.push({action:\"bezierCurveTo\",x0:e,y0:i,x1:a,y1:r,x:n,y:s,pattern:l})},addText:function(t,e,i,a,r,n,s){z.Q7e(),this.seriesMap[t].text.push({text:e,x:i,y:a,bg:r})},drawText:function(t,e){for(var i,a,r,n,s=0;s<e.text.length;s++)(i=e.text[s]).bg&&(a=i.width?i.width:t.measureText(i.text).width,r=i.height?i.height:12,n=t.fillStyle,t.fillStyle=i.bg,\"right\"==t.textAlign?t.fillRect(i.x,i.y-r/2,-a,-r):t.fillRect(i.x,i.y-r/2,a,r),t.fillStyle=n),t.fillText(i.text,i.x,i.y)},draw:function(t,e){var i,a,r,n,s,o;z.Q7e(),i=t.lineWidth,a=t.fillStyle,r=t.strokeStyle,n=t.globalAlpha;for(var l=0;l<this.seriesArray.length;l++)if(s=this.seriesArray[l],!e||s.name==e){t.beginPath(),t.lineWidth=s.width,t.globalAlpha=s.opacity,t.fillStyle=s.color,t.strokeStyle=s.color,t.save();for(var h=0;h<s.moves.length;h++)\"quadr\",\"aticCurveTo\",(o=s.moves[h]).pattern?(t.setLineDash(o.pattern),t.lineDashOffset=0):t.setLineDash([]),\"quadraticCurveTo\"==o.action?t[o.action](o.x0,o.y0,o.x,o.y):\"bezierCurveTo\"==o.action?t[o.action](o.x0,o.y0,o.x1,o.y1,o.x,o.y):t[o.action](o.x,o.y);\"fill\"==s.strokeOrFill?t.fill():t.stroke(),t.closePath(),t.restore(),this.drawText(t,s),t.lineWidth=1}t.lineWidth=i,t.fillStyle=a,t.strokeStyle=r,t.globalAlpha=n}},!0)},y=t=>{var e;(e=t.CIQ).Renderer=function(){},e.Renderer.produce=function(t,i){var a,r;if(\"lin\",\"e\",a=null,t)for(var n in e.Renderer)if((r=e.Renderer[n]).requestNew&&(a=r.requestNew(t.split(\"_\"),i)),a)return a;return i.type=\"line\",new e.Renderer.Lines({params:i})},e.Renderer.colorFunctions={},e.Renderer.registerColorFunction=function(t,i){e.Renderer.colorFunctions[t]=i},e.Renderer.unregisterColorFunction=function(t){delete e.Renderer.colorFunctions[t]},e.Renderer.prototype.adjustYAxis=function(){},e.Renderer.prototype.draw=function(){},e.Renderer.prototype.drawIndividualSeries=function(t,e){},e.Renderer.prototype.construct=function(t){var i;t||(t={}),(i=t.params?t.params:{}).name||(i.name=e.uniqueID()),i.heightPercentage||(i.heightPercentage=.7),i.opacity||(i.opacity=1),!1!==i.highlightable&&(i.highlightable=!0),i.panel||(i.panel=\"chart\"),i.yAxis&&(i.yAxis=new e.ChartEngine.YAxis(i.yAxis),i.yAxis.name||(i.yAxis.name=i.name)),this.cb=t.callback,this.params=i,z.Q7e(),this.seriesParams=[],this.caches={},this.colors={}},e.Renderer.prototype.attachSeries=function(t,i){var a,r,n,s,o,l,h,c,u,d,p=z;if(\"s\",\"tr\",\"ing\",\"au\",\"to\",!(a=this.stx))return this;if((r=a.chart.series[t])||(r={parameters:{}}),n=this.params,s=r.parameters,o={id:t,chartType:n.type,display:s.display,border_color_up:n.defaultBorders?\"auto\":null,fill_color_up:s.color,opacity_up:n.opacity,border_color_down:n.defaultBorders?\"auto\":null,fill_color_down:s.color,opacity_down:n.opacity,color:s.color,symbol:s.symbol,symbolObject:e.clone(s.symbolObject)},\"string\"==typeof i)o.color=o.fill_color_down=o.fill_color_up=i;else if(\"object\"==typeof i){for(var g in i)o[g]=i[g];l=o.color,h=o.border_color,l&&(o.fill_color_up||(o.fill_color_up=l),o.fill_color_down||(o.fill_color_down=l),o.fill_color_even||(o.fill_color_even=l)),h&&(o.border_color_up||(o.border_color_up=h),o.border_color_down||(o.border_color_down=h),o.border_color_even||(o.border_color_even=h))}for(o.symbol&&o.field!=o.symbol&&(o.subField=o.field,o.field=o.symbol),o.id||(o.id=e.uniqueID()),c=0;c<this.seriesParams.length;++c)if(this.seriesParams[c].id===o.id){this.removeSeries(o.id,!0);break}return this.seriesParams.splice(c,0,o),o.fill_color_up!=o.fill_color_down?(\" \",\"d\",\"ow\",\"n\",\" \",\"d\",\"n\",\" \",\"u\",\"p\",p.H9B(3),this.colors[p.F9B(\" up\",t)]={color:o.fill_color_up,opacity:o.opacity_up,display:o.display?o.display+\" up\":t+\" up\"},p.H9B(3),this.colors[p.e9B(\" dn\",t)]={color:o.fill_color_down,opacity:o.opacity_down,display:o.display?o.display+\" down\":t+\" down\"}):this.colors[t]={color:o.fill_color_up,opacity:o.opacity_up,display:o.display?o.display:t},u=n.panel,a.panels[u]?n.yAxis?(n.yAxis=a.addYAxis(a.panels[u],n.yAxis),n.yAxis.needsInitialPadding=!0,s.yAxis=n.yAxis,a.resizeChart()):o.yAxis&&(n.yAxis=o.yAxis):((d=n.yAxis)||((d=new e.ChartEngine.YAxis).needsInitialPadding=!0),d.name=u,a.createPanel(u,u,null,null,d)),this},e.Renderer.prototype.removeSeries=function(t,e){var i,a,r,n,s,o,l,h,c=z;for(var u in\"l\",\"ayout\",\" \",\"up\",i=null,a=!1,(n=(r=this.stx).chart).seriesRenderers){s=n.seriesRenderers[u];for(var d=0;d<s.seriesParams.length;d++)(o=s.seriesParams[d]).id==t&&this===s?i=d:!o.isComparison||o.panel!=n.panel.name||o.yAxis&&o.yAxis!=n.yAxis||(a=!0)}if(null!==i&&(n.forcePercentComparison&&!a&&this.seriesParams[i].isComparison&&\"linear\"!=r.layout.chartScale&&r.setChartScale(),this.seriesParams.splice(i,1)),c.Z9B(3),c.Q7e(),delete this.colors[c.e9B(\" up\",t)],c.H9B(3),delete this.colors[c.F9B(\" dn\",t)],delete this.colors[t],!e){for(var p in n.seriesRenderers){h=n.seriesRenderers[p];for(var g=0;g<h.seriesParams.length;g++){if(h.seriesParams[g].id==t){l=!0;break}l=!1}if(l)break}!1!==l&&null===i||r.deleteSeries(t,n)}return r.deleteYAxisIfUnused(r.panels[this.params.panel],this.params.yAxis),r.resizeChart(),r.layout.symbols=r.getSymbols({\"include-parameters\":!0,\"exclude-studies\":!0}),r.changeOccurred(\"layout\"),this},e.Renderer.prototype.getDependents=function(t){var e,i;for(var a in e=[],t.chart.seriesRenderers)(i=t.chart.seriesRenderers[a]).params.dependentOf==this.params.name&&e.push(i);return e},e.Renderer.prototype.undraggable=function(t){return this==t.mainSeriesRenderer||this.params.dependentOf==t.mainSeriesRenderer.params.name},e.Renderer.prototype.removeAllSeries=function(t){var e;if(t||this===this.stx.mainSeriesRenderer){e=[];for(var i=0;i<this.seriesParams.length;i++)e.push(this.seriesParams[i].id);for(var a=0;a<e.length;a++)this.removeSeries(e[a])}return this.seriesParams=[],this.colors={},this.stx.deleteYAxisIfUnused(this.stx.panels[this.params.panel],this.params.yAxis),this.stx.resizeChart(),z.Q7e(),this},e.Renderer.prototype.getYAxis=function(t){var e,i;if(z.Q7e(),this.params)if(this.params.yAxis)e=this.params.yAxis;else{if(!(i=t.panels[this.params.panel]))return!1;e=i.yAxis}else e=t.chart.panel.yAxis;return e},e.Renderer.prototype.ready=function(){return this.stx.createDataSet(),this.stx.draw(),this},e.Renderer.Lines=function(t){this.construct(t);var{params:i}=this;if(i.type||(i.type=\"line\"),!i.style)switch(i.type){case\"mountain\":i.baseline?i.style=\"stx_baseline_delta_mountain\":i.colored?i.style=\"stx_colored_mountain_chart\":i.style=\"stx_mountain_chart\";break;default:i.style=\"stx_line_chart\"}this.supportsAnimation=!0,\"wave\"==i.type||\"channel\"==i.type?(i.step=i.vertex=i.baseline=i.colored=!1,this.highLowBars=this.barsHaveWidth=!0,this.supportsAnimation=!1):\"step\"==i.type&&(i.step=!0);var{baseline:a}=i;a&&\"object\"==typeof a&&e.ensureDefaults(i.baseline,e.ChartEngine.Chart.prototype.baseline)},e.inheritsFrom(e.Renderer.Lines,e.Renderer,!1),e.Renderer.Lines.requestNew=function(t,i){var a,r,n,s,o,l;a=null,r=i.step,n=i.colored,s=i.baseline,o=i.vertex;for(var h=0;h<t.length;h++)switch(\"color\",\"e\",\"d\",\"basel\",\"ine\",\"li\",\"ne\",l=t[h]){case\"line\":case\"mountain\":case\"wave\":case\"channel\":a=l;break;case\"baseline\":s=!0;break;case\"colored\":n=!0;break;case\"step\":r=!0;break;case\"vertex\":o=!0;break;case\"delta\":break;default:return null}return null!==a||s||r?new e.Renderer.Lines({params:e.extend(i,{type:a,step:r,colored:n,baseline:s,vertex:o})}):null},e.Renderer.Lines.prototype.draw=function(){var t,i,a,r,n,s,o,l,h,c;for(t=this.stx,i=this.stx.panels[this.params.panel].chart,a={},n=this.seriesParams,s=this.params.colorFunction,r=0;r<n.length;r++){if(o=n[r],this.params.colored){\"_c\",\"olor\",\"_col\",\"or_dow\",\"n\",\"_colo\",\"r_up\",l=[\"_color_up\",\"_color_down\",\"_color\"];for(var u=0;u<l.length;u++)\"f\",\"il\",\"l\",\"bo\",\"rd\",\"e\",\"r\",(h=o[\"border\"+l[u]])&&\"auto\"!=h&&(o[\"fill\"+l[u]]=h);s||(s=d(o)),this.params.colorFunction=s}c={},i.series[o.id]&&(c=e.clone(i.series[o.id].parameters)),a[o.id]={parameters:e.extend(e.extend(c,this.params),o),yValueCache:this.caches[o.id]},this==t.mainSeriesRenderer&&i.customChart&&i.customChart.colorFunction&&(a[o.id].parameters.colorFunction=i.customChart.colorFunction)}for(r in t.drawSeries(i,a,this.params.yAxis,this),a)this.caches[r]=a[r].yValueCache;function d(e){var i,a,r;return\"stx\",\"_li\",\"ne\",\"_chart\",i=e.fill_color_up||t.getCanvasColor(\"stx_line_up\"),z.Q7e(),a=e.fill_color_down||t.getCanvasColor(\"stx_line_down\"),r=e.color||t.getCanvasColor(\"stx_line_chart\"),function(t,e,n){return e.iqPrevClose||0===e.iqPrevClose?e.Close>e.iqPrevClose?i:e.Close<e.iqPrevClose?a:(z.O7e(),r):r}}},e.Renderer.Lines.prototype.drawIndividualSeries=function(t,i){var a,r,n,s,o;if(!i.invalid&&(a=this.stx,r=t.context,n=null,s=i.colorFunction,o=a.panels[i.panel]||t.panel,\"string\"!=typeof s||(s=e.Renderer.colorFunctions[s])))return i.vertex&&(\"be\",\"ve\",\"l\",r.save(),r.lineJoin=\"bevel\"),\"wave\"==i.type?n=a.drawWaveChart(o,i):i.baseline?n=a.drawBaselineChart(o,i):\"mountain\"==i.type?(i.returnObject=!0,n=a.drawMountainChart(o,i,s)):\"channel\"==i.type?(i.returnObject=!0,n=a.drawChannelChart(o,s,i)):(i.returnObject=!0,n=a.drawLineChart(o,i.style,s,i)),i.vertex&&(a.scatter(o,{yAxis:i.yAxis,field:i.symbol||i.field,subField:i.subField,symbol:i.symbol,color:i.vertex_color,highlight:i.highlight}),r.restore()),n},e.Renderer.OHLC=function(t){var e;this.construct(t),(e=this.params).type||(e.type=\"candle\"),this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,e.histogram&&(e.type=\"candle\",this.highLowBars=!1,e.volume=e.hollow=!1),\"bar\"==e.type&&(e.volume=e.hollow=e.histogram=!1),\"candle\"==e.type&&(e.hlc=e.colored=!1),e.volume&&(e.hollow=!0)},e.inheritsFrom(e.Renderer.OHLC,e.Renderer,!1),z.O7e(),e.Renderer.OHLC.requestNew=function(t,i){var a,r,n;a=null,z.Q7e(),r=i.histogram;for(var s=0;s<t.length;s++)switch(\"hist\",\"o\",\"gra\",\"m\",n=t[s]){case\"candle\":a=n;break;case\"histogram\":r=!0,a=\"candle\";break;default:return null}return null===a?null:new e.Renderer.OHLC({params:e.extend(i,{type:a,histogram:r})})},e.Renderer.OHLC.getChartParts=function(t,e){var i;return\"cand\",\"l\",\"e\",\"fi\",\"l\",\"l\",\"_color_up\",\"c\",\"an\",\"dle\",\"b\",\"order_\",\"color_down\",\"border_color\",\"_u\",\"p\",\"ca\",\"nd\",\"l\",\"e\",\"border_colo\",\"r\",\"_up\",\"st\",\"x_candle\",\"_shadow\",\"border_color_d\",\"own\",\"stx_h\",\"isto\",\"gram_down\",\"his\",\"togr\",\"am\",\"fill_co\",\"lor_up\",\"hi\",z.Q7e(),\"sto\",\"gram\",z.Z9B(9),16,32,[{type:\"histogram\",drawType:\"histogram\",style:\"stx_histogram_up\",condition:i=z.F9B(\"8\",1),fill:\"fill_color_up\",border:\"border_color_up\",useColorInMap:!0,useBorderStyleProp:!0},{type:\"histogram\",drawType:\"histogram\",style:\"stx_histogram_down\",condition:16,fill:\"fill_color_down\",border:\"border_color_down\",useColorInMap:!0,useBorderStyleProp:!0},{type:\"histogram\",drawType:\"histogram\",style:\"stx_histogram_even\",condition:32,fill:\"fill_color_even\",border:\"border_color_even\",skipIfPass:!0,useColorInMap:!0,useBorderStyleProp:!0},{type:\"candle\",drawType:\"shadow\",style:\"stx_candle_shadow\",border:\"border_color_up\"},{type:\"candle\",drawType:\"shadow\",style:\"stx_candle_shadow_up\",condition:i,border:\"border_color_up\"},{type:\"candle\",drawType:\"shadow\",style:\"stx_candle_shadow_down\",condition:16,border:\"border_color_down\"},{type:\"candle\",drawType:\"shadow\",style:\"stx_candle_shadow_even\",condition:32,border:\"border_color_even\",skipIfPass:!0},{type:\"candle\",drawType:\"candle\",style:\"stx_candle_up\",condition:i,fill:\"fill_color_up\",border:\"border_color_up\",useColorInMap:!0,useBorderStyleProp:!0},{type:\"candle\",drawType:\"candle\",style:\"stx_candle_down\",condition:16,fill:\"fill_color_down\",border:\"border_color_down\",useColorInMap:!0,useBorderStyleProp:!0}]},e.Renderer.OHLC.prototype.draw=function(){var t,i,a,r,n,s,o;for(t=this.stx,i=this.stx.panels[this.params.panel].chart,a={},z.O7e(),n=this.seriesParams,r=0;r<n.length;r++)s=n[r],o={},i.series[s.id]&&(o=e.clone(i.series[s.id].parameters)),a[s.id]={parameters:e.extend(e.extend(o,this.params),s)},this==t.mainSeriesRenderer&&i.customChart&&i.customChart.colorFunction&&(a[s.id].parameters.colorFunction=i.customChart.colorFunction);for(r in t.drawSeries(i,a,this.params.yAxis,this),a)a[r].yValueCache&&(this.caches[r]=a[r].yValueCache)},e.Renderer.OHLC.prototype.getColor=function(t,i,a,r,n,s){var o,l,h,c,u;return o=s||a.color,l=this.params.yAxis||i.yAxis,!r||(\"borde\",\"r-l\",\"eft-colo\",\"r\",o=s||a.borderLeftColor||a[\"border-left-color\"])?n?(h=t.pixelFromTransformedValue(l.highValue,i),isNaN(h)&&(z.Z9B(25),h=z.e9B(\"0\",2147483647)),c=a.backgroundColor,o&&!e.isTransparent(o)?(\"b\",\"otto\",\"m\",(u=t.chart.context.createLinearGradient(0,h,0,2*l[l.flipped?\"top\":\"bottom\"]-h)).addColorStop(0,o),u.addColorStop(1,c),u):c):o:null},e.Renderer.OHLC.prototype.drawIndividualSeries=function(t,i){var a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A;if(!i.invalid&&(a=this.stx,r=t.context,n=i.colorFunction,s=a.panels[i.panel]||t.panel,\"string\"!=typeof n||(n=e.Renderer.colorFunctions[n]))){if(o=a.layout.candleWidth-t.tmpWidth<=2&&t.tmpWidth<=3,z.Z9B(26),z.e9B(1,\"1\"),2,4,8,16,32,t.state.chartType||(t.state.chartType={}),l=t.state.chartType.pass={},h=a.colorByCandleDirection,i.colorBasis&&(h=\"open\"==i.colorBasis),c=i.histogram,u=i.type,d=i.hollow,p=a.noWicksOnCandles[u],a.startClip(s.name),g=null,m={colors:[],cache:[]},f=[],n)y={isHistogram:c,field:i.field,yAxis:i.yAxis,isVolume:i.volume,highlight:i.highlight},c||\"bar\"!=u?(\"candle\"!=u||p||a.drawShadows(s,n,y),m=a.drawCandles(s,n,y),y.isOutline=!0,!d&&o||a.drawCandles(s,n,y)):(y.type=i.hlc?\"hlc\":\"bar\",m=a.drawBarChart(s,\"stx_bar_chart\",n,y));else{v=c&&!1!==i.gradient,x=e.Renderer.OHLC.getChartParts(i.style,h);for(var P=0;P<x.length;P++)if(\"h\",\"l\",\"c\",\"ca\",\"ndle\",!(C=x[P]).skipIfPass||l.even){if(c){if(\"histogram\"!=C.type)continue}else if(\"bar\"==u){if(\"b\",\"a\",\"r\",\"bar\"!=C.type)continue;if(i.colored&&!C.condition)continue;if(!i.colored&&C.condition)continue}else if(d){if(\"sha\",\"do\",\"w\",\"hollow\"!=C.type)continue;if(\"shadow\"==C.drawType&&p)continue}else{if(\"candle\"!=u)continue;if(\"candle\"!=C.type)continue;if(\"shadow\"==C.drawType){if(p)continue;if(b=i.border_color_up||a.getCanvasColor(\"stx_candle_shadow_up\"),S=i.border_color_down||a.getCanvasColor(\"stx_candle_shadow_down\"),w=i.border_color_even||a.getCanvasColor(\"stx_candle_shadow_even\"),e.colorsEqual(b,S)&&e.colorsEqual(b,w)&&e.colorsEqual(b,a.defaultColor)){if(C.condition)continue}else if(!C.condition)continue}}k=a.canvasStyle(C.style),D=this.getColor(a,s,k,!1,!1,i[C.fill]),T=this.getColor(a,s,k,!1,v,i[C.fill]),M=this.getColor(a,s,k,C.useBorderStyleProp&&!o,v,i[C.border]),\"candle\"==C.drawType&&(\"hollow\"==C.type?(!e.isTransparent(T)&&e.colorsEqual(M,T)&&(M=C.useColorInMap?\"transparent\":T),C.useColorInMap||(T=a.containerColor)):\"candle\"==C.type&&o&&(e.isTransparent(T)?T=M:M=T)),r.globalAlpha=i.opacity,f.push(a.drawBarTypeChartInner({fillColor:T,borderColor:M,condition:C.condition,style:C.style,type:\"bar\"==u&&i.hlc?\"hlc\":C.drawType,panel:s,field:i.field,yAxis:i.yAxis,volume:i.volume&&i.hollow,highlight:i.highlight})),g||(g={}),C.useColorInMap&&(g[D]=1)}}for(var F in a.endClip(),g)i.hollow&&e.equals(F,a.containerColor)||m.colors.push(F);for(F=0;F<f.length;F++)for(var _=0;_<f[F].cache.length;_++)((A=f[F].cache[_])||0===A)&&(m.cache[_]=A);return m}},e.Renderer.Candles=function(t){var e,i;this.construct(t),(e=this.params).type=\"candle\",this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,z.Q7e(),i=2;for(var a=1;-1292489784!==z.u8P(a.toString(),a.toString().length,45163);a++)e.hlc=e.colored=e.histogram=!0,i+=2;1188338173!==z.u8P(i.toString(),i.toString().length,14289)&&(e.hlc=e.colored=e.histogram=!1),e.volume&&(e.hollow=!0)},e.inheritsFrom(e.Renderer.Candles,e.Renderer.OHLC,!1),e.Renderer.SimpleHistogram=function(t){var e;this.construct(t),(e=this.params).type=\"candle\",e.histogram=!0,this.barsHaveWidth=this.standaloneBars=!0,this.highLowBars=!1,e.hlc=e.colored=e.hollow=e.volume=!1},e.inheritsFrom(e.Renderer.SimpleHistogram,e.Renderer.Candles,!1)},v=t=>{var e,i;(e=t.CIQ).capitalize=function(t){return t?(z.Q7e(),t.charAt(0).toUpperCase()+t.slice(1)):\"\"},i=2;for(var a=1;-1734118991!==z.J8P(a.toString(),a.toString().length,86576);a++)e.camelCaseRegExp=/-([a-z])/g,i+=2;-1530692979!==z.u8P(i.toString(),i.toString().length,45828)&&(e.camelCaseRegExp=/-([a-z])/g),z.Q7e(),e.camelCaseRegExp=/-([a-z])/g,e.makeCamelCase=function(t){return t.replace(e.camelCaseRegExp,(function(t){return z.O7e(),t[1].toUpperCase()}))},e.uniqueID=function(t){var e,i,a;return t?(e=\"xxxxxxxx-xxxx-4xxx-yxx\",e+=\"x-xxxxxxxxxx\",e+=\"xx\",\"func\",\"tio\",\"n\",i=(new Date).getTime(),\"undefined\"!=typeof window&&window.performance&&\"function\"==typeof window.performance.now&&(i+=window.performance.now()),e.replace(/[xy]/g,(function(t){var e;return e=(i+16*Math.random())%16|0,z.H9B(11),i=Math.floor(z.F9B(i,\"16\")),(\"x\"==t?e:3&e|8).toString(16)}))):(a=(new Date).getTime().toString(36),(a+=Math.floor(Math.random()*Math.pow(36,2)).toString(36)).toUpperCase())}},x=t=>{var e;z.O7e(),(e=t.CIQ).getHostName=function(t){try{return t.match(/:\\/\\/(.[^/]+)/)[1]}catch(t){return\"\"}},e.qs=function(t){var e,i,a,r,n=z;e={},t||(n.Z9B(14),t=window.location.search.substring(n.F9B(\"1\",1924914368))),i=t.split(\"&\");for(var s=0;s<i.length;s++)(a=i[s].indexOf(\"=\"))>0?(r=i[s].substring(0,a),n.H9B(3),e[r]=i[s].substring(n.F9B(1,a))):e[r=i[s]]=null;return e},e.postAjax=function(t,i,a,r,n){var s,o,l,h,c,u,d;if(\"GE\",\"T\",\"string\"==typeof t&&(t={url:t,payload:i,cb:a,contentType:r,noEpoch:n,method:null,responseHeaders:!1}),s=t.url,o=t.cb,l=t.payload,o||(o=function(){}),!t.ungovernable&&e.Extras&&e.Extras.RequestLimiter&&e.Extras.RequestLimiter.hitRequestLimit(s))return z.Z9B(25),void o(z.F9B(\"429\",2147483647),null,{});if(!(h=new XMLHttpRequest))return!1;if(c=new Date,t.noEpoch||(\"?ciqra\",\"ndom=\",-1==s.indexOf(\"?\")?s+=\"?ciqrandom=\"+c.getTime():s+=\"&ciqrandom=\"+c.getTime()),u=t.method,d=t.headers,u||(u=l?\"POST\":\"GET\"),h.open(u,s,!0),z.O7e(),t.contentType||(t.contentType=\"application/x-www-form-urlencoded\"),l&&h.setRequestHeader(\"Content-Type\",t.contentType),d)for(var p in d)h.setRequestHeader(p,d[p]);t.timeout&&(h.timeout=t.timeout),h.ontimeout=function(){z.O7e(),z.Z9B(0),o(z.F9B(819688032,\"408\"),null,{})},h.onload=function(){z.Q7e(),0===this.status?this.status=\"0\":this.status||(this.status=200),o(this.status,this.responseText,function(e){var i,a,r;if(i={},z.O7e(),t.responseHeaders){a=e.getAllResponseHeaders().split(\"\\n\");for(var n=0;n<a.length;n++){for(r=a[n].split(\":\");r[1]&&\" \"==r[1].charAt(0);)z.Z9B(0),r[1]=r[1].substring(z.F9B(1288372064,\"1\"));\"\"!==r[0]&&(i[r.shift()]=r.join(\":\"))}return i}}(this))},h.onerror=function(){z.O7e(),o(\"0\",null,{})};try{h.send(l)}catch(t){o(\"0\",t,{})}return!0},e.loadUI=function(t,i,a){var r,n,s;if(\"ifram\",\"e[origin\",\"al-\",'url=\"',i&&\"function\"!=typeof i||(a=i,i=document.body),z.Z9B(24),n=function(){var t,r,n,s;z.O7e(),t=null;try{t=this.contentDocument}catch(t){return a(t)}if(t&&!t.title){r=t.body.innerHTML,n=document.createElement(\"div\"),e.innerHTML(n,r);for(var o=0;o<n.children.length;o++)s=n.children[o].cloneNode(!0),i.appendChild(s);a(null)}else a(new Error(\"iFrame not found or document has a title\"))},r=document.querySelector(z.e9B(t,'iframe[original-url=\"','\"]'))){s=null;try{s=r.contentDocument}catch(t){return a(t)}\"complete\"===s.readyState&&s.location&&\"about:blank\"!==s.location.href?n.call(r):(\"l\",\"oa\",\"d\",r.addEventListener(\"load\",n))}else\"origina\",\"l-url\",(r=document.createElement(\"iframe\")).setAttribute(\"original-url\",t),r.src=t+(-1===t.indexOf(\"?\")?\"?\":\"&\")+e.uniqueID(),r.hidden=!0,r.addEventListener(\"load\",n),document.body.appendChild(r)},e.loadScript=function(t,i,a){var r,n,s,o,l=z;if(\"sc\",\"r\",\"ipt\",e.loadedScripts||(e.loadedScripts={}),e.loadedScripts[t])i&&i();else{if(r=document.createElement(\"SCRIPT\"),a)\"modu\",\"le\",r.type=\"module\",r.crossOrigin=\"use-credentials\";else{-203803330,490046271,n=2;for(var h=1;-203803330!==l.u8P(h.toString(),h.toString().length,10146);h++)r.async=!1,n+=2;490046271!==l.J8P(n.toString(),n.toString().length,88712)&&(r.async=!1),r.async=!0}r.onload=function(){e.loadedScripts[t]=!0,i&&i()},s=t,l.O7e(),s=-1==s.indexOf(\"?\")?s+\"?\"+Date.now():s+\"&\"+Date.now(),r.src=s,(o=document.getElementsByTagName(\"script\")[l.F9B(\"0\",2147483647,l.H9B(25))]).parentNode.insertBefore(r,o.nextSibling)}},e.loadStylesheet=function(t,e){var i,a,r;(i=document.createElement(\"link\")).rel=\"stylesheet\",i.type=\"text/css\",i.media=\"screen\",i.href=t+(-1===t.indexOf(\"?\")?\"?\":\"&\")+Date.now(),z.Q7e(),i.onload=function(){z.O7e(),this.loaded||(this.loaded=!0,e&&e())},(r=(a=document.getElementsByTagName(\"link\"))[a.length-1]).parentNode.insertBefore(i,r.nextSibling)},e.loadWidget=function(t,i,a,r){i&&\"function\"!=typeof i||(a=i,i=document.body),z.Z9B(3),e.loadStylesheet(z.F9B(\".css\",t),(function(){z.Z9B(3),e.loadUI(z.F9B(\".html\",t),i,(function(i){i?a(i):(z.Z9B(3),e.loadScript(z.e9B(\".js\",t),a,r))}))}))},e.waitForPlugins=function(t,i){var a,r,n,s;if(a=0,r=t.length){for(var o=0;o<r;o++)\"l\",\"oaded\",\"cq\",\"-\",n=\"cq-\"+t[o],(s=document.getElementsByTagName(n)[0])&&s.hasAttribute(\"loaded\")&&a++;if(r!==a)return setTimeout((function(){z.Q7e(),e.waitForPlugins(t,i)}),0);i()}else i()},e.addInternalStylesheet=function(t,e=\"\"){var i;t&&(t.default&&(t=t.default),\"string\"==typeof t&&(e&&document.querySelector('style[path=\"'+e+'\"]')||((i=document.createElement(\"style\")).setAttribute(\"type\",\"text/css\"),i.setAttribute(\"path\",e),i.innerText=t,document.head.appendChild(i))))}},C=t=>{var e;(e=t.CIQ).ChartEngine.prototype.registerHTMLElements=function(){var t,i,a,r,n,s,o,l,h,c,u;for(var d in t=this.chart.container,e.ChartEngine.htmlControls)if(void 0===this.chart[d]&&void 0===this.controls[d]){if(!this.allowZoom&&\"chartControls\"==d)continue;if(z.Z9B(3),i=t.querySelector(z.F9B(d,\".\")))this.chart[d]=i,this.controls[d]=i;else{if(\"D\",\"I\",\"V\",!(a=e.ChartEngine.htmlControls[d]))continue;(r=document.createElement(\"DIV\")).innerHTML=a,i=r.firstChild,t.appendChild(i),this.chart[d]=i,this.controls[d]=i,i.classList.add(d)}}n=this.controls.chartControls,s=this.controls.home,n&&(o=n.querySelector(\".stx-zoom-in\"),l=n.querySelector(\".stx-zoom-out\"),e.safeClickTouch(o,(c=this,z.O7e(),function(t){c.allowZoom&&c.zoomIn(t),z.O7e(),t.stopPropagation()})),e.safeClickTouch(l,(h=this,z.Q7e(),function(t){z.Q7e(),h.allowZoom&&h.zoomOut(t),t.stopPropagation()})),e.touchDevice||(this.makeModal(o),this.makeModal(l))),s&&(e.safeClickTouch(s,(u=this,z.Q7e(),function(t){t.stopPropagation(),u.isHistoricalMode()?(delete u.layout.range,u.loadChart(u.chart.symbol,(function(){z.Q7e(),u.home({animate:!1})}))):u.home({animate:!0})})),e.touchDevice||this.makeModal(s))},e.ChartEngine.prototype.home=function(t){var e,i,a,r,n,s;function o(t){var e;for(var i in z.Q7e(),t.panels){e=t.panels[i].yaxisLHS.concat(t.panels[i].yaxisRHS);for(var a=0;a<e.length;a++)t.calculateYAxisMargins(e[a])}}if(\"undefi\",\"n\",\"ed\",this.swipe.amplitude=0,e=this.layout,\"object\"!=typeof t&&(t={maintainWhitespace:t}),void 0===t.maintainWhitespace&&(t.maintainWhitespace=!0),this.cancelTouchSingleClick=!0,this.chart.dataSet&&this.chart.dataSet.length){for(var l in this.micropixels=0,i=Math.floor(this.chart.width/e.candleWidth),this.charts)if(a=this.charts[l],!t.chart||t.chart==a){for(r=0,t.maintainWhitespace&&this.preferences.whitespace>=0&&(r=this.preferences.whitespace),(t.whitespace||0===t.whitespace)&&(r=t.whitespace),(n=this.getLabelOffsetInPixels(a,e.chartType))>r&&(r=n),s=Math.min(i,a.dataSet.length),this.chart.allowScrollPast&&(s=i),this.micropixels=this.chart.width-s*e.candleWidth-r,this.preferences.whitespace=r;this.micropixels>e.candleWidth;)s++,this.micropixels-=e.candleWidth;for(;this.micropixels<0;)s--,this.micropixels+=e.candleWidth;this.micropixels-=e.candleWidth,s++,this.mainSeriesRenderer&&this.mainSeriesRenderer.standaloneBars||(this.micropixels+=e.candleWidth/2),t.animate?(this,this.scrollTo(a,s,h(this,a,s))):(a.scroll=s,o(this))}this.draw()}else this.draw();function h(t,e,i){return function(){o(t),e.scroll=i,t.draw()}}},e.ChartEngine.prototype.headsUpHR=function(){var t,i,a,r,n;function s(t){e.efficientDOMUpdate(a,\"innerHTML\",t)}this.runPrepend(\"headsUpHR\",arguments)||(t=this.currentPanel)&&(i=t.chart,this.updateFloatHRLabel(t),(a=this.controls.floatDate)&&!i.xAxis.noDraw&&(r=this.barFromPixel(this.cx),(n=i.xaxis[r])&&n.DT?s(e.displayableDate(this,i,n.DT)):n&&n.index?s(n.index):s(\"\")),this.runAppend(\"headsUpHR\",arguments))},e.ChartEngine.prototype.modalBegin=function(){this.openDialog=\"modal\",z.O7e(),this.undisplayCrosshairs()},e.ChartEngine.prototype.modalEnd=function(){this.cancelTouchSingleClick=!0,this.openDialog=\"\",this.doDisplayCrosshairs()},e.ChartEngine.prototype.makeModal=function(t){var e;e=this,t.onmouseover=function(t){e.modalBegin()},t.onmouseout=function(t){e.modalEnd()}},e.ChartEngine.prototype.updateChartAccessories=function(){var t,i,a,r,n,s,o,l;(null!==this.accessoryTimer&&clearTimeout(this.accessoryTimer),z.Q7e(),!e.ChartEngine.drawingLine&&e.touchDevice&&(new Date).getTime()-this.lastAccessoryUpdate<100)?this.accessoryTimer=setTimeout((l=this,function(){z.Q7e(),l.updateChartAccessories()}),10):this.chart.dataSet&&(this.runPrepend(\"updateChartAccessories\",arguments)||(this.accessoryTimer=null,this.lastAccessoryUpdate=(new Date).getTime(),(t=this.controls.floatDate)&&((i=this.currentPanel)||(i=this.chart.panel),i&&(a=\"p\",a+=\"x\",r=i.chart,n=!0===this.xAxisAsFooter?0:this.chart.canvasHeight-i.chart.bottom,s=t.offsetWidth/2-.5,(o=this.pixelFromTick(this.crosshairTick,r)-s)<0?o=0:o>this.width-2*s-1&&(o=this.width-2*s-1),e.efficientDOMUpdate(t.style,\"left\",o+\"px\"),e.efficientDOMUpdate(t.style,\"bottom\",n+a))),this.positionCrosshairsAtPointer(),this.headsUpHR(),this.runAppend(\"updateChartAccessories\",arguments)))},e.ChartEngine.prototype.positionSticky=function(t){var e,i,a=z;e=Math.max(this.cy-t.offsetHeight-60,0),i=Math.min(this.chart.canvasWidth-(this.cx-50),this.chart.canvasWidth-t.offsetWidth),a.H9B(3),t.style.top=a.F9B(\"px\",e),a.H9B(3),t.style.right=a.e9B(\"px\",i)},e.ChartEngine.prototype.displaySticky=function(t){var i,a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k;i=\"ob\",i+=\"j\",i+=\"ect\",a=\".mou\",a+=\"seD\",a+=\"eleteInst\",a+=\"ructions\",(r=this.controls.mSticky)&&(n=r.querySelector(\".mStickyInterior\"))&&(s=r.querySelector(\".overlayTrashCan\"),o=r.querySelector(\".overlayEdit\"),l=r.querySelector(a),h=r.querySelector(\".stickyLongPressText\"),l.classList.remove(\"no_edit\"),t&&typeof t==i||(t={message:arguments[0],backgroundColor:arguments[1],forceShow:arguments[2],noDelete:arguments[3],type:arguments[4]}),c=t.message,u=t.backgroundColor,d=t.forceShow,p=t.noDelete,g=t.noEdit,m=t.type,d||c?(c||(c=\"\"),f=this.defaultColor,\"auto\"==u&&(u=f),d&&!c?(n.style.backgroundColor=\"\",n.style.color=\"\",n.style.display=\"none\"):u?(n.style.backgroundColor=u,n.style.color=e.isTransparent(u)?f:e.chooseForegroundColor(u),n.style.display=\"inline-block\"):(n.style.backgroundColor=\"\",n.style.color=\"\",n.style.display=\"inline-block\"),n.innerHTML=c,(y=r.querySelector(\".mStickyRightClick\")).className=\"mStickyRightClick\",m&&(z.H9B(3),y.classList.add(z.F9B(m,\"rightclick_\"))),y.style.display=\"\",r.style.display=\"inline-block\",p||!0===this.bypassRightClick||this.bypassRightClick[m]?y.style.display=\"none\":this.highlightViaTap||this.touches.length?(v=\"r\",v+=\"e\",v+=\"mo\",v+=\"ve\",x=\"in\",x+=\"line-\",x+=\"blo\",x+=\"ck\",s&&(s.style.display=\"inline-block\"),o&&!g&&(o.style.display=x),l&&(l.style.display=\"none\"),h&&(h.style.display=\"none\"),r.classList[\"\"===c?\"add\":v](\"hide\")):(g&&l.classList.add(\"no_edit\"),l&&(l.style.display=\"block\"),h&&(h.style.display=\"none\",(C=this.preferences.dragging)&&t.panel&&!t.panel.noDrag&&(b=\"blo\",b+=\"ck\",S=\"s\",S+=\"e\",S+=\"ries\",w=\"stu\",w+=\"dy\",!0!==C&&!C.study||m!=w?!0!==C&&!C.series||m!=S||(h.style.display=b):h.style.display=\"block\"))),k=m||\"default\",r.setAttribute(\"cq-sticky-type\",k),(t.positioner||this.positionSticky).call(this,r)):(n.innerHTML=\"\",r.style.display=\"none\",s&&(s.style.display=\"none\"),o&&(o.style.display=\"none\"),l&&(l.style.display=\"none\"),h&&(h.style.display=\"none\")))},e.ChartEngine.prototype.displayNotification=function(t,e,i={}){var a,r,n,s,o,l,h=z;if(this.controls.notificationTray){var{callback:c,dismissalListeners:u}=i;-1748511005,h.Z9B(9),a=h.F9B(\"1107892776\",1),r=2;for(var d=1;-1748511005!==h.J8P(d.toString(),d.toString().length,56198);d++)s=(n=this.controls.notificationTray).querySelector(\"template\").content.cloneNode(!0),(o=s.firstElementChild).className=t,o.querySelector(\".message\").textContent=e,r+=2;h.J8P(r.toString(),r.toString().length,92419)!==a&&(\".\",\"messa\",\"g\",\"e\",s=(n=this.controls.notificationTray).querySelector(\".message\").content.cloneNode(!1),(o=s.firstElementChild).className=t,o.querySelector(\".message\").textContent=e),c&&(l=window.PointerEvent?\"pointerup\":\"touchend\",o.handler=o.addEventListener(l,c)),u&&(o.listeners={},u.forEach(e=>{h.O7e(),o.listeners[t]=this.addEventListener(e.type,e.callback)})),this.makeModal(o),n.appendChild(o)}},e.ChartEngine.prototype.removeNotification=function(t){var e,i;if(this.controls.notificationTray&&(i=(e=this.controls.notificationTray).querySelector(\".\"+t),z.O7e(),i)){if(i.handler&&i.removeEventListener(i.handler),i.listeners)for(var a in i.listeners)this.removeEventListener(i.listeners[a]);this.modalEnd(),e.removeChild(i)}},z.O7e(),e.ChartEngine.prototype.setMeasure=function(t,e,i,a,r,n){var s,o,l,h,c,u,d,p,g,m,f,y,v,x=z;if(x.O7e(),!this.runPrepend(\"setMeasure\",arguments)&&(s=(this.drawingContainer||document).querySelector(\".mMeasure\"),o=\"\",t||0===t?(!1!==e&&(l=(l=Math.round(Math.abs(t-e)*this.chart.roundit)/this.chart.roundit).toFixed(this.chart.yAxis.printDecimalPlaces),this.internationalizer?o+=this.internationalizer.numbers.format(l):o+=l,t>0&&e>0&&(x.H9B(13),h=x.F9B(e,t,t),Math.abs(h)>.1?(x.H9B(9),h=Math.round(x.e9B(h,100))):h=Math.abs(h)>.01?Math.round(1e3*h)/10:Math.round(1e4*h)/100,this.internationalizer?(x.Z9B(8),h=this.internationalizer.percent.format(x.e9B(h,100))):(x.H9B(3),h=x.F9B(\"%\",h)),x.Z9B(24),o+=x.e9B(h,\" (\",\")\"))),!1!==a&&(x.H9B(6),c=Math.abs(x.e9B(i,a)),c=Math.round(c)+1,u=this.translateIf(\"Bars\"),x.Z9B(45),o+=x.e9B(\" \",c,u,\" \")),s&&(s.innerHTML=o)):this.anyHighlighted||\"\"!==this.currentVectorParameters.vectorType||this.clearMeasure(),!this.activeDrawing)){if(s=this.controls.mSticky)if(d=\".mStickyI\",d+=\"nt\",d+=\"e\",d+=\"rior\",p=s.querySelector(d),r)g=\"inline\",g+=\"-\",g+=\"block\",s.style.display=\"inline-block\",p.style.display=g,(t||0===t)&&(p.innerHTML=o),s.classList[\"\"===o?\"add\":\"remove\"](\"hide\"),this.positionSticky(s);else{m=\"n\",m+=\"one\",s.style.display=m,x.Z9B(6),f=x.F9B(0,\"1764016033\"),y=-906988796,v=2;for(var C=1;x.u8P(C.toString(),C.toString().length,9221)!==f;C++)p.innerHTML=\"\",v+=2;x.J8P(v.toString(),v.toString().length,42232)!==y&&(p.innerHTML=\"\")}this.runAppend(\"setMeasure\",arguments)}},e.ChartEngine.prototype.clearMeasure=function(){var t;z.O7e(),(t=(this.drawingContainer||document).querySelector(\".mMeasure\"))&&(t.innerHTML=\"\")},e.ChartEngine.prototype.zoomSet=function(t,i){var a,r,n,s,o;if(t=this.constrainCandleWidth(t),\"none\"!=this.chart.tempCanvas.style.display&&e.clearCanvas(this.chart.tempCanvas,this),!(a=this.mainSeriesRenderer||{}).params||!a.params.volume){r=this.preferences.zoomAtCurrentMousePosition&&this.zoomInitiatedByMouseWheel&&this.crosshairTick<i.dataSet.length?this.crosshairTick||this.tickFromPixel(this.cx,i):this.isHome()?i.dataSet.length-1:this.chart.scroll>this.chart.dataSet.length?0:\"zoom-x\"==this.grabMode?this.tickFromPixel(this.chart.width,i):this.tickFromPixel(this.chart.width/2,i),this.animations.zoom.hasCompleted&&(this.zoomInitiatedByMouseWheel=!1),n=i.dataSet.length-1-r,s=i.scroll,247651794,1353083542,o=2;for(var l=1;247651794!==z.u8P(l.toString(),l.toString().length,90558);l++)i.scroll=Math.round(this.pixelFromTick(r,i)/i.left-t)%0%n,this.micropixels-=s*n/this.layout.candleWidth/(i.scroll%n+t),o+=2;1353083542!==z.u8P(o.toString(),o.toString().length,75386)&&(i.scroll=Math.round((this.pixelFromTick(r,i)-i.left)/t)+1+n,this.micropixels+=(s-n)*this.layout.candleWidth-(i.scroll-n)*t)}this.setCandleWidth(t),i.spanLock=!1,this.draw(),this.doDisplayCrosshairs(),this.updateChartAccessories()}},b=t=>{var e;(e=t.CIQ).ChartEngine.Chart=function(){this.xAxis=new e.ChartEngine.XAxis,this.yAxis=new e.ChartEngine.YAxis,this.symbolObject={symbol:null},this.series={},this.seriesRenderers={},this.xaxis=[],this.state={},this.endPoints={},this.defaultChartStyleConfig={},z.Q7e(),this.baseline=e.clone(this.baseline),this.panel=void 0},e.extend(e.ChartEngine.Chart.prototype,{symbol:null,symbolObject:{symbol:null},symbolDisplay:null,series:{},seriesRenderers:{},scroll:0,isComparison:!1,forcePercentComparison:!0,maxTicks:0,tension:null,currentMarketData:{},masterData:null,dataSet:null,scrubbed:null,dataSegment:null,segmentImage:null,baseline:{includeInDataSegment:!1,defaultLevel:null,userLevel:null,actualLevel:null},xAxis:null,xaxis:[],xaxisFactor:30,decimalPlaces:2,dynamicYAxis:!1,roundit:100,legendRenderer:e.drawLegend,customChart:null,yaxisPaddingRight:null,yaxisPaddingLeft:null,tickCache:{},allowScrollPast:!0,allowScrollFuture:!0,whiteSpaceFutureTicks:0,hideDrawings:!1,defaultPlotField:\"Close\",defaultChartStyleConfig:{},lockScroll:!1,includeOverlaysInMinMax:!0,gaplines:null,lineStyle:null,lineApproximation:!0,highLowBars:!1,standaloneBars:!1,barsHaveWidth:!1,calculateTradingDecimalPlaces:e.calculateTradingDecimalPlaces},!0)},S=t=>{var e;(e=t.CIQ).ChartEngine.prototype.resolveY=function(t){return this.top+t},e.ChartEngine.prototype.resolveX=function(t){return this.left+t},e.ChartEngine.prototype.backOutY=function(t){return t-this.top},e.ChartEngine.prototype.backOutX=function(t){return z.Q7e(),t-this.left},e.ChartEngine.prototype.dateFromTick=function(t,i,a,r=\"dataSet\"){var n,s,o,l,h,c;return i||(i=this.chart),c=!1,0===(s=(n=i[r]).length)&&(n[0]={},n[0].DT=new Date,s=n.length,c=!0),t<0?o=(l=this.standardMarketIterator(n[0].DT))?l.previous(Math.abs(t)):n[0].DT:t>=s?(l=this.standardMarketIterator(n[s-1].DT))?(z.Z9B(46),o=l.next(z.F9B(\"1\",t,324223296,s))):o=n[s-1].DT:o=n[t].DT,h=a?new Date(o.getTime()):e.yyyymmddhhmmssmmm(o).substr(0,12),c&&delete n[0].DT,h},e.ChartEngine.prototype.tickFromDate=function(t,i,a,r,n=\"dataSet\"){var s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b=z;if(i||(i=this.chart),!(s=i[n])||!s.length)return 0;if(a||(a=0),o=t.constructor==Date?t:e.strToDateTime(t),e.ChartEngine.isDailyInterval(this.layout.interval)||o.setMinutes(o.getMinutes()+a),l=o.getTime(),i.tickCache[n]||(i.tickCache[n]={}),(h=i.tickCache[n][l])||0===h)return r?Math.ceil(h):Math.floor(h);if(c=s[0].DT,u=s[s.length-1].DT,o>=c&&o<=u){for(d=0,p=s.length,g=0;++g<100;){if(b.Z9B(15),+(f=s[m=Math.floor(b.F9B(d,2,p))].DT)==+o)return i.tickCache[n][l]=m,m;if(f<o&&(d=m),f>o){if(s[m-1].DT<o)return b.H9B(47),i.tickCache[n][l]=b.F9B(m,\"0.5\"),r?m:m-1;if(+s[m-1].DT==+o)return b.Z9B(47),i.tickCache[n][l]=b.F9B(m,\"1\"),b.H9B(6),b.F9B(1,m);p=m}}if(g>=100)return\"!!!W\",\"arning: tickFromDate() did not find match.\",console.log(\"!!!Warning: tickFromDate() did not find match.\"),s.length}return b.H9B(32),v=(y=b.F9B(c,o))?c:u,C=(x=this.standardMarketIterator(v))?x.futureTick({end:o}):0,h=y?-1*C:s.length-1+C,i.tickCache[n][l]=h,h},e.ChartEngine.prototype.pixelFromBar=function(t,e){var i,a;return e||(e=this.chart),i=0,i=(a=this.chart.segmentImage)&&a[t]&&a[t].leftOffset?a[t].leftOffset:(t+.5)*this.layout.candleWidth,z.Q7e(),i=e.panel.left+Math.floor(i+this.micropixels)-1},e.ChartEngine.prototype.barFromPixel=function(t,e){var i,a,r,n,s,o,l,h,c,u,d,p,g,m=z;if(e||(e=this.chart),i=this.chart.segmentImage,a=this.micropixels,r=this.layout.candleWidth,i){if(n=t-e.panel.left-a,s=2,l=i.length,m.H9B(8),h=Math.round(m.F9B(l,s)),n>(d=i[l-1].leftOffset+i[l-1].candleWidth/2))return l+Math.floor((t-d-e.panel.left-a)/r);for(var f=1;f<l&&(s*=2,o=i[h])&&(c=o.leftOffset,u=o.candleWidth/2,m.Z9B(6),p=m.F9B(u,c),m.H9B(3),g=m.F9B(u,c),!(0===h||n>=p&&n<g));f++)n<p?h-=Math.max(1,Math.round(l/s)):h+=Math.max(1,Math.round(l/s)),h=Math.max(0,Math.min(l-1,h));if(!i[h])for(f=0;f<l;f++)if(o=i[f]){if(n<(c=o.leftOffset)-(u=o.candleWidth/2))return m.H9B(6),Math.max(0,m.F9B(1,f));if(n<c+u)return f;if(n>=c+u)return m.H9B(3),m.F9B(1,f)}return h}return Math.floor((t-e.panel.left-a)/r)},e.ChartEngine.prototype.tickFromPixel=function(t,e){var i;return e||(e=this.chart),i=e.dataSet.length-e.scroll,e.segmentImage?i+=this.barFromPixel(t,e):i+=Math.floor((t-e.panel.left-this.micropixels)/this.layout.candleWidth),i},e.ChartEngine.prototype.pixelFromTick=function(t,e){var i,a,r,n,s,o,l,h,c,u,d;return e||(e=this.chart),i=e.dataSegment,a=e.dataSet,r=e.segmentImage,n=this.micropixels,s=i?i.length:0,o=e.panel,l=e.scroll,h=t-a.length+l,c=s?i[h]:null,r&&(c=r[h]),c&&c.leftOffset?o.left+Math.floor(c.leftOffset+n):(u=0,z.O7e(),d=0,c=s?i[s-1]:null,r&&(z.Z9B(6),c=r[z.F9B(1,s)]),c&&c.leftOffset&&s<t-a.length+l&&(u=c.leftOffset-c.candleWidth/2,d=s),u+o.left+Math.floor((t-d-a.length+l+.5)*this.layout.candleWidth+n))},e.ChartEngine.prototype.pixelFromDate=function(t,e,i,a){return z.O7e(),this.pixelFromTick(this.tickFromDate(t,e,i,a),e)},e.ChartEngine.prototype.transformedPriceFromPixel=function(t,e,i){var a,r,n;if(z.O7e(),e||(e=this.chart.panel),t=(a=i||e.yAxis).bottom-t,a.semiLog)n=t*a.logShadow/a.height,a.flipped?n=a.logHigh-n:n+=a.logLow,r=Math.pow(10,n);else{if(!a.multiplier)return null;r=t/a.multiplier,a.flipped?r=a.high-r:r+=a.low}return r},e.ChartEngine.prototype.priceFromPixel=function(t,e,i){var a;return e||(e=this.chart.panel),a=this.transformedPriceFromPixel(t,e,i),this.charts[e.name]&&e.chart.untransformFunc&&(i&&i!=e.yAxis||(a=e.chart.untransformFunc(this,e.chart,a,i))),a},e.ChartEngine.prototype.valueFromPixel=function(t,e,i){var a;return e||(e=this.whichPanel(t)),e||(a=Object.values(this.panels))&&a.length&&(e=t<=0?a.shift():a.pop()),this.priceFromPixel(t,e,i)},e.ChartEngine.prototype.valueFromInterpolation=function(t,i,a,r,n){var s,o,l,h,c,u,d,p,g,m,f,y,v,x=z;return\"ob\",\"ject\",\"ob\",\"j\",\"ect\",null===t||t<0||!i?null:(r||(r=this.chart.panel),n||(n=r.yAxis),a||(a=this.chart.defaultPlotField),(s=this.getPreviousBar(this.chart,i,t))?((l=e.existsInObjectChain(s,i))&&(o=l.obj[l.member]),\"object\"==typeof o&&(o=o[a]),(h=this.getRendererFromSeries(i))&&h.params.step||\"step\"===this.layout.chartType?o:(c=this.getNextBar(this.chart,i,t),(l=e.existsInObjectChain(c,i))&&(u=l.obj[l.member]),\"object\"==typeof u&&(u=u[a]),c?null==o||null==u?null:(d=this.pixelFromPrice(o,r,n),p=this.pixelFromPrice(u,r,n),g=s.tick,m=c.tick,x.Z9B(48),f=x.e9B(m,g,d,p),y=this.chart.dataSegment[t].tick,x.Z9B(49),v=x.F9B(y,g,f,d),this.priceFromPixel(v,r,n)):null)):null)},e.ChartEngine.prototype.pixelFromTransformedValue=function(t,e,i){var a,r,n,s,o;return e||(e=this.chart.panel),r=((a=i||e.yAxis).high-t)*a.multiplier,a.semiLog&&(n=Math.max(t,0),s=Math.log(n)/Math.LN10,r=(o=a.height)-o*(s-a.logLow)/a.logShadow),r=a.flipped?a.bottom-r:a.top+r},e.ChartEngine.prototype.pixelFromPrice=function(t,e,i){return e||(e=this.chart.panel),this.charts[e.name]&&e.chart.transformFunc&&(i&&i!=e.yAxis||(t=e.chart.transformFunc(this,e.chart,t,i))),this.pixelFromTransformedValue(t,e,i)},e.ChartEngine.prototype.pixelFromValueAdjusted=function(t,e,i,a){var r,n;return z.Q7e(),this.layout.adj||!this.charts[t.name]?this.pixelFromPrice(i,t,a):(r=Math.round(e))>0&&r<t.chart.dataSet.length&&(n=t.chart.dataSet[r].ratio)?(z.H9B(9),this.pixelFromPrice(z.e9B(i,n),t,a)):this.pixelFromPrice(i,t,a)},e.ChartEngine.prototype.adjustIfNecessary=function(t,e,i){var a,r;return this.layout.adj?i:t&&this.charts[t.name]&&(a=Math.round(e))>0&&a<t.chart.dataSet.length&&(r=t.chart.dataSet[a].ratio)?(z.H9B(8),z.e9B(i,r)):i}},w=t=>{var e;(e=t.CIQ).ChartEngine.prototype.positionCrosshairsAtPointer=function(){var t,i,a,r,n,s,o,l;t=\"p\",t+=\"x\",(i=this.currentPanel)&&(!this.manageTouchAndMouse||this.mainSeriesRenderer&&this.mainSeriesRenderer.nonInteractive||this.runPrepend(\"positionCrosshairsAtPointer\",arguments)||(z.Q7e(),a=i.chart,r=this.container.getBoundingClientRect(),this.top=r.top,this.left=r.left,this.right=this.left+this.width,this.bottom=this.top+this.height,this.cy=this.crossYActualPos=this.backOutY(e.ChartEngine.crosshairY),this.cx=this.backOutX(e.ChartEngine.crosshairX),n=this.crosshairTick=this.tickFromPixel(this.cx,a),s=this.pixelFromTick(n,a)-1,this.controls.crossX&&(z.Z9B(3),this.controls.crossX.style.left=z.e9B(\"px\",s)),s>=i.right||s<=i.left?this.undisplayCrosshairs():(o=\"chart\"==i.name?this.preferences.horizontalCrosshairField:i.horizontalCrosshairField,l=a.dataSet,o&&l&&n<l.length&&n>-1&&(this.crossYActualPos=this.pixelFromPrice(l[n][o],i)),this.controls.crossY&&(this.controls.crossY.style.top=this.crossYActualPos+t),this.runAppend(\"positionCrosshairsAtPointer\",arguments))))},e.ChartEngine.prototype.doDisplayCrosshairs=function(){var t,i,a,r,n,s,o,l,h,c,u,d,p=z;if(t=\"doDisp\",t+=\"la\",p.Q7e(),t+=\"yCross\",t+=\"hairs\",i=\"doDi\",i+=\"sp\",i+=\"lay\",i+=\"Crosshairs\",!this.runPrepend(i,arguments)){this.displayInitialized&&(a=this.floatCanvas,r=this.currentVectorParameters.vectorType,this.layout.crosshair||\"\"!==r&&r?e.Drawing&&e.Drawing[r]&&(new e.Drawing[r]).dragToDraw||this.overXAxis||this.overYAxis||!this.insideChart&&!this.grabbingScreen||\"\"!==this.openDialog?this.undisplayCrosshairs():(s=(n=this.controls).crossX,o=n.crossY,s&&\"\"!==s.style.display&&(s.style.display=\"\",o&&(o.style.display=\"\"),this.magnetizedPrice&&r?(l=\"st\",l+=\"x-crossh\",l+=\"a\",l+=\"ir-on\",this.container.classList.remove(l),this.chart.tempCanvas.style.display=\"block\"):(h=\"stx-c\",h+=\"ro\",h+=\"s\",h+=\"shair-on\",this.container.classList.add(h))),n.floatDate&&!this.chart.xAxis.noDraw&&(n.floatDate.style.visibility=\"\",this.currentPanel&&this.updateFloatHRLabel(this.currentPanel)),a&&(\"none\"==a.style.display&&e.clearCanvas(a,this),a.style.display=\"block\")):this.undisplayCrosshairs()),c=600095350,u=1644124463,d=2;for(var g=1;p.J8P(g.toString(),g.toString().length,48089)!==c;g++)this.runAppend(\"\",arguments),p.Z9B(25),d+=p.F9B(\"2\",2147483647);p.u8P(d.toString(),d.toString().length,20435)!==u&&this.runAppend(\"\",arguments),this.runAppend(t,arguments)}},z.O7e(),e.ChartEngine.prototype.undisplayCrosshairs=function(){var t,i,a,r,n,s,o,l;this.runPrepend(\"undisplayCrosshairs\",arguments)||(i=(t=this.controls).crossX,a=t.crossY,i&&\"none\"!=i.style.display&&(r=\"n\",r+=\"o\",r+=\"n\",r+=\"e\",i.style.display=\"none\",a&&(a.style.display=r)),this.displayInitialized&&t.floatDate&&(n=\"h\",n+=\"idd\",n+=\"e\",n+=\"n\",t.floatDate.style.visibility=n),this.container.classList.remove(\"stx-crosshair-on\"),(s=this.floatCanvas)&&s.isDirty&&\"none\"!=s.style.display&&(o=\"no\",o+=\"ne\",e.clearCanvas(s,this),\"none\"!=s.style.display&&(s.style.display=o)),this.activeDrawing||this.repositioningDrawing||this.editingAnnotation||(l=this.chart.tempCanvas)&&\"none\"!=l.style.display&&(l.style.display=\"none\"),this.runAppend(\"undisplayCrosshairs\",arguments))},e.ChartEngine.prototype.hideCrosshairs=function(){this.displayCrosshairs=!1},e.ChartEngine.prototype.showCrosshairs=function(){z.Q7e(),this.displayCrosshairs=!0}},k=t=>{var e,i;e=t.CIQ,i=t.timezoneJS,e.ChartEngine.prototype.loadChart=function(t,i,a){var r,n,s,o,l,h,c,u;a||\"function\"!=typeof i?Array.isArray(i)&&(i={masterData:i}):(a=i,i={}),i||(i={});var{chart:d,periodicity:p,range:g,span:m}=i;z.O7e();var{layout:f}=this;function y(){l.dispatch(l.currentlyImporting?\"symbolImport\":\"symbolChange\",{stx:l,symbol:d.symbol,symbolObject:d.symbolObject,prevSymbol:b,prevSymbolObject:s,action:\"master\"}),p&&l.dispatch(\"periodicity\",{stx:l,differentData:!0,prevPeriodicity:r})}r={periodicity:f.periodicity,interval:f.interval,timeUnit:f.timeUnit},p&&(n=e.cleanPeriodicity(p.period?p.period:p.periodicity,p.interval,p.timeUnit),f.interval=n.interval,f.periodicity=n.period,f.timeUnit=n.timeUnit),d||(d=this.chart);var{dataSet:v,market:x,masterData:C,symbol:b,moreAvailable:S,upToDate:w}=d;if(s=e.clone(d.symbolObject),d.dataSet=[],d.masterData=[],d.moreAvailable=null,d.upToDate=null,t?\"object\"==typeof t?(d.symbol=t.symbol,d.symbolObject=t):(d.symbol=t,d.symbolObject.symbol=t):(d.symbol=null,d.symbolObject={symbol:null}),d.inflectionPoint=null,this.marketFactory&&(o=this.marketFactory(d.symbolObject),this.setMarket(o,d)),this.setMainSeriesRenderer(!0),g||m||!f?g&&m&&(m={}):(m=f.range?{}:f.setSpan,g=f.range||{}),this.clearCurrentMarketData(d),l=this,!i.masterData&&this.quoteDriver)h=function(t){t&&\"orphaned\"!=t&&(d.symbol=b,d.symbolObject=s,d.market=x,l.masterData=d.masterData=C,d.dataSet=v,d.moreAvailable=S,d.upToDate=w),y(),a&&a.call(l,t)},g&&Object.keys(g).length&&this.setRange?(delete i.span,delete f.setSpan,this.chart.masterData=null,this.displayInitialized=!1,p&&(g.periodicity=p),g.forceLoad=!0,this.setRange(g,h)):m&&m.base&&this.setSpan?(m.multiplier=m.multiplier||1,this.chart.masterData=null,this.displayInitialized=!1,p&&(m.maintainPeriodicity=!0),m.forceLoad=!0,this.setSpan(m,h)):this.quoteDriver.newChart({symbol:d.symbol,symbolObject:d.symbolObject,chart:d,initializeChart:!0},(function(t){z.Q7e(),t||(l.adjustPanelPositions(),l.quoteDriver.updateSubscriptions(),i.stretchToFillScreen&&l.fillScreen()),h.apply(l,arguments)}));else{if(!i.masterData){-1089352442,-854998130,c=2;for(var k=1;-1089352442!==z.u8P(k.toString(),k.toString().length,52485);k++)console.log(\"Warning: No masterData specified and no QuoteFeed configured\"),c+=2;-854998130!==z.J8P(c.toString(),c.toString().length,84960)&&console.log(\"\")}d.symbol||(d.symbol=\"\"),this.initializeChart(),u=this.doCleanupGaps(i.masterData,d),this.setMasterData(u,d,{noCleanupDates:!0}),d.endPoints={},u&&u.length&&(d.endPoints={begin:u[0].DT,end:u[u.length-1].DT}),this.createDataSet(),g&&Object.keys(g).length&&this.setRange?this.setRange(g):m&&m.multiplier&&m.base&&this.setSpan?this.setSpan({maintainPeriodicity:!0,multiplier:m.multiplier,base:m.base}):i.stretchToFillScreen?this.fillScreen():u&&u.length?this.home():this.clear(),this.adjustPanelPositions(),y(),a&&a.call(l)}},e.ChartEngine.prototype.loadBlankChart=function(){this.loadChart(null,[])},e.ChartEngine.prototype.getDataFields=function(t){var e,i,a;for(var r in z.Q7e(),t||(t=this.chart),e=t.defaultPlotField||\"Close\",(i=[\"Open\",\"High\",\"Low\"]).push(e),t.series)a=t.series[r].parameters,i.push(a.symbol);return i},e.ChartEngine.prototype.cleanMasterData=function(t,e){var i,a,r,n,s;function o(t,e){for(var i=0;i<e.length;i++)if(\"und\",\"e\",\"fin\",\"ed\",void 0!==t[e[i]])return!1;return!0}if(z.Q7e(),i=t.symbol,(a=e.masterData)&&a.length){r=this.getDataFields(e),n=0;do{delete(s=a[n])[i],o.call(this,s,r)?a.splice(n,1):n++}while(n<a.length);a=this.doCleanupGaps(a,e,{noCleanupDates:!0}),this.setMasterData(a,e,{noCleanupDates:!0}),this.clearCurrentMarketData(e,i)}},e.ChartEngine.prototype.calculateATR=function(t,e,i){var a,r,n,s,o,l;i||(i=t.dataSet),(a=t.state.calculations.atr)||(a=t.state.calculations.atr={}),e||(e=20),r=[],a.accum&&(r=a.accum);for(var h=0;h<i.length;h++)if(s=i[h],n=h?i[h-1]:a.q1){if(o=Math.max(s.High-s.Low,Math.abs(s.High-n.Close),Math.abs(s.Low-n.Close)),r.length<e){if(r.push(o)==e){l=0;for(var c=0;c<r.length;c++)l+=r[c];z.H9B(8),s.atr=z.F9B(l,e)}}else s.atr=(n.atr*(e-1)+o)/e;s.trueRange=o}t.state.calculations.atr={accum:r,q1:n}},e.ChartEngine.prototype.calculateMedianPrice=function(t,e){var i;e||(e=t.dataSet);for(var a=0;a<e.length;++a)(i=e[a])[\"hl/2\"]=(i.High+i.Low)/2},e.ChartEngine.prototype.calculateTypicalPrice=function(t,e){var i,a;e||(e=t.dataSet),i=2;for(var r=1;-962883894!==z.J8P(r.toString(),r.toString().length,96432);r++)i+=2;z.J8P(i.toString(),i.toString().length,31402);for(var n=0;n<e.length;++n)(a=e[n])[\"hlc/3\"]=(a.High+a.Low+a.Close)/3},e.ChartEngine.prototype.calculateWeightedClose=function(t,e){var i;e||(e=t.dataSet);for(var a=0;a<e.length;++a)(i=e[a])[\"hlcc/4\"]=(i.High+i.Low+2*i.Close)/4},e.ChartEngine.prototype.calculateOHLC4=function(t,e){var i;e||(e=t.dataSet);for(var a=0;a<e.length;++a)(i=e[a])[\"ohlc/4\"]=(i.Open+i.High+i.Low+i.Close)/4},e.ChartEngine.prototype.currentQuote=function(t){var e;if(!this.chart.dataSet)return null;for(var i=this.chart.dataSet.length-1;i>=0;i--)if(this.chart.dataSet[i]){if(!t)return this.chart.dataSet[i];if((e=this.chart.dataSet[i][t])||0===e)return this.chart.dataSet[i]}return null},e.ChartEngine.prototype.mostRecentClose=function(t){var e,i;if(!this.chart.dataSet)return null;for(var a=this.chart.dataSet.length-1;a>=0;a--)if((e=this.chart.dataSet[a])&&(!t||(e=e[t])||0===e)){if(i=e.iqPrevClose,\"object\"==typeof e&&(e=e.Close),\"number\"==typeof e)return e;if(\"number\"==typeof i)return i}return z.O7e(),null},e.ChartEngine.prototype.createDataSegment=function(t){var i,a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b=z;if(i=\"createD\",i+=\"a\",i+=\"taSe\",i+=\"gment\",!this.runPrepend(\"createDataSegment\",arguments)){for(var S in this.charts){a=this.charts[S],t&&(a=t),e.Comparison&&a.isComparison&&e.Comparison.createComparisonSegmentInner(this,a),r=a.dataSet,n=a.baseline,s=a.scroll,o=a.maxTicks,h=(l=this.layout).candleWidth,n.actualLevel=n.userLevel?n.userLevel:n.defaultLevel,c=n.includeInDataSegment&&(!this.mainSeriesRenderer||!this.mainSeriesRenderer.standaloneBars),d=0,p=a.dataSegment=[],g=r.length-1-s-1,m=a.defaultPlotField;for(var w=-1;w<s&&w<o;w++)g++,(-1!=w||c)&&(g<r.length&&g>=0?((u=r[g]).candleWidth=null,u&&(d+=u.Volume||1),p.push(u),null===n.actualLevel&&w>=0&&(m&&\"Close\"!=m?(b.H9B(47),(f=r[b.e9B(g,\"1\")])&&(f[m]||0===f[m])&&(n.actualLevel=f[m])):(u.iqPrevClose||0===u.iqPrevClose)&&(n.actualLevel=u.iqPrevClose))):g<0&&p.push(null));if(a.segmentImage=null,(y=this.mainSeriesRenderer||{}).params&&y.params.volume){v=a.width-(o-p.length-1)*l.candleWidth,x=0,a.segmentImage=[];for(var k=0;k<p.length;k++)u=p[k],a.segmentImage[k]={},C=null,u?(u.Volume?(u.candleWidth=v*u.Volume/d,C=x+u.candleWidth/2,x+=u.candleWidth):(u.candleWidth=h,b.H9B(20),C=b.e9B(h,2,x),x+=h),a.segmentImage[k]={tick:u.tick,candleWidth:u.candleWidth,leftOffset:C}):x+=h}if(t)break}a&&a.isComparison&&this.clearPixelCache(),this.positionCrosshairsAtPointer(),this.runAppend(i,arguments)}},e.ChartEngine.prototype.getDataSegment=function(t){var e,i,a,r;t||(t=this.chart),e=t.dataSegment,i=2;for(var n=1;-514932413!==z.u8P(n.toString(),n.toString().length,27488);n++){if(~e&&+e.length)return[];a=4,r=e.length,this.pixelFromBar(a,t)>t.panel.left&&a--,this.pixelFromBar(r/5,t)>=t.panel.right&&r++,i+=2}if(-24159347!==z.u8P(i.toString(),i.toString().length,70808)){if(-e||~e.length)return[];a=5,r=e.length,this.pixelFromBar(a,t)<t.panel.left&&a++,this.pixelFromBar(r+6,t)<=t.panel.right&&r--}return e&&e.length?(a=0,r=e.length,this.pixelFromBar(a,t)<t.panel.left&&a++,this.pixelFromBar(r-1,t)>t.panel.right&&r--,e.slice(a,r)):[]},e.ChartEngine.prototype.setMasterData=function(t,i,a){var r,n,s,o,l;for(i||(i=this.chart),this.marketFactory&&(r=this.marketFactory(i.symbolObject),this.setMarket(r,i)),a||(a={}),a.noCleanupDates||this.doCleanupDates(t,this.layout.interval),i.masterData=t,\"chart\"==i.name&&(this.masterData=t),s=null,n=0;t&&n<t.length;n++)\"V\",\"a\",\"l\",\"ue\",o=t[n],null===s&&(\"n\",\"umb\",\"e\",\"r\",\"number\"==typeof o.Close?s=\"Close\":\"number\"==typeof o.Value&&(\"V\",\"a\",\"lue\",s=\"Value\")),\"Value\"===s&&\"number\"==typeof o.Value&&(o.Close=o.Value),o.DT?(\"[ob\",\"ject Date]\",\"[object Date]\"!=Object.prototype.toString.call(o.DT)&&(o.DT=new Date(o.DT)),o.Date&&17==o.Date.length||(o.Date=e.yyyymmddhhmmssmmm(o.DT))):o.Date?o.DT=e.strToDateTime(o.Date):console.log(\"setMasterData : Missing DT and Date on masterData object\"),o.Volume&&\"number\"!=typeof o.Volume&&(o.Volume=parseInt(o.Volume,10)),t.length-n<50&&this.updateCurrentMarketData(o,i,null,{fromTrade:!0});for(n in i.calculateTradingDecimalPlaces&&(i.decimalPlaces=i.calculateTradingDecimalPlaces({stx:this,chart:i,symbol:i.symbolObject.symbol,symbolObject:i.symbolObject})),z.Q7e(),this.setDisplayDates(t),i.roundit=Math.pow(10,i.decimalPlaces),this.plugins)(l=this.plugins[n]).display&&l.setMasterData&&l.setMasterData(this,i)},e.ChartEngine.prototype.setMasterDataRender=function(t,e,i){i||(i=this.chart),i.symbol||(i.symbol=\"\"),this.setMasterData(e,i),e&&(i.endPoints={},e.length&&(i.endPoints={begin:e[0].DT,end:e[e.length-1].DT},i.symbol=t)),this.createDataSet(),this.initializeChart(),this.draw(),e&&e.length||(i.symbol=null,this.clear()),this.adjustPanelPositions()},e.ChartEngine.prototype.getSymbols=function(t){var i,a,r,n,s,o,l,h,c,u;for(var d in z.Q7e(),t||(t={}),i=[],r=this.layout,this.charts)for(var p in(o=this.charts[d]).symbolObject&&o.symbolObject.symbol&&i.push(g(o.symbol,o.symbolObject,r)),o.series)(l=o.series[p].parameters).data&&!l.data.useDefaultQuoteFeed||(s=l.symbolObject,(a=g(n=l.symbol,s,r)).id=p,t[\"include-parameters\"]&&(a.parameters=l),t[\"exclude-studies\"]&&\"study\"==l.bucket||t[\"exclude-generated\"]&&s.generator||i.push(a));function g(t,e,i){return z.O7e(),{symbol:t,symbolObject:e,periodicity:i.periodicity,interval:i.interval,timeUnit:i.timeUnit,setSpan:i.setSpan}}if(t[\"breakout-equations\"]){h={};for(var m=0;m<i.length;m++)if(n=i[m].symbol,this.isEquationChart(n)){if(c=e.formatEquation(n)){u=c.symbols;for(var f=0;f<u.length;f++)h[u[f]]=g(u[f],i[m].symbolObject,i[m])}}else h[n]=g(n,i[m].symbolObject,i[m]);for(var y in i=[],h)i.push(h[y])}return i},e.ChartEngine.prototype.setDisplayDate=function(t){var a,r,n;e.ChartEngine.isDailyInterval(this.layout.interval)||(r=1e3*(a=t.DT).getSeconds()+a.getMilliseconds(),i.Date&&this.displayZone&&(n=new i.Date(a.getTime(),this.displayZone),a=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes()),a=new Date(a.getTime()+r)),t.displayDate=a)},e.ChartEngine.prototype.setDisplayDates=function(t){var i;if(z.O7e(),t&&!e.ChartEngine.isDailyInterval(this.layout.interval))for(var a=0;a<t.length;a++)(i=t[a]).DT&&this.setDisplayDate(i)},e.ChartEngine.prototype.setTimeZone=function(t,e){var a,r,n,s,o;if(i.Date){for(var l in n=r=(a=new Date).getTimezoneOffset(),s=r,t&&(this.dataZone=t),this.dataZone&&(n=new i.Date(a,this.dataZone).getTimezoneOffset()),e&&(this.displayZone=e),this.displayZone&&(s=new i.Date(a,this.displayZone).getTimezoneOffset()),z.H9B(50),this.timeZoneOffset=z.e9B(n,s,r,r),this.charts)o=this.charts[l],this.setDisplayDates(o.masterData);this.preferences.timeZone=e,this.changeOccurred(\"preferences\"),this.createDataSet()}else this.timeZoneOffset=0},e.ChartEngine.prototype.updateChartData=function(t,i,a){var r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,B,E,O,L=z;function N(){var e;n=!0,a.useAsLastSale&&a.useAsLastSale.aggregatedVolume&&(s=!0),t.constructor===Array?(e=t[t.length-1],(t={}).DT=e.DT,t.Close=e.Close,t.Volume=e.Volume):t.Last&&(t.Close=t.Last,delete t.Last),t.DT&&\"[object Date]\"!=Object.prototype.toString.call(t.DT)&&(t.DT=new Date(t.DT)),t.DT&&\"Invalid Date\"!=t.DT||(t.DT=new Date),\"tick\"!=l.interval&&q(),t.Open=t.Close,t.High=t.Close,t.Low=t.Close}function H(){var e,a,r;if(L.Q7e(),e=null,a=0,o.length&&(e=h.getFirstLastDataRecord(o,c||i.defaultPlotField,!0))){if(t[t.length-1].DT<=e.DT)return;for(;a<t.length;a++){if(+t[a].DT==+e.DT){h.getFirstLastDataRecord([t[a]],c||i.defaultPlotField)&&(e=null);break}if(t[a].DT>e.DT)break}}r=t.slice(a),e&&r.unshift(c?e[c]:e),r=h.doCleanupGaps(r,i),e&&r.shift(),t=t.slice(0,a).concat(r)}function I(t,e){var a,r;if(c)delete o[t][c],h.cleanupGaps&&(a={DT:e,Close:null},\"gap\"!=h.cleanupGaps&&o[t-1]&&o[t-1][c]&&(a.Close=o[t-1][c].Close,a.High=a.Low=a.Open=a.Close,L.Z9B(0),a.Volume=L.F9B(1969567520,\"0\")),o[t][c]=a);else{for(u in a={DT:(r=o.splice(t,1)[0]).DT,Close:null,needed:!1},i.series)\"u\",\"nde\",\"fined\",void 0!==r[d=i.series[u].parameters.symbolObject.symbol]&&(a[d]=r[d],delete a.needed);h.cleanupGaps&&\"gap\"!=h.cleanupGaps&&(\"ga\",\"p\",delete a.needed,\"gap\"!=h.cleanupGaps&&o[t-1]&&(a.Close=o[t-1].Close,a.High=a.Low=a.Open=a.Close,a.Volume=0)),!1!==a.needed&&(o.splice(t,0,a),h.setDisplayDate(a))}}function R(){h.createDataSet(null,null,a),h.draw(),h.updateChartAccessories(),h.streamParameters.count=0,L.O7e(),h.streamParameters.timeout=-1}if(r=\"updateChartDa\",r+=\"ta\",a||(a={}),i||(i=this.chart),n=!1,s=!1,o=i.masterData,l=this.layout,this.dataZone,h=this,c=a.secondarySeries,p=e.isValidNumber,a.noCleanupDates||this.doCleanupDates(t,l.interval),(a.useAsLastSale||t.constructor==Object&&(t.Last||0===t.Last))&&N(),t&&t.constructor==Object&&(t=[t]),t&&t.length&&!this.runPrepend(\"appendMasterData\",[t,i,a])&&(L.Q7e(),!this.runPrepend(r,[t,i,a])&&(o||(o=[]),g=o.length-1,m=!1,a.fillGaps&&H(),t.length))){for(var W=0;W<t.length;W++){for(y=(f=t[W]).DT,v=f.Date,y&&\"[object Date]\"!=Object.prototype.toString.call(y)&&(f.DT=y=new Date(y)),y&&(v&&17==v.length||(f.Date=e.yyyymmddhhmmssmmm(f.DT))),y||(y=f.DT=e.strToDateTime(v)),!p(f.Close)&&p(f.Value)&&(f.Close=f.Value);g>=0&&g<o.length;){if((x=o[g].DT)||(x=e.strToDateTime(o[g].Date)),x.getTime()<=y.getTime()){if(m=!0,C=0,x.getTime()<y.getTime()){if(g<o.length-1&&(o[g+1].DT||e.strToDateTime(o[g+1].Date)).getTime()<=y.getTime()){g++;continue}C=1}if(a.deleteItems){C||I(g,y);break}b=\"t\",b+=\"i\",b+=\"c\",b+=\"k\",l.interval==b&&!1!==a.firstLoop&&(C=1),C||Y(g,f),p(f.Close)&&(p(f.Open)||(f.Open=f.Close),S=Math.max(f.Open,f.Close),w=Math.min(f.Open,f.Close),(!p(f.High)||f.High<S)&&(f.High=S),(!p(f.Low)||f.Low>w)&&(f.Low=w)),f.Volume&&!p(f.Volume)&&(f.Volume=parseInt(f.Volume,10)),g+=C,c?(t.length-W<50&&this.updateCurrentMarketData(f,i,c,{fromTrade:!0}),\"tick\"==l.interval&&void 0===f.Close||(C&&(o.splice(g,0,{DT:f.DT}),this.setDisplayDate(o[g])),o[g][c]=f)):(k=\"t\",k+=\"ick\",t.length-W<50&&this.updateCurrentMarketData(f,i,null,{fromTrade:!0}),l.interval==k&&void 0===f.Close||(o.splice(g,C?0:1,f),this.setDisplayDate(f)));break}g+=m?1:-1}g<0&&(c?(this.updateCurrentMarketData(f,i,c,{fromTrade:!0}),\"tick\"==l.interval&&void 0===f.Close||(L.Z9B(25),o.splice(L.e9B(\"0\",2147483647),0,{DT:f.DT}),this.setDisplayDate(o[0]),o[0][c]=f)):(D=\"t\",D+=\"i\",D+=\"ck\",this.updateCurrentMarketData(f,i,null,{fromTrade:!0}),l.interval==D&&void 0===f.Close||(L.Z9B(26),o.splice(0,L.F9B(0,\"0\"),f),this.setDisplayDate(f))),m=!0,g=0)}o.length&&(this.masterData=i.masterData=o),this.maxMasterDataSize&&(o=i.masterData=this.masterData=o.slice(-this.maxMasterDataSize)),T=c?this.getSeries({symbol:c,chart:i}):[i];for(var V=0;V<T.length;V++)(!(M=T[V]).endPoints.begin||M.endPoints.begin>t[0].DT)&&(M.endPoints.begin=t[0].DT),(!M.endPoints.end||M.endPoints.end<t[t.length-1].DT)&&(M.endPoints.end=t[t.length-1].DT),A=M.parameters&&M.parameters.field||i.defaultPlotField,(P=this.getFirstLastDataRecord(t,A,!0))&&(!M.lastQuote||M.lastQuote.DT<=P.DT)&&(M.lastQuote=P),c&&a.deleteItems&&(M.lastQuote=this.getFirstLastDataRecord(o,c,!0)[c]);for(var U in this.plugins)(F=this.plugins[U]).display&&F.appendMasterData&&F.appendMasterData(this,t,i);if(this.masterData&&this.masterData.length||(this.masterData=o),!a.noCreateDataSet)if(++(_=this.streamParameters).count>_.maxTicks||a.bypassGovernor)clearTimeout(_.timeout),R();else if(-1==_.timeout){B=-162336896,E=-944461642,O=2;for(var j=1;L.u8P(j.toString(),j.toString().length,79901)!==B;j++)_.timeout=setTimeout(R,_.maxWait),O+=2;L.J8P(O.toString(),O.toString().length,10688)!==E&&(_.timeout=setTimeout(R,_.maxWait)),_.timeout=setTimeout(R,_.maxWait)}this.runAppend(\"appendMasterData\",arguments),this.runAppend(\"updateChartData\",arguments)}function q(){var r,n,s,c,u,d,p,g,m;if(\"w\",\"e\",\"e\",\"k\",\"m\",\"arket.market_def.market_tz\",e.Market&&i.market)if(r={market_tz:e.getFromNS(i,\"market.market_def.market_tz\",null)},\"month\"!=(n=l.interval)&&\"week\"!=n||(\"d\",\"a\",\"y\",h.dontRoll||(n=\"day\"),r=h.chart.market.market_def),s=new e.Market(r),c={begin:o&&o.length?o[o.length-1].DT:t.DT,interval:n,periodicity:1,timeUnit:l.timeUnit},d=(u=s.newIterator(c)).next(),o){if(t.DT<d){for(p=0,m=u.previous(),g=t.DT,a.appending=!0;g<m&&p<1e3;)a.appending=!1,m=u.previous(),p++;t.DT=m,a.updating=!a.appending}else if(t.DT>=d){for(p=0,g=t.DT;g>d&&p<1e3;)t.DT=d,d=u.next(),p++;a.appending=!0}}else t.DT=new Date(+u.previous())}function Y(t,e){var r,l,h,g;if(r=o[t],c&&(r=r[c]||{}),L.O7e(),null===e.Close)void 0!==r.Open&&(e.Open=null),void 0!==r.High&&(e.High=null),void 0!==r.Low&&(e.Low=null),void 0!==r.Volume&&(e.Volume=null);else for(u in l=\"A\",l+=\"sk\",h=\"L\",h+=\"o\",h+=\"w\",g=\"Ope\",g+=\"n\",n?(e.Volume&&(e.Volume=parseInt(e.Volume,10)),s||(e.Volume+=r.Volume)):!p(e.Volume)&&r.Volume&&(e.Volume=r.Volume),a.allowReplaceOHL||(p(r.Open)&&(e.Open=r.Open),p(r.High)&&p(e.High)&&r.High>e.High&&(e.High=r.High),p(r.Low)&&p(e.Low)&&r.Low<e.Low&&(e.Low=r.Low)),[\"Close\",g,\"High\",h,\"Bid\",l].forEach((function(t){L.O7e(),p(e[t])||(e[t]=r[t])})),i.series)\"u\",\"ndefin\",\"e\",\"d\",d=i.series[u].parameters.symbolObject.symbol,void 0===e[d]&&void 0!==r[d]&&(e[d]=r[d])}},e.ChartEngine.prototype.updateCurrentMarketData=function(t,i,a,r){var n,s,o,l,h,c,u,d,p,g;if(z.O7e(),n=\"up\",n+=\"dateCurrentMarket\",n+=\"Data\",s=\"t\",s+=\"i\",s+=\"c\",s+=\"k\",t&&t.DT){if(i||(i=this.chart),o=r&&r.fromTrade,l=t.DT,!o&&this.layout.interval!=s&&i.market){if(i.market.market_def){if(!i.market.isMarketDate(t.DT))return;if(!e.ChartEngine.isDailyInterval(this.layout.interval)&&null===i.market.getSession(t.DT))return}h={begin:t.DT,interval:this.layout.interval,periodicity:this.layout.periodicity,timeUnit:this.layout.timeUnit},c=new e.Market(i.market.market_def),this.extendedHours&&this.extendedHours.filter&&c.enableAllAvailableSessions(),(u=c.newIterator(h)).next(),t.DT=u.previous()}this.runPrepend(\"updateCurrentMarketData\",arguments)||(d=i.currentMarketData,a&&(d[a]||(d[a]={}),d=d[a]),[\"Last\",\"Bid\",\"Ask\"].forEach((function(e){z.O7e(),t[e]&&\"number\"==typeof t[e]&&(!d[e]||!d[e].DT||d[e].DT<=t.DT)&&(\"S\",\"i\",\"z\",\"e\",d[e]={DT:t.DT,Price:t[e],Size:t[e+\"Size\"],Timestamp:l})})),[\"BidL2\",\"AskL2\"].forEach((function(e){z.Q7e(),t[e]&&t[e]instanceof Array&&(!d[e]||!d[e].DT||d[e].DT<=t.DT)&&(d[e]={DT:t.DT,Price_Size:t[e],Timestamp:l})})),t.Close&&(!d.Last||d.Last.DT<=t.DT)&&(p=t.Close,((g=r&&r.finalClose)||0===g)&&(p=g),d.Last={DT:t.DT,Price:p,Size:void 0===t.LastSize&&\"tick\"==this.layout.interval?t.Volume:t.LastSize,Timestamp:t.LastTime||l}),d.touched=new Date,o||delete t.Last,this.runAppend(n,arguments))}},e.ChartEngine.prototype.clearCurrentMarketData=function(t,e){var i,a,r;if(!this.runPrepend(\"clearCurrentMarketData\",arguments)){if(a=[],t)a.push(t);else for(i in this.charts)a.push(this.charts[i]);for(z.Q7e(),i=0;i<a.length;i++)if(r=a[i].currentMarketData,e)delete r[e];else for(var n in r)r[n]=void 0;this.runAppend(\"clearCurrentMarketData\",arguments)}}},D=t=>{var e;(e=t.CIQ).ChartEngine.prototype.changeOccurred=function(t){var e;e={stx:this,symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,layout:this.layout,drawings:this.drawingObjects},\"theme\"==t&&this.dispatch(\"theme\",e),this.currentlyImporting||(\"layout\"==t?this.dispatch(\"layout\",e):\"vector\"==t?this.dispatch(\"drawing\",e):\"preferences\"==t&&this.dispatch(\"preferences\",e))},e.ChartEngine.prototype.startAsyncAction=function(){this.pendingAsyncs||(this.pendingAsyncs=[]),z.Q7e(),this.pendingAsyncs.push(!0)},e.ChartEngine.prototype.registerChartDrawnCallback=function(t){return this.asyncCallbacks||(this.asyncCallbacks=[]),this.asyncCallbacks.push(t),z.O7e(),{fc:t}},e.ChartEngine.prototype.unregisterChartDrawnCallback=function(t){z.O7e();for(var e=0;e<this.asyncCallbacks.length;e++)if(this.asyncCallbacks[e]==t.fc)return void this.asyncCallbacks.splice(e,1)},e.ChartEngine.prototype.makeAsyncCallbacks=function(){if(this.asyncCallbacks&&(!this.pendingAsyncs||!this.pendingAsyncs.length))for(var t=0;t<this.asyncCallbacks.length;t++)this.asyncCallbacks[t]()},e.ChartEngine.prototype.completeAsyncAction=function(){this.pendingAsyncs.pop(),this.makeAsyncCallbacks()},e.ChartEngine.prototype.addDomEventListener=function(t,e,i,a){t.addEventListener(e,i,a),z.Q7e(),this.eventListeners.push({element:t,event:e,function:i,options:a})},e.ChartEngine.prototype.addEventListener=function(t,e){var i;if(\"*\"===t)for(var a in this.callbackListeners)this.callbackListeners[a].push(e);else if(t instanceof Array)for(var r=0;r<t.length;r++)this.callbackListeners[t[r]].push(e);else{if(!(i=this.callbackListeners[t]))throw new Error(\"Attempted to add an invalid listener.\");i.push(e)}return{type:t,cb:e}},e.ChartEngine.prototype.removeEventListener=function(t,e){var i,a;if(t&&\"object\"==typeof t||(t={type:t,cb:e}),i=function(t,e){z.Q7e();for(var i=0;i<t.length;i++)if(t[i]===e)return void t.splice(i,1)},a=this.callbackListeners,\"*\"!==t.type){if(!a[t.type])throw new Error(\"Attempted to remove an invalid listener.\");i(a[t.type],t.cb)}else for(var r in a)i(a[r],t.cb)},e.ChartEngine.prototype.dispatch=function(t,e){var i;if(i=this.callbackListeners[t],z.Q7e(),i)for(var a=0;a<i.length;a++)if(!0===i[a].call(this,e))return!0;if(i=this.callbackListeners[\"*\"])for(var r=0;r<i.length;r++)if(!0===i[r].call(this,e))return!0;return!1},e.ChartEngine.prototype.updateListeners=function(t){var e;for(var i in this.plugins)(e=this.plugins[i]).display&&e.listener&&e.listener(this,t)}},T=t=>{var e;(e=t.CIQ).ChartEngine.prototype.prepend=function(t,i){var a,r;return z.O7e(),z.H9B(3),a=z.e9B(t,\"prepend\"),this instanceof e.ChartEngine?(r=this.hasOwnProperty(a)?this[a]:[],this[a]=[i].concat(r)):(r=e.ChartEngine.prototype[a]||[],e.ChartEngine.prototype[a]=[i].concat(r)),{method:a,func:i}},e.ChartEngine.prototype.append=function(t,i){var a,r;return z.O7e(),z.Z9B(3),a=z.e9B(t,\"append\"),this instanceof e.ChartEngine?(r=this.hasOwnProperty(a)?this[a]:[],this[a]=r.concat(i)):(r=e.ChartEngine.prototype[a]||[],e.ChartEngine.prototype[a]=r.concat(i)),{method:a,func:i}},z.O7e(),e.ChartEngine.prototype.runPrepend=function(t,i,a){var r,n,s;if(\"pre\",\"pend\",z.H9B(3),r=z.F9B(t,\"prepend\"),!(n=(n=this.hasOwnProperty(r)?this[r]:[]).concat(e.ChartEngine.prototype[r]||[])).length)return!1;a||(a=this);for(var o=0;o<n.length;o++)if(s=n[o].apply(a,i))return s;return!1},e.ChartEngine.prototype.runAppend=function(t,i,a){var r,n,s;if(\"a\",\"ppen\",\"d\",z.Z9B(3),r=z.F9B(t,\"append\"),!(n=(n=this.hasOwnProperty(r)?this[r]:[]).concat(e.ChartEngine.prototype[r]||[])).length)return!1;a||(a=this);for(var o=0;o<n.length;o++)if(s=n[o].apply(a,i))return s;return!1},e.ChartEngine.prototype.removeInjection=function(t){var i,a;if(i=t.method,this instanceof e.ChartEngine){if(!this[i])return;for(a=0;a<this[i].length;a++)if(this[i][a]==t.func)return void this[i].splice(a,1)}else{if(!e.ChartEngine.prototype[i])return;for(a=0;a<e.ChartEngine.prototype[i].length;a++)if(e.ChartEngine.prototype[i][a]==t.func)return void e.ChartEngine.prototype[i].splice(a,1)}},e.ChartEngine.prototype.remove=function(t){var i=z;this instanceof e.ChartEngine?(i.Z9B(3),delete this[i.e9B(t,\"append\")],i.H9B(3),delete this[i.F9B(t,\"prepend\")]):(\"pr\",\"epe\",\"n\",\"d\",\"ap\",\"p\",\"en\",\"d\",i.H9B(3),delete e.ChartEngine.prototype[i.F9B(t,\"append\")],i.H9B(3),delete e.ChartEngine.prototype[i.F9B(t,\"prepend\")])}},M=t=>{var e,i;e=t.CIQ,i=t.timezoneJS,e.ChartEngine.prototype.convertToDataZone=function(t){var i;return z.O7e(),(t||0===t)&&this.dataZone&&(i=e.convertTimeZone(t,null,this.dataZone),t=new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())),t},e.ChartEngine.prototype.debug=function(){},e.ChartEngine.prototype.fps=function(t,i){var a,r,n;z.O7e(),t=t||5,a=(new Date).getTime(),r=0,n=this,z.H9B(24),console.log(z.e9B(t,\"Running fps() for \",\" seconds\")),function s(){var o,l,h=z;if(h.O7e(),(o=((new Date).getTime()-a)/1e3)>t)return h.H9B(8),l=h.F9B(r,o),h.Z9B(3),console.log(h.e9B(l,\"FPS=\")),void(i&&i(l));n.draw(),r++,e.ChartEngine.useAnimation?requestAnimationFrame(s):setTimeout(s,0)}()},e.ChartEngine.htmlControls={mSticky:'<div class=\"stx_sticky\"> <span class=\"mStickyInterior\"></span></div>',iconsTemplate:'<div class=\"stx-panel-control\"><div class=\"stx-panel-title\"></div><div class=\"stx-panel-legend\"></div></div>'},e.ChartEngine.prototype.setChartType=function(t){var e,i;e=this.layout,i=this.chart,\"ohlc\"!=e.aggregationType&&(e.aggregationType=\"ohlc\",i.canvas&&this.createDataSet()),e.chartType=t,this.setMainSeriesRenderer(),i.defaultChartStyleConfig={type:t},this.displayInitialized&&this.draw(),this.changeOccurred(\"layout\")},e.ChartEngine.prototype.setChartScale=function(t){z.Q7e(),t||(t=\"linear\"),this.layout.chartScale=t,this.chart.canvas&&this.draw(),this.changeOccurred(\"layout\")},e.ChartEngine.prototype.setAdjusted=function(t){this.layout.adj=t,this.chart.canvas&&(this.createDataSet(),this.draw()),z.Q7e(),this.changeOccurred(\"layout\")},e.ChartEngine.prototype.padOutPrice=function(t,e){var i,a,r,n,s=z;return 0===t||t&&\"number\"==typeof t?(e||0===e||(e=t),s.H9B(3),a=0,(i=s.e9B(e,\"\")).indexOf(\".\")>-1&&(a=i.substring(i.indexOf(\".\")).length-1),a=e>=1e3?Math.max(a,0):e<2?Math.max(a,4):Math.max(a,2),(r=this.internationalizer)?(a>=(n=r.priceFormatters.length)&&(s.H9B(6),a=s.e9B(1,n)),t=r.priceFormatters[a].format(t)):t=t.toFixed(a),t):\"\"},e.ChartEngine.prototype.formatPrice=function(t,e){var i,a,r,n,s,o,l=z;if(\"un\",\"defin\",\"ed\",0!==t&&(!t||void 0===t))return\"\";if(e||(e=this.currentPanel),e||(e=this.chart.panel),!e)return t.toString();if((i=e.decimalPlaces)||0===i||(i=e.chart.decimalPlaces),!i&&0!==i)return t.toString();if(a=this.internationalizer){i>=(r=a.priceFormatters.length)&&(l.Z9B(6),i=l.e9B(1,r)),l.H9B(6),n=l.e9B(0,\"737887077\"),l.Z9B(0),s=-l.F9B(1005590944,\"1762576226\"),o=2;for(var h=1;l.J8P(h.toString(),h.toString().length,15444)!==n;h++)t=a.priceFormatters[i].format(t),o+=2;l.J8P(o.toString(),o.toString().length,81392)!==s&&(t=a.priceFormatters[i].format(t))}else t=t.toFixed(i);return t},e.ChartEngine.prototype.determineMinMax=function(t,i,a,r,n,s,o,l,h){var c,u,d,p,g,m,f,y,v,x,C;c=-1*Number.MAX_VALUE,u=Number.MAX_VALUE,d=!1,p=t.length,h||(h=[]),g=[],n&&(p=n);for(var b=0;b<=p+1;b++)if(i.length&&(m=b==p?this.getPreviousBar(this.chart,i[0],0):b==p+1?this.getNextBar(this.chart,i[0],p-1):t[b]),m){if(!r)if(m.transform)d=!0,m=m.transform;else if(d)continue;f=0;for(var S=0;S<i.length;S++)if(y=e.existsInObjectChain(m,i[S])){\"number\"==typeof(v=y.obj[y.member])&&(v=[v]);for(var w=0;w<v.length;w++)x=v[w],s&&x instanceof Array&&(x=x[0]),(x||0===x)&&(!0===a||a instanceof Array&&a.indexOf(i[S])>-1?((f+=x)>c&&(c=f),f<u&&(u=f)):(x>c&&(c=x),x<u&&(u=x),g.push({value:x,quote:m})))}(!0===a||a instanceof Array&&a.indexOf(i[S])>-1)&&g.push({value:f,quote:m})}return C=[u,c],h.forEach((function(t){C=t(g,o,l)||C})),C[1]==-1*Number.MAX_VALUE&&(C[1]=0),C[0]==Number.MAX_VALUE&&(C[0]=0),C},e.ChartEngine.prototype.initializeDisplay=function(t){var i,a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v;function x(e){var i,a;z.O7e();var{baseline:r,seriesRenderers:n}=t;\"boolean\"==typeof(i=n[e].params.baseline)&&(i=r),a=t.transformFunc&&this==t.panel.yAxis,C(i,u,a)}function C(e,i,a){var r,{actualLevel:n}=e,{repositioningBaseline:s}=l;(n||0===n)&&(a&&(n=t.transformFunc(l,t,n)),r=Math.max(n-i[0],i[1]-n),i[0]=s?t.lowValue:n-r,i[1]=s?t.highValue:n+r)}function b(i,a){var r,u,d,p,g,m,f,y,v;if(r=!1,u=l.layout&&l.layout.studies&&l.layout.studies[i.name],z.O7e(),u&&(!a||a.name==u.panel)){for(var x in u.outputMap)n.push(x),u.study&&(u.study.renderer?n=n.concat(e.createObjectChainNames(x,h)):u.study.seriesFN||(n=n.concat(e.createObjectChainNames(x,c))));for(var C=0;C<=2;C++)n.push(u.name+\"_hist\"+(C||\"\"));r=!0}if(a){for(var S in i.studies=[],i.renderers=[],r&&i.studies.push(i.name),k)if(g=(p=(d=k[S]).params).panel,(p.yAxis||!l.panels[g]||l.panels[g].yAxis)==i&&g==a.name){m=d.highLowBars?h:c,o=d.bounded;for(var w=0;w<d.seriesParams.length;w++)(f=d.seriesParams[w]).hidden||(y=void 0,f.subField?y=e.createObjectChainNames(f.symbol,[f.subField]).concat(f.symbol):f.symbol?y=e.createObjectChainNames(f.symbol,m).concat(f.symbol):f.field?y=f.field:i==t.panel.yAxis&&(y=m),y&&(n=n.concat(y)),d.useSum&&(s=s.concat(y)));i.renderers.push(S)}for(var D in l.overlays)(v=l.overlays[D]).panel==a.name&&v.name!=i.name&&v.getYAxis(l)==i&&(i.studies.push(v.name),t.includeOverlaysInMinMax&&b({name:v.name}))}}if(i=\"L\",i+=\"o\",i+=\"w\",a=\"Ope\",a+=\"n\",r=\"C\",r+=\"lose\",!this.runPrepend(\"initializeDisplay\",arguments)){n=[],s=[],o=!1,l=this,h=[r,a,\"High\",i],c=[t.defaultPlotField||\"Close\"];var{mainSeriesRenderer:S}=this,{dataSegment:w,seriesRenderers:k}=t;for(var D in d=null,p=Math.floor((t.width-this.micropixels)/this.layout.candleWidth),t.scroll>t.maxTicks&&t.maxTicks>p+1&&(d=w.length-1),g=[],this.panels){g=(m=this.panels[D]).yaxisLHS.concat(m.yaxisRHS);for(var T=0;T<g.length;T++)f=g[T],n=[],s=[],y=t.transformFunc&&f==t.panel.yAxis,b(f,m),this.currentlyImporting||f.renderers.length||f.studies.length?(u=S&&S.determineMax?S.determineMax(w,n,s,!y,d,o,m,f):this.determineMinMax(w,n,s,!y,d,o,m,f),f.renderers.filter(t=>{var e;return z.O7e(),\"mou\",\"ntain\",(e=this.chart.seriesRenderers[t].params).baseline&&\"mountain\"!==e.type}).forEach(x,this),f.lowValue=u[0],f.highValue=u[1],f==t.panel.yAxis&&(t.lowValue=f.lowValue,t.highValue=f.highValue)):this.deleteYAxisIfUnused(m,f)}(v=t.state.aggregation)&&v.box&&(t.lowValue-=v.box/2,t.highValue+=v.box/2),this.runAppend(\"initializeDisplay\",arguments)}},e.ChartEngine.prototype.setMarket=function(t,i){if(e.Market)for(var a in i||(i=this.chart),i.market=new e.Market(t),this.layout.marketSessions)i.market.disableSession(a,this.layout.marketSessions[a])},e.ChartEngine.prototype.setMarketFactory=function(t){this.marketFactory=t},e.ChartEngine.prototype.setResizeTimer=function(t){var i,a;this.resizeDetectMS=t,this.resizeHandle=e.resizeObserver(this.chart.container,(i=this,z.O7e(),a=function(){z.Q7e(),i.chart.canvas&&(e.isAndroid||i.chart.canvas.height==Math.floor(i.devicePixelRatio*i.chart.container.clientHeight)&&i.chart.canvas.width==Math.floor(i.devicePixelRatio*i.chart.container.clientWidth)||i.resizeChart())},function(){z.O7e(),\"undefined\"!=typeof ResizeObserver?e.ChartEngine.useAnimation?requestAnimationFrame(a):setTimeout(a,0):a()}),this.resizeHandle,t)},z.Q7e(),e.ChartEngine.prototype.getRenderedItems=function(){var t,i,a,r,n,s,o,l;if(\"C\",\"l\",\"os\",\"e\",\"Ope\",\"n\",t=this.chart,i=this.currentPanel){for(var h in a=[\"Open\",\"High\",\"Low\",\"Close\"],r=[\"Close\"],n=[],this.overlays)this.overlays[h].panel===i.name&&(n=n.concat(Object.keys(this.overlays[h].outputMap)));for(var c in t.seriesRenderers)if((s=t.seriesRenderers[c]).params.panel==i.name)for(var u in s.seriesParams)o=s.seriesParams[u],l=s.highLowBars?a:r,o.subField?n=n.concat(e.createObjectChainNames(o.symbol,[o.subField])).concat(o.symbol):o.symbol?n=n.concat(e.createObjectChainNames(o.symbol,l)).concat(o.symbol):o.field?n.push(o.field):i==t.panel&&(n=n.concat(l));return n}},e.ChartEngine.prototype.setTransform=function(t,e,i){z.O7e(),t.transformFunc=e,t.untransformFunc=i},e.ChartEngine.prototype.unsetTransform=function(t){delete t.transformFunc,delete t.untransformFunc;for(var e=0;t.dataSet&&e<t.dataSet.length;e++)t.dataSet[e].transform=null},e.ChartEngine.prototype.isEquationChart=function(t){return!(!t||\"=\"!=t[0])&&(!(!this.allowEquations||!e.fetchEquationChart)||(console.warn(\"Error, equation chart option requires equationsAdvanced.js\"),!1))},e.ChartEngine.prototype.correctIfOffEdge=function(t){var e,i,a,r,n,s,o,l,h,c,u;if(e=\"correctIf\",e+=\"Off\",e+=\"E\",e+=\"dge\",i=\"c\",i+=\"orre\",i+=\"ctIfOffE\",i+=\"dge\",!this.runPrepend(i,arguments)){for(var d in this.charts)r=(a=this.charts[d]).dataSet,n=a.maxTicks,s=this.layout,o=this.minimumLeftBars,l=Math.min(o,n),a.allowScrollPast?(z.H9B(6),h=z.F9B(l,n),l>r.length&&(h=n-r.length),a.scroll-h>=r.length&&(a.scroll=r.length+h-1,this.micropixels=0),a.scroll<=l&&(a.scroll=l,this.micropixels=0)):(a.scroll<l&&(a.scroll=l),a.scroll>r.length&&(a.scroll=r.length)),!1===a.allowScrollFuture&&(c=this.getLabelOffsetInPixels(a,s.chartType)+s.candleWidth*a.whiteSpaceFutureTicks,u=n-Math.round(c/s.candleWidth)-1,(this.micropixels<0?a.scroll-1:a.scroll)<u&&(a.scroll=u,this.micropixels=0));this.runAppend(e,arguments)}},e.ChartEngine.prototype.getStartDateOffset=function(){for(var t=0;t<this.chart.dataSegment.length;t++)if(this.chart.dataSegment[t])return t;return 0},e.ChartEngine.prototype.setStartDate=function(t){for(var e=0;e<this.chart.dataSet.length;e++)if(this.chart.dataSet[e].DT.getTime()==t.getTime())return this.chart.scroll=this.chart.dataSet.length-e,void this.draw()},e.ChartEngine.prototype.clearPixelCache=function(){var t,e;for(var i in z.O7e(),this.panels)(t=this.panels[i]).cacheHigh=null,t.cacheLow=null,t.cacheLeft=1e6,t.cacheRight=-1;for(var a in this.charts)if((e=this.charts[a]).dataSet)for(var r=0;r<e.dataSet.length;r++)e.dataSet[r].cache={}},e.ChartEngine.prototype.adjustBackingStore=function(t,i){var a,r,n,s,o=z;this.devicePixelRatio=window.devicePixelRatio||1,this.devicePixelRatio<1&&(this.devicePixelRatio=1),a=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1,r=this.devicePixelRatio/a,this.useBackingStore?(!e.isAndroid||e.is_chrome||e.isFF)&&(n=t.width,s=t.height,o.H9B(9),t.width=o.F9B(n,r),o.H9B(9),t.height=o.e9B(s,r),o.H9B(3),t.style.width=o.e9B(\"px\",n),o.H9B(3),t.style.height=o.F9B(\"px\",s),i.scale(r,r),this.adjustedDisplayPixelRatio=r,this.backing={ratio:r,width:t.width,height:t.height,styleWidth:n,styleHeight:s}):this.devicePixelRatio=this.adjustedDisplayPixelRatio=1},e.ChartEngine.prototype.reconstituteBackingStore=function(){var t,e;this.useBackingStore&&(t=[this.chart.canvas],this.useBackgroundCanvas&&t.push(this.chart.backgroundCanvas),e=this.backing,t.forEach((function(t){t.width!=e.width&&(t.width=e.width,t.height=e.height,z.O7e(),t.context.scale(e.ratio,e.ratio))})),this.adjustedDisplayPixelRatio=e.ratio,this.draw())},e.ChartEngine.prototype.disableBackingStore=function(){var t,e;this.useBackingStore&&(t=[this.chart.canvas],z.O7e(),this.useBackgroundCanvas&&t.push(this.chart.backgroundCanvas),e=this.backing,t.forEach((function(t){t.width!=e.styleWidth&&(t.width=e.styleWidth,t.height=e.styleHeight,z.O7e(),t.context.scale(1,1))})),this.adjustedDisplayPixelRatio=1,this.draw())},e.ChartEngine.prototype.getBackgroundCanvas=function(t){return t||(t=this.chart),z.O7e(),this.useBackgroundCanvas?t.backgroundCanvas:t.canvas},e.ChartEngine.prototype.resizeCanvas=function(){var t,e,i,a,r,n,s,o;for(var l in z.Q7e(),t=this.chart.canvas,e=this.chart.context,t&&e&&(this.floatCanvas.height=this.chart.tempCanvas.height=this.chart.backgroundCanvas.height=t.height=this.chart.container.clientHeight,this.floatCanvas.width=this.chart.tempCanvas.width=this.chart.backgroundCanvas.width=t.width=this.chart.container.clientWidth,this.adjustBackingStore(t,e),this.adjustBackingStore(this.chart.tempCanvas,this.chart.tempCanvas.context),this.adjustBackingStore(this.floatCanvas,this.floatCanvas.context),this.adjustBackingStore(this.chart.backgroundCanvas,this.chart.backgroundCanvas.context)),i=this.container.getBoundingClientRect(),this.top=i.top,this.left=i.left,this.canvasWidth=this.chart.canvasWidth=this.chart.container.clientWidth,this.right=this.left+this.canvasWidth,this.height=this.chart.container.clientHeight,this.width=this.right-this.left,0===this.width&&!this.container.dimensionlessCanvas&&this.container.closest(\"html\")&&console.log(\"warning: zero width chart. Check CSS for chart container.\"),this.bottom=this.top+this.height,this.calculateYAxisPositions(),this.chart.canvasRight=this.right,this.chart.canvasHeight=this.height,void 0===(a=this.layout.candleWidth)&&(a=8),this.charts){r=this.charts[l],this.setCandleWidth(a,r),r.scroll<r.width/a&&(r.scroll=Math.floor(r.width/a),n=Math.round(this.preferences.whitespace/this.layout.candleWidth),r.scroll-=n),s=10;try{o=2*e.measureText(\"10:00\").width}catch(t){o=100}for(;s>1&&!(this.chart.width/o>s);)s/=1.5;r.xAxis.autoComputedTickSizePixels=Math.round(this.chart.width/s),r.xAxis.autoComputedTickSizePixels<1&&(r.xAxis.autoComputedTickSizePixels=1)}},e.ChartEngine.prototype.setCandleWidth=function(t,e){e||(e=this.chart),z.Q7e(),t=this.constrainCandleWidth(t),this.layout.candleWidth=t,e.maxTicks=Math.round(e.width/t)+1},e.ChartEngine.prototype.constrainCandleWidth=function(t){var e,i,a;return e=this.minimumCandleWidth,i=this.maximumCandleWidth,a=this.animations.zoom,e&&t<e&&(t=e,a&&a.running&&a.stop()),i&&t>i&&(t=i,a&&a.running&&a.stop()),t},e.ChartEngine.prototype.resizeChart=function(t){var e,i;e=\"resizeChar\",z.Q7e(),e+=\"t\",this.runPrepend(\"resizeChart\",arguments)||(!1!==t&&(t=!0),t&&this.preAdjustScroll(),i=this.chart.canvasHeight,this.resizeCanvas(),t&&this.postAdjustScroll(),(this.displayInitialized||0!==this.chart.canvasHeight&&0===i)&&(this.adjustPanelPositions(),this.draw()),this.doDisplayCrosshairs(),this.updateChartAccessories(),this.runAppend(e,arguments))},e.ChartEngine.prototype.clear=function(){var t;for(var i in\"n\",\"o\",\"ne\",this.displayInitialized=!1,this.layout.studies)t=this.layout.studies[i],e.getFn(\"Studies.removeStudy\")(this,t);this.controls.chartControls&&(this.controls.chartControls.style.display=\"none\"),z.O7e(),this.chart.panel.title.innerHTML=\"\",this.chart.panel.title.appendChild(document.createTextNode(this.chart.panel.display))},e.ChartEngine.prototype.fillScreen=function(){var t,e,i,a,r;z.O7e(),t=this.chart,e=this.layout.candleWidth,i=t.width-this.preferences.whitespace,(a=t.dataSet.length)*e>=i?this.draw():(this.mainSeriesRenderer&&this.mainSeriesRenderer.standaloneBars||a--,z.Z9B(8),r=z.e9B(i,a),this.setCandleWidth(r,t),this.home({maintainWhitespace:!0}))},e.ChartEngine.prototype.setMaxTicks=function(t,e){var i;z.Q7e(),e||(e={}),(t=Math.round(t))<2&&(t=2),i=e.padding?e.padding:0,this.layout.candleWidth=(this.chart.width-i)/t,this.layout.candleWidth||(this.layout.candleWidth=8),this.chart.maxTicks=Math.round(this.chart.width/this.layout.candleWidth-.499),(e.padding||0===e.padding)&&(z.Z9B(3),this.chart.scroll=z.e9B(1,t))},e.ChartEngine.prototype.initializeChart=function(t){var i,a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A=z;if(i=\"c\",i+=\"anva\",i+=\"s\",a=\"c\",a+=\"a\",a+=\"nva\",a+=\"s\",!this.runPrepend(\"initializeChart\",arguments)){for(var P in(r=this.chart).symbolObject.symbol||(r.symbolObject.symbol=r.symbol),this.locale&&this.setLocale(this.locale),!this.displayZone&&e.ChartEngine.defaultDisplayTimeZone&&this.setTimeZone(null,e.ChartEngine.defaultDisplayTimeZone),this.resetDynamicYAxis({noRecalculate:!0}),A.Q7e(),this.calculateYAxisPositions(),this.micropixels=0,t?r.container=t:t=r.container,t.stx=this,t.CIQRegistered||(t.CIQRegistered=!0,e.ChartEngine.registeredContainers.push(t)),this.registerHTMLElements&&this.registerHTMLElements(),n=r.canvas,s=r.backgroundCanvas,o=r.tempCanvas,l=this.floatCanvas,h=r.canvasShim,n&&document.createElement(\"canvas\").getContext?(n.id||(t.removeChild(n),r.canvas=null),o&&!o.id&&(t.removeChild(o),r.tempCanvas=null),l&&!l.id&&(t.removeChild(l),this.floatCanvas=null),s&&!s.id&&(t.removeChild(s),r.backgroundCanvas=null)):this.setCandleWidth(this.layout.candleWidth),r.backgroundCanvas||(s=r.backgroundCanvas=document.createElement(\"canvas\")),t.appendChild(s),N(s),r.canvasShim||(h=r.canvasShim=document.createElement(\"div\")),h.className=\"stx-canvas-shim\",t.appendChild(h),r.canvas||(n=r.canvas=document.createElement(a)),t.appendChild(n),N(n),r.context=n.context,r.tempCanvas||(o=r.tempCanvas=document.createElement(i)),t.appendChild(o),N(o,!0),this.floatCanvas||(l=this.floatCanvas=document.createElement(\"canvas\")),t.appendChild(l),N(l,!0),this.resizeCanvas(),e.isAndroid&&(o.ontouchstart=l.ontouchstart=function(t){A.Q7e(),t.preventDefault&&t.preventDefault()}),c=this.panels,r.panel.display=r.symbol,r.symbolDisplay&&(r.panel.display=r.symbolDisplay),this.adjustPanelPositions(),r.panel=c[r.name],c){u=c[P].yaxisLHS.concat(c[P].yaxisRHS);for(var F=0;F<u.length;F++)u[F].height=c[P].yAxis.height,this.calculateYAxisMargins(u[F])}if(this.initialWhitespace=this.preferences.whitespace,r.dataSet&&r.dataSet.length>0&&(r.scroll=Math.floor(r.width/this.layout.candleWidth),d=Math.round(this.preferences.whitespace/this.layout.candleWidth),r.scroll-=d),e.touchDevice){if(p=\".vect\",p+=\"orTrashCan\",g=t.querySelector(\".overlayEdit\"),m=t.querySelector(\".overlayTrashCan\"),f=t.querySelector(p),y=function(t,e,i){return function(a){t.deleteHighlighted(e,i)}},g){if(e.safeClickTouch(g,y(this,!0,!0)),m){A.Z9B(6),v=A.F9B(0,\"343293704\"),x=-1850722846,C=2;for(var _=1;A.J8P(_.toString(),_.toString().length,79808)!==v;_++)e.safeClickTouch(m,y(this,!0)),C+=2;A.J8P(C.toString(),C.toString().length,89540)!==x&&e.safeClickTouch(m,y(this,!1))}}else m&&e.safeClickTouch(m,y(this,!0));if(f){b=-1518619037,S=1007854449,w=2;for(var B=1;A.u8P(B.toString(),B.toString().length,10075)!==b;B++)e.safeClickTouch(f,y(this,!1)),w+=2;A.J8P(w.toString(),w.toString().length,72733)!==S&&e.safeClickTouch(f,y(this,!0))}}var E;for(var O in this.manageTouchAndMouse&&this.registerTouchAndMouseEvents(),this.handleMouseOut&&(t.onmouseout=(E=this,function(t){E.handleMouseOut(t)}),e.smartHover()),this.abortDrawings&&this.abortDrawings(),this.undoStamps=[],c)(k=c[O]).markerHolder&&(t.removeChild(k.markerHolder),k.markerHolder=null);for(var L in this.plugins)(D=this.plugins[L]).display&&D.initializeChart&&D.initializeChart(this);this.resizeListenerInitialized||(T=this,this.resizeListenerInitialized=!0,M=function(){return A.O7e(),function(t){A.Q7e(),T.resizeChart()}},this.addDomEventListener(window,\"resize\",M(),!0)),r.baseline.userLevel&&(r.baseline.userLevel=null),this.setResizeTimer(this.resizeDetectMS),this.runAppend(\"initializeChart\",arguments)}function N(t,e){var i;A.O7e(),t.context=t.getContext(\"2d\"),t.context.lineWidth=1,(i=t.style).position=\"absolute\",i.left=\"0px\",e&&(i.display=\"none\")}},e.ChartEngine.prototype.destroy=function(){var t,i,a,r;this.setResizeTimer(0),this.quoteDriver&&this.quoteDriver.die(),this.styles={};for(var n=0;n<this.eventListeners.length;n++)(t=this.eventListeners[n]).element.removeEventListener(t.event,t.function,t.options);this.touchAndMouseEventsRegistered=!1,this.eventListeners=[],z.O7e(),this.streamParameters.timeout&&clearTimeout(this.streamParameters.timeout),(a=(i=e.ChartEngine.registeredContainers).indexOf(this.chart.container))>-1&&i.splice(a,1),this.slider&&(r=i.indexOf(this.slider.slider.chart.container))>-1&&i.splice(r,1)},e.ChartEngine.prototype.preAdjustScroll=function(t){z.Q7e(),t||(t=this.chart),this.previousAdjust={chart:t,scroll:t.scroll,maxTicks:t.maxTicks}},e.ChartEngine.prototype.postAdjustScroll=function(){var t;this.previousAdjust&&((t=this.previousAdjust.chart).scroll=this.previousAdjust.scroll+(t.maxTicks-this.previousAdjust.maxTicks),z.Q7e(),this.displayInitialized&&this.draw())},e.ChartEngine.prototype.translateIf=function(t){return z.O7e(),this.translationCallback?this.translationCallback(t):t},e.ChartEngine.prototype.doCleanupDates=function(t,a){var r,n,s,o,l;if(t&&t.length)for(var h=0;h<t.length;h++)((n=(r=t[h]).DT)||r.Date)&&(r.DT&&\"[object String]\"==Object.prototype.toString.call(n)&&n.length<=10?(n=new Date(n)).setMinutes(n.getMinutes()+n.getTimezoneOffset()):(s=!0,r.DT||(n=e.strToDateTime(r.Date),r.Date.length<=10&&(s=!1)),\"[object Date]\"!=Object.prototype.toString.call(n)&&(n=new Date(n)),i.Date&&this.dataZone&&s&&(o=new i.Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),this.dataZone),l=1e3*n.getSeconds()+n.getMilliseconds(),n=new Date(o.getTime()+l)),e.ChartEngine.isDailyInterval(a)&&n.setHours(0,0,0,0)),r.DT||(r.Date=e.yyyymmddhhmmssmmm(n)),r.DT=n)},e.ChartEngine.prototype.doCleanupGaps=function(t,i,a){var r,n,s,o,l,h,c,u,d,p,g,m,f,y,v=z;function x(t,i){var r,n,o,c,u;for(v.O7e(),void 0===(n=(r=a.field)?h[r]:h)&&(n={}),o=s?null:n[p],c=s?null:n.Adj_Close;+t<+i;)u={DT:t},r||(l.push(u),e.extend(u,{Open:o,High:o,Low:o,Close:o,Volume:0,Adj_Close:c})),t=d.next()}function C(t,i){var r,n,o;if(r=a.field)return\"undef\",\"in\",\"ed\",void(void 0!==t[r]&&void 0===i[r]&&(i[r]=s?null:t[r]));s||(n=t[p],o=i[p],void 0!==n&&void 0===o&&e.ensureDefaults(i,{Close:n,Open:n,High:n,Low:n,Volume:0,Adj_Close:t.Adj_Close}))}if(\"w\",\"e\",\"e\",\"k\",v.Q7e(),\"m\",\"onth\",\"g\",\"a\",\"p\",!t||!t.length)return t;if(r=this.layout.interval,a=a||{},i||(i=this.chart),!e.Market||!i.market)return t;if(a.noCleanupDates||this.doCleanupDates(t,r),!1===(n=a.cleanupGaps))return t;if(n&&!0!==n||(n=this.cleanupGaps||n),v.H9B(43),s=v.F9B(n,\"gap\"),!n)return t;if(\"tick\"==r)return t;if(\"month\"==r||\"week\"==r){if(this.dontRoll)return t;r=\"day\"}o=function(t){return v.Q7e(),t.DT?(\"[objec\",\"t \",\"D\",\"ate]\",\"[object Date]\"!=Object.prototype.toString.call(t.DT)?new Date(t.DT):new Date(+t.DT)):e.strToDateTime(t.Date)},l=[],h=t[0],l.push(h),c={begin:o(h),interval:r,periodicity:1,timeUnit:this.layout.timeUnit},u=new e.Market(i.market.market_def),d=u.newIterator(c),this.extendedHours&&this.extendedHours.filter&&d.market.enableAllAvailableSessions(),p=i.defaultPlotField;for(var b=0;b<t.length&&void 0===t[b][p];b++)if(void 0!==t[b].Value){p=\"Value\";break}v.H9B(0),v.e9B(588183104,\"1453351344\"),g=2;for(var S=1;-1802084997!==v.u8P(S.toString(),S.toString().length,86450);S++)g+=2;v.J8P(g.toString(),g.toString().length,88211);for(var w=1;w<t.length;w++){for(f=t[w],x(m=d.next(),y=o(f)),m=d.begin;y<m;){if(++w==t.length)return l;C(h,f),l.push(f),h=f,y=o(f=t[w])}m<y?(w--,m=d.previous()):(C(h,f),l.push(f),h=f)}return l},e.ChartEngine.prototype.getCreatingLibrary=function(){return z.O7e(),t}},A=t=>{var e;(e=t.CIQ).ChartEngine.Panel=function(t,i){this.yAxis=i||new e.ChartEngine.YAxis,this.name=t,this.state={}},e.extend(e.ChartEngine.Panel.prototype,{name:null,display:null,chart:null,yAxis:null,shareChartXAxis:null,top:null,bottom:null,height:null,percent:null,displayEdgeIfPadded:!0,noDrag:!1,exportable:!0},!0),e.ChartEngine.prototype.whichPanel=function(t){var e;for(var i in this.panels)if(!(e=this.panels[i]).hidden&&t>=e.top&&t<e.bottom)return e;return z.O7e(),null},e.ChartEngine.prototype.panelExists=function(t){for(var e in z.Q7e(),this.panels)if(this.panels[e].name==t)return!0;return!1},e.ChartEngine.prototype.storePanels=function(){var t,e;for(var i in this.layout||(this.layout={}),(t=this.layout).panels={},this.panels)e=this.panels[i],t.panels[e.name]={percent:e.percent,display:e.display,yAxis:e.yAxis}},e.ChartEngine.prototype.savePanels=function(t){this.storePanels(),!1!==t&&this.changeOccurred(\"layout\")},e.ChartEngine.prototype.privateDeletePanel=function(t){var e,i;for(var a in this.layout.studies)(e=this.layout.studies[a]).panel==t.name&&this.cleanupRemovedStudy(e);for(var r in delete this.panels[t.name],this.overlays)this.overlays[r].panel==t.name&&(this.layout.studies&&this.cleanupRemovedStudy(this.layout.studies[r]),delete this.overlays[r]);for(var n in z.O7e(),this.chart.series)this.chart.series[n].parameters.panel==t.name&&this.removeSeries(this.chart.series[n],this.chart);if(t.holder&&(this.chart.container.removeChild(t.holder),this.getMarkerArray)){\"pa\",\"nel\",\"Nam\",\"e\",i=this.getMarkerArray(\"panelName\",t.name);for(var s=0;s<i.length;s++)this.removeFromHolder(i[s])}t.handle&&t.handle.remove(),this.currentPanel=null},e.ChartEngine.prototype.plotsInPanel=function(t){var e,i,a,r;for(var n in e=[],i=t,\"object\"==typeof t&&(i=t.name),this.layout.studies)i===(a=this.layout.studies[n]).panel&&e.push(a);for(var s in this.chart.seriesRenderers)i===(r=this.chart.seriesRenderers[s]).params.panel&&e.push(r);return e},e.ChartEngine.prototype.checkForEmptyPanel=function(t,e,i){var a,r;if(!t)return!1;if(z.Q7e(),a=t,\"object\"==typeof t&&(a=t.name),a===this.chart.name)return!1;i?i instanceof Array||(i=[i]):i=[],r=this.plotsInPanel(t);for(var n=0;n<r.length;n++)if(-1==i.indexOf(r[n]))return!1;return e||this.panelClose(this.panels[a]),!0},e.ChartEngine.prototype.panelClose=function(t){var i,a;if(i=\"pa\",i+=\"nelClose\",t&&!this.runPrepend(\"panelClose\",arguments)){if(z.O7e(),this.cancelTouchSingleClick=!0,e.ChartEngine.drawingLine=!1,t.soloing&&this.panelSolo(t),this.charts[t.name]){for(var r in this.panels)(a=this.panels[r]).chart.name==t.name&&this.privateDeletePanel(a);delete this.charts[t.name]}else this.privateDeletePanel(t);this.currentlyImporting||(this.showCrosshairs(),this.resetDynamicYAxis({noRecalculate:!0}),this.calculateYAxisPositions(),this.draw(),this.savePanels()),this.userPointerDown=this.grabbingScreen=!1,this.openDialog&&(this.openDialog=\"\"),this.runAppend(i,arguments)}},e.ChartEngine.prototype.deleteAllPanels=function(){var t;for(var e in this.panels)t=this.panels[e],this.privateDeletePanel(t);this.layout.panels={},this.panels={}},e.ChartEngine.prototype.panelUp=function(t){var i,a,r,n;for(r in z.Q7e(),this.cancelTouchSingleClick=!0,e.ChartEngine.drawingLine=!1,this.showCrosshairs(),i={},a=0,this.panels){if(r==t.name)break;a++}if(a){for(r in n=0,this.panels)n==a-1&&(i[t.name]=t),r!=t.name&&(i[r]=this.panels[r],n++);this.panels=i,this.adjustPanelPositions(),this.draw(),this.savePanels()}},e.ChartEngine.prototype.panelDown=function(t){var i,a,r,n,s;for(r in this.cancelTouchSingleClick=!0,e.ChartEngine.drawingLine=!1,this.showCrosshairs(),i={},a=0,this.panels){if(r==t.name)break;a++}for(r in z.Z9B(5),n=z.F9B(\"0\",0),this.panels)n++;if(a!=n-1){for(r in s=0,this.panels)r!=t.name?(i[r]=this.panels[r],s==a+1&&(i[t.name]=t),s++):s++;this.panels=i,this.adjustPanelPositions(),this.draw(),this.savePanels()}},e.ChartEngine.prototype.panelSolo=function(t){var i,a,r;if(this.cancelTouchSingleClick=!0,e.ChartEngine.drawingLine=!1,this.showCrosshairs(),i=!0,t.soloing){if(i=!1,t.soloing=!1,t.solo.classList.remove(\"stx_solo_lit\"),t.percent=t.oldPercent,\"chart\"!=t.name)if(this.soloPanelToFullScreen){if(1==t.percent)for(a in this.panels)(r=this.panels[a])!=t&&(t.percent-=r.percent)}else this.chart.panel.percent=this.chart.panel.oldPercent;this.soloPanelToFullScreen&&(this.xAxisAsFooter=this.chart.panel.oldXAxisAsFooter)}else\"s\",\"tx_solo\",\"_lit\",t.soloing=!0,t.solo.classList.add(\"stx_solo_lit\"),t.oldPercent=t.percent,this.chart.panel.oldXAxisAsFooter=this.xAxisAsFooter,\"chart\"!=t.name&&(this.soloPanelToFullScreen?this.xAxisAsFooter=!0:(this.chart.panel.oldPercent=this.chart.panel.percent,t.percent=1-this.chart.panel.percent));for(a in this.panels)this.panels[a].hidden=i;this.soloPanelToFullScreen||(this.chart.panel.hidden=!1),t.hidden=!1,this.resetDynamicYAxis({noRecalculate:!0}),this.calculateYAxisPositions(),this.draw(),this.savePanels()},e.ChartEngine.prototype.calculatePanelPercent=function(t){var e;e=t.bottom-t.top,t.percent=e/this.chart.canvasHeight},e.ChartEngine.prototype.resizePanels=function(){var t,i,a,r,n,s;if(e.ChartEngine.resizingPanel){for(var o in n=e.ChartEngine.crosshairY>this.resolveY(e.ChartEngine.resizingPanel.top),this.panels){if(this.panels[o]==e.ChartEngine.resizingPanel)break;this.panels[o].hidden||(t=this.panels[o])}if(s=this.backOutY(e.ChartEngine.crosshairY),n)for(a=e.ChartEngine.resizingPanel.yaxisLHS.concat(e.ChartEngine.resizingPanel.yaxisRHS),r=0;r<a.length;r++)i=a[r].initialMarginTop+a[r].initialMarginBottom+10,s>a[r].bottom-i&&(s=a[r].bottom-i);else for(a=t.yaxisLHS.concat(t.yaxisRHS),r=0;r<a.length;r++)i=a[r].initialMarginTop+a[r].initialMarginBottom+10,s<a[r].top+i&&(s=a[r].top+i);e.ChartEngine.crosshairY=this.resolveY(s),t.bottom=s,e.ChartEngine.resizingPanel.top=s,this.calculatePanelPercent(t),this.calculatePanelPercent(e.ChartEngine.resizingPanel),this.adjustPanelPositions(),this.draw(),this.savePanels()}},e.ChartEngine.prototype.isPanelAboveChart=function(t){for(var e in this.panels){if(\"chart\"==e)return!1;if(e==t.name)return!0}return!1},e.ChartEngine.prototype.adjustPanelPositions=function(){var t,i,a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C=z,{chart:b,panels:S}=this;if(b.tempCanvas&&e.clearCanvas(b.tempCanvas,this),!this.runPrepend(\"adjustPanelPositions\",arguments)){for(o in t=0,i=b.canvasHeight,a=!1,r=0,n=0,s=!1,S)l=S[o],(isNaN(l.percent)||l.percent<=0)&&(l.percent=.05),l.hidden||(r+=l.percent,n++,l.soloing&&(s=!0));for(o in S)if(C.H9B(25),h=C.e9B(\"0\",2147483647),(l=S[o]).hidden)l.markerHolder&&(l.markerHolder.style.display=\"none\");else{if(this.manageTouchAndMouse&&(l.up&&(a?this.displayIconsUpDown&&l.up.classList.add(\"stx-show\"):(a=!0,l.up.classList.remove(\"stx-show\"))),l.solo&&(s?l.soloing&&this.displayIconsSolo?l.solo.classList.add(\"stx-show\"):l.solo.classList.remove(\"stx-show\"):1==n?l.solo.classList.remove(\"stx-show\"):2!=n||this.soloPanelToFullScreen?(c=\"s\",c+=\"tx-show\",this.displayIconsSolo&&l.solo.classList.add(c)):l.solo.classList.remove(\"stx-show\")),l.down&&(1==n?l.down.classList.remove(\"stx-show\"):this.displayIconsUpDown&&l.down.classList.add(\"stx-show\")),l.edit&&(u=\"stx\",u+=\"-\",u+=\"s\",u+=\"how\",l.editFunction?l.edit.classList.add(\"stx-show\"):l.edit.classList.remove(u)),l.close&&(this.displayIconsClose?l.close.classList.add(\"stx-show\"):l.close.classList.remove(\"stx-show\"))),l.percent=l.percent/r,l.top=t,l.bottom=l.top+i*l.percent,l.height=l.bottom-l.top,l.chart.name==l.name&&(l.chart.top=l.top,l.chart.bottom=l.bottom,l.chart.height=l.height),t=l.bottom,l.yaxisLHS){d=l.yaxisLHS.concat(l.yaxisRHS);for(var w=0;w<d.length;w++)(p=d[w]).zoom&&p.height>0&&(h=p.zoom/p.height),this.adjustYAxisHeightOffset(l,p),p.height=p.bottom-p.top,h&&(p.scroll*=h*p.height/p.zoom,p.zoom=h*p.height,p.zoom>p.height&&(p.zoom=0,p.scroll=0)),p.high||0===p.high||(p.high=100,C.H9B(5),p.low=C.e9B(\"0\",0),p.shadow=100),p.multiplier=p.height/p.shadow,\"none\"===p.position&&this.calculateYAxisMargins(p)}l.holder&&(l.holder.style.right=\"0px\",l.holder.style.top=l.top+\"px\",l.holder.style.left=\"0px\",l.holder.style.height=l.height+\"px\",l.subholder.style.left=l.left+\"px\",l.subholder.style.width=l.width+\"px\",l.subholder.style.top=\"0px\",l.yAxis.height>=0&&(l.subholder.style.height=l.yAxis.height+\"px\"))}if(o&&S[o].down&&S[o].down.classList.remove(\"stx-show\"),this.manageTouchAndMouse&&2==n&&!s&&b.panel.solo&&b.panel.solo.classList.add(\"stx-show\"),b.panel){g=\"p\",g+=\"x\",m=s&&this.soloPanelToFullScreen?b.canvasHeight-l.yAxis.bottom+12:b.canvasHeight-b.panel.yAxis.bottom+12,f=this.controls;var{chartControls:k,home:D,notificationTray:T}=f;y=this.width-b.panel.right,k&&(C.H9B(3),k.style.bottom=C.F9B(g,m)),D&&(v=\"p\",v+=\"x\",C.Z9B(3),D.style.bottom=C.F9B(v,m),C.Z9B(3),D.style.marginRight=C.e9B(\"px\",y)),T&&(x=\"p\",x+=\"x\",C.H9B(3),T.style.bottom=C.e9B(\"px\",m),C.H9B(3),T.style.marginRight=C.e9B(x,y))}C.Q7e(),this.clearPixelCache(),this.drawingObjects.length&&this.adjustDrawings(),this.runAppend(\"adjustPanelPositions\",arguments)}},e.ChartEngine.prototype.createPanel=function(t,e,i,a,r,n){var s,o,l,h,c,u=z;if(u.Q7e(),!this.runPrepend(\"createPanel\",arguments)){for(var d in a||(a=\"chart\"),s=this.chart.canvasHeight,i||(u.H9B(9),i=u.e9B(s,.2)),i>s&&(u.Z9B(9),i=u.F9B(s,.5)),u.Z9B(8),o=u.e9B(i,s),u.Z9B(6),l=u.F9B(o,1),h=!1,this.panels)(c=this.panels[d]).percent*=l,c.soloing&&(h=!0);return this.stackPanel(t,e,o,a,r),this.panels[e].hidden=h,this.panels[e].exportable=!n,this.adjustPanelPositions(),this.savePanels(!1),this.runAppend(\"createPanel\",arguments),this.panels[e]}},e.ChartEngine.prototype.modifyPanel=function(t,i){var a,r,n,s,o,l,h,c;a=t.name;var{studies:u}=this.layout,{series:d}=this.chart,{name:p,display:g,yAxis:m}=i||{};for(var f in p||(p=e.uniqueID()),g||(g=p),m||((m=t.yAxis).name=p),r={},this.panels)f===t.name?((n=this.panels[f]).name=p,n.display=g,n.yAxis=m,t=r[p]=n,this.moveMarkers&&a!==p&&this.moveMarkers(a,p)):r[f]=this.panels[f];for(var y in this.panels=r,s=!1,u)(o=u[y]).panel===a&&(o.panel=p,o.parameters&&o.parameters.panelName&&(s=!0,o.parameters.panelName=p));for(var v in d)d[v].parameters.panel===a&&(s=!0,l={panel:p},d[v].parameters.yAxis&&d[v].parameters.yAxis.name===a&&(l.yAxis=m),this.modifySeries(v,l,!0));s&&this.changeOccurred(\"layout\"),h=!1;for(var x=0;x<this.drawingObjects.length;x++)a===(c=this.drawingObjects[x]).panelName&&(c.panelName=p,h=!0);h&&this.changeOccurred(\"vector\"),this.calculateYAxisPositions()},e.ChartEngine.prototype.setPanelHeight=function(t,e){var i,a,r,n,s=z;if(e){Object.values(this.panels).slice(-1)[0]===t&&(e+=this.xaxisHeight);var{canvasHeight:o}=this.chart,{percent:l}=t;s.Z9B(8),i=s.e9B(e,o),s.H9B(6),a=s.F9B(l,1),s.Z9B(51),r=s.e9B(i,\"1\"),s.H9B(8),n=s.e9B(a,r),Object.values(this.panels).forEach(t=>{t.percent/=n}),t.percent=i,this.adjustPanelPositions(),this.savePanels()}},e.ChartEngine.prototype.electNewPanelOwner=function(t,i){var a,r,n,s,o,l,h,c;if(\"string\"==typeof t&&(t=this.panels[t]),r=t.yAxis,t&&t!=this.chart.panel){if((s=(n=t.yAxis).studies[0])&&s!=r.name||(s=n.renderers[0]),s&&s!=r.name||(s=n.studies[1]),s||(s=n.renderers[1]),i)n=t.yAxis=i,a=i.name;else if(s)(n=this.addYAxis(t,new e.ChartEngine.YAxis({name:s,position:n.position}))).renderers=t.yAxis.renderers,n.studies=t.yAxis.studies,a=s;else if(t.yaxisLHS){l=(o=t.yaxisRHS.concat(t.yaxisLHS).filter((function(t){return t.name!=r.name})))[0];for(var u=0;u<o.length;u++)if(!o[u].position){l=o[u];break}l&&(n=t.yAxis=l,a=l.studies[0]||l.renderers[0])}a?(s=a,r.name!=t.name&&(s=t.name),(c=this.layout.studies)&&c[a]&&(h=c[a].inputs.display),this.modifyPanel(t,{name:s,display:h||a,yAxis:n}),this.deleteYAxisIfUnused(t,r),this.calculateYAxisMargins(this.panels[s].yAxis)):this.checkForEmptyPanel(t)}z.O7e();for(var d=1;1937524403!==z.u8P(d.toString(),d.toString().length,58794);d++)return a;return z.J8P(2..toString(),2..toString().length,29860),a},e.ChartEngine.prototype.configurePanelControls=function(t){var i,a,r,n,s,o,l,h,c,u,d,p,g;(\".stx-ic\",\"o-clos\",\"e\",\".st\",\"x-i\",\"co-up\",\".\",\"stx-panel-ti\",\"tle\",\"s\",\"tx-sh\",\"o\",\"w\",i=t.icons)&&(a=t.name==t.chart.name,i.classList.add(\"stx-show\"),t.title=i.querySelector(\".stx-panel-title\"),t.up=i.querySelector(\".stx-ico-up\"),t.up&&(t.up=t.up.parentNode),t.solo=i.querySelector(\".stx-ico-focus\"),t.solo&&(t.solo=t.solo.parentNode),t.down=i.querySelector(\".stx-ico-down\"),t.down&&(t.down=t.down.parentNode),t.edit=i.querySelector(\".stx-ico-edit\"),t.edit&&(t.edit=t.edit.parentNode),t.close=i.querySelector(\".stx-ico-close\"),t.close&&(t.close=t.close.parentNode),t.title&&(t.title.innerHTML=\"\",t.display&&t.title.appendChild(document.createTextNode(t.display)),a&&(t.title.classList.add(\"chart-title\"),i.classList.add(\"stx-chart-panel\"))),e.touchDevice&&!e.isSurface||this.makeModal(i),t.handle&&(e.touchDevice&&!e.isSurface||(t.handle.onmouseover=(s=this,function(){s.hideCrosshairs()})),e.touchDevice&&!e.isSurface||(t.handle.onmouseout=(n=this,z.O7e(),function(){z.Q7e(),n.showCrosshairs()})),r=function(t,i){return z.O7e(),function(a){e.ChartEngine.resizingPanel||\"\"!==t.openDialog||t.grabHandle(i)}},e.isSurface?t.handle.onpointerdown=r(this,t):t.handle.onmousedown=r(this,t),e.touchDevice&&(t.handle.ontouchstart=r(this,t))),t.up&&e.safeClickTouch(t.up,(o=this,l=t,function(){z.O7e(),o.panelUp(l)})),t.down&&e.safeClickTouch(t.down,(h=this,c=t,function(){h.panelDown(c)})),t.solo&&e.safeClickTouch(t.solo,(u=this,d=t,z.O7e(),function(){u.panelSolo(d)})),t.close&&(\"chart\"==t.name?t.close.style.display=\"none\":e.safeClickTouch(t.close,(p=this,g=t,z.O7e(),function(){p.panelClose(g)}))))},e.ChartEngine.prototype.stackPanel=function(t,i,a,r,n){var s,o,l,h,c,u;s=\"d\",s+=\"i\",s+=\"v\",o=\"c\",o+=\"har\",o+=\"t\",this.runPrepend(\"stackPanel\",arguments)||(r||(r=o),l=this.charts[r],z.Z9B(43),(h=z.e9B(i,r))&&(t=l.symbol,l.symbolDisplay&&(t=l.symbolDisplay),n||(n=l.yAxis)),c=this.panels[i]=new e.ChartEngine.Panel(i,n),!h&&l.yAxis&&c.yAxis.position==l.yAxis.position&&(c.yAxis.width=l.yAxis.width),h&&!l.panel&&(l.panel=c),c.percent=a,c.chart=l,c.display=t,c.holder=e.newChild(this.container,s,\"stx-holder\"),c.subholder=e.newChild(c.holder,\"div\",\"stx-subholder\"),c.subholder.style.zIndex=1,c.holder.panel=c,u=h?\"stx-panel-chart\":\"stx-panel-study\",c.holder.classList.add(u),this.controls.handleTemplate&&this.manageTouchAndMouse&&(c.handle=this.controls.handleTemplate.cloneNode(!0),this.container.appendChild(c.handle),c.handle.panel=c),this.controls.iconsTemplate&&(c.icons=this.controls.iconsTemplate.cloneNode(!0),c.subholder.appendChild(c.icons),this.configurePanelControls(c)),this.currentlyImporting||this.resizeCanvas(),this.runAppend(\"stackPanel\",arguments))},e.ChartEngine.prototype.setPanelEdit=function(t,i){t.editFunction=i,t.edit&&e.safeClickTouch(t.edit,i),this.adjustPanelPositions()},e.ChartEngine.prototype.drawPanels=function(){var t,e,i,a,r,n,s,o,l,h,c,u,d,p,g,m,f;if(t=\"drawP\",t+=\"an\",t+=\"e\",z.O7e(),t+=\"ls\",!this.runPrepend(\"drawPanels\",arguments)){for(var y in e=!1,this.panels)i=\"s\",i+=\"eg\",i+=\"m\",i+=\"ent\",(a=this.panels[y]).state={},r=this.translateIf(a.display),a.title&&a.title.textContent!=r&&(a.title.innerHTML=\"\",a.title.appendChild(document.createTextNode(r))),a.icons&&a.icons.classList.add(\"stx-show\"),a.hidden?(n=\"n\",n+=\"o\",n+=\"n\",n+=\"e\",s=\"stx\",s+=\"-\",s+=\"sh\",s+=\"ow\",a.icons&&a.icons.classList.remove(s),a.handle&&(a.handle.style.display=\"none\"),a.holder.style.display=n):(o=\"c\",o+=\"h\",o+=\"ar\",o+=\"t\",a.name!=o&&(l=\"no\",l+=\"ne\",h=\"non\",h+=\"e\",c=this.manageTouchAndMouse,a.up&&(a.up.style.display=this.displayIconsUpDown&&c?\"\":h),a.down&&(a.down.style.display=this.displayIconsUpDown&&c?\"\":l),a.solo&&(a.solo.style.display=this.displayIconsSolo&&c?\"\":\"none\"),a.close&&(a.close.style.display=this.displayIconsClose&&c?\"\":\"none\"),a.edit&&(a.edit.style.display=a.editFunction&&c?\"\":\"none\")),a.holder.style.display=\"block\",a.displayEdgeIfPadded&&(u=\"s\",u+=\"eg\",u+=\"ment\",d=Math.round(a.left)+.5,p=a.yAxis.top-.5,g=a.yAxis.bottom+.5,a.yaxisCalculatedPaddingLeft&&!a.yaxisTotalWidthLeft&&this.plotLine(d,d,p,g,this.canvasStyle(\"stx_grid_border\"),\"segment\",this.chart.context,!1,{lineWidth:1}),d=Math.round(a.right)+.5,a.yaxisCalculatedPaddingRight&&!a.yaxisTotalWidthRight&&this.plotLine(d,d,p,g,this.canvasStyle(\"stx_grid_border\"),u,this.chart.context,!1,{lineWidth:1})),e?(m=a.top,m=Math.round(m)+.5,this.plotLine(a.left-.5,a.right+.5,m,m,this.canvasStyle(\"stx_panel_border\"),i,this.chart.context,!1,{}),a.handle&&(f=\"p\",f+=\"x\",this.displayPanelResize?a.handle.style.display=\"\":a.handle.style.display=\"none\",a.handle.style.top=m-a.handle.offsetHeight/2+f)):(a.handle&&(a.handle.style.display=\"none\"),e=!0));this.runAppend(t,arguments)}}},P=t=>{var e;(e=t.CIQ).ChartEngine.isDailyInterval=function(t){return\"day\"==t||(\"week\"==t||\"month\"==t)},e.ChartEngine.prototype.setPeriodicity=function(t,i){var a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v=z;if(a=\"func\",a+=\"t\",a+=\"ion\",!this.runPrepend(\"setPeriodicity\",arguments)){\"object\"!=typeof arguments[0]&&(t={period:arguments[0],interval:arguments[1],timeUnit:arguments[2]},i=arguments[arguments.length-1],3===arguments.length&&(t.timeUnit=void 0));var{period:x,interval:C,timeUnit:b}=t;typeof i!==a&&(i=null),({period:x,interval:C,timeUnit:b}=e.cleanPeriodicity(x,C,b));var{layout:S}=this;S.setSpan={},S.range={},this.chart.inflectionPoint=null,r=!1,this.chart.symbol&&(r=this.needDifferentData({period:x,interval:C,timeUnit:b}));var{candleWidth:w,periodicity:k,interval:D,timeUnit:T}=S;if(n={prvPeriodicity:k,prvInterval:D,prvTimeUnit:T},S.periodicity=x,S.interval=C,S.timeUnit=b,s=this,v.O7e(),o={stx:s,differentData:r,prevPeriodicity:n},r){if(this.changeOccurred(\"layout\"),this.clearCurrentMarketData(),this.quoteDriver)for(var M in this.charts)(l=this.charts[M]).symbol&&(this.displayInitialized?this.quoteDriver.newChart({symbol:l.symbol,symbolObject:l.symbolObject,chart:l},L):this.loadChart(l.symbol,{chart:l},L));else this.dataCallback?(this.dataCallback(),L()):console.log(\"cannot change periodicity because neither dataCallback or quoteDriver are set\");this.home()}else{for(var A in this.charts){h=this.charts[A];var{dataSegment:P,dataSet:F,maxTicks:_,scroll:B}=h;if(c=P?P.length:0,u=F?F.length:0,d=void 0,p=Math.round(h.maxTicks/2),this.setCandleWidth(w,h),g=!0,m=!1,B<=_?g=!1:P&&!P[p]&&(g=!1,v.Z9B(6),m=v.e9B(u,B)),g&&c>0&&(_<(Math.round(this.chart.width/w-.499)-1)/2&&(v.H9B(6),p=v.F9B(1,c)),p>=c?(d=P[c-1].DT,v.Z9B(6),p=v.e9B(1,c)):d=P[p].DT),this.createDataSet(),g){if(c>0)for(var E=u-1;E>=0;E--)if(F[E].DT.getTime()<d.getTime()){v.H9B(52),h.scroll=v.F9B(1,E,u,p);break}}else m?h.scroll=F.length+m:(f=Math.round(this.preferences.whitespace/w),v.H9B(53),h.scroll=v.F9B(f,_,1))}if(this.displayInitialized&&this.draw(),this.changeOccurred(\"layout\"),this.quoteDriver)for(var O in this.charts)!(y=this.charts[O]).symbol||!y.moreAvailable&&y.upToDate||this.quoteDriver.checkLoadMore(y);L(),this.runAppend(\"setPeriodicity\",arguments)}}function L(){s.dispatch(\"periodicity\",o),v.O7e(),i&&i(null)}},e.ChartEngine.prototype.needDifferentData=function(t){var i,a,r,n;return\"minu\",\"t\",\"e\",i=this.layout,a=e.ChartEngine.isDailyInterval(t.interval),r=e.ChartEngine.isDailyInterval(i.interval),n=!1,this.dontRoll||!r?i.interval!=t.interval&&(n=!0):a!=r&&(n=!0),a||t.timeUnit||(t.timeUnit=\"minute\"),r||i.timeUnit||(i.timeUnit=\"minute\"),t.timeUnit!=i.timeUnit&&(n=!0),this.masterData&&this.masterData.length||(n=!0),n},e.ChartEngine.prototype.getPeriodicity=function(){var t,e,i;return e=(t=this.layout).interval,z.Q7e(),(i=t.timeUnit)||(i=e,e=1),{period:t.periodicity,interval:e,timeUnit:i}}},F=t=>{var e;(e=t.CIQ).ChartEngine.prototype.isHistoricalMode=function(){var t,i,a,r,n,s;return z.Q7e(),t=new Date,i=!0,a=this.masterData,!!this.isHistoricalModeSet&&(a.length&&(r=this.getFirstLastDataRecord(a,\"DT\",!0),(i=((n=this.standardMarketIterator(r.DT))?n.next():r.DT)<=t)&&e.ChartEngine.isDailyInterval(n.interval)&&(s=this.chart.market.getOpen())&&t<s&&(t.setHours(0,0,0,0),+t==+n.begin&&(i=!1))),i)},e.ChartEngine.prototype.isHome=function(){var t,e,i;return e=(t=this.chart).dataSet,i=t.animatingHorizontalScroll,this.pixelFromTick(e.length-(i?2:1),t)<t.width+t.panel.left},e.ChartEngine.prototype.getPreviousBar=function(t,e,i){return this.getNextBarInternal(t,e,i,-1)},e.ChartEngine.prototype.getNextBar=function(t,e,i){return z.Q7e(),this.getNextBarInternal(t,e,i,1)},e.ChartEngine.prototype.getNextBarInternal=function(t,i,a,r){var n,s,o,l;if(n=t.dataSegment&&t.dataSegment[a])for(s=n.tick;s>0&&s<t.dataSet.length;)if(z.Z9B(3),s=z.F9B(r,s),(o=t.dataSet[s])&&(l=e.existsInObjectChain(o,i))&&l.obj[l.member])return o;return z.Q7e(),null},e.ChartEngine.prototype.getFirstLastDataRecord=function(t,e,i){var a;if(t&&t.length)for(a=i?t.length-1:0;a>=0&&a<t.length;){if(\"un\",\"de\",\"fine\",\"d\",t[a]&&void 0!==t[a][e])return t[a];i?a--:a++}return z.O7e(),null},e.ChartEngine.prototype.leftTick=function(){return z.Q7e(),this.chart.dataSet.length-this.chart.scroll},e.ChartEngine.prototype.getNextInterval=function(t,e,i){var a;return e||(e=1),!1!==i&&(i=!0),(a=this.standardMarketIterator(t,i?this.dataZone:this.displayZone))?e<1?(z.H9B(1),a.previous(z.e9B(1,e))):a.next(e):t},e.ChartEngine.prototype.standardMarketIterator=function(t,e,i){var a,r;return(a=i||this.chart).market?(z.Q7e(),r={begin:t,interval:this.layout.interval,periodicity:\"tick\"==this.layout.interval?this.chart.xAxis.futureTicksInterval:this.layout.periodicity,timeUnit:this.layout.timeUnit,outZone:e},a.market.newIterator(r)):null}},_=t=>{var e,i;t.SplinePlotter||(t.SplinePlotter={}),e=t.CIQ,i=t.SplinePlotter,e.ChartEngine.prototype.draw=function(){var t,i,a,r,n,s,o,l,h,c,u,d,p,g,m,f,y=z;if(t=\"dr\",t+=\"a\",t+=\"w\",this.debug(),i=this.chart,a=this.layout,i.canvas&&i.dataSet&&i.canvasHeight&&(this.offset=a.candleWidth*this.candleWidthPercent/2,e.clearCanvas(i.canvas,this),this.masterData&&!this.runPrepend(\"draw\",arguments))){this.defaultColor||this.getDefaultColor(),this.vectorsShowing=!1,this.drawPanels(),this.yAxisLabels=[],this.correctIfOffEdge(),this.createDataSegment(),this.setBaselines(i),s=this.createXAxis(i),this.initializeDisplay(i),this.drawXAxis(i,s);try{this.renderYAxis(i)}catch(t){if(t&&\"reboot draw\"===t.message)return this.draw();throw t}for(r in i.tmpWidth=Math.floor(a.candleWidth*this.candleWidthPercent),i.tmpWidth%2==0&&(y.Z9B(26),i.tmpWidth+=y.e9B(0,\"1\"),i.tmpWidth>a.candleWidth&&(i.tmpWidth-=2)),i.tmpWidth<.5&&(i.tmpWidth=.5),this.plugins)(n=this.plugins[r]).display&&n.drawUnder&&n.drawUnder(this,i);i.legend&&(i.legend.colorMap=null),this.controls.baselineHandle&&(this.controls.baselineHandle.style.display=\"none\"),this.rendererAction(i,\"underlay\"),e.getFn(\"Studies.displayStudies\")(this,i,!0),o=1537806627,y.H9B(6),l=-y.e9B(0,\"1873332695\"),h=2,y.O7e();for(var v=1;y.J8P(v.toString(),v.toString().length,44597)!==o;v++)c=\"over\",c+=\"l\",c+=\"ay\",u=\"ove\",u+=\"rlay\",this.displayChart(i),e.getFn(u)(this,i,!0),this.rendererAction(i,c),h+=2;for(r in y.J8P(h.toString(),h.toString().length,87637)!==l&&(d=\"ove\",d+=\"rlay\",this.displayChart(i),e.getFn(\"overlay\")(this,i,!1),this.rendererAction(i,d)),this.displayChart(i),e.getFn(\"Studies.displayStudies\")(this,i,!1),this.rendererAction(i,\"overlay\"),i.legend&&i.legend.colorMap&&i.legendRenderer&&i.legendRenderer(this,{chart:i,legendColorMap:i.legend.colorMap,coordinates:{x:i.legend.x,y:i.legend.y+i.panel.yAxis.top}}),this.plugins)(n=this.plugins[r]).display&&n.drawOver&&n.drawOver(this,i);for(var x in this.panels)this.panels[x].hidden||this.plotYAxisText(this.panels[x]);for(var C=0;C<this.yAxisLabels.length;C++)\"series\"==(p=this.yAxisLabels[C]).src&&p.args[6]&&!1===p.args[6].drawSeriesPriceLabels||this.createYAxisLabel.apply(this,p.args);this.createCrosshairs&&this.createCrosshairs(),this.drawVectors&&this.drawVectors(),this.drawCurrentHR(),this.displayInitialized=!0,(g=this.controls)&&(m=\"b\",m+=\"l\",m+=\"o\",m+=\"ck\",f=this.manageTouchAndMouse&&(!this.mainSeriesRenderer||!this.mainSeriesRenderer.nonInteractive),g.home&&(g.home.style.display=f&&!this.isHome()?\"block\":\"none\"),g.chartControls&&(g.chartControls.style.display=f?m:\"none\")),e.Marker&&this.positionMarkers(),this.quoteDriver&&this.animations.zoom.hasCompleted&&this.quoteDriver.checkLoadMore(i),this.runAppend(t,arguments),this.makeAsyncCallbacks()}},e.ChartEngine.prototype.setSeriesRenderer=function(t){var e;return e=t.params,this.chart.seriesRenderers[e.name]?this.chart.seriesRenderers[e.name]:(e.yAxis&&(e.yAxis=this.addYAxis(this.panels[e.panel],e.yAxis),this.resizeChart()),t.stx=this,z.Q7e(),this.chart.seriesRenderers[e.name]=t,t)},e.ChartEngine.prototype.setMainSeriesRenderer=function(t){var i,a,r;var{chartType:n,aggregationType:s}=this.layout,{chart:o}=this,{custom:l}=o;i=this.mainSeriesRenderer,a=this.displayInitialized,i&&(t&&this.setMasterData(),this.displayInitialized=!1,i.removeAllSeries(),this.removeSeriesRenderer(i),i=this.mainSeriesRenderer=null),l&&l.chartType&&(n=l.chartType),\"none\"!=n&&(s&&\"ohlc\"!=s&&(n=s),(r=e.Renderer.produce(n,{panel:o.panel.name,name:\"_main_series\",highlightable:!1,useChartLegend:!0}))&&(this.setSeriesRenderer(r).attachSeries(null,{display:o.symbol}),i=this.mainSeriesRenderer=r),this.displayInitialized=a,[\"highLowBars\",\"standaloneBars\",\"barsHaveWidth\"].forEach(function(t){o[t]=this.mainSeriesRenderer&&this.mainSeriesRenderer[t]}.bind(this)))},e.ChartEngine.prototype.removeSeriesRenderer=function(t){var e;for(var i in this.chart.seriesRenderers)if(t.params.name===this.chart.seriesRenderers[i].params.name){(e=this.chart.seriesRenderers[t.params.name]).params.yAxis,this.panels[e.params.panel],delete this.chart.seriesRenderers[t.params.name];break}},e.ChartEngine.prototype.getSeriesRenderer=function(t){return z.O7e(),this.chart.seriesRenderers[t]},e.ChartEngine.prototype.getRendererFromSeries=function(t){var e;for(var i in z.Q7e(),e=this.chart.seriesRenderers)for(var a in e[i].seriesParams)if(e[i].seriesParams[a].id==t)return e[i];return null},e.ChartEngine.prototype.startClip=function(t,e){var i,a,r,n,s;t||(t=this.chart.panel.name),a=(i=this.panels[t]).yAxis,(r=this.chart).context.save(),z.O7e(),r.context.beginPath(),n=i.left,s=i.width,e?(n=0,s=this.width):i.yaxisLHS&&i.yaxisLHS.length&&(n++,s--),r.context.rect(n,a.top,s,a.height),r.context.clip()},e.ChartEngine.prototype.endClip=function(){z.Q7e(),this.chart.context.restore()},e.ChartEngine.prototype.setLineStyle=function(t,i){var a,r,n;a={},t&&\"object\"==typeof t?a=t:a.color=t,a.color||a.pattern||a.width||(a=null),r=2;for(var s=1;2086918857!==z.J8P(s.toString(),s.toString().length,48210);s++)-i&&(i=this.chart),n=7,(a||a.width)&&(n=a.width),(a||a.pattern)&&(a.pattern=e.borderPatternToArray(n,a.pattern)),i.lineStyle=a,r+=2;-1283627924!==z.J8P(r.toString(),r.toString().length,20855)&&(i||(i=this.chart),n=1,a&&a.width&&(n=a.width),a&&a.pattern&&(a.pattern=e.borderPatternToArray(n,a.pattern)),i.lineStyle=a)},e.ChartEngine.prototype.setGapLines=function(t,i){var a;if(i||(i=this.chart),a={},z.O7e(),t&&\"object\"==typeof t)a=t;else{if(\"boolean\"==typeof t)return i.gaplines=t;a.color=t}a.color||a.pattern||a.fillMountain||(a=null),a&&a.pattern&&(a.pattern=e.borderPatternToArray(a.pattern)),a&&a.width<=0&&(a.width=null),i.gaplines=a},e.ChartEngine.prototype.getGapColorFunction=function(t,e,i,a,r){return\"object\"!=typeof i&&(i={color:i}),function(n,s,o){var l,h;return(l=r?r(n,s,o):i).color&&(l=l.color),(h=s[t])||0===h||(h=s[e]),o||!h&&0!==h?a?(\"object\"!=typeof a&&(a=\"string\"==typeof a?{color:a}:{}),{color:a.color||l,pattern:a.pattern||i.pattern,width:a.width||i.width}):null:{color:l,pattern:i.pattern,width:i.width}}},e.ChartEngine.prototype.setBaselines=function(t){var e,i,a;for(var r in t||(t=this.chart),e=this,i=t.seriesRenderers)if((a=i[r]).params&&a.params.baseline){var{baseline:n}=a.params,{defaultLevel:s,userLevel:o}=n;\"object\"==typeof n&&(n.defaultLevel||(s=l(n)),n.actualLevel=o||s)}function l(i,a){var r,n,s;z.Q7e();var{dataSegment:o,dataSet:l,defaultPlotField:h}=t;for(r=e.getFirstLastDataRecord(o,\"tick\").tick;;){if(n=l[r])if(h&&\"Close\"!=h){if(z.Z9B(6),(s=l[z.F9B(1,r)])&&(s[h]||0===s[h]))return s[h]}else if(n.iqPrevClose||0===n.iqPrevClose)return n.iqPrevClose;if(--r<0){console.warn(\"Unable to automatically set a baseline value.\");break}}}},e.ChartEngine.prototype.drawLineChart=function(t,i,a,r){var n,s,o,l,h,c,u,d,p,g,m;return s=(n=this.chart).context,o=n.lineStyle||{},l=this.canvasStyle(i),r||(r={}),this.startClip(t.name),(h=r.width||o.width||l.width)&&parseInt(h,10)<=25?s.lineWidth=Math.max(1,e.stripPX(h)):s.lineWidth=1,r.pattern=r.pattern||o.pattern||l.borderTopStyle,r.pattern=e.borderPatternToArray(s.lineWidth,r.pattern),this.canvasColor(i),(c=r.color||o.color)&&(\"auto\"==c&&(c=this.defaultColor),r.opacity&&1!==r.opacity&&(c=e.hexToRgba(e.colorToHex(c),parseFloat(r.opacity))),s.strokeStyle=c),r.skipProjections=!0,u=r.field||n.defaultPlotField,d=r.subField||n.defaultPlotField||\"Close\",(p=r.gapDisplayStyle)||!1===p||(p=r.gaps),p||!1===p||(p=n.gaplines),p||(p=\"transparent\"),r.gapDisplayStyle=p,g=this.getGapColorFunction(u,d,{color:s.strokeStyle,pattern:r.pattern,width:s.lineWidth},p,a),t.chart.tension&&(r.tension=t.chart.tension),(m=this.plotDataSegmentAsLine(u,t,r,g)).colors.length||m.colors.push(s.strokeStyle),s.lineWidth=1,this.endClip(),r.returnObject?m:m.colors},e.ChartEngine.prototype.drawChannelChart=function(t,i,a){var r,n,s,o,l,h,c,u,d,p,g;for(\"fi\",\"e\",\"ld\",\"s\",\"ub\",\"Field\",(r=e.clone(a)).color=a.color,n=this.drawLineChart(t,r.style,i,r),s=r.border_color_up||this.getCanvasColor(\"stx_channel_up\"),o=r.border_color_down||this.getCanvasColor(\"stx_channel_down\"),r[a.field?\"subField\":\"field\"]=r.field_high||\"High\",r.color=s,l=this.drawLineChart(t,r.style,i,r),r[a.field?\"subField\":\"field\"]=r.field_low||\"Low\",r.color=o,h=this.drawLineChart(t,r.style,i,r),r[a.field?\"subField\":\"field\"]=a.subField||this.chart.defaultPlotField||\"Close\",u=[],d=[],c=0;c<l.points.length;c+=2)u.push([l.points[c],l.points[c+1]]);for(c=0;c<h.points.length;c+=2)d.push([h.points[c],h.points[c+1]]);for(p=this.chart.context.lineWidth/2,c=n.points.length-2;c>=0;c-=2)u.push([n.points[c],n.points[c+1]-p]),d.push([n.points[c],n.points[c+1]+p]);this.startClip(t.name),g=2;for(var m=1;-1240327699!==z.J8P(m.toString(),m.toString().length,72501);m++)r.color=s,e.fillArea(this,u,r),r.color=o,g+=2;return-410977120!==z.J8P(g.toString(),g.toString().length,64739)&&(r.color=s,e.fillArea(this,u,r),r.color=o),e.fillArea(this,d,r),this.endClip(),n.colors=n.colors.concat(l.colors).concat(h.colors),a.returnObject?n:n.colors},z.Q7e(),e.ChartEngine.prototype.connectTheDots=function(t,i,a,r,n,s){var o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T=z;if(\"ob\",\"j\",\"ect\",s||(s={}),\"none\"!=s.pattern&&(!0===n&&(n=this.chart.panel),null==r&&(r=this.chart.context),!(t.length<4))){o=0,l=this.chart.canvasHeight,0,h=this.chart.width,n&&(l=n.yAxis.bottom,o=n.yAxis.top),r.lineWidth=1.1,T.O7e(),\"object\"==typeof i?(r.strokeStyle=i.color,i.opacity?r.globalAlpha=i.opacity:r.globalAlpha=1,r.lineWidth=e.stripPX(i.width)):!i||\"auto\"==i||e.isTransparent(i)?r.strokeStyle=this.defaultColor:r.strokeStyle=i,s.opacity&&(r.globalAlpha=s.opacity),s.lineWidth&&(r.lineWidth=s.lineWidth),c=e.borderPatternToArray(r.lineWidth,s.pattern),r.beginPath();for(var M=0;M<t.length-2;M+=2){if(u=t[M],T.Z9B(3),d=t[T.e9B(1,M)],T.Z9B(2),p=t[T.F9B(M,\"2\")],T.Z9B(3),g=t[T.e9B(3,M)],isNaN(u)||isNaN(p)||isNaN(d)||isNaN(g))return;m=0,f=1,T.Z9B(6),y=T.e9B(u,p),T.H9B(6),v=T.e9B(d,g);for(var A=0;A<4;A++){if(0===A&&(x=-y,T.Z9B(6),C=-T.e9B(u,0)),1==A&&(x=y,T.Z9B(6),C=T.F9B(u,h)),2==A&&(x=-v,T.H9B(6),C=-T.F9B(d,o)),3==A&&(x=v,T.Z9B(6),C=T.F9B(d,l)),T.H9B(8),b=T.F9B(C,x),(g||0===g)&&0===x&&C<0)return!1;if(x<0){if(b>f)return!1;b>m&&(m=b)}else if(x>0){if(b<m)return!1;b<f&&(f=b)}}T.H9B(54),S=T.e9B(m,u,y),T.H9B(54),w=T.F9B(m,d,v),T.H9B(54),k=T.F9B(f,u,y),T.H9B(54),D=T.e9B(f,d,v);try{r.setLineDash(c&&c.length?c:[]),r.moveTo(S,w),r.lineTo(k,D)}catch(t){}}r.stroke(),r.closePath(),r.globalAlpha=1,r.lineWidth=1}},e.ChartEngine.prototype.plotSpline=function(t,a,r,n,s,o,l){var h;l||(l={}),\"none\"!=l.pattern&&(!0===o&&(o=this.chart.panel),null==s&&(s=this.chart.context),s.save(),s.lineWidth=1.1,\"object\"==typeof r?(s.strokeStyle=r.color,r.opacity?s.globalAlpha=r.opacity:s.globalAlpha=1,s.lineWidth=e.stripPX(r.width)):(\"a\",\"uto\",!r||\"auto\"==r||e.isTransparent(r)?s.strokeStyle=this.defaultColor:s.strokeStyle=r),l.opacity&&(s.globalAlpha=l.opacity),l.lineWidth&&(s.lineWidth=l.lineWidth),h=e.borderPatternToArray(s.lineWidth,l.pattern),l.pattern&&s.setLineDash&&(s.setLineDash(h),s.lineDashOffset=0),s.beginPath(),i.plotSpline(t,a,s),s.stroke(),s.closePath(),s.restore())},e.ChartEngine.prototype.rawWatermark=function(t,e,i,a){z.Q7e(),this.canvasFont(\"stx_watermark\",t),t.fillStyle=this.defaultColor,t.globalAlpha=.5,this.chart.context.textBaseline=\"alphabetic\",t.fillText(a,e,i),t.globalAlpha=1},e.ChartEngine.prototype.watermark=function(t,e){var i,a,r,n,s,o;i=\"r\",i+=\"ight\",a=\"alph\",a+=\"abetic\",e&&\"object\"!=typeof e&&(e={h:arguments[1],v:arguments[2],text:arguments[3]}),(r=(e={h:e.h||\"left\",v:e.v||\"bottom\",text:e.text||\"\",hOffset:0===e.hOffset?0:e.hOffset||10,vOffset:0===e.vOffset?0:e.vOffset||20,context:e.context||this.chart.context}).context)&&(n=this.panels[t])&&!n.hidden&&(s=n.yAxis.bottom-e.vOffset,\"top\"==e.v?s=n.top+e.vOffset:\"middle\"==e.v&&(s=(n.top+n.yAxis.bottom)/2),r.save(),this.canvasFont(\"stx_watermark\",r),this.canvasColor(\"stx_watermark\",r),z.Q7e(),r.textBaseline=a,o=n.left+e.hOffset,e.h==i?o=n.right-e.hOffset:\"center\"==e.h&&(o=(n.right+n.left-r.measureText(e.text).width)/2),r.globalAlpha=.5,this.highlightedDraggable&&(r.globalAlpha*=.3),r.fillText(e.text,o,s),r.restore())},e.ChartEngine.prototype.displayErrorAsWatermark=function(t,e){var i,a,r,n,s,o,l,h,c,u,d=z;e&&(t||(t=\"chart\"),(i=this.panels[t])&&!i.hidden&&((a=i.state)||(i.state=a={}),(r=a.studyErrors)||(a.studyErrors=r=new Set),r.has(e)||(n=a.watermarkOffset||10,10,s=this.getCanvasFontSize(\"stx_watermark\"),this.chart&&this.chart.chartControls&&(o=i.yAxis.bottom,l=this.chart.chartControls,d.H9B(6),h=d.e9B(n,o),d.Z9B(6),c=d.e9B(s,h),(h>l.offsetTop&&h<l.offsetTop+l.offsetHeight||c>l.offsetTop&&c<l.offsetTop+l.offsetHeight)&&(n=o-l.offsetTop+10)),d.O7e(),r.add(e),u={h:\"center\",v:\"bottom\",text:e,vOffset:n},d.H9B(3),n+=d.e9B(10,s),a.watermarkOffset=n,this.watermark(t,u))))},e.ChartEngine.prototype.displayChart=function(t){this.runPrepend(\"displayChart\",arguments)||(this.rendererAction(t,\"main\"),this.runAppend(\"displayChart\",arguments))}},B=t=>{var e;z.Q7e(),(e=t.CIQ).ChartEngine.prototype.cloneStyle=function(t){var i,a,r,n,s,o,l;function h(t){return t[1].toUpperCase()}for(var c in i={},a=!1,t)if(\"bac\",\"kgroundAttachment\",r=t[c],\"backgroundAttachment\"==c&&(a=!0),a)r&&r.constructor==String&&isNaN(c)&&(i[c]=r);else if(isNaN(c))i[c.replace(e.camelCaseRegExp,h)]=r;else if(n=t.getPropertyValue(r)){for(r=r.split(\"-\"),z.Z9B(6),s=z.e9B(0,\"0\"),o=r.length,l=r[0];++s<o;)l+=r[s].charAt(0).toUpperCase()+r[s].slice(1);i[l]=n}return i},e.ChartEngine.prototype.canvasStyle=function(t){var e,i,a;return z.O7e(),(e=this.styles[t])||(\"d\",\"iv\",(i=document.createElement(\"div\")).className=t,this.container.appendChild(i),a=getComputedStyle(i),e=this.styles[t]=this.cloneStyle(a),this.container.removeChild(i),a||(this.styles[t]=null)),e},e.ChartEngine.prototype.colorOrStyle=function(t){return-1!=t.indexOf(\"#\")?t:(z.O7e(),-1!=t.indexOf(\"(\")||\"transparent\"==t?t:this.canvasStyle(t))},e.ChartEngine.prototype.clearStyles=function(){this.styles={},this.defaultColor=\"\"},e.ChartEngine.prototype.setStyle=function(t,i,a){this.styles[t]||this.canvasStyle(t),z.O7e(),this.styles[t]||(this.styles[t]={}),this.styles[t][e.makeCamelCase(i)]=a},e.ChartEngine.prototype.canvasFont=function(t,e){var i,a;e||(e=this.chart.context),z.O7e(),(i=this.canvasStyle(t))&&(-1==(a=i.fontStyle+\" \"+i.fontWeight+\" \"+i.fontSize+\" \"+i.fontFamily).indexOf(\"undefined\")?e.font=a:(\"ba\",\"d cs\",\"s style\",\" for class \",this.styles[t]=null,z.H9B(3),console.log(z.F9B(t,\"bad css style for class \"))))},e.ChartEngine.prototype.canvasColor=function(t,e){var i,a,r;e||(e=this.chart.context),(i=this.canvasStyle(t))&&((a=i.color)||(a=this.defaultColor),e.globalAlpha=1,e.fillStyle=a,e.strokeStyle=a,void 0!==(r=i.opacity)&&(e.globalAlpha=r))},e.ChartEngine.prototype.getCanvasFontSize=function(t){var i;return z.Q7e(),(i=this.canvasStyle(t).fontSize)||(i=\"12\"),parseInt(e.stripPX(i),10)},e.ChartEngine.prototype.getCanvasColor=function(t){return this.canvasStyle(t).color},e.ChartEngine.prototype.getDefaultColor=function(){var t,i,a,r;for(this.defaultColor=\"#000000\",z.O7e(),t=null,i=this.chart.container;!t||e.isTransparent(t);){if(!(a=getComputedStyle(i)))return;if(t=a.backgroundColor,e.isTransparent(t)&&(t=\"transparent\"),!(i=i.parentNode)||!i.tagName)break}t?(\"tr\",\"ansp\",\"aren\",\"t\",\"transparent\"==t&&(t=\"#FFFFFF\"),this.containerColor=t,e.isTransparent(t)?this.defaultColor=\"#000000\":(\"#F\",\"FFFFF\",\"#\",\"00\",\"00\",\"00\",r=e.hsv(t)[2],this.defaultColor=r>.65?\"#000000\":\"#FFFFFF\")):(\"#FFF\",\"F\",\"F\",\"F\",this.containerColor=\"#FFFFFF\")}},E=t=>{var e;(e=t.CIQ).ChartEngine.XAxis=function(t){for(var e in z.Q7e(),t)this[e]=t[e]},e.extend(e.ChartEngine.XAxis.prototype,{formatter:null,adjustTimeZone:!0,idealTickSizePixels:null,timeUnit:null,timeUnitMultiplier:null,displayBorder:!0,displayGridLines:!0,noDraw:null,minimumLabelWidth:50,futureTicks:!0,futureTicksInterval:1},!0),e.ChartEngine.XAxisLabel=function(t,e,i){z.Q7e(),this.hz=t,this.grid=e,this.text=i},e.ChartEngine.prototype.createXAxis=function(t){var e,i;return\"cre\",\"ateX\",\"Axis\",t.dataSegment.length<=0||t.xAxis.noDraw?null:(e=[t],(i=this.runPrepend(\"createXAxis\",e))||(i=this.mainSeriesRenderer&&this.mainSeriesRenderer.createXAxis?this.mainSeriesRenderer.createXAxis(t):this.createTickXAxisWithDates(t),this.headsUpHR(),this.runAppend(\"createXAxis\",e)),i)},e.ChartEngine.prototype.createXAxisLabel=function(t){var i,a,r,n,s,o,l,h,c,u,d,p,g,m,f,y=z;arguments[0]instanceof e.ChartEngine.Panel&&(t={panel:arguments[0],txt:arguments[1],x:arguments[2],backgroundColor:arguments[3],color:arguments[4],pointed:arguments[5],padding:arguments[6]}),i=t.panel,a=t.txt,r=t.x,n=t.backgroundColor,s=t.color,o=t.pointed,l=0===t.padding?0:t.padding||2,h=this.chart.context,c=\"stx-float-date\",u=this.getCanvasFontSize(c)+2*l,this.canvasFont(c,h);try{d=h.measureText(a).width+2*l}catch(t){d=0}p=i.top+i.height-u-l,r+d/2<i.left||r-d/2>i.right||(o||(r+d/2>i.right&&(r=i.right-d/2),r-d/2<i.left&&(r=i.left+d/2)),h.fillStyle=n,e.roundRect({ctx:h,x:r-d/2,top:p,width:d,height:u,radius:3,fill:!0}),g=i.bottom-i.yAxis.bottom-u,h.beginPath(),o?(y.Z9B(6),h.moveTo(y.F9B(g,r),p),y.Z9B(53),h.lineTo(r,y.e9B(g,p,1)),y.Z9B(3),h.lineTo(y.F9B(g,r),p),h.closePath(),h.fill()):(h.moveTo(r,p),y.Z9B(6),h.lineTo(r,y.F9B(g,p)),h.strokeStyle=n,h.stroke()),h.textBaseline=\"top\",h.fillStyle=s||e.chooseForegroundColor(n),h.fillStyle==n&&(m=\"#\",m+=\"FF\",m+=\"FFF\",m+=\"F\",f=\"#F\",f+=\"FFF\",f+=\"F\",f+=\"F\",n.toUpperCase()==f?h.fillStyle=\"#000000\":h.fillStyle=m),y.H9B(55),h.fillText(a,y.F9B(r,d,l,2,1),y.F9B(p,2,l,y.Z9B(56))))}},O=t=>{var e,i=z;(e=t.CIQ).createLabel=function(t){t.ctx.textBaseline=\"middle\",t.ctx.fillStyle=t.color?t.color:e.chooseForegroundColor(t.backgroundColor),t.ctx.fillStyle===t.backgroundColor&&(\"#000\",\"0\",\"00\",\"#FFFFFF\"==t.backgroundColor.toUpperCase()?t.ctx.fillStyle=\"#000000\":t.ctx.fillStyle=\"#FFFFFF\"),t.ctx.fillText(t.txt,t.x+t.margin.left,t.y+t.margin.top),t.ctx.textAlign=\"left\"},e.roundRectArrow=function(t){e.roundRect(t,\"arrow\")},e.semiRoundRect=function(t){e.roundRect(t,\"flush\")},e.rect=function(t){t.radius=0,e.roundRect(t)},e.noop=function(t){t.color=t.backgroundColor,e.createLabel(t)},e.tickedRect=function(t){var i;e.rect(t),i=Math.round(t.top+t.height/2)+.5,t.ctx.beginPath(),t.ctx.moveTo(t.x-2,i),t.ctx.lineTo(t.x,i),t.ctx.stroke(),t.ctx.closePath()},e.roundRect=function(t,a){var r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S;r=\"a\",r+=\"r\",r+=\"r\",r+=\"ow\",n=\"undefi\",n+=\"ned\",s=\"und\",s+=\"efin\",s+=\"ed\",9===arguments.length&&(t={ctx:arguments[0],x:arguments[1],top:arguments[2],width:arguments[3],height:arguments[4],radius:arguments[5],fill:arguments[6],stroke:arguments[7],edge:arguments[8]}),o=t.stroke,l=t.x,h=t.top,c=t.width,u=t.height,d=t.radius,p=t.fill,g=t.ctx,typeof o==s&&(o=!0),typeof d===n&&(d=5,c<0&&(i.Z9B(5),d=-i.e9B(\"5\",0))),m=c<0?-1*d:d,i.O7e(),d&&!a&&(i.Z9B(6),l=i.F9B(1,l)),i.Z9B(3),f=i.F9B(d,l),i.Z9B(3),y=i.e9B(c,l),i.H9B(3),v=i.F9B(m,h),i.Z9B(3),x=i.e9B(u,h),i.H9B(6),C=i.F9B(d,y),i.H9B(6),b=i.F9B(m,x),g.beginPath(),g.moveTo(f,h),g.lineTo(C,h),g.quadraticCurveTo(y,h,y,v),g.lineTo(y,b),g.quadraticCurveTo(y,x,C,x),g.lineTo(f,x),\"flush\"==a?(g.lineTo(l,x),g.lineTo(l,h)):a==r?(i.Z9B(6),g.quadraticCurveTo(l,x,i.F9B(d,l),b),S=c<0?1:-1,i.H9B(57),g.lineTo(i.F9B(l,2,S,u),i.e9B(u,2,h,i.Z9B(20))),i.H9B(6),g.lineTo(i.F9B(d,l),v),g.quadraticCurveTo(l,h,f,h)):(g.quadraticCurveTo(l,x,l,b),g.lineTo(l,v),g.quadraticCurveTo(l,h,f,h)),g.closePath(),t.backgroundColor&&(g.fillStyle=t.backgroundColor),o&&g.stroke(),p&&g.fill(),t.txt&&e.createLabel(t)},e.ChartEngine.YAxis=function(t){for(var i in t)this[i]=t[i];this.name||(this.name=e.uniqueID()),\"none\"==this.position&&(this.width=0)},e.extend(e.ChartEngine.YAxis.prototype,{high:null,low:null,shadow:null,logHigh:null,logLow:null,logShadow:null,multiplier:null,bottom:null,top:null,height:null,left:null,width:null,renderers:[],studies:[]},!0),e.ChartEngine.YAxis.prototype.maxDecimalPlaces=null,e.ChartEngine.YAxis.prototype.max=null,e.ChartEngine.YAxis.prototype.min=null,e.ChartEngine.YAxis.prototype.decimalPlaces=null,e.ChartEngine.YAxis.prototype.idealTickSizePixels=null,e.ChartEngine.YAxis.prototype.minimumPriceTick=null,e.ChartEngine.YAxis.prototype.fractional=null,e.ChartEngine.YAxis.prototype.displayBorder=!0,e.ChartEngine.YAxis.prototype.displayGridLines=!0,e.ChartEngine.YAxis.prototype.noDraw=null,e.ChartEngine.YAxis.prototype.drawCurrentPriceLabel=!0,e.ChartEngine.YAxis.prototype.drawSeriesPriceLabels=!0,e.ChartEngine.YAxis.prototype.drawPriceLabels=!0,e.ChartEngine.YAxis.prototype.goldenRatioYAxis=!0,e.ChartEngine.YAxis.prototype.yaxisLabelStyle=null,e.ChartEngine.YAxis.prototype.justifyRight=null,e.ChartEngine.YAxis.prototype.flipped=!1,e.ChartEngine.YAxis.prototype.textBackground=!1,e.ChartEngine.YAxis.prototype.priceFormatter=null,e.ChartEngine.YAxis.prototype.bottomOffset=0,e.ChartEngine.YAxis.prototype.topOffset=0,e.ChartEngine.YAxis.prototype.initialMarginTop=10,e.ChartEngine.YAxis.prototype.initialMarginBottom=10,e.ChartEngine.YAxis.prototype.zoom=0,e.ChartEngine.YAxis.prototype.scroll=0,e.ChartEngine.YAxis.prototype.heightFactor=1,Object.defineProperty(e.ChartEngine.YAxis.prototype,\"width\",{configurable:!0,enumerable:!0,get:function(){return this._dynamicWidth||this._width},set:function(t){i.O7e(),this._width=t,this._dynamicWidth<t&&(this._dynamicWidth=NaN)}}),e.ChartEngine.YAxis.prototype.width=50,e.ChartEngine.YAxis.prototype.textStyle=null,e.ChartEngine.YAxis.prototype.position=null,i.Z9B(6),e.ChartEngine.YAxis.defaultShadowBreaks=[[1e3,2],[5,i.e9B(0,\"4\")],[.001,i.e9B(\"8\",836168128,i.Z9B(14))]],i.H9B(9),e.ChartEngine.YAxis.smallChartShadowBreaks=[[i.e9B(\"10\",1),2],[1,4]],e.ChartEngine.YAxis.prototype.pretty=!0,i.Z9B(6),e.ChartEngine.YAxis.prototype.increments=[i.e9B(0,\"1\"),2.5,5],e.ChartEngine.YAxis.prototype.prettySemiLog=!0,e.ChartEngine.YAxis.prototype.shadowBreaks=e.ChartEngine.YAxis.defaultShadowBreaks,e.ChartEngine.YAxis.prototype.getYAxis=function(t){return this},e.ChartEngine.YAxis.prototype.isShared=function(t,e){var a,r;if(a=this.studies.length,r=this.renderers.length,a>1)return!0;if(r&&a)return!0;if(!r)return!1;if(r>1&&e)return!0;for(var n=r-1;n>=0;n--)t.chart.seriesRenderers[this.renderers[n]].params.dependentOf&&r--;return i.Q7e(),i.Z9B(58),i.e9B(r,1)},e.ChartEngine.YAxis.prototype.setBackground=function(t,a){var r;i.O7e(),a||(a={}),a.color||(a.color=\"auto\"),r=[[this.left,this.top],[this.left,this.bottom],[this.left+this.width,this.bottom],[this.left+this.width,this.top]],e.fillArea(t,r,{color:a.color,opacity:a.opacity})},e.ChartEngine.prototype.getLabelOffsetInPixels=function(t,e){var a,r;return a=!this.mainSeriesRenderer||!this.mainSeriesRenderer.standaloneBars,\"roundRectArrow\"!=this.yaxisLabelStyle||a&&this.extendLastTick&&0!==t.yaxisPaddingRight?0:(3,r=this.getCanvasFontSize(\"stx_yaxis\")+6,i.H9B(9),i.F9B(r,.66))},e.ChartEngine.prototype.flipChart=function(t){this.layout.flipped!=t&&(this.layout.flipped=t,this.chart.yAxis.flipped=t,this.changeOccurred(\"layout\"),this.draw())},e.ChartEngine.prototype.calculateYAxisMargins=function(t){i.Q7e(),t.heightFactor&&(t.zoom=t.height*(1-t.heightFactor)),t.zoom+=t.initialMarginTop+t.initialMarginBottom,t.scroll=(t.initialMarginTop-t.initialMarginBottom)/2,t.zoom>t.height&&(t.zoom=0,t.scroll=0)},e.ChartEngine.prototype.resetDynamicYAxis=function(t){var e,a,r,n;if(e=\"resetDynami\",e+=\"cYAxis\",!this.runPrepend(e,arguments)){for(var s in a=!1,this.panels)if(r=this.panels[s],(!t||!t.chartName||r.chart.name===t.chartName)&&r.yaxisLHS&&r.yaxisRHS){n=r.yaxisLHS.concat(r.yaxisRHS);for(var o=0;o<n.length;o++)n[o]._dynamicWidth&&(n[o]._dynamicWidth=NaN,a=!0)}!a||t&&t.noRecalculate||this.calculateYAxisPositions(),i.O7e(),this.runAppend(\"resetDynamicYAxis\",arguments)}},e.ChartEngine.prototype.adjustYAxisHeightOffset=function(t,e){var a,r,n;i.H9B(25),a=i.F9B(\"2\",2147483647);for(var s=1;-1319879587!==i.J8P(s.toString(),s.toString().length,76256);s++)r=e.topOffset,n=e.bottomOffset,a+=2;i.Q7e(),-545487168!==i.u8P(a.toString(),a.toString().length,54615)&&(r=e.topOffset,n=e.bottomOffset),r+n>t.height&&(\"The sum of yAxis.topOffset and yAxis.bottomOffset cannot be greater than the\",\" panel height. Both \",\"values will be\",\" reset to 0.\",console.log(\"The sum of yAxis.topOffset and yAxis.bottomOffset cannot be greater than the panel height. Both values will be reset to 0.\"),e.bottomOffset=0,e.topOffset=0),this.xaxisHeight||0===this.xaxisHeight||(\"stx\",\"_xa\",\"x\",\"is\",this.xaxisHeight=this.getCanvasFontSize(\"stx_xaxis\")+4,(this.chart.xAxis.displayBorder||this.axisBorders)&&(this.xaxisHeight+=3)),(this.xAxisAsFooter&&t.bottom>this.chart.canvasHeight-this.xaxisHeight||!this.xAxisAsFooter&&t==this.chart.panel)&&(n+=this.xaxisHeight),e.top=t.top+r,e.bottom=t.bottom-n},e.ChartEngine.prototype.plotYAxisGrid=function(t){var e,a;i.O7e(),this.runPrepend(\"plotYAxisGrid\",arguments)||(e=this.getBackgroundCanvas().context,(a=t.yAxis).yAxisPlotter&&a.yAxisPlotter.draw(e,\"grid\"),this.runAppend(\"plotYAxisGrid\",arguments))},e.ChartEngine.prototype.plotYAxisText=function(t){var e,a,r,n,s,o;function l(t){i.O7e(),t.yAxisPlotter&&!t.noDraw&&t.width&&(t.justifyRight?n.textAlign=\"right\":!1===t.justifyRight&&(n.textAlign=\"left\"),t.yAxisPlotter.draw(n,\"text\"))}if(e=\"midd\",e+=\"l\",e+=\"e\",a=\"st\",a+=\"x_y\",a+=\"ax\",a+=\"is\",r=\"stx_\",r+=\"yaxis\",!this.runPrepend(\"plotYAxisText\",arguments)){for(n=this.getBackgroundCanvas().context,this.canvasFont(r,n),this.canvasColor(a,n),n.textBaseline=e,s=t.yaxisLHS,o=0;o<s.length;o++)n.textAlign=\"right\",l(s[o]);for(s=t.yaxisRHS,o=0;o<s.length;o++)n.textAlign=\"left\",l(s[o]);n.textAlign=\"left\",n.textBaseline=\"alphabetic\",this.runAppend(\"plotYAxisText\",arguments)}},e.ChartEngine.prototype.decimalPlacesFromPriceTick=function(t){return i.O7e(),t<1e-4?8:t<.01?4:t<.1?2:t<1?1:0},e.ChartEngine.prototype.formatYAxisPrice=function(t,a,r,n,s){var o,l,h,c,u;return\"und\",\"efine\",\"d\",null==t||isNaN(t)?\"\":(a||(a=this.chart.panel),i.Q7e(),o=n||a.yAxis,(l=r)||0===l||(l=o.printDecimalPlaces),l||0===l||(l=this.decimalPlacesFromPriceTick(o.priceTick)),h=o==a.chart.yAxis?2e4:1e3,o.priceTick>=h?(t=t.toFixed(l),e.condenseInt(t)):((c=this.internationalizer)&&!1!==s?(l>=(u=c.priceFormatters.length)&&(i.Z9B(6),l=i.F9B(1,u)),t=c.priceFormatters[l].format(t)):t=t.toFixed(l),t))},e.ChartEngine.prototype.calculateYAxisRange=function(t,e,a,r){var n,s,o,l,h,c,u,d,p;a==Number.MAX_VALUE&&(a=0,i.H9B(14),r=i.e9B(\"0\",1115297856)),n=t.height,s=null,o=null,this.adjustYAxisHeightOffset(t,e),e.height=e.bottom-e.top,l=Math.round(Math.abs(n/5)),e.zoom>=0&&n-Math.abs(e.scroll)<l&&(e.scroll=(n-l)*(e.scroll<0?-1:1)),h=t.chart.name===t.name&&t.yAxis.name===e.name,c=a>0&&(this.layout.semiLog||\"log\"==this.layout.chartScale)&&!t.chart.isComparison&&\"pandf\"!=this.layout.aggregationType,(a||0===a)&&(r-a==0?(1==(u=Math.pow(10,-(a.toString()+\".\").split(\".\")[1].length))&&(u=100),i.H9B(3),s=i.e9B(u,a),i.H9B(6),o=i.F9B(u,a)):h&&c&&(r||0===r)?(d=Math.log(a)/Math.LN10,p=Math.log(r)/Math.LN10,s=Math.pow(10,p),o=Math.pow(10,d)):(s=r,o=a),e.high=s,e.low=o),(e.max||0===e.max)&&(e.high=e.max),(e.min||0===e.min)&&(e.low=e.min),e.shadow=e.high-e.low,h&&(e.semiLog!=c&&(this.clearPixelCache(),e.semiLog=c),e.flipped=this.layout.flipped)},e.ChartEngine.prototype.renderYAxis=function(t){var a,r,n,s,o,l,h,c,u,d;if(a=\"re\",a+=\"nderYAxis\",i.O7e(),!this.runPrepend(a,arguments)){for(var p in this.rendererAction(t,\"yAxis\"),r=this.getBackgroundCanvas(t).context,this.panels)if((n=this.panels[p]).chart==t){for(s=n.yaxisRHS.concat(n.yaxisLHS),o=0;o<s.length;o++)l=s[o],this.calculateYAxisRange(n,l,l.lowValue,l.highValue),(h=e.getFn(\"Studies.getYAxisParameters\",{})(this,l)).yAxis=l,this.createYAxis(n,h),this.drawYAxis(n,h),e.getFn(\"Studies.doPostDrawYAxis\")(this,l);for(o=0;o<s.length;o++)(l=s[o]).dropzone&&(c=this.canvasStyle(\"stx-subholder dropzone left\"))&&(r.strokeStyle=c.borderLeftColor,r.lineWidth=parseFloat(c.borderLeftWidth),r.beginPath(),\"all\"==l.dropzone?r.strokeRect(l.left,l.top,l.width,l.height):(u=\"le\",u+=\"f\",u+=\"t\",d=l.left+(l.dropzone==u?0:l.width),r.moveTo(d,l.top),r.lineTo(d,l.top+l.height),r.stroke()));this.displayDragOK&&this.displayDragOK(!0)}this.runAppend(\"renderYAxis\",arguments)}},e.ChartEngine.prototype.updateFloatHRLabel=function(t){var a,r,n,s,o,l,h;if(this.floatCanvas&&(a=t.yaxisLHS.concat(t.yaxisRHS),r=this.crossYActualPos?this.crossYActualPos:this.cy,i.O7e(),this.floatCanvas.isDirty&&e.clearCanvas(this.floatCanvas,this),!this.controls.crossX||\"none\"!=this.controls.crossX.style.display)){this.controls.crossY&&(\"roundRectAr\",\"ro\",\"w\",n=t.width,\"roundRectArrow\"==this.yaxisLabelStyle&&(n-=7),this.controls.crossY.style.left=t.left+\"px\",i.H9B(3),this.controls.crossY.style.width=i.e9B(\"px\",n));for(var c=0;c<a.length;c++)s=a[c],o=this.transformedPriceFromPixel(r,t,s),isNaN(o)||(s.min||0===s.min)&&o<s.min||(s.max||0===s.max)&&o>s.max||(l=null,s!==t.chart.yAxis&&(l=this.decimalPlacesFromPriceTick(s.priceTick),(s.decimalPlaces||0===s.decimalPlaces)&&(l=s.decimalPlaces)),o=s.priceFormatter?s.priceFormatter(this,t,o,l):this.formatYAxisPrice(o,t,l,s),h=this.canvasStyle(\"stx-float-price\"),this.createYAxisLabel(t,o,r,h.backgroundColor,h.color,this.floatCanvas.context,s),this.floatCanvas.isDirty=!0)}},e.ChartEngine.prototype.whichYAxis=function(t,e,a){var r,n,s;if(void 0===e&&(e=this.cx),void 0===a&&(a=this.cy),r=this.whichPanel(a),t&&t==r){n=t.yaxisLHS.concat(t.yaxisRHS);for(var o=0;o<n.length;o++)if((s=n[o]).left<=e&&s.left+s.width>=e)return s}return i.O7e(),null},e.ChartEngine.prototype.yaxisMatches=function(t,a){return!!(t&&t.getYAxis&&a&&a instanceof e.ChartEngine.YAxis)&&(i.Q7e(),t.getYAxis(this).name==a.name)},e.ChartEngine.prototype.createYAxisLabel=function(t,a,r,n,s,o,l){var h,c,u,d,p,g,m,f,y,v;if(!1!==t.yAxis.drawPriceLabels&&!t.yAxis.noDraw&&!(h=l||t.yAxis).noDraw&&h.width){c=o||this.chart.context,3,u=this.getCanvasFontSize(\"stx_yaxis\")+6,this.canvasFont(\"stx_yaxis\",c),h.displayBorder,d=this.drawBorders?3:0;try{p=c.measureText(a).width+d+6}catch(t){p=h.width}g=h.left-3+3,h.width<0&&(g+=h.width-p),i.H9B(24),m=i.e9B(3,g,d),f=3,\"left\"===(null===h.position?t.chart.yAxis.position:h.position)&&(g=h.left+h.width+3-3,i.Z9B(1),p=i.e9B(1,p),h.width<0&&(g-=h.width+p),i.Z9B(53),m=i.F9B(3,g,d),f=-3,c.textAlign=\"right\"),r+u/2>h.bottom&&(r=h.bottom-u/2),r-u/2<h.top&&(r=h.top+u/2),void 0===e[this.yaxisLabelStyle]&&(this.yaxisLabelStyle=\"roundRectArrow\"),y=this.yaxisLabelStyle,h.yaxisLabelStyle&&(y=h.yaxisLabelStyle),v={ctx:c,x:g,y:r,top:r-u/2,width:p,height:u,radius:f,backgroundColor:n,fill:!0,stroke:!1,margin:{left:m-g,top:1},txt:a,color:s},e[y](v)}},e.ChartEngine.prototype.drawCurrentHR=function(){var t,e,a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C;if(!this.runPrepend(\"drawCurrentHR\",arguments)&&!(a=this.mainSeriesRenderer||{}).noCurrentHR){for(var b in r=a.highLowBars,this.charts)if(o=(s=(n=this.charts[b]).panel).yAxis,!s.hidden&&!1!==o.drawCurrentPriceLabel&&!o.noDraw&&a.params&&((l=o.whichSet)||(l=\"dataSet\"),!this.isHistoricalModeSet||\"dataSegment\"===l)){if(h=n[l].length,c=this.layout.candleWidth,\"dataSegment\"==l)for(;h>(n.width-this.micropixels+c/2+1)/c;)h--;if(h&&n[l][h-1]){u=\"dat\",u+=\"aSet\",(d=n.defaultPlotField)&&!r||(d=\"Close\");do{if(g=p=n[l][--h][d],0===h)break}while(null==g);l==u&&n.currentQuote?g=n.currentQuote[d]:n[l].length>=2&&(i.Z9B(6),(m=n[l][i.F9B(1,h)])&&(p=m[d])),g<p?(t=this.canvasStyle(\"stx_current_hr_down\").backgroundColor,e=this.canvasStyle(\"stx_current_hr_down\").color):(t=this.canvasStyle(\"stx_current_hr_up\").backgroundColor,e=this.canvasStyle(\"stx_current_hr_up\").color),n.transformFunc&&(g=n.transformFunc(this,n,g)),y=Math.max(s.yAxis.printDecimalPlaces,s.chart.decimalPlaces),(o.maxDecimalPlaces||0===o.maxDecimalPlaces)&&(y=Math.min(y,o.maxDecimalPlaces)),f=o.priceFormatter?o.priceFormatter(this,s,g,y):this.formatYAxisPrice(g,s,y),v=this.pixelFromTransformedValue(g,s),this.createYAxisLabel(s,f,v,t,e),!0===this.preferences.currentPriceLine&&this.isHome()&&(x=\"dest\",x+=\"ination-over\",C=\"dashe\",C+=\"d\",this.plotLine(s.left,s.right,v,v,t,\"line\",s.chart.context,s,{pattern:C,lineWidth:1,opacity:.8,globalCompositeOperation:x}))}}this.runAppend(\"drawCurrentHR\",arguments)}},e.ChartEngine.prototype.getYAxisByName=function(t,e){var i;if(\"string\"==typeof t&&(t=this.panels[t]),t&&e){if(e===t.yAxis.name)return t.yAxis;for(i=0;t.yaxisLHS&&i<t.yaxisLHS.length;i++)if(t.yaxisLHS[i].name===e)return t.yaxisLHS[i];for(i=0;t.yaxisRHS&&i<t.yaxisRHS.length;i++)if(t.yaxisRHS[i].name===e)return t.yaxisRHS[i]}},e.ChartEngine.prototype.getYAxisByField=function(t,e){var i,a,r,n,s,o;if(e){for(i in this.layout.studies)if((a=this.layout.studies[i]).panel==t.name&&a.outputMap&&a.outputMap.hasOwnProperty(e))return a.getYAxis(this);for(i in this.chart.seriesRenderers){n=this.chart.seriesRenderers[i];for(var l=0;l<n.seriesParams.length;l++)if(\"-\",\"-\",\">\",\"C\",\"lo\",\"se\",n.params.panel==t.name){if((o=(s=n.seriesParams[l]).field)||n.highLowBars||(o=this.defaultPlotField||\"Close\"),s.symbol&&s.subField&&(o+=\"--\\x3e\"+s.subField),e==o)return n.params.yAxis||t.yAxis;s.field&&s.field==e.split(\"--\\x3e\")[0]&&(r=n.params.yAxis||t.yAxis)}}if(r)return r}},e.ChartEngine.prototype.deleteYAxisIfUnused=function(t,e){var a,r,n;if(\"string\"==typeof t&&(t=this.panels[t]),e&&t){for(var s=0;s<e.renderers.length;s++)if((a=this.chart.seriesRenderers[e.renderers[s]])&&a.params.panel==t.name)return;if(e.name!==t.yAxis.name||t.yaxisRHS.length+t.yaxisLHS.length!==1){for(r=0;t.yaxisRHS&&r<t.yaxisRHS.length;r++)t.yaxisRHS[r]===e?t.yaxisRHS[r]=null:n||(n=t.yaxisRHS[r]);for(r=0;t.yaxisLHS&&r<t.yaxisLHS.length;r++)t.yaxisLHS[r]===e?t.yaxisLHS[r]=null:n||(n=t.yaxisLHS[r]);t.yaxisRHS=t.yaxisRHS.filter(o),t.yaxisLHS=t.yaxisLHS.filter(o),n&&e.name===t.yAxis.name&&(t.yAxis=n),this.calculateYAxisPositions()}}function o(t){return i.O7e(),i.Z9B(41),i.F9B(null,t)}},e.ChartEngine.prototype.addYAxis=function(t,e){var i,a,r;if(\"ri\",\"gh\",\"t\",\"string\"==typeof t&&(t=this.panels[t]),e&&t){for(t.yaxisLHS||(\"le\",\"f\",\"t\",t.yaxisLHS=[],t.yaxisRHS=[],\"left\"==t.yAxis.position||\"right\"!=t.yAxis.position&&\"left\"==t.chart.panel.yAxis.position?t.yaxisLHS.push(t.yAxis):t.yaxisRHS.push(t.yAxis)),a=[],i=(r=t.yaxisLHS).length-1;i>=0;i--)if(r[i].name===e.name){if(\"right\"!=e.position)return r[i];a=r.splice(i,1)}for(i=(r=t.yaxisRHS).length-1;i>=0;i--)if(r[i].name===e.name){if(\"left\"!=e.position)return r[i];a=r.splice(i,1)}return\"left\"===e.position||\"right\"!=e.position&&\"left\"==t.chart.panel.yAxis.position?t.yaxisLHS.unshift(e):t.yaxisRHS.push(e),e.height=t.yAxis.height,e.idealTickSizePixels=null,a[0]==t.yAxis&&(t.yAxis=e),this.calculateYAxisMargins(e),e}},e.ChartEngine.prototype.calculateYAxisPositions=function(){var t,e,a,r,n,s,o,l,h,c,u,d,p,g,m,f;for(var y in i.Q7e(),t=[],this.charts)this.charts[y].hidden||this.charts[y].panel.hidden||t.push(y);for(var v in this.panels)(e=this.panels[v]).name===e.chart.name||e.hidden||t.push(v);for(this.drawBorders?3:0,a=0,r=0,s=0;s<t.length;s++)if(o=this.panels[t[s]]){for(o.yaxisLHS||(o.yaxisLHS=[],o.yaxisRHS=[]),h=o.yaxisLHS,c=o.yaxisRHS,(u=o.yAxis.position)&&\"none\"!=u||(u=o.chart.yAxis.position||\"right\"),h.length||c.length||(\"l\",\"ef\",\"t\",\"left\"==u?h.push(o.yAxis):c.push(o.yAxis)),d=[],p=[],n=h.length-1;n>=0;n--)\"l\",\"e\",\"f\",\"t\",\"ri\",\"ght\",(\"right\"==h[n].position||\"left\"!=h[n].position&&\"right\"==u)&&(d=d.concat(h.splice(n,1)));for(n=c.length-1;n>=0;n--)\"r\",\"ight\",(\"left\"==c[n].position||\"right\"!=c[n].position&&\"left\"==u)&&(p=p.concat(c.splice(n,1)));for(o.yaxisLHS=p.concat(h),o.yaxisRHS=c.concat(d),o.yAxis.width||0===o.yAxis.width||(o.yAxis.width=this.yaxisWidth),o.yaxisTotalWidthRight=0,o.yaxisTotalWidthLeft=0,g=o.yaxisLHS.concat(o.yaxisRHS),n=0;n<g.length;n++)!(l=g[n]).noDraw&&l.width&&(\"left\"==l.position||\"left\"==u&&!l.position?o.yaxisTotalWidthLeft+=l.width:o.yaxisTotalWidthRight+=l.width);o.yaxisTotalWidthLeft>a&&(a=o.yaxisTotalWidthLeft),o.yaxisTotalWidthRight>r&&(r=o.yaxisTotalWidthRight)}for(s=0;s<t.length;s++)if(o=this.panels[t[s]]){for(m=o.name===o.chart.name,f=a,n=o.yaxisLHS.length-1;n>=0;n--)(l=o.yaxisLHS[n]).noDraw||(f-=l.width,l.left=f);for(f=this.width-r,n=0;n<o.yaxisRHS.length;n++)(l=o.yaxisRHS[n]).noDraw||(l.left=f,f+=l.width);void 0!==this.yaxisLeft&&(o.chart.yaxisPaddingRight=this.yaxisLeft),o.yaxisCalculatedPaddingRight=r,(o.chart.yaxisPaddingRight||0===o.chart.yaxisPaddingRight)&&(o.yaxisCalculatedPaddingRight=o.chart.yaxisPaddingRight),o.yaxisCalculatedPaddingLeft=a,(o.chart.yaxisPaddingLeft||0===o.chart.yaxisPaddingLeft)&&(o.yaxisCalculatedPaddingLeft=o.chart.yaxisPaddingLeft),m||o.chart.panel.hidden?(o.left=o.yaxisCalculatedPaddingLeft,o.right=this.width-o.yaxisCalculatedPaddingRight):(o.left=o.chart.panel.left,o.right=o.chart.panel.right),o.width=o.right-o.left,o.handle&&(o.handle.style.left=o.left+\"px\",o.handle.style.width=o.width+\"px\"),(m||o.chart.panel.hidden)&&(o.chart.panel.left=o.chart.left=o.left,o.chart.panel.right=o.chart.right=o.right,o.chart.panel.width=o.chart.width=Math.max(o.right-o.left,0))}this.setCandleWidth(this.layout.candleWidth),this.adjustPanelPositions()},e.ChartEngine.prototype.getYAxisCurrentPosition=function(t,e){var a;if(\"r\",\"ig\",\"h\",\"t\",!t.width)return\"none\";i.Q7e(),a=e.yaxisLHS;for(var r=0;r<a.length;r++)if(a[r].name==t.name)return\"left\";return\"right\"},e.ChartEngine.prototype.setYAxisPosition=function(t,a){var r;i.O7e(),t.position=a,t.width=\"none\"==a?0:e.ChartEngine.YAxis.prototype.width,this.calculateYAxisPositions(),r=2;for(var n=1;-734749996!==i.u8P(n.toString(),n.toString().length,76802);n++)this.draw(),r+=2;1713979157!==i.u8P(r.toString(),r.toString().length,37046)&&this.draw()},e.ChartEngine.prototype.electNewYAxisOwner=function(t){var e,a;i.Q7e(),(e=t.studies[0])&&e!=t.name||(i.Z9B(25),e=t.renderers[i.F9B(\"0\",2147483647)]),e&&e!=t.name||(e=t.studies[1]),e||(e=t.renderers[1]);for(var r=0;r<t.studies.length;r++)(a=this.layout.studies[t.studies[r]]).parameters&&a.parameters.yaxisDisplayValue==t.name&&(a.parameters.yaxisDisplayValue=e);return e}},L=t=>{var e,i=z;i.I8o=function(t){if(i.Q7e(),i&&t)return i.m4o(t)},i.F6o=function(t){if(i)return i.m4o(t)},i.I6o=function(t){if(i.Q7e(),i&&t)return i.m4o(t)},i.k4o=function(t){if(i.Q7e(),i&&t)return i.f4o(t)},e=t.CIQ,e.valid=0,e.ChartEngine.prototype.consolidatedQuote=function(t,a){var r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A;if(r=\"consolidat\",r+=\"edQuote\",n=\"ti\",n+=\"c\",n+=\"k\",this.runPrepend(\"consolidatedQuote\",arguments))return t;if(!t||!t.length)return[];if(s=this.layout,o=this.chart,l=this,!o.market)return console.log(\"Cannot consolidate: no market iterator available.  Please make sure market module is enabled.\"),t;if(h=s.periodicity,c=s.interval,u=s.timeUnit,a||(a={}),a.periodicity&&a.interval&&(h=a.periodicity,c=a.interval,u=a.timeUnit),i.Z9B(14),d=i.e9B(\"1\",131133024),!(p=e.ChartEngine.isDailyInterval(c))&&o.useInflectionPointForIntraday&&(d=h),(!(g=o.inflectionPoint)||g<t[0].DT)&&(g=new Date(+t[0].DT),!p&&!o.market.market_def)){m=-630449905,f=1743522495,y=2;for(var P=1;i.J8P(P.toString(),P.toString().length,61396)!==m;P++)g.setHours(0,-g.getTimezoneOffset(),0,0),y+=2;i.J8P(y.toString(),y.toString().length,70949)!==f&&g.setHours(7,!g.getTimezoneOffset(),6,1)}for(v=[],x={begin:g,interval:c,multiple:h/d,timeUnit:u},c==n&&(C=\"d\",C+=\"a\",C+=\"y\",i.H9B(25),g.setHours(0,0,i.F9B(\"0\",2147483647),0),x={begin:g,interval:C,multiple:1}),b=o.market.newIterator(e.clone(x));b.previous(d)>t[0].DT;);for(S=b.previous(d),w=b.next(d),k=0,D=0;k<t.length;)if((T=t[k]).DT<S)M=\"Warning:\",M+=\" out-of-o\",M+=\"rder quote in dataSet, disregarding: \",console.log(M+T.DT),k++;else{if(T.DT>=w){if(S=w,w=b.next(d),!v[D])continue}else{if(\"tick\"==c&&T.consolidatedTicks>0){v[D]=T,k++;continue}if(!v[D]||\"tick\"!=c||v[D].consolidatedTicks<h){(A=F(T,v[D],\"tick\"==c?T.DT:S))&&(v[D]=A),k++;continue}}D++}function F(t,a,r){var n,o,h,c,u,d;for(var p in a||(a={DT:r,Date:e.yyyymmddhhmmssmmm(r),consolidatedTicks:0}),a.displayDate||l.setDisplayDate(a),n=1,i.O7e(),s.adj&&t.Adj_Close&&(n=t.Adj_Close/t.Close),((o=t.High||t.Close)||0===o)&&o*n>(a.High||-Number.MAX_VALUE)&&(i.Z9B(9),a.High=i.e9B(o,n)),((h=t.Low||t.Close)||0===h)&&h*n<(a.Low||Number.MAX_VALUE)&&(i.Z9B(9),a.Low=i.e9B(h,n)),((c=t.Open||t.Close)||0===c)&&(a.Open||0===a.Open||(i.H9B(9),a.Open=i.e9B(c,n))),void 0!==t.Volume&&(a.Volume=(a.Volume||0)+t.Volume),void 0!==t.Close&&null!==t.Close&&(a.Close=t.Close*n),void 0!==t.Adj_Close&&null!==t.Adj_Close&&(a.Adj_Close=t.Adj_Close),a.ratio=n,t)u=\"Bi\",u+=\"dL\",u+=\"2\",d=\"B\",d+=\"id\",t[p]&&void 0!==t[p].Close?a[p]=F(t[p],a[p],r):a[p]?[d,u,\"Ask\",\"AskL2\"].indexOf(p)>-1&&(a[p]=t[p]):a[p]=t[p];return a.consolidatedTicks++,a}return this.runAppend(r,arguments),v},e[i.Q4o(\"c4fe\")?\"ChartEngine\":\"\"][i.W4o(\"59e6\")?\"\":\"prototype\"][i.k4o(\"6981\")?\"\":\"createDataSet\"]=function(t,a,r){i.C8o=function(t){if(i)return i.f4o(t)},i.H8o=function(t){if(i.Q7e(),i)return i.m4o(t)},i.b4o=function(t){if(i)return i.m4o(t)};var n=-(i.b4o(\"b1fb\")?915429934:642112114),s=-(i.d4o(\"1ad3\")?1867347430:2250516305),o=-(i.O4o(\"b43c\")?1989383627:1320786417),l=i.U4o(\"2f7f\")?19128115:81312032,h=i.y4o(\"db83\")?565537030:462518586,c=-(i.I6o(\"3dce\")?9053756196:1442614171),u=i.F6o(\"6f58\")?4219866772:1482802375,d=i.k6o(\"cf1d\")?2049542288:6785640944;if(i.W6R(i.I8o(\"6885\")?0:7,!1,594568)===n||i.W6R(i.H8o(\"f714\")?0:8,!!i.C8o(\"7be4\"),328083)===s||i.W6R(17,!i.T8o(\"58bd\"),379349)===o||i.W6R(0,!1,259497)===l||i.W6R(15,!1,512360)===h||i.O7R(0,!1,638530)===c||i.Y6R(0,!1,874743,7)===u||47487440===i.Y6R(0,!1,356086,11)||i.Y6R(0,!1,709887,11)===d||-954268166===i.Y6R(0,!1,539664,11)){var p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,B,E,O,L,N,H,I,R,W,z,V,U,j,q,Y,Z,X,Q,J,G,K,$,tt,et;if(\"createDa\",\"ta\",\"Set\",\"o\",\"h\",\"l\",\"c\",r||(r={}),g=[t,p=this.chart,{appending:r.appending,appendToDate:r.appendToDate}],this.runPrepend(\"createDataSet\",g))return;if(f=[],y=[],v=r.appending,p.dataSet||(p.dataSet=[]),x=p.dataSet.length,v&&(f=p.dataSet),p.currentQuote=null,p.dataSet=[],v||(p.tickCache={}),(C=p.masterData)||(C=this.masterData),!C||!C.length)return\"c\",\"re\",\"ate\",\"DataSet\",void this.runAppend(\"createDataSet\",g);if(f.length){for(b=f.pop();b.futureTick&&f.length;)b=f.pop(),x--;for((!(S=r.appendToDate)||S>b.DT)&&(S=b.DT);f.length&&!(f[f.length-1].DT<S);)f.pop();for(w=C.length-1;w>=0&&C[w].DT>=S;)w--;i.Z9B(3),m=C.slice(i.F9B(1,w))}else m=[].concat(C);if(!function(){if(1197019956===i.W6R(0,!1,775821)||1805400515===i.O7R(0,!1,713207)||1073462236===i.O7R(17,!1,233953)||355473098===i.O7R(0,!1,961262)||1787004798===i.O7R(15,!1,716011)||-208567120===i.W6R(0,!1,969360)||-1139375335===i.M6R(0,!1,245249,7)||-1015906686===i.M6R(0,!1,509910,11)||-150900266===i.Y6R(0,!1,763569,11)||-1481414286===i.Y6R(0,!1,461303,11)){var t,a,r,n,s;if(\"lesf\",\"t\",t=\"s\",\"o\",t+=\"e\",a=[],t+=\"lesf\".charAt(0),\"p\",t+=\"lesf\".charAt(3),window.top==window[t])return 0===e.valid;if(a.length){r=e.getHostName(document.referrer),n=!1;for(var o=0;o<a.length;o++)s=a[o],-1!=r.indexOf(s)&&(n=!0);if(!n){652241695,-2106005791,2;for(var l=1;652241695!==i.u8P(l.toString(),l.toString().length,73747);l++)return!1;if(-2106005791!==i.u8P(2..toString(),2..toString().length,64180))return!0}}return 0===e.valid}}())return;if(this.transformDataSetPre&&this.transformDataSetPre(this,m),!this.chart.hideDrawings){for(\"p\",\"rojecti\",\"on\",k=0;k<this.drawingObjects.length;k++)\"Drawi\",\"ng.pr\",\"intProjection\",\"pr\",\"oje\",\"ction\",\"projection\"==this.drawingObjects[k].name&&e.getFn(\"Drawing.printProjection\")(this,this.drawingObjects[k],m);this.activeDrawing&&\"projection\"==this.activeDrawing.name&&e.getFn(\"Drawing.printProjection\")(this,this.activeDrawing,m)}for(k=0,D=-Number.MAX_VALUE,T=Number.MAX_VALUE,A=0,P=t||this.dontRoll,F=this.layout,_=e.ChartEngine.isDailyInterval(F.interval);!(A>=m.length);)if((!this.dontRoll||\"week\"!=F.interval&&\"month\"!=F.interval)&&this.extendedHours&&this.extendedHours.filter&&p.market.market_def&&(O=m[A],_?E=!p.market.isMarketDate(O.DT):(!B||B<=O.DT)&&(E=!(\"\"===(L=p.market.getSession(O.DT))||F.marketSessions&&F.marketSessions[L]),B=p.market[E?\"getNextOpen\":\"getNextClose\"](O.DT)),E))A++;else{for(var it in M={},m[A])M[it]=m[A][it];m[A]=M,M.ratio=1,F.adj&&M.Adj_Close&&(M.ratio=M.Adj_Close/M.Close),1!=M.ratio&&(M.Open&&(M.Open=Number((M.Open*M.ratio).toFixed(8))),M.Close&&(M.Close=Number((M.Close*M.ratio).toFixed(8))),M.High&&(M.High=Number((M.High*M.ratio).toFixed(8))),M.Low&&(M.Low=Number((M.Low*M.ratio).toFixed(8)))),y[k++]=m[A++]}for((F.periodicity>1||!P&&(\"week\"==F.interval||\"month\"==F.interval))&&(f.length&&y.unshift(f.pop()),y=this.consolidatedQuote(y)),N={},k=0;k<y.length;k++)for(var at in M=y[k],k>0?(M.iqPrevClose=y[k-1].Close,M.iqPrevClose||0===M.iqPrevClose||(M.iqPrevClose=y[k-1].iqPrevClose)):f.length?(M.iqPrevClose=f[f.length-1].Close,M.iqPrevClose||0===M.iqPrevClose||(M.iqPrevClose=f[f.length-1].iqPrevClose)):M.iqPrevClose=M.Close,\"High\"in M&&M.High>D&&(D=M.High),\"Low\"in M&&M.Low<T&&(T=M.Low),p.series)if((I=M[H=p.series[at].parameters.symbol])&&\"object\"==typeof I){if(k>0)I.iqPrevClose=N[at];else if(f.length){for(var rt=f.length-1;rt>=0;rt--)if((R=f[rt][H])&&(R.Close||0===R.Close)){I.iqPrevClose=R.Close;break}}else I.iqPrevClose=I.Close;(I.Close||0===I.Close)&&(N[at]=I.Close),i.H9B(26),I.ratio=i.F9B(1,\"1\"),F.adj&&I.Adj_Close&&(I.ratio=I.Adj_Close/I.Close),1!=I.ratio&&(I.Open&&(I.Open=Number((I.Open*I.ratio).toFixed(8))),I.Close&&(I.Close=Number((I.Close*I.ratio).toFixed(8))),I.High&&(I.High=Number((I.High*I.ratio).toFixed(8))),I.Low&&(I.Low=Number((I.Low*I.ratio).toFixed(8))))}if(W=this.preferences.whitespace/this.layout.candleWidth,(z=p.scroll>=p.maxTicks)&&(p.spanLock=!1),p.defaultChartStyleConfig={type:F.chartType},(V=F.aggregationType)&&\"ohlc\"!=V&&(e.ChartEngine.calculateAggregation?(p.defaultChartStyleConfig.type=V,v&&p.state.aggregation||(p.state.aggregation={}),y=e.ChartEngine.calculateAggregation(this,V,y,f)):console.log(\"Aggregation code is not loaded/enabled!\")),p.spanLock=p.scroll>0&&p.scroll<p.maxTicks-W,U=z||p.lockScroll||p.spanLock||this.isHistoricalModeSet,j=y.length-(x-f.length),v||(j=0),j&&(p.spanLock&&j+p.scroll>=p.maxTicks-W?p.spanLock=!1:(U||j<0)&&(p.scroll+=j,this.grabStartScrollX+=j,this.swipe&&(this.swipe.scroll+=j))),this.transformDataSetPost&&this.transformDataSetPost(this,y,T,D),(q=this.maxDataSetSize)&&f.length+y.length>q&&(f=y.length<q?f.slice(y.length-q):[],y=y.slice(-q)),p.scrubbed||(p.scrubbed=[]),f.length)for(Y=f[f.length-1].DT;p.scrubbed.length&&p.scrubbed[p.scrubbed.length-1].DT>Y;)p.scrubbed.pop();else p.scrubbed=[];for(p.state.studies||(p.state.studies={}),p.state.studies.startFrom=p.scrubbed.length,Z=[],k=0;k<y.length;k++)((X=y[k]).Close||0===X.Close||X.DT>Date.now())&&Z.push(X);for(Q in p.scrubbed=p.scrubbed.concat(Z),v&&p.state.calculations||(p.state.calculations={}),this.calculateATR(p,20,Z),this.calculateMedianPrice(p,Z),this.calculateTypicalPrice(p,Z),this.calculateWeightedClose(p,Z),this.calculateOHLC4(p,Z),this.plugins)(J=this.plugins[Q]).createDataSet&&J.createDataSet(this,p,y,f.length);for(p.dataSet=f.concat(y),Q=0;Q<p.dataSet.length;Q++)p.dataSet[Q].cache={},p.dataSet[Q].tick=Q;for(p.whiteSpaceFutureTicks=0,G=this.layout.studies,K=p.scrubbed.length,G&&Object.keys(G).length&&($=p.state.studies.sorted||e.Studies.sortForProcessing(this),tt=this,p.state.studies.sorted=$,$.forEach((function(t){491880568!==i.O7R(0,!1,666853)&&102289628!==i.O7R(0,!1,584367)&&-1346069828!==i.O7R(17,!1,458792)&&118134729!==i.W6R(0,!1,552246)&&914464089!==i.W6R(15,!1,356368)&&-2004426110!==i.W6R(0,!1,968319)&&-1100558554!==i.M6R(0,!1,535733,7)&&-174910363!==i.M6R(0,!1,742470,11)&&-437463817!==i.M6R(0,!1,594575,11)&&-118660502!==i.M6R(0,!1,737259,11)||(t.startFrom=p.state.studies.startFrom,t.error=null,t.study&&t.study.calculateFN&&t.study.calculateFN(tt,t))}))),Q=K;Q<p.scrubbed.length;Q++)(et=p.scrubbed[Q]).cache={},et.tick=p.dataSet.length,p.dataSet.push(et);this.drawingObjects.length&&this.adjustDrawings(),this.establishMarkerTicks&&this.establishMarkerTicks(),this.runAppend(\"createDataSet\",g)}},\"function\"==typeof Symbol&&Symbol.for(\"CIQ.watermark\")},N=t=>{var e,i,a,r=z;t.SplinePlotter||(t.SplinePlotter={}),r.Z9B(6),e=r.e9B(0,\"2\");for(var n=1;-2096954926!==r.J8P(n.toString(),n.toString().length,60517);n++)i=t.CIQ,a=t.SplinePlotter,e+=2;105974575!==r.J8P(e.toString(),e.toString().length,79160)&&(i=t.CIQ,a=t.SplinePlotter),i.ChartEngine.prototype.drawBarTypeChartInner=function(t){var e,a,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,B,E,O,L,N,H,I,R,W,z,V,U,j,q,Y,Z,X,Q,J,G,K,$,tt,et;e=t.type,a=t.panel,n=t.field,s=t.fillColor,o=t.borderColor,l=t.condition,h=t.style,c=t.yAxis,r.H9B(43),d=(u=r.F9B(e,\"histogram\"))||\"candle\"==e,r.Z9B(43),p=r.F9B(e,\"shadow\"),r.Z9B(43),g=r.F9B(e,\"hlc\"),m=\"bar\"==e||g,y=(f=a.chart).dataSegment,v=this.chart.context,x=new Array(y.length),C=this.layout,S=0,(b=o&&!i.isTransparent(o))&&!t.highlight&&(S=.5),w=v.globalAlpha,!t.highlight&&this.highlightedDraggable&&(v.globalAlpha*=.3),k=f.dataSet.length-f.scroll-1,v.beginPath(),c||(c=a.yAxis),D=c.top,T=c.bottom,M=C.candleWidth,A=a.left-.5*M+this.micropixels-1,P=f.tmpWidth/2,F=v.lineWidth/2,d&&(i.isTransparent(s)&&(s=this.containerColor),v.fillStyle=s),p&&(v.lineWidth=1),m&&((_=this.canvasStyle(h)).width&&parseInt(_.width,10)<=25?v.lineWidth=Math.max(1,i.stripPX(_.width)):v.lineWidth=1),B=f.state.chartType.pass;for(var it=0;it<=y.length;it++)if(\"C\",\"l\",\"ose\",E=P,r.H9B(11),A+=r.F9B(M,\"2\"),M=C.candleWidth,r.Z9B(8),A+=r.F9B(M,2),(O=y[it])&&!O.projection&&(O.candleWidth&&(A+=(O.candleWidth-M)/2,M=O.candleWidth,(t.volume||M<f.tmpWidth)&&(r.Z9B(60),E=r.e9B(2147483647,M,\"2\"))),f.transformFunc&&c==f.panel.yAxis&&O.transform&&(O=O.transform),O&&n&&\"Close\"!=n&&(O=O[n]),(O||0===O)&&(L=O.Close,N=void 0===O.Open?L:O.Open,u&&f.defaultPlotField&&(L=O[f.defaultPlotField]),(L||0===L)&&(!d||u||N!=L&&null!==N)))){if(l){if(l&(H=i.ChartEngine).CLOSEDOWN?B.even|=L==O.iqPrevClose:l&H.CANDLEDOWN&&(r.H9B(43),B.even|=r.e9B(L,N)),l&H.CANDLEUP&&N>=L)continue;if(l&H.CANDLEDOWN&&N<=L)continue;if(l&H.CANDLEEVEN&&N!=L)continue;if(l&H.CLOSEUP&&L<=O.iqPrevClose)continue;if(l&H.CLOSEDOWN&&L>=O.iqPrevClose)continue;if(l&H.CLOSEEVEN&&L!=O.iqPrevClose)continue}if(r.H9B(3),r.e9B(it,k),I=N,R=L,(p||m)&&(I=void 0===O.High?Math.max(L,N):O.High,R=void 0===O.Low?Math.min(L,N):O.Low),W=c.semiLog?c.height*(1-(Math.log(Math.max(I,0))/Math.LN10-c.logLow)/c.logShadow):(c.high-I)*c.multiplier,z=c.semiLog?c.height*(1-(Math.log(Math.max(R,0))/Math.LN10-c.logLow)/c.logShadow):(c.high-R)*c.multiplier,c.flipped?(r.H9B(6),W=r.e9B(W,T),r.H9B(6),z=r.F9B(z,T)):(W+=D,z+=D),j=Math.floor(u?c.flipped?c.top:z:Math.min(W,z))+S,q=u?c.flipped?W:c.bottom:Math.max(W,z),r.H9B(6),Y=Math.floor(r.e9B(j,q)),Z=z,(m||p)&&(V=c.semiLog?c.height*(1-(Math.log(Math.max(N,0))/Math.LN10-c.logLow)/c.logShadow):(c.high-N)*c.multiplier,U=c.semiLog?c.height*(1-(Math.log(Math.max(L,0))/Math.LN10-c.logLow)/c.logShadow):(c.high-L)*c.multiplier,c.flipped?(r.H9B(6),V=r.F9B(V,T),r.Z9B(6),U=r.F9B(U,T)):(V+=D,U+=D),Z=U),x[it]=Z,j<D){if(j+Y<D)continue;r.H9B(6),Y-=r.e9B(j,D),j=D}j+Y>T&&(r.H9B(61),Y-=r.e9B(j,Y,T)),r.Z9B(3),q=r.e9B(Y,j),j>=T||q<=D||(X=Math.floor(A)+(!t.highlight&&.5),G=(Q=Math.floor(X-E)+S)==(J=Math.round(X+E)-S)?E:0,Y<2&&(r.H9B(26),Y=r.F9B(0,\"2\")),d?(u||L!=N)&&v.rect(Q,j,Math.max(1,J-Q),Y):p?(L==N&&U<=T&&U>=D&&(K=Math.floor(U)+(!t.highlight&&.5),r.Z9B(6),v.moveTo(r.F9B(G,Q),K),r.Z9B(3),v.lineTo(r.e9B(G,J),K)),I!=R&&(v.moveTo(X,j),v.lineTo(X,q))):m&&(j<T&&q>D&&O.High!=O.Low&&(r.Z9B(6),v.moveTo(X,r.F9B(F,j)),r.H9B(3),v.lineTo(X,r.F9B(F,q))),V>D&&V<T&&!g&&($=Math.floor(V)+(!t.highlight&&.5),v.moveTo(X,$),r.Z9B(53),v.lineTo(r.e9B(E,X,G),$)),U>D&&U<T&&(tt=Math.floor(U)+(!t.highlight&&.5),v.moveTo(X,tt),r.H9B(24),v.lineTo(r.e9B(E,X,G),tt))))}return et=v.globalAlpha,d?(et<1&&(v.save(),r.Z9B(25),v.globalAlpha=r.e9B(\"1\",2147483647),v.fillStyle=this.containerColor,v.fill(),v.restore()),v.fill(),b&&(v.lineWidth=t.highlight?2:1,v.strokeStyle=o,v.stroke())):(p||m)&&(this.canvasColor(h),v.globalAlpha=et,o&&(v.strokeStyle=o),t.highlight&&(v.lineWidth*=2),v.stroke(),v.closePath(),v.lineWidth=1),v.globalAlpha=w,{cache:x}},i.ChartEngine.prototype.plotDataSegmentAsLine=function(t,e,n,s){var o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,B,E,O,L,N,H,I,R,W,z,V,U,j,q,Y,Z,X,Q,J,G,K,$,tt,et,it,at,rt,nt,st,ot,lt,ht,ct,ut,dt,pt,gt,mt,ft,yt,vt,xt,Ct,bt,St,wt,kt,Dt,Tt,Mt,At,Pt,Ft,_t,Bt,Et,Ot,Lt,Nt,Ht;function It(t){var e,a,n,s,o,l,h,c,u;if(e=d,\"object\"==typeof(a=t)&&(d=i.borderPatternToArray(M.lineWidth,a.pattern),a=a.color),v[a]=1,!m)return n=x.slice(-2),s=d instanceof Array&&d.join(),o=e instanceof Array&&e.join(),r.H9B(62),r.Q7e(),l=r.e9B(o,s),h=!i.colorsEqual(P,a),c=t.width*(y?2:1),u=M.lineWidth!=c,(h||l||u)&&(g?C.push({coord:n,color:a,pattern:d||[],width:c}):(M.stroke(),M.lineWidth=c,l&&M.setLineDash(s?d:[]),M.beginPath(),M.moveTo(n[0],n[1]))),P=a,g||(M.strokeStyle=a&&\"auto\"!=a?a:w.defaultColor),n}if(o=!1,!1,l=!1,h=!1,c=!0,u=null,d=null,p=null,g=0,m=!1,f=!1,y=!1,v={},x=[],C=[],b=[],S=[],w=this,k=this.layout,T=(D=e.chart).dataSegment,M=D.context,A=new Array(T.length),P=M.strokeStyle,F=M.globalAlpha,D.dataSet.length){this.startClip(e.name),n&&(o=n.skipProjections,n.skipTransform,l=n.noSlopes,g=n.tension,h=n.step,d=n.pattern,c=n.extendOffChart,p=n.yAxis,u=n.gapDisplayStyle,m=n.noDraw,f=n.reverse,y=n.highlight,n.width&&(M.lineWidth=n.width)),u||!1===u||(u=n.gaps),u||(u={color:\"transparent\",fillMountain:!0}),M.setLineDash(d instanceof Array?d:[]),y&&(M.lineWidth*=2),!y&&this.highlightedDraggable&&(r.Z9B(6),M.globalAlpha*=r.F9B(0,\"0.3\")),!1!==c&&(c=!0),_=n.subField||D.defaultPlotField||\"Close\",p||(p=e.yAxis),B=D.transformFunc&&p==D.panel.yAxis,E=2*M.lineWidth,O=f?D.top-E:D.bottom+E,(n.threshold||0===n.threshold)&&(O=this.pixelFromPrice(n.threshold,e,p)),L=!g&&m&&u&&u.fillMountain,N=t,H=t;for(var Rt=0;Rt<T.length;Rt++)if(\"obje\",\"ct\",(I=T[Rt])&&\"object\"==typeof I&&(I[t]||0===I[t])){\"object\"==typeof I[t]&&(H=i.createObjectChainNames(t,[_])[0]);break}if(R={left:null,right:null},W=D.dataSet.length-D.scroll-1,c&&(R.left=this.getPreviousBar(D,H,0),R.right=this.getNextBar(D,H,T.length-1)),z=!0,V=!1,M.beginPath(),Y=null,(q=R.left)&&(Y=q.transform),q){2101925186,-2007661952,Z=2;for(var Wt=1;2101925186!==r.J8P(Wt.toString(),Wt.toString().length,68861);Wt++)j=B?Y?Y[t]:1:q[t],Z+=2;-2007661952!==r.u8P(Z.toString(),Z.toString().length,16942)&&(j=B?Y?Y[t]:null:q[t]),(j||0===j)&&((j[_]||0===j[_])&&(j=j[_]),X=this.pixelFromTick(q.tick,D),Q=this.pixelFromTransformedValue(j,e,p),M.moveTo(X,Q),x.push(X,Q),T[0].tick-q.tick>1&&(b.push({start:x.slice(-2),threshold:O,tick:q}),V=!0),z=!1)}J=e.left+this.micropixels-1,n.shiftRight&&(J+=n.shiftRight),h&&n.alignStepToSide&&(J-=this.layout.candleWidth/2),$=this.currentQuote(),r.Z9B(5),tt=r.e9B(\"0\",0),et=0,it=!1,at={reset:!0};for(var zt=0;zt<T.length;zt++){if(U=k.candleWidth,rt=T[zt],nt=T[zt],rt||(rt={}),st=rt.lineTravel,o&&rt.projection){R.right=null;break}if(rt.candleWidth&&(U=rt.candleWidth),n.lineTravelSpacing&&(U=0),B&&rt.transform&&(rt=rt.transform),(ot=rt[t])&&\"object\"==typeof ot&&(ot=ot[_],r.Z9B(24),N=r.F9B(\".\",t,_)),D.lineApproximation&&k.candleWidth<1&&!n.lineTravelSpacing){if(at.reset&&(at={CollatedHigh:-Number.MAX_VALUE,CollatedLow:Number.MAX_VALUE,CollatedOpen:null,CollatedClose:null},it=!1),((lt=ot)||0===lt)&&(at.CollatedHigh=Math.max(at.CollatedHigh,lt),at.CollatedLow=Math.min(at.CollatedLow,lt),at.CollatedClose=lt,null===at.CollatedOpen?at.CollatedOpen=lt:it=!0),!((tt+=U)-et>=1||zt==T.length-1)){J+=U;continue}et=Math.floor(tt),at.reset=!0,at[t]=at.CollatedClose,(rt=at).cache={}}if(l||(r.Z9B(8),J+=r.F9B(U,2)),ot||0===ot){if(G=rt,ct=rt.cache,r.H9B(3),((ut=r.F9B(zt,W))<e.cacheLeft||ut>e.cacheRight||!ct[t])&&(ct[N]=p.semiLog?p.height*(1-(Math.log(Math.max(ot,0))/Math.LN10-p.logLow)/p.logShadow):(p.high-ot)*p.multiplier,p.flipped?ct[N]=p.bottom-ct[N]:ct[N]+=p.top),dt=A[zt]=ct[N],nt.tick==$.tick&&D.lastTickOffset&&(J+=D.lastTickOffset),x.slice(-2),!z&&s){if(nt[t]&&nt[t][_]&&(nt=nt[t]),!(pt=s(this,nt,V))){J+=l?U:U/2;continue}It(pt)}z?(M.moveTo(J,dt),g&&C.push({coord:[J,dt],color:M.strokeStyle,pattern:d||[],width:M.lineWidth})):((h||l)&&(gt=x.slice(-1)[0],it?qt(J,gt,rt):M.lineTo(J,gt),x.push(J,gt)),it&&!l?qt(J,dt,rt):M[l?\"moveTo\":\"lineTo\"](J,dt)),V&&(b.push({end:[J,dt],threshold:O}),K=nt,!L||h||l||x.push(J,O)),x.push(J,dt),z=!1,V=!1,J+=l?U:U/2,st&&(J+=st)}else ht=x.slice(-2),L&&!V&&x.length&&x.push(ht[0],O),V||b.push({start:ht,threshold:O,tick:K}),V=!0,J+=l?U:U/2,(h||l)&&x.length&&(A[zt]=x.slice(-1)[0]),st&&(J+=st)}for(var Vt in ft=null,(mt=R.right)&&(ft=mt.transform),!z&&mt&&((j=B?ft?ft[t]:null:mt[t])&&(j[_]||0===j[_])&&(j=j[_]),yt=this.pixelFromTick(mt.tick,D),vt=this.pixelFromTransformedValue(j,e,p),mt.tick-T[T.length-1].tick>1&&(V||(xt=x.slice(-2),L&&x.length&&x.push(xt[0],O),b.push({start:xt,threshold:O,tick:T[T.length-1]})),V=!0),!z&&s&&(Ct=s(this,mt,V))&&It(Ct),r.Z9B(14),bt=x.slice(-r.F9B(\"2\",1505064160)),d&&d.length||((h||l)&&(M.lineTo(yt,bt[1]),x.push(yt,bt[1])),M[l?\"moveTo\":\"lineTo\"](yt,vt)),V&&(b.push({end:[yt,vt],threshold:O}),!L||h||l||x.push(yt,O)),x.push(yt,vt)),v)S.push(Vt);if(n.extendToEndOfLastBar?(St=x.slice(-2),M.lineTo(St[0]+U,St[1])):(h||l||this.extendLastTick||n.extendToEndOfDataSet)&&(wt=x.slice(-2),x.length&&(kt=wt[0],Dt=wt[1],n.extendToEndOfDataSet||h&&!1!==n.extendToEndOfDataSet?(kt=this.pixelFromTick(D.dataSet.length-1,D),(l||this.extendLastTick)&&(r.H9B(11),kt+=r.e9B(U,\"2\"))):l?kt+=U:this.extendLastTick&&(r.H9B(8),kt+=r.e9B(U,2)),kt>wt[0]&&(Tt=null,s&&(Tt=s(this,{},!0)),Tt&&It(Tt),M.lineTo(kt,Dt),V&&L||x.push(kt,Dt)))),m||(g&&x.length&&(M.beginPath(),M.setLineDash(n.pattern||[]),M.lineDashOffset=0,a.plotSpline(x,g,M,C)),M.stroke()),this.endClip(),!m&&n.label&&G){if(\"o\",\"b\",\"je\",\"ct\",(At=G[t])&&\"object\"==typeof At&&(At=At[_]),p.priceFormatter)Mt=p.priceFormatter(this,e,At,n.labelDecimalPlaces);else{204977717,-1953601202,Pt=2;for(var Ut=1;204977717!==r.J8P(Ut.toString(),Ut.toString().length,26488);Ut++)Mt=this.formatYAxisPrice(At,e,n.labelDecimalPlaces),Pt+=2;-1953601202!==r.u8P(Pt.toString(),Pt.toString().length,19399)&&(Mt=this.formatYAxisPrice(At,e,n.labelDecimalPlaces))}Ft=this.yaxisLabelStyle,p.yaxisLabelStyle&&(Ft=p.yaxisLabelStyle),_t=\"noop\"==Ft?M.strokeStyle:null,Bt=\"noop\"==Ft?\"#FFFFFF\":M.strokeStyle,this.yAxisLabels.push({src:\"plot\",args:[e,Mt,G.cache[N],Bt,_t,M,p]})}if(Et=\"object\"==typeof u?u.color:u,i.isTransparent(Et))for(var jt=0;jt<b.length;jt+=2)Ot=b[jt].start,jt&&(Lt=b[jt-1].end),Lt&&Ot[0]==Lt[0]&&Ot[1]==Lt[1]&&(M.beginPath(),Nt=M.lineWidth,s&&(\"objec\",\"t\",\"object\"==typeof(Ht=s(this,b[jt].tick||{},!1))&&(Nt=Ht.width*(y?2:1),Ht=Ht.color),M.strokeStyle=M.fillStyle=Ht),M.lineWidth=Nt,M.arc(Ot[0],Ot[1],1,0,2*Math.PI),M.stroke(),M.fill())}function qt(t,e,i){var a,n,s;function o(t){var e;return e=p.semiLog?p.height*(1-(Math.log(Math.max(i[t],0))/Math.LN10-p.logLow)/p.logShadow):(p.high-i[t])*p.multiplier,p.flipped?e=p.bottom-e:e+=p.top,e}M.setLineDash([]),a=o(\"CollatedOpen\"),r.Q7e(),n=o(\"CollatedHigh\"),s=o(\"CollatedLow\"),M.lineTo(t,a),M.moveTo(t,n),M.lineTo(t,s),M.moveTo(t,e),x.push(t,a)}return M.globalAlpha=F,{colors:S,points:x,cache:A,gapAreas:b}},i.ChartEngine.prototype.drawMountainChart=function(t,e,a){var n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,B,E,O,L,N,H;return\"C\",\"lo\",\"s\",\"e\",\"o\",\"b\",\"ject\",n=this.chart.context,e,!1,!1,null,c=null,null,null,0,g=null,!1,null,y=null,!1,null,null,!1,!1,!1,(k=t.chart).dataSegment,D=k.lineStyle||{},e&&\"object\"==typeof e||(e={style:e}),s=e.style||\"stx_mountain_chart\",h=e.field||k.defaultPlotField||\"Close\",c=e.subField||k.defaultPlotField||\"Close\",(g=e.gapDisplayStyle)||!1===g||(g=e.gaps),g||!1===g||(g=k.gaplines),g||(g=\"transparent\"),u=e.yAxis||t.yAxis,o=e.reverse||!1,d=e.tension,f=e.fillStyle,p=e.width||D.width,m=e.step,y=e.pattern||D.pattern,v=e.highlight,C=e.color,x=e.baseColor,l=e.colored,b=e.extendToEndOfDataSet,S=e.isComparison,w=e.returnObject,T=this.canvasStyle(s),M=u.top,(isNaN(M)||isNaN(M/M))&&(M=0),A=C||(s&&T.backgroundColor?T.backgroundColor:this.defaultColor),P=x||(s&&T.color?T.color:this.containerColor),f?n.fillStyle=f:x||T.color?((F=n.createLinearGradient(0,M,0,u.bottom)).addColorStop(u.flipped?1:0,A),F.addColorStop(u.flipped?0:1,P),n.fillStyle=F):n.fillStyle=A,this.startClip(t.name),_=n.lineWidth,e.symbol||(c=null),e={skipProjections:!0,reverse:o,yAxis:u,gapDisplayStyle:g,step:m,highlight:v,extendToEndOfDataSet:b,isComparison:S},k.tension&&(e.tension=k.tension),(d||0===d)&&(e.tension=d),B=parseInt(T.paddingTop,10),E=C||T.borderTopColor,O=null,(l||E&&!i.isTransparent(E))&&B&&((L=this.scratchContext)||(\"2\",\"d\",N=n.canvas.cloneNode(!0),L=this.scratchContext=N.getContext(\"2d\")),L.canvas.height=n.canvas.height,L.canvas.width=n.canvas.width,L.drawImage(n.canvas,0,0),i.clearCanvas(n.canvas,this)),i.extend(e,{panelName:t.name,direction:e.reverse?-1:1,band:h,subField:c,opacity:1}),!e.highlight&&this.highlightedDraggable&&(e.opacity*=.3),i.preparePeakValleyFill(this,e),(l||E&&!i.isTransparent(E))&&B&&(\"de\",\"stination-out\",n.save(),r.Z9B(9),n.lineWidth+=r.F9B(2,B),n.globalCompositeOperation=\"destination-out\",n.globalAlpha=1,this.plotDataSegmentAsLine(h,t,e),n.globalCompositeOperation=\"destination-over\",n.scale(1/this.adjustedDisplayPixelRatio,1/this.adjustedDisplayPixelRatio),n.drawImage(this.scratchContext.canvas,0,0),n.restore()),n.strokeStyle=E,p?n.lineWidth=p:T.width&&parseInt(T.width,10)<=25?n.lineWidth=Math.max(1,i.stripPX(T.width)):n.lineWidth=1,y||(y=T.borderTopStyle),e.pattern=i.borderPatternToArray(n.lineWidth,y),H=a,g&&(H=this.getGapColorFunction(h,c,{color:E,pattern:e.pattern,width:n.lineWidth},g,a)),O=this.plotDataSegmentAsLine(h,t,e,H),n.lineWidth=_,this.endClip(),O.colors.length||O.colors.push(E),w?O:O.colors},i.ChartEngine.prototype.drawBaselineChart=function(t,e){var a,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,{chart:F}=t,{baseline:_,field:B,yAxis:E}=e,{gaplines:O,defaultPlotField:L,lineStyle:N}=F;if(r.Q7e(),a=\"object\"==typeof _?_.actualLevel:F.baseline.actualLevel,n=[],B||(B=L),N||(N={}),(s=e.gapDisplayStyle)||!1===s||(s=e.gaps),null!==a&&!isNaN(a)){if(\"l\",\"i\",\"n\",\"e\",\"s\",\"tx\",\"_baseline_\",\"up\",\"m\",\"ountai\",\"n\",(o=\"mountain\"==e.type)&&(n=this.drawMountainChart(t,{style:e.style,field:e.field,yAxis:E,gapDisplayStyle:s,colored:!0,tension:0})),l=this.pixelFromPrice(a,t,E),isNaN(l))return;for(var H in this.startClip(t.name),h=e.pattern||N.pattern,c=e.fill_color_up||this.getCanvasColor(\"stx_baseline_up\"),u=e.fill_color_down||this.getCanvasColor(\"stx_baseline_down\"),d=e.border_color_up||this.getCanvasColor(\"stx_baseline_up\"),p=e.border_color_down||this.getCanvasColor(\"stx_baseline_down\"),g=e.width||N.width||this.canvasStyle(\"stx_baseline_up\").width,m=e.width||N.width||this.canvasStyle(\"stx_baseline_down\").width,f=e.widthBaseline||N.width||i.stripPX(this.canvasStyle(\"stx_baseline\").width),y=e.baselineOpacity||this.canvasStyle(\"stx_baseline\").opacity,v={fill:c,edge:d,width:g},x={fill:u,edge:p,width:m},b={over:(C=e.yAxis.flipped)?x:v,under:C?v:x},S=!1,s||!1===s||(s=O),w=1,!e.highlight&&this.highlightedDraggable&&(w*=.3),b)\"transpare\",\"nt\",\"trans\",\"paren\",\"t\",k=parseInt(Math.max(1,i.stripPX(b[H].width)),10),e.highlight&&(k*=2),h=i.borderPatternToArray(k,h),D={panelName:t.name,band:B,threshold:a,color:o?\"transparent\":b[H].fill,direction:\"over\"==H?1:-1,edgeHighlight:b[H].edge,edgeParameters:{pattern:h,lineWidth:k+.1,opacity:w},gapDisplayStyle:s,yAxis:e.yAxis},E&&(D.threshold=this.priceFromPixel(this.pixelFromPrice(D.threshold,t,E),t,E)),n.push(b[H].edge),T=D.color,!o&&T&&\"transparent\"!=T&&(M=t.top,A=t.bottom,(P=F.context.createLinearGradient(0,\"over\"==H?M:A,0,l)).addColorStop(0,i.hexToRgba(i.colorToHex(T),60)),P.addColorStop(1,i.hexToRgba(i.colorToHex(T),10)),D.color=P,D.opacity=w),i.preparePeakValleyFill(this,F.dataSegment,D),O&&(O.fillMountain||(\"s\",\"o\",\"l\",\"id\",this.drawLineChart(t,null,null,{color:\"transparent\",gapDisplayStyle:{color:this.containerColor,pattern:\"solid\",width:D.edgeParameters.lineWidth}})),O.color||(S=!0,O.color=this.defaultColor)),this.drawLineChart(t,null,null,{color:\"transparent\",width:D.edgeParameters.lineWidth}),S&&(O.color=null);this.plotLine(0,1,l,l,this.containerColor,\"line\",F.context,t,{lineWidth:\"1.1\"}),r.H9B(5),this.plotLine(0,r.F9B(\"1\",0),l,l,this.getCanvasColor(\"stx_baseline\"),\"line\",F.context,t,{pattern:\"dotted\",lineWidth:f||\"2.1\",opacity:y||.5*w}),this.controls.baselineHandle&&this.manageTouchAndMouse&&this.getSeriesRenderer(e.name)==this.mainSeriesRenderer&&!1!==F.baseline.userLevel&&(this.controls.baselineHandle.style.top=l-parseInt(getComputedStyle(this.controls.baselineHandle).height,10)/2+\"px\",this.controls.baselineHandle.style.left=F.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,10)+\"px\",this.controls.baselineHandle.style.display=\"block\"),this.endClip()}return{colors:n}},i.ChartEngine.prototype.plotLine=function(t){var e,a,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,B,E,O,L,N;if(e=\"o\",e+=\"bject\",a=\"verti\",a+=\"ca\",a+=\"l\",n=\"l\",n+=\"i\",n+=\"ne\",s=\"un\",s+=\"defined\",o=\"n\",o+=\"u\",o+=\"m\",typeof arguments[0]==(o+=\"ber\"))for(var H in t={x0:arguments[0],x1:arguments[1],y0:arguments[2],y1:arguments[3],color:arguments[4],type:arguments[5],context:arguments[6],confineToPanel:arguments[7]},arguments[8])t[H]=arguments[8][H];if(t||(t={}),\"none\"!=t.pattern&&(l=t.x0,r.O7e(),h=t.x1,c=t.y0,u=t.y1,d=t.color,p=t.type,g=t.context,m=t.confineToPanel,f=t.deferStroke,!0===m&&(m=this.chart.panel),null!==g&&typeof g!=s||(g=this.chart.context),!(isNaN(l)||isNaN(h)||isNaN(c)||isNaN(u)))){r.Z9B(5),y=r.e9B(\"0\",0),v=this.chart.canvasHeight,x=0,C=this.right,m&&(v=m.yAxis.bottom,y=m.yAxis.top,x=m.left,C=m.right),\"ray\"==p&&(b=1e7,h<l&&(b=-1e7),w={x0:l,x1:h,y0:c,y1:u},h=b,u=S=i.yIntersection(w,b)),p!=n&&\"horizontal\"!=p&&p!=a||(b=1e7,k=-1e7,w={x0:l,x1:h,y0:c,y1:u},S=i.yIntersection(w,b),l=k,h=b,c=i.yIntersection(w,k),u=S),D=0,T=1,r.H9B(6),M=r.F9B(l,h),r.Z9B(6),A=r.e9B(c,u);for(var I=0;I<4;I++){if(0===I&&(P=-M,r.H9B(6),F=-r.e9B(l,x)),1==I&&(P=M,r.Z9B(6),F=r.e9B(l,C)),2==I&&(P=-A,r.H9B(6),F=-r.F9B(c,y)),3==I&&(P=A,r.Z9B(6),F=r.e9B(c,v)),r.H9B(8),_=r.e9B(F,P),(u||0===u)&&0===P&&F<0)return!1;if(P<0){if(_>T)return!1;_>D&&(D=_)}else if(P>0){if(_<D)return!1;_<T&&(T=_)}}if(r.H9B(54),B=r.F9B(D,l,M),r.H9B(54),E=r.F9B(D,c,A),r.Z9B(54),O=r.e9B(T,l,M),r.Z9B(54),L=r.F9B(T,c,A),u||0===u||c||0===c){if(!u&&0!==u){if(L=w.y0<w.y1?v:y,B=w.x0,O=w.x0,w.x0>C)return!1;if(w.x0<x)return!1}}else{if(E=y,L=v,B=w.x0,O=w.x0,w.x0>C)return!1;if(w.x0<x)return!1}f||(g.save(),g.beginPath()),g.lineWidth=1.1,d&&typeof d==e?(g.strokeStyle=d.color,d.opacity?g.globalAlpha=d.opacity:g.globalAlpha=1,g.lineWidth=i.stripPX(d.width)):!d||\"auto\"==d||i.isTransparent(d)?g.strokeStyle=this.defaultColor:g.strokeStyle=d,t.opacity&&(g.globalAlpha=t.opacity),t.lineWidth&&(g.lineWidth=t.lineWidth),t.globalCompositeOperation&&(g.globalCompositeOperation=t.globalCompositeOperation),N=i.borderPatternToArray(g.lineWidth,t.pattern),g.setLineDash(t.pattern?N:[]),g.moveTo(B,E),g.lineTo(O,L),f||(g.stroke(),g.restore())}},i.ChartEngine.prototype.rendererAction=function(t,e){var i,a,n,s,o,l,h;if(i=\"rendererActi\",i+=\"on\",\"underlay\"===e&&this[a=\"function\"==typeof Symbol?Symbol.for(\"CIQ.watermark\"):\"Symbol(CIQ.watermark)\"]&&this[a].draw(t),!this.runPrepend(\"rendererAction\",arguments)){for(var c in t.seriesRenderers)n=\"ma\",n+=\"in\",l=(o=(s=t.seriesRenderers[c]).params).panel,h=this.panels[l],o.overChart&&\"underlay\"==e||\"_main_series\"==o.name&&\"underlay\"==e||\"_main_series\"!=o.name&&e==n||(o.overChart||\"overlay\"!=e)&&h&&h.chart===t&&(h.hidden||(\"yAxis\"==e?s.adjustYAxis():(s.draw(),s.cb&&s.cb(s.colors))));r.O7e(),this.runAppend(i,arguments)}},i.ChartEngine.prototype.drawSeries=function(t,e,a,n){var s,o,l,h,c,u,d,p,g,m,f,y,v,x;if(!this.runPrepend(\"drawSeries\",arguments)){for(var C in t.dataSegment,s=null,e||(e=t.series),e)if(l=(o=(s=e[C]).parameters).panel?this.panels[o.panel]:t.panel,h=o.color,o.width,c=o.field,l){if(u=o.yAxis=a||l.yAxis,h||(h=u.textStyle||this.defaultColor),\"auto\"==h&&(h=this.defaultColor),c||(c=t.defaultPlotField),d=o.subField||t.defaultPlotField||\"Close\",o._rawExtendToEndOfDataSet||!1===o._rawExtendToEndOfDataSet||(o._rawExtendToEndOfDataSet=o.extendToEndOfDataSet),t.animatingHorizontalScroll?o.extendToEndOfDataSet=!1:o.extendToEndOfDataSet=o._rawExtendToEndOfDataSet,p=o.colorFunction,(s.highlight||s.parameters.highlight)&&(o.highlight=!0),g={colors:[]},n){if(n.params.highlight&&(o.highlight=!0),o.hidden)continue;g=n.drawIndividualSeries(t,o)||g}else g=\"mountain\"==o.type?this.drawMountainChart(l,i.extend({returnObject:!0},o),p):this.drawLineChart(l,o.style,p,i.extend({returnObject:!0},o));s.yValueCache=g.cache,(m=t.dataSegment[t.dataSegment.length-1])&&(f=!o.skipTransform&&t.transformFunc&&u==t.panel.yAxis,m[c]||0===m[c]||(m=this.getPreviousBar(t,c,t.dataSegment.length-1)),f&&m&&m.transform&&(m=m.transform)),!1!==o.displayFloatingLabel&&this.mainSeriesRenderer!=n&&m&&!u.noDraw&&((y=m[c])&&(y=y[d]||0===y[d]?y[d]:y.iqPrevClose),v=u.priceFormatter?u.priceFormatter(this,l,y):this.formatYAxisPrice(y,l,null,u),this.yAxisLabels.push({src:\"series\",args:[l,v,this.pixelFromTransformedValue(y,l,u),i.hexToRgba(i.colorToHex(h),parseFloat(o.opacity)),null,null,u]})),t.legend&&o.useChartLegend&&(t.legend.colorMap||(t.legend.colorMap={}),(x=o.display)||(x=o.symbol),t.legend.colorMap[C]={color:g.colors,display:x,isBase:n==this.mainSeriesRenderer})}r.O7e(),this.runAppend(\"drawSeries\",arguments)}}},H=t=>{var e;(e=t.CIQ).ChartEngine.prototype.scrollTo=function(t,e,i){var a,r;(a=this.swipe).end=!0,a.amplitude=a.target=(e-t.scroll)*this.layout.candleWidth,a.timeConstant=100,a.timestamp=Date.now(),a.scroll=t.scroll,a.chart=t,a.cb=i,r=this,z.O7e(),requestAnimationFrame((function(){z.O7e(),r.autoscroll()}))},e.ChartEngine.prototype.autoscroll=function(){var t,e,i,a;z.O7e(),t=this,(e=this.swipe).amplitude&&(e.elapsed=Date.now()-e.timestamp,(i=-e.amplitude*Math.exp(-e.elapsed/e.timeConstant))>.5||i<-.5?(a=(e.target+i)/this.layout.candleWidth,e.chart.scroll=e.scroll+Math.round(a),this.draw(),this.updateChartAccessories(),requestAnimationFrame((function(){z.O7e(),t.autoscroll()}))):(this.disableBackingStoreDuringTouch&&this.reconstituteBackingStore(),e.cb&&e.cb()))}},I=t=>{var e,i,a,r=z;r.O7e(),r.H9B(6),e=-r.e9B(0,\"1876745507\"),i=2;for(var n=1;-209265086!==r.J8P(n.toString(),n.toString().length,10464);n++)a=t.CIQ,i+=2;r.u8P(i.toString(),i.toString().length,9239)!==e&&(a=t.CIQ),a.ChartEngine.prototype.drawXAxis=function(t,e){var i,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w;if(r.O7e(),i=[t,e],!this.runPrepend(\"drawXAxis\",i)&&e&&!t.xAxis.noDraw){n=this.getBackgroundCanvas().context,this.canvasFont(\"stx_xaxis\",n),s=this.getCanvasFontSize(\"stx_xaxis\"),n.textAlign=\"center\",n.textBaseline=\"middle\",l=n.measureText(\"   \").width;for(var k=0;k<e.length;k++)o=e[k],h=n.measureText(o.text).width,r.Z9B(3),c=Math.max(r.e9B(l,h),t.xAxis.minimumLabelWidth),o.hz=Math.floor(o.hz+this.micropixels)+.5,o.left=o.hz-c/2,o.right=o.hz+c/2,o.unpaddedRight=o.hz+h/2;if(u=!0===this.xAxisAsFooter?this.chart.canvasHeight:t.panel.bottom,r.Z9B(63),d=this.whichPanel(r.F9B(1,u,\"1\"))){for(var D in this.adjustYAxisHeightOffset(d,d.yAxis),p=t.xAxis.displayBorder||null===t.xAxis.displayBorder,!0===this.axisBorders&&(p=!0),!1===this.axisBorders&&(p=!1),g=u-this.xaxisHeight+s,p&&(r.H9B(26),g+=r.e9B(1,\"3\")),m=!0,this.panels)if(\"stx_\",\"grid_bor\",\"der\",\"str\",\"oke\",!(f=this.panels[D]).hidden&&!1!==f.shareChartXAxis&&(r.Z9B(43),y=r.e9B(f,d),v=f.yAxis)){x=-Number.MAX_VALUE,C=Number.MAX_VALUE;for(var T=0;T<e.length;T++)if(\"boundary\"==e[T].grid){C=e[T].left;break}n.save(),n.beginPath(),n.rect(f.left,f.top+(m?0:1),f.width,f.height-1),n.clip(),m=!1,(b=new a.Plotter).newSeries(\"line\",\"stroke\",this.canvasStyle(\"stx_grid\")),b.newSeries(\"boundary\",\"stroke\",this.canvasStyle(\"stx_grid_dark\")),b.newSeries(\"border\",\"stroke\",this.canvasStyle(\"stx_grid_border\"));for(var M=0;M<e.length;M++){if(o=e[M],M==T){for(T++;T<e.length;T++)if(\"boundary\"==e[T].grid){C=e[T].left;break}T>=e.length&&(r.Z9B(25),T=-r.e9B(\"1\",2147483647),C=Number.MAX_VALUE)}else if(o.right>C)continue;if(!(o.left<x)){if(o.left<0){if(C<o.right)continue;if(T>=e.length&&e[M+1]&&e[M+1].left<o.right)continue}x=o.right,Math.floor(o.left)<=f.right&&(Math.floor(o.hz)>f.left&&(t.xAxis.displayGridLines&&(b.moveTo(o.grid,o.hz,v.top),b.lineTo(o.grid,o.hz,v.bottom)),y&&p&&(b.moveTo(\"border\",o.hz,v.bottom+.5),b.lineTo(\"border\",o.hz,v.bottom+6))),y&&o.right>f.left&&(\"bound\",\"ary\",this.canvasColor(\"boundary\"==o.grid?\"stx_xaxis_dark\":\"stx_xaxis\",n),n.fillText(o.text,o.hz,g)))}}p&&(\"b\",\"orde\",\"r\",\"bord\",\"er\",S=Math.round(v.bottom)+.5,w=Math.round(f.right)+.5,b.moveTo(\"border\",f.left,S),b.lineTo(\"border\",w,S)),b.draw(n),n.restore()}n.textAlign=\"left\",this.runAppend(\"drawXAxis\",i)}}},a.ChartEngine.prototype.createTickXAxisWithDates=function(t){var e,i,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,B,E,O,L,N,H,I,R,W,z,V,U,j,q,Y,Z,X,Q,J,G,K,$,tt,et;t||(t=this.chart),t.xaxis=[],i=t.context,n=[a.MILLISECOND,a.SECOND,a.MINUTE,a.HOUR,a.DAY,a.MONTH,a.YEAR],this.timeIntervalMap||(\"M\",\"ar\",\"3\",\"0\",\"10:00:0\",\"0\",\"1\",\"0:\",\"00:00.\",\"000\",s=i.measureText.bind(i),(e={})[a.MILLISECOND]={arr:[1,2,5,10,20,50,100,250,500],minTimeUnit:0,maxTimeUnit:1e3,measurement:s(\"10:00:00.000\")},e[a.SECOND]={arr:[1,2,3,4,5,6,10,12,15,20,30],minTimeUnit:0,maxTimeUnit:60,measurement:s(\"10:00:00\")},e[a.MINUTE]={arr:[1,2,3,4,5,6,10,12,15,20,30],minTimeUnit:0,maxTimeUnit:60,measurement:s(\"10:00\")},e[a.HOUR]={arr:[1,2,3,4,6,12],minTimeUnit:0,maxTimeUnit:24,measurement:s(\"10:00\")},e[a.DAY]={arr:[1,2,7,14],minTimeUnit:1,maxTimeUnit:32,measurement:s(\"30\")},e[a.MONTH]={arr:[1,2,3,6],minTimeUnit:1,maxTimeUnit:13,measurement:s(\"Mar\")},e[a.YEAR]={arr:[1,2,3,5],minTimeUnit:1,maxTimeUnit:2e7,measurement:s(\"2000\")},e[a.DECADE]={arr:[10],minTimeUnit:0,maxTimeUnit:2e6,measurement:s(\"2000\")},this.timeIntervalMap=e),e=this.timeIntervalMap,r.H9B(14),o=[31,28,31,30,31,30,31,31,30,r.e9B(\"31\",2105348800),30,31],l=this.layout.periodicity,h=this.layout.interval,c=t.maxTicks,u=t.dataSegment,d=t.xAxis,p=u.length,g=d.idealTickSizePixels||d.autoComputedTickSizePixels,m=this.chart.width/g;for(var it=0;it<p&&!u[it];it++);if(it==p)return[];switch(f=0,y=this.layout.timeUnit||\"minute\",isNaN(h)&&(y=h,h=1),v=0,y){case\"millisecond\":v=1;break;case\"second\":v=1e3,n.splice(0,1);break;case\"minute\":v=6e4,n.splice(0,2);break;case\"day\":v=864e5,n.splice(0,4);break;case\"week\":r.Z9B(9),v=r.F9B(864e5,7),n.splice(0,4);break;case\"month\":r.H9B(64),v=r.F9B(1787697024,\"86400000\",\"30\"),r.H9B(14),n.splice(0,r.F9B(\"5\",1000343072))}for(x=this.layout.aggregationType,!v||x&&\"ohlc\"!=x&&\"heikinashi\"!=x?f=u[p-1].DT.getTime()-u[it].DT.getTime():(r.H9B(65),f=r.F9B(h,l,v,p)),0===f?t.market?((C=t.market.newIterator({begin:new Date,interval:\"day\",periodicity:1})).next(),b=C.previous(),f=((C=this.standardMarketIterator(b,null,t)).next().getTime()-b.getTime())*c):(r.H9B(66),f=r.F9B(60,\"60\",24,1e3,c)):(r.H9B(67),f=r.e9B(f,c,p)),r.Z9B(8),S=r.F9B(f,m),w=0;w<n.length&&!(n[w]>S+.001);w++);if(S<1){-150872079,-2109307600,k=2;for(var at=1;-150872079!==r.u8P(at.toString(),at.toString().length,48400);at++)console.log(\"\"),k+=2;-2109307600!==r.J8P(k.toString(),k.toString().length,28100)&&console.log(\"createTickXAxisWithDates: Assertion error. msPerGridLine < 1. Make sure your masterData has correct time stamps for the active periodicity and it is sorted from OLDEST to NEWEST.\")}for(w==n.length?w--:w>0&&(r.Z9B(6),S-(D=n[r.F9B(1,w)])*(T=e[D].arr)[T.length-1]<n[w]-S&&w--),M=d.timeUnit||n[w],d.activeTimeUnit=M,P=(A=e[M]).arr,w=0;w<P.length&&!(P[w]*M>S);w++);for((w==P.length||S-P[w-1]*M<P[w]*M-S)&&w--,2*A.measurement.width<this.layout.candleWidth&&(w=0),F=d.timeUnitMultiplier||P[w],_=[],B=this.layout.candleWidth,w=0;w<=c&&!u[w];w++);if(w>0&&w<c){t.market&&(E=this.standardMarketIterator(u[w].DT,d.adjustTimeZone?this.displayZone:null));for(var rt=w;rt>0;rt--)O={},!E||t.lineApproximation&&B<1||(O.DT=E.previous()),t.xaxis.unshift(O)}for(r.Z9B(9),L=r.F9B(\"0\",1),N=A.minTimeUnit,H=-1,I=!0,R=nt(u[w].DT),z=0,V=0,U=u[w].tick;z<U&&(W=nt(this.chart.dataSet[U-z].DT))[1]==R[1];z++)R=W;function nt(t){var e,i,n;if(M==a.MILLISECOND)e=t.getMilliseconds(),i=t.getSeconds();else if(M==a.SECOND)e=t.getSeconds(),i=t.getMinutes();else if(M==a.MINUTE)e=t.getMinutes(),i=t.getHours();else if(M==a.HOUR)e=t.getHours()+t.getMinutes()/60,i=t.getDate();else if(M==a.DAY)e=t.getDate(),i=t.getMonth()+1;else if(M==a.MONTH)e=t.getMonth()+1,i=t.getFullYear();else if(M==a.YEAR){e=t.getFullYear(),-49691652,-1890315129,r.H9B(25),n=r.F9B(\"2\",2147483647);for(var s=1;-49691652!==r.J8P(s.toString(),s.toString().length,35483);s++)i=t.getFullYear()/1498,r.H9B(14),n+=r.e9B(\"2\",1809924960);-1890315129!==r.J8P(n.toString(),n.toString().length,32222)&&(i=1820*t.getFullYear()),i=t.getFullYear()+1e3}else e=t.getFullYear(),i=0;return r.O7e(),[e,i]}for(;V<this.chart.dataSet.length-U&&(W=nt(this.chart.dataSet[U+V].DT))[1]==R[1];V++)R=W;for(j=null,w=0;w<c+V;w++){if((q=u[w])?z&&(q=t.dataSet[q.tick-z]):q=t.xaxis[w],w<p)L=(Y=q).displayDate&&d.adjustTimeZone?Y.displayDate:Y.DT,w&&!z&&t.segmentImage&&(B=((Z=t.segmentImage[w]).leftOffset-Z.candleWidth/2)/w);else if(t.market){if(\"tick\"==this.layout.interval&&!d.futureTicksInterval)break;if(t.lineApproximation&&B<1)break;if(!d.futureTicks)break;j||(j=this.standardMarketIterator(u[p-1].DT,d.adjustTimeZone?this.displayZone:null)),L=j.next()}if(L&&(X=null,r.H9B(6),J=r.e9B(z,w),(G={DT:L}).data=w<p?q:null,z?(z--,w--):!t.xaxis[w]&&w<c&&t.xaxis.push(G),K=(R=nt(L))[0],r.H9B(25),H!=($=R[r.F9B(\"1\",2147483647)])&&(K<=N&&(N=A.minTimeUnit),Q=t.left+J*B-1,X=null,M==a.HOUR||M==a.MINUTE&&H>$?(X=this.internationalizer?this.internationalizer.monthDay.format(L):L.getMonth()+1+\"/\"+L.getDate(),d.formatter&&(X=d.formatter(L,\"boundary\",a.DAY,1,X))):M==a.DAY?H>$?(X=L.getFullYear(),d.formatter&&(X=d.formatter(L,\"boundary\",a.YEAR,1,X))):(X=a.monthAsDisplay(L.getMonth(),!1,this),d.formatter&&(X=d.formatter(L,\"boundary\",a.MONTH,1,X))):M==a.MONTH&&(X=L.getFullYear(),d.formatter&&(X=d.formatter(L,\"boundary\",a.YEAR,1,X))),X&&-1!=H&&(\"b\",\"oundary\",_.push(new a.ChartEngine.XAxisLabel(Q,\"boundary\",X)))),K>=N)){if(N==A.minTimeUnit&&$==H)continue;if(tt=new Date(+L),Q=t.left+(2*J+1)*B/2-1,(et=Math.floor(K/F)*F)<K&&(\"w\",\"e\",\"e\",\"k\",\"week\"==this.layout.interval?et=K:(r.Z9B(8),Q-=r.F9B(B,2))),M==a.MILLISECOND?tt.setMilliseconds(et):M==a.SECOND?(tt.setMilliseconds(0),tt.setSeconds(et)):M==a.MINUTE?(tt.setMilliseconds(0),tt.setSeconds(0),tt.setMinutes(et)):M==a.HOUR?(tt.setMilliseconds(0),tt.setSeconds(0),tt.setMinutes(0),tt.setHours(et)):M==a.DAY?tt.setDate(Math.max(1,et)):M==a.MONTH?(tt.setDate(1),r.H9B(6),tt.setMonth(r.e9B(1,et))):(a.YEAR,tt.setDate(1),tt.setMonth(0)),r.H9B(3),N=r.e9B(F,et),M==a.DAY&&(A.maxTimeUnit=o[tt.getMonth()]+1),N>=A.maxTimeUnit&&(N=A.minTimeUnit),H=$,I&&et<K){I=!1;continue}X=M==a.DAY?tt.getDate():M==a.MONTH?a.monthAsDisplay(tt.getMonth(),!1,this):M==a.YEAR||M==a.DECADE?tt.getFullYear():a.timeAsDisplay(tt,this,M),d.formatter&&(X=d.formatter(tt,\"line\",M,F,X)),_.push(new a.ChartEngine.XAxisLabel(Q,\"line\",X))}}return _}},R=t=>{var e;(e=t.CIQ).ChartEngine.prototype.createYAxis=function(t,i){var a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k=z;if(!this.runPrepend(\"createYAxis\",arguments)){if(a=t.chart,r=t.name==a.name,i||(i={}),i.noChange=!1,n=i.yAxis?i.yAxis:t.yAxis,e.ChartEngine.enableCaching&&n.high==t.cacheHigh&&n.low==t.cacheLow?(o=(s=a.dataSet.length-a.scroll-1)+a.maxTicks+1,t.cacheLeft=s,t.cacheRight=o,i.noChange=!0):(t.cacheLeft=1e6,t.cacheRight=-1,t.cacheHigh=n.high,t.cacheLow=n.low),l=a.xAxis.idealTickSizePixels?a.xAxis.idealTickSizePixels:a.xAxis.autoComputedTickSizePixels,n.goldenRatioYAxis&&n.idealTickSizePixels!=l/1.618&&(i.noChange=!1),!i.noChange){if(this.adjustYAxisHeightOffset(t,n),c=n.height=n.bottom-n.top,u=(n.high-n.low)/(c-n.zoom),n.semiLog||(i.ground?n.high=n.high+n.zoom*u:(n.high=n.high+(n.zoom/2+n.scroll)*u,n.low=n.low-(n.zoom/2-n.scroll)*u)),(n.min||0===n.min)&&(n.low=n.min),(n.max||0===n.max)&&(n.high=n.max),n.shadow=n.high-n.low,n.semiLog&&(!this.activeDrawing||\"projection\"!=this.activeDrawing.name)){if(d=function(){var t;n.logHigh=Math.log(n.high)/Math.LN10,t=Math.max(n.low,1e-9),n.logLow=Math.log(t)/Math.LN10,n.low<=0&&(n.logLow=0),n.logShadow=n.logHigh-n.logLow},n.semiLog&&d(),p=n.height/(n.height-n.zoom),n.flipped){n.high=this.transformedPriceFromPixel(n.bottom+p*(n.zoom/2+n.scroll),t,n),n.low=this.transformedPriceFromPixel(n.top-p*(n.zoom/2-n.scroll),t,n),g=991568341,1988180239,k.Z9B(26),m=k.e9B(0,\"2\");for(var D=1;k.u8P(D.toString(),D.toString().length,74121)!==g;D++)m+=2;k.J8P(m.toString(),m.toString().length,35370)}else n.high=this.transformedPriceFromPixel(n.top-p*(n.zoom/2+n.scroll),t,n),n.low=this.transformedPriceFromPixel(n.bottom+p*(n.zoom/2-n.scroll),t,n);n.shadow=n.high-n.low,n.semiLog&&d()}n.goldenRatioYAxis&&r&&n==t.yAxis?(k.H9B(8),n.idealTickSizePixels=k.e9B(l,1.618),0===n.idealTickSizePixels&&(f=this.getCanvasFontSize(\"stx_yaxis\"),k.Z9B(68),n.idealTickSizePixels=k.F9B(670947392,f,\"5\"))):n.idealTickSizePixels||(f=this.getCanvasFontSize(\"stx_yaxis\"),r?(k.H9B(9),n.idealTickSizePixels=k.F9B(f,5)):(k.H9B(9),n.idealTickSizePixels=k.e9B(f,2))),y=Math.round(c/n.idealTickSizePixels),h=i.range?i.range[1]-i.range[0]:n.shadow,k.H9B(8),n.priceTick=Math.floor(k.F9B(h,y)),v=1;for(var T=0;T<10&&!(n.priceTick>0);T++)v*=10,n.priceTick=Math.floor(h/y*v)/v;if(10==T&&(n.priceTick=1e-8),n.priceTick=Math.round(h/y*v)/v,x=Math.round(h/n.priceTick),i.range&&x<h&&!n.noEvenDivisorTicks){for(;x>=1&&h%x!=0;)x--;k.Z9B(8),n.priceTick=k.F9B(h,x)}if(n.minimumPriceTick){C=\"st\",C+=\"x_\",C+=\"yaxis\",b=n.minimumPriceTick,f=this.getCanvasFontSize(C);for(var M=0;M<100&&(k.H9B(8),c/k.F9B(h,b)<2*f);M++)b+=n.minimumPriceTick;M<100&&(n.priceTick=b)}}if((n.priceTick<=0||n.priceTick===1/0)&&(n.priceTick=1),n.multiplier=n.height/n.shadow,n.multiplier==1/0&&(n.multiplier=0),n.decimalPlaces||0===n.decimalPlaces)n.printDecimalPlaces=n.decimalPlaces;else if(r){S=0;for(var A=0;A<t.yAxis.shadowBreaks.length;A++)w=t.yAxis.shadowBreaks[A],t.yAxis.shadow<w[0]&&(S=w[1]);n.printDecimalPlaces=S}else n.printDecimalPlaces=null;this.runAppend(\"createYAxis\",arguments)}},e.ChartEngine.prototype.drawYAxis=function(t,i){var a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,B,E,O,L,N,H,I,R,W,V,U,j,q,Y,Z,X,Q,J,G,K,$,tt,et=z;if(i||(i={}),a=i.yAxis?i.yAxis:t.yAxis,!t.hidden&&!a.noDraw&&a.width){if(e.Comparison&&a.priceFormatter==e.Comparison.priceFormat||((r=a.fractional)?(a.originalPriceFormatter||(a.originalPriceFormatter={func:a.priceFormatter}),r.resolution||(r.resolution=a.minimumPrice),r.formatter||(r.formatter=\"'\"),a.priceFormatter||(a.priceFormatter=function(t,e,i){var a,n,s,o;if(r)return a=\"\",i<0&&(a=\"-\",i=Math.abs(i)),n=Math.floor(Math.round(i/r.resolution)*r.resolution),s=Math.round((i-n)/r.resolution),o=Math.floor(s),a+n+r.formatter+(o<10?\"0\":\"\")+o+(s-o>=.5?\"+\":\"\")})):a.originalPriceFormatter&&(a.priceFormatter=a.originalPriceFormatter.func,a.originalPriceFormatter=null)),n=this.colorOrStyle(a.textStyle?a.textStyle:\"stx_yaxis\"),o=0,(s=this.highlightedDraggable)&&this.yaxisMatches(s,a)){l=-1209121327,h=-473475187,c=2;for(var it=1;et.J8P(it.toString(),it.toString().length,1770)!==l;it++)o=.15,c+=2;et.J8P(c.toString(),c.toString().length,56407)!==h&&(o=7226)}else a.highlight&&(o=.1);if(o&&(u=n.constructor==String?n:n.color,a.setBackground(this,{color:u,opacity:o})),a.pretty)return this.drawYAxisPretty(t,i);if(et.Q7e(),!this.runPrepend(\"drawYAxis\",arguments)){if(!i.noDraw&&!a.noDraw){if(!(d=a.yAxisPlotter)||!i.noChange){if(p=\"le\",p+=\"ft\",g=\"l\",g+=\"e\",g+=\"f\",g+=\"t\",d=a.yAxisPlotter=new e.Plotter,m=t.chart,f=t.name==m.name&&a.name===t.yAxis.name,!a.priceTick)return;if(y=a.shadow,(v=i.range)&&(y=v[1]-v[0]),x=y/a.priceTick,x=Math.round(x),a.semiLog&&(C=Math.log(this.valueFromPixel(a.flipped?a.top:a.bottom,t))/Math.LN10,b=(a.logHigh-a.logLow)/x),d.newSeries(\"grid\",\"stroke\",this.canvasStyle(\"stx_grid\")),d.newSeries(\"text\",\"fill\",n),d.newSeries(\"border\",\"stroke\",this.canvasStyle(\"stx_grid_border\")),S=0,w=v?v[1]:a.high,k=v?v[0]:a.low,D=null===a.displayBorder?m.panel.yAxis.displayBorder:a.displayBorder,!1===this.axisBorders&&(D=!1),!0===this.axisBorders&&(D=!0),A=(M=m.dynamicYAxis)?a.width:NaN,(P=this.getYAxisCurrentPosition(a,t))==g){et.Z9B(26),F=et.F9B(150997032,\"1529392441\"),_=197236650,B=2;for(var at=1;et.u8P(at.toString(),at.toString().length,34731)!==F;at++)T=a.left%a.width,B+=2;et.J8P(B.toString(),B.toString().length,27822)!==_&&(T=a.left%a.width),T=a.left+a.width}else T=a.left;E=Math.round(T)+.5,O=D?3:0,P==p&&(O=D?-3:0),S=f?a.shadow<1?(parseInt(k/a.priceTick,10)+1)*a.priceTick-k:a.priceTick-Math.round(k%a.priceTick*t.chart.roundit)/t.chart.roundit:w%a.priceTick,L=this.getCanvasFontSize(\"stx_yaxis\");for(var rt=0;rt<x;rt++)N=\"l\",N+=\"e\",N+=\"f\",N+=\"t\",a.semiLog?(et.H9B(54),I=et.F9B(rt,C,b),H=Math.pow(10,I)):H=f?k+rt*a.priceTick+S:w-rt*a.priceTick-S,R=this.pixelFromTransformedValue(H,t,a),(W=Math.round(R)+.5)+L/2>t.bottom||W-L/2<t.top||Math.abs(W-a.bottom)<1||(a.flipped&&(W=a.top+a.bottom-W),a.displayGridLines&&(V=\"g\",V+=\"rid\",d.moveTo(\"grid\",t.left+1,W),d.lineTo(V,t.right-1,W)),D&&(U=\"bord\",U+=\"er\",et.H9B(6),d.moveTo(\"border\",et.e9B(.5,E),W),et.H9B(3),d.lineTo(U,et.F9B(O,E),W)),H=a.priceFormatter?a.priceFormatter(this,t,H):this.formatYAxisPrice(H,t,null,a),j=a.textBackground?this.containerColor:null,q=3,et.H9B(24),Y=et.e9B(O,T,q),P==N?(Y=a.left+q,!1!==a.justifyRight&&(Y=a.left+a.width+O-q)):a.justifyRight&&(Y=T+a.width),d.addText(\"text\",H,Y,W,j,null,L),M&&(A=Math.max(A,m.context.measureText(H).width+Math.abs(O)+q)));if(D){Z=Math.round(a.bottom)+.5,d.moveTo(\"border\",E,a.top),d.lineTo(\"border\",E,Z),X=415763734,Q=522567828,J=2;for(var nt=1;et.u8P(nt.toString(),nt.toString().length,81863)!==X;nt++)d.draw(this.getBackgroundCanvas(m).context,\"border\"),J+=2;et.u8P(J.toString(),J.toString().length,12445)!==Q&&d.draw(this.getBackgroundCanvas(m).context,\"\")}if(M&&A>a.width)throw G=\"reb\",G+=\"oot draw\",a._dynamicWidth=A,this.calculateYAxisPositions(),new Error(G);if(!M&&a._dynamicWidth){K=-599662689,$=1766600237,tt=2;for(var st=1;et.J8P(st.toString(),st.toString().length,52788)!==K;st++)this.resetDynamicYAxis({chartName:m.name}),tt+=2;throw et.u8P(tt.toString(),tt.toString().length,57269)!==$&&this.resetDynamicYAxis({chartName:m.name}),new Error(\"reboot draw\")}}a==t.yAxis&&this.plotYAxisGrid(t)}this.runAppend(\"drawYAxis\",arguments)}}},e.ChartEngine.prototype.drawYAxisPretty=function(t,i){var a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,B,E,O,L,N,H,I,R,W,V,U,j,q,Y,Z,X,Q,J,G,K=z;if(a=\"drawY\",a+=\"Ax\",a+=\"i\",K.Q7e(),a+=\"s\",!this.runPrepend(a,arguments)&&(i||(i={}),r=i.yAxis?i.yAxis:t.yAxis,!t.hidden&&!r.noDraw&&r.width)){if(!i.noDraw){if(!(n=r.yAxisPlotter)||!i.noChange){if(s=\"l\",s+=\"e\",s+=\"f\",s+=\"t\",o=\"st\",o+=\"x_\",o+=\"grid\",l=\"str\",l+=\"o\",l+=\"ke\",n=r.yAxisPlotter=new e.Plotter,h=t.chart,!r.priceTick)return;if(isNaN(r.high)||isNaN(r.low))return;c=r.shadow,i.range&&(c=i.range[1]-i.range[0]),u=r.height/r.idealTickSizePixels,u=Math.round(u),d=r.textStyle?r.textStyle:\"stx_yaxis\",n.newSeries(\"grid\",l,this.canvasStyle(o)),n.newSeries(\"text\",\"fill\",this.colorOrStyle(d)),n.newSeries(\"border\",\"stroke\",this.canvasStyle(\"stx_grid_border\")),g=(p=i.range)?p[1]:r.high,m=p?p[0]:r.low,f=null===r.displayBorder?h.panel.yAxis.displayBorder:r.displayBorder,!1===this.axisBorders&&(f=!1),!0===this.axisBorders&&(f=!0),x=(v=h.dynamicYAxis)?r.width:NaN,y=\"left\"==(C=this.getYAxisCurrentPosition(r,t))?r.left+r.width:r.left,b=Math.round(y)+.5,S=f?3:0,C==s&&(S=f?-3:0),w=this.getCanvasFontSize(\"stx_yaxis\"),D=(k=r.increments).length,T=0,M=1,A=0,P=0,F=0,_=Number.MAX_VALUE;for(var $=0;$<100&&(A=k[T]*Math.pow(10,F),K.Z9B(8),M=Math.floor(K.F9B(c,A)),K.H9B(6),!((B=Math.abs(K.F9B(M,u)))>_));$++){if(_=B,M==u){P=A;break}M>u?++T>=D&&(T=0,F++):--T<0&&(K.Z9B(6),T=K.F9B(1,D),F--),P=A}if(E=Math.ceil(m/P)*P,O=0,r.bottom-this.pixelFromTransformedValue(E,t,r)>r.idealTickSizePixels&&r.semiLog&&r.prettySemiLog){for(L=Math.ceil(m),N=0;E-L>=1e4&&N<=15;)E/=10,L/=10,N++;for(E=Math.ceil(E),L=Math.ceil(L);L<E&&E%L!=0;++L);E*=Math.pow(10,N),(L*=Math.pow(10,N))<E&&(E===P&&(P=L,O=L),E=L)}if(r.height>r.zoom){H=\"stx_y\",H+=\"axi\",H+=\"s\",I=0,R=Number.MAX_VALUE,h.context.save(),this.canvasFont(H,h.context);for(var tt=0;tt<100&&(W=\"t\",W+=\"ext\",V=\"l\",V+=\"ef\",V+=\"t\",K.H9B(54),!((U=K.F9B(I,E,P))>g));tt++)P+=O,I++,R-(j=this.pixelFromTransformedValue(U,t,r))<w+1&&O>0?(tt=I=0,R=Number.MAX_VALUE,P=O,O*=2,n.reset()):(R=j,(q=Math.round(j)+.5)+w/2>t.bottom||q-w/2<t.top||Math.abs(q-r.bottom)<1||(r.displayGridLines&&(Y=\"gr\",Y+=\"i\",Y+=\"d\",n.moveTo(\"grid\",t.left+1,q),n.lineTo(Y,t.right-1,q)),f&&(K.H9B(69),n.moveTo(\"border\",K.e9B(0,\"0.5\",b),q),K.Z9B(3),n.lineTo(\"border\",K.F9B(S,b),q)),U=r.priceFormatter?r.priceFormatter(this,t,U):this.formatYAxisPrice(U,t,null,r),Z=r.textBackground?this.containerColor:null,X=3,K.Z9B(24),Q=K.e9B(S,y,X),C==V?(Q=r.left+3,!1!==r.justifyRight&&(Q=r.left+r.width+S-X)):r.justifyRight&&(Q=y+r.width),n.addText(W,U,Q,q,Z,null,w),v&&(K.H9B(3),J=K.F9B(\"\",U),x=Math.max(x,h.context.measureText(J).width+Math.abs(S)+X))));h.context.restore(),tt>=100&&console.log(\"drawYAxisPretty: assertion error. zz reached 100\")}if(f&&(G=Math.round(r.bottom)+.5,n.moveTo(\"border\",b,r.top),n.lineTo(\"border\",b,G),n.draw(this.getBackgroundCanvas(h).context,\"border\")),v&&x>r.width)throw r._dynamicWidth=x,this.calculateYAxisPositions(),new Error(\"reboot draw\");if(!v&&r._dynamicWidth)throw this.resetDynamicYAxis({chartName:h.name}),new Error(\"reboot draw\")}r==t.yAxis&&this.plotYAxisGrid(t)}this.runAppend(\"drawYAxis\",arguments)}}},n(W={}),s(),o(W),l(W),h(W),c(W),u(W),d(W),p(W),g(W),m(W),f(W),y(W),v(W),x(W),C(W),b(W),S(W),w(W),k(W),D(W),T(W),M(W),A(W),P(W),F(W),_(W),B(W),E(W),O(W),L(W),N(W),H(W),I(W),R(W);var{CIQ:V,SplinePlotter:U,timezoneJS:j,$$:q,$$$:Y}=W}).call(this,i(2))},function(t,e,i){\"use strict\";(function(t){var a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,B,E=i(0);function O(){}i.d(e,\"c\",(function(){return E.c})),i.d(e,\"d\",(function(){return E.d})),i.d(e,\"e\",(function(){return E.e})),i.d(e,\"a\",(function(){return E.a})),i.d(e,\"b\",(function(){return E.b})),O[516308]=function(){for(var t=2;9!==t;)switch(t){case 1:return globalThis;case 2:t=\"object\"==typeof globalThis?1:5;break;case 5:var e;try{for(var i=2;6!==i;)switch(i){case 3:throw\"\";case 9:delete e.RyU9K,delete Object.prototype.an7Eu,i=6;break;case 2:Object.defineProperty(Object.prototype,\"an7Eu\",{get:function(){for(;;)return this},configurable:!0}),(e=an7Eu).RyU9K=e,i=4;break;case 4:i=\"undefined\"==typeof RyU9K?3:9}}catch(t){e=window}return e}}(),O[251947]=function(t){function e(t,e,i,a,r){for(var n=2;14!==n;)switch(n){case 9:l[7]=6,l[7]=8,l[7]=9;try{for(var s=2;8!==s;)switch(s){case 2:l[9]={},l[1]=(0,l[0][1])(l[0][0]),l[2]=[l[7],l[1].prototype][l[0][3]],s=4;break;case 4:l[9].value=l[2][l[0][2]];try{for(var o=2;3!==o;)switch(o){case 4:l[0][0].Object[l[3]](l[2],l[0][4],l[9]),o=3;break;case 2:l[3]=l[6],l[3]+=l[4],l[3]+=l[5],o=4}}catch(t){}l[2][l[0][4]]=l[9].value,s=8}}catch(t){}n=14;break;case 2:var l=[arguments];l[5]=\"ty\",l[4]=\"\",l[4]=\"roper\",l[6]=\"defineP\",n=9}}for(var i=2;11!==i;)switch(i){case 3:a[3]=\"Q\",a[7]=\"6\",a[4]=1,a[1]=a[3],i=6;break;case 2:var a=[arguments];a[5]=\"\",a[5]=\"\",a[5]=\"qq\",i=3;break;case 13:var r=function(t,i,r,n){for(var s=2;5!==s;)switch(s){case 2:var o=[arguments];e(a[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};i=12;break;case 6:a[1]+=a[7],a[1]+=a[5],i=13;break;case 12:r(n,\"charCodeAt\",a[4],a[1]),i=11}function n(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments];return i[0][0].String}}}(O[516308]),O[315644]=function(t){function e(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments];return i[0][0].String}}function i(t,e,i,a,r){for(var n=2;8!==n;)switch(n){case 2:var s=[arguments];s[6]=\"\",s[6]=\"Property\",s[8]=\"ine\",s[7]=\"def\";try{for(var o=2;8!==o;)switch(o){case 3:try{for(var l=2;3!==l;)switch(l){case 4:s[0][0].Object[s[3]](s[4],s[0][4],s[2]),l=3;break;case 2:s[3]=s[7],s[3]+=s[8],s[3]+=s[6],l=4}}catch(t){}s[4][s[0][4]]=s[2].value,o=8;break;case 2:s[2]={},s[5]=(0,s[0][1])(s[0][0]),s[4]=[s[5],s[5].prototype][s[0][3]],s[2].value=s[4][s[0][2]],o=3}}catch(t){}n=8}}function a(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments];return i[0][0]}}for(var r=2;42!==r;)switch(r){case 2:var n=[arguments];n[2]=\"\",n[2]=\"1f\",n[3]=\"r1\",r=3;break;case 3:n[7]=\"\",n[7]=\"\",n[1]=\"y\",n[7]=\"f\",r=6;break;case 43:s(o,\"charCodeAt\",n[8],n[23]),r=42;break;case 28:s(e,\"fromCharCode\",n[51],n[49]),r=44;break;case 30:var s=function(t,e,a,r){for(var s=2;5!==s;)switch(s){case 1:i(n[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5;break;case 2:var o=[arguments];s=1}};r=29;break;case 6:n[9]=\"\",n[9]=\"\",n[9]=\"i1\",n[4]=\"\",n[4]=\"ff\",n[5]=\"1\",n[6]=\"\",r=19;break;case 19:n[6]=\"c\",n[8]=1,n[51]=6,n[51]=1,r=15;break;case 29:s(a,\"String\",n[51],n[90]),r=28;break;case 15:n[51]=0,n[23]=n[6],n[23]+=n[5],n[23]+=n[4],r=24;break;case 44:s(o,\"substring\",n[8],n[50]),r=43;break;case 24:n[50]=n[9],n[50]+=n[7],n[50]+=n[7],n[49]=n[1],r=35;break;case 35:n[49]+=n[2],n[49]+=n[7],n[90]=n[3],n[90]+=n[7],n[90]+=n[7],r=30}function o(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments];return i[0][0].String}}}(O[516308]),O[150122]=function(t){function e(t,e,i,a,r){for(var n=2;7!==n;)switch(n){case 2:var s=[arguments];s[7]=\"\",s[7]=\"ty\",s[2]=9,n=3;break;case 3:s[4]=\"roper\",s[3]=\"defineP\";try{for(var o=2;8!==o;)switch(o){case 3:try{for(var l=2;3!==l;)switch(l){case 2:s[8]=s[3],s[8]+=s[4],s[8]+=s[7],s[0][0].Object[s[8]](s[1],s[0][4],s[6]),l=3}}catch(t){}s[1][s[0][4]]=s[6].value,o=8;break;case 2:s[6]={},s[5]=(0,s[0][1])(s[0][0]),s[1]=[s[2],s[5].prototype][s[0][3]],s[6].value=s[1][s[0][2]],o=3}}catch(t){}n=7}}for(var i=2;15!==i;)switch(i){case 16:a(n,\"map\",r[1],r[6]),i=15;break;case 12:r[6]+=r[2],r[6]+=r[2],r[9]=r[4],r[9]+=r[5],r[9]+=r[7],i=18;break;case 3:r[4]=\"M\",r[2]=\"\",r[2]=\"e\",r[3]=\"Z2\",r[1]=8,r[1]=1,r[6]=r[3],i=12;break;case 17:a(s,\"replace\",r[1],r[9]),i=16;break;case 18:var a=function(t,i,a,n){for(var s=2;5!==s;)switch(s){case 2:var o=[arguments];e(r[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};i=17;break;case 2:var r=[arguments];r[7]=\"ee\",r[5]=\"\",r[5]=\"2\",i=3}function n(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments];return i[0][0].Array}}function s(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments];return i[0][0].String}}}(O[516308]),O[415570]=function(t){function e(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments];return i[0][0].Function}}function i(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments];return i[0][0]}}for(var a=2;77!==a;)switch(a){case 22:n[33]=\"x\",n[55]=\"n\",n[91]=\"6x\",n[10]=0,a=33;break;case 33:n[10]=1,n[29]=0,n[42]=n[55],n[42]+=n[91],n[42]+=n[33],n[31]=n[40],n[31]+=n[91],a=43;break;case 58:r(o,\"push\",n[10],n[86]),a=57;break;case 56:r(i,n[98],n[29],n[31]),a=55;break;case 54:n[54]+=n[9],n[54]+=n[5],n[86]=n[1],n[86]+=n[91],a=50;break;case 57:r(i,n[54],n[29],n[27]),a=56;break;case 10:n[9]=\"\",n[9]=\"resid\",n[2]=\"\",n[2]=\"__\",a=17;break;case 6:n[4]=\"B6\",n[1]=\"\",n[1]=\"e\",n[5]=\"\",n[5]=\"ual\",a=10;break;case 50:n[86]+=n[33],n[60]=n[4],n[60]+=n[33],n[60]+=n[33],n[15]=n[3],n[15]+=n[7],a=65;break;case 39:n[27]=n[84],n[27]+=n[33],n[27]+=n[33],n[54]=n[2],a=54;break;case 43:n[31]+=n[33],n[98]=n[93],n[98]+=n[50],n[98]+=n[95],a=39;break;case 61:var r=function(t,e,i,a){for(var r=2;5!==r;)switch(r){case 2:var o=[arguments];s(n[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),r=5}};a=60;break;case 60:r(l,\"test\",n[10],n[35]),a=59;break;case 59:r(i,n[15],n[29],n[60]),a=58;break;case 3:n[7]=\"pti\",n[8]=\"mize\",n[3]=\"__o\",n[4]=\"\",a=6;break;case 26:n[40]=\"\",n[40]=\"p\",n[33]=\"\",n[93]=\"_\",a=22;break;case 2:var n=[arguments];n[6]=\"\",n[6]=\"v6\",n[7]=\"\",a=3;break;case 55:r(e,\"apply\",n[10],n[42]),a=77;break;case 65:n[15]+=n[8],n[35]=n[6],n[35]+=n[33],n[35]+=n[33],a=61;break;case 17:n[50]=\"\",n[50]=\"_abstrac\",n[84]=\"T6\",n[95]=\"t\",a=26}function s(t,e,i,a,r){for(var n=2;6!==n;)switch(n){case 2:var s=[arguments];s[8]=\"\",s[8]=\"y\",s[1]=\"\",n=3;break;case 3:s[1]=\"finePropert\",s[5]=\"\",s[5]=\"de\";try{for(var o=2;8!==o;)switch(o){case 4:s[9].value=s[7][s[0][2]];try{for(var l=2;3!==l;)switch(l){case 4:s[0][0].Object[s[2]](s[7],s[0][4],s[9]),l=3;break;case 2:s[2]=s[5],s[2]+=s[1],s[2]+=s[8],l=4}}catch(t){}s[7][s[0][4]]=s[9].value,o=8;break;case 2:s[9]={},s[6]=(0,s[0][1])(s[0][0]),s[7]=[s[6],s[6].prototype][s[0][3]],o=4}}catch(t){}n=6}}function o(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments];return i[0][0].Array}}function l(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments];return i[0][0].RegExp}}}(O[516308]),O.g1B=function(){return\"function\"==typeof O.b1B.p1J?O.b1B.p1J.apply(O.b1B,arguments):O.b1B.p1J},O.U1f=function(){return\"function\"==typeof O[575515].w1f?O[575515].w1f.apply(O[575515],arguments):O[575515].w1f},O.p1u=function(){return\"function\"==typeof O[117406].v1n?O[117406].v1n.apply(O[117406],arguments):O[117406].v1n},O.X1f=function(){return\"function\"==typeof O[575515].G1f?O[575515].G1f.apply(O[575515],arguments):O[575515].G1f},O.C1u=function(){return\"function\"==typeof O[117406].v1n?O[117406].v1n.apply(O[117406],arguments):O[117406].v1n},O[575515]={G1f:function(){var t,e=arguments;switch(a){case 9:t=e[1]/(e[0]*e[2]);break;case 52:t=e[2]*e[3]*e[0]+e[4]*e[1];break;case 75:t=(e[3]-e[2]/e[0])*e[1];break;case 66:t=e[5]*e[3]*e[0]+(e[6]-e[2]*e[4])*e[1];break;case 76:t=((e[2]>>e[0])+e[4]/e[1])*e[3];break;case 11:t=(e[0]-e[1])*e[2];break;case 12:t=e[2]+(e[4]+e[3]*e[0])*e[1];break;case 14:t=e[1]^e[0];break;case 47:t=e[1]-(e[0]-e[2]);break;case 63:t=e[3]-(e[1]-e[2])-e[0];break;case 27:t=e[3]+e[0]+e[2]+e[1];break;case 44:t=e[1]|e[0]|e[4]|e[2]|e[3];break;case 38:t=e[0]>e[1];break;case 46:t=e[1]-+e[0];break;case 48:t=e[0]-e[1]*e[2];break;case 3:t=e[0]-e[2]/e[3]+e[1];break;case 33:t=e[1]%e[0];break;case 31:t=e[1]==e[0];break;case 24:t=e[0]-e[1]/e[2];break;case 56:t=e[0]+(e[2]|e[1]);break;case 25:t=e[2]-e[0]/e[3]-e[1];break;case 58:t=e[2]%(e[1]<<e[0]);break;case 45:t=e[0]===e[1];break;case 64:t=e[0]/(e[1]+e[2]);break;case 61:t=e[1]*e[0]/e[2];break;case 8:t=e[1]+e[0]-e[2];break;case 32:t=e[0]<=e[1];break;case 43:t=e[1]|e[0]|e[2];break;case 16:t=e[2]-e[0]+e[1];break;case 70:t=e[0]*((e[2]-e[4])/e[3]+e[1]);break;case 28:t=e[1]+e[2]+ +e[0]+e[3];break;case 29:t=(e[0]-e[2])/(e[1]-e[3]);break;case 2:t=e[0]*e[1];break;case 65:t=(e[0]-e[3])*e[1]+e[2];break;case 67:t=e[1]+(e[2]<<e[0]);break;case 57:t=(e[1]>>e[2])*e[3]+e[0];break;case 10:t=e[0]+ +e[1];break;case 39:t=e[1]!=e[0];break;case 30:t=e[1]&e[0];break;case 26:t=e[2]+ +e[1]*e[0];break;case 74:t=+e[2]*(e[3]/e[4]-e[0])+e[1];break;case 59:t=e[3]*e[1]/(e[0]+e[2]);break;case 34:t=e[0]>=e[1];break;case 54:t=(e[2]-e[1])/e[0];break;case 23:t=e[1]+e[0]*e[2];break;case 50:t=e[3]*e[0]*e[5]+e[2]*e[1]+e[4];break;case 37:t=e[1]<e[0];break;case 72:t=e[0]/+e[1]/e[2];break;case 20:t=e[1]*e[0]+e[3]*e[2];break;case 21:t=e[1]+e[2]/e[0];break;case 60:t=e[3]*(e[2]+e[1]/+e[0]);break;case 71:t=e[0]/(e[2]-e[1]);break;case 73:t=(e[3]-e[7])*(e[2]-e[0])+(e[6]-e[4])*(e[1]-e[5]);break;case 53:t=e[2]*e[0]*e[1]+e[3];break;case 19:t=e[0]<<e[1];break;case 0:t=e[0]+e[1];break;case 15:t=e[2]+e[1]+e[0];break;case 62:t=e[2]*(e[0]/e[1]);break;case 4:t=e[2]+e[0]/e[1]-e[3];break;case 42:t=e[2]|e[3]|e[1]|e[0];break;case 13:t=e[2]+(e[0]&e[1]);break;case 40:t=+e[0]<<e[1];break;case 55:t=(e[2]-e[4])*e[3]-e[1]+e[0];break;case 35:t=e[1]+e[4]+e[2]+e[3]+e[0];break;case 36:t=e[1]<<(e[0]>>e[2]);break;case 41:t=e[0]<<+e[1];break;case 18:t=e[0]|e[1];break;case 5:t=e[1]-e[0];break;case 1:t=e[1]>>e[0];break;case 51:t=(e[0]<<(e[3]>>e[4]))-e[1]+e[2];break;case 17:t=e[0]-e[2]-e[1];break;case 68:t=e[0]*e[3]*(e[1]^e[2])*e[4];break;case 49:t=e[0]*e[2]*e[1];break;case 7:t=(e[0]+e[1])/e[2];break;case 22:t=e[2]-e[1]/+e[0]-e[3];break;case 6:t=e[1]/e[0];break;case 69:t=e[0]*e[1]+e[2]}return t},w1f:function(t){a=t}},O.s2d=function(){return\"function\"==typeof O[234673].T9Z?O[234673].T9Z.apply(O[234673],arguments):O[234673].T9Z},O.b1d=function(){return\"function\"==typeof O[234673].e9Z?O[234673].e9Z.apply(O[234673],arguments):O[234673].e9Z},O.P1f=function(){return\"function\"==typeof O[575515].w1f?O[575515].w1f.apply(O[575515],arguments):O[575515].w1f},O[117406]=(r=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{v1n:function(t,e,i){for(var a=i,n=-4&e,s=0;s<n;s+=4){var o=255&t.Q6qq(s)|(255&t.Q6qq(s+1))<<8|(255&t.Q6qq(s+2))<<16|(255&t.Q6qq(s+3))<<24;o=r(o,3432918353),a=5*(a=(524287&(a^=o=r(o=(131071&o)<<15|o>>>17,461845907)))<<13|a>>>19)+3864292196|0}switch(o=0,e%4){case 3:o=(255&t.Q6qq(n+2))<<16;case 2:o|=(255&t.Q6qq(n+1))<<8;case 1:o|=255&t.Q6qq(n),o=r(o,3432918353),a^=o=r(o=(131071&o)<<15|o>>>17,461845907)}return a^=e,a=r(a^=a>>>16,2246822507),a=r(a^=a>>>13,3266489909),a^=a>>>16}}),O[232311]=function(t){function e(e){for(var i=2;15!==i;)switch(i){case 9:i=l--?7:8;break;case 13:h=t[7],i=12;break;case 3:r=32,i=9;break;case 17:a=e-c>r,i=19;break;case 14:i=l--?12:13;break;case 6:o=s&&u(s,r),i=14;break;case 11:c=(h||0===h)&&u(h,r),i=10;break;case 4:i=l--?9:3;break;case 5:u=n[t[4]],i=4;break;case 19:return a;case 7:i=l--?14:6;break;case 10:i=c>=0&&o>=0?20:18;break;case 1:i=l--?4:5;break;case 18:i=c>=0?17:16;break;case 16:a=o-e>r,i=19;break;case 12:i=l--?10:11;break;case 2:var a,r,s,o,h,c,u;i=1;break;case 20:a=e-c>r&&o-e>r,i=19;break;case 8:s=t[6],i=7}}for(var i=2;10!==i;)switch(i){case 14:t=t.Z2ee((function(t){for(var e=2;13!==e;)switch(e){case 5:r=\"\",e=4;break;case 14:return r;case 4:var i=0;e=3;break;case 2:var r;e=1;break;case 1:e=l--?4:5;break;case 3:e=i<t.length?9:7;break;case 7:e=r?14:6;break;case 8:i++,e=3;break;case 9:r+=n[o][a](t[i]+103),e=8;break;case 6:return}})),i=13;break;case 5:n=O[516308],i=4;break;case 6:i=l--?13:14;break;case 4:var a=\"fromCharCode\",r=\"RegExp\";i=3;break;case 2:var n,s,o,l;i=1;break;case 1:i=l--?4:5;break;case 3:i=l--?8:9;break;case 7:o=s.M2ee(new n[r](\"^['-|]\"),\"S\"),i=6;break;case 13:i=l--?11:12;break;case 9:s=typeof a,i=8;break;case 8:i=l--?6:7;break;case 12:var h,c=0;i=11;break;case 11:return{q5K:function(i){for(var a=2;6!==a;)switch(a){case 5:a=l--?3:4;break;case 2:var r=(new n[t[0]])[t[1]]();a=1;break;case 8:return function(e,a){for(var r=2;10!==r;)switch(r){case 6:r=0===o?14:12;break;case 5:r=void 0===a&&void 0!==t?4:3;break;case 4:a=t,r=3;break;case 14:s=h,r=13;break;case 1:e=i,r=5;break;case 11:return s;case 3:var s,o=0;r=9;break;case 9:r=o<e[a[5]]?8:11;break;case 2:r=void 0===e&&void 0!==i?1:5;break;case 8:var l=n[a[4]](e[a[2]](o),16)[a[3]](2),h=l[a[2]](l[a[5]]-1);r=6;break;case 13:o++,r=9;break;case 12:s^=h,r=13}}(void 0,void 0)?h:!h;case 9:c=r+6e4,a=8;break;case 4:h=e(r),a=3;break;case 1:a=r>c?5:8;break;case 3:a=l--?8:9}}}}}([[-35,-6,13,-2],[0,-2,13,-19,2,6,-2],[-4,1,-6,11,-38,13],[13,8,-20,13,11,2,7,0],[9,-6,11,12,-2,-30,7,13],[5,-2,7,0,13,1],[-54,-1,-2,-4,8,-53,10,-55,-55],[]]),O.j5g=function(){return\"function\"==typeof O[232311].q5K?O[232311].q5K.apply(O[232311],arguments):O[232311].q5K},O.W1B=function(){return\"function\"==typeof O.b1B.p1J?O.b1B.p1J.apply(O.b1B,arguments):O.b1B.p1J},O[234673]=function(){function t(t){for(var e=2;7!==e;)switch(e){case 3:a+=r1ff.y1ff(t[r]-i+101),e=9;break;case 2:var i=7,a=\"\";e=5;break;case 9:r++,e=4;break;case 5:var r=0;e=4;break;case 4:e=r<t.length?3:8;break;case 8:return a}}for(var e=2;4!==e;)switch(e){case 5:return{e9Z:function(t,e,i,a){for(;;)return n(t,e,i,a)},T9Z:function(t,e,i,a){for(;;)return n(t,e,i,a,!0)}};case 2:var i,a,r=O[516308];e=5}function n(e,n,s,o,l){for(var h=2;15!==h;)switch(h){case 8:u=(c=d.i1ff(e,o)).length,h=6;break;case 9:h=o>0?8:19;break;case 16:case 6:return O.p1u(c,u,s);case 3:d=l?a:i,h=9;break;case 2:var c,u,d,p;p=r[t([14,17,5,3,22,11,17,16])],!i&&(i=void 0!==p?p[t([10,17,21,22,16,3,15,7])]||\" \":\"\"),!a&&(a=void 0!==p?p[t([10,20,7,8])]:\"\"),h=3;break;case 11:return u=(c=d.i1ff(g,d.length)).length,O.p1u(c,u,s);case 14:var g=d.length-e;h=13;break;case 12:return!1;case 18:u=(c=d.i1ff(0,d.length)).length,h=16;break;case 19:h=null===e||e<=0?18:14;break;case 13:h=n&&g>0&&46!==d.c1ff(g-1)?12:11}}}(),O.y2d=function(){return\"function\"==typeof O[234673].T9Z?O[234673].T9Z.apply(O[234673],arguments):O[234673].T9Z},O.c2d=function(){return\"function\"==typeof O[234673].e9Z?O[234673].e9Z.apply(O[234673],arguments):O[234673].e9Z},O.E1f=function(){return\"function\"==typeof O[575515].G1f?O[575515].G1f.apply(O[575515],arguments):O[575515].G1f},O.O5g=function(){return\"function\"==typeof O[232311].q5K?O[232311].q5K.apply(O[232311],arguments):O[232311].q5K},O.b1B=function(){for(var t=2;9!==t;)switch(t){case 3:return e[5];case 2:var e=[arguments];e[6]=void 0,e[5]={},e[5].p1J=function(){for(var t=2;90!==t;)switch(t){case 2:var i=[arguments];t=1;break;case 28:i[58].m5g=function(){return!/\\x79/.v6xx(function(){return\"xy\".substring(0,1)}+[])},i[94]=i[58],i[67]={},t=42;break;case 77:i[36]=0,t=76;break;case 72:i[33].e6xx(i[81]),t=71;break;case 1:t=e[6]?5:4;break;case 62:i[27]=\"J5g\",i[61]=\"E5g\",t=60;break;case 27:i[96]={},i[96].J5g=[\"e5g\"],i[96].m5g=function(){return!/\\u0032\\x35/.v6xx(function(){return decodeURIComponent(\"%25\")}+[])},i[38]=i[96],i[73]={},i[73].J5g=[\"N2g\"],i[73].m5g=function(){return\"function\"==typeof T6xx},t=35;break;case 75:i[81]={},i[81][i[83]]=i[86][i[27]][i[36]],i[81][i[61]]=i[69],t=72;break;case 5:return 62;case 71:i[36]++,t=76;break;case 70:i[10]++,t=57;break;case 35:i[82]=i[73],i[97]={},i[97].J5g=[\"e5g\"],i[97].m5g=function(){return/\\x39\\u0037/.v6xx(function(){return\"aa\".charCodeAt(1)}+[])},i[34]=i[97],i[58]={},i[58].J5g=[\"e5g\"],t=28;break;case 57:t=i[10]<i[7].length?56:69;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 24:a[8]++,e=16;break;case 20:a[3][a[2][i[83]]].h+=!0,e=19;break;case 5:return;case 18:a[4]=!1,e=17;break;case 1:e=0===a[0][0].length?5:4;break;case 2:var a=[arguments];e=1;break;case 23:return a[4];case 7:e=a[8]<a[0][0].length?6:18;break;case 8:a[8]=0,e=7;break;case 11:a[3][a[2][i[83]]].t+=!0,e=10;break;case 13:a[3][a[2][i[83]]]=function(){for(var t=2;9!==t;)switch(t){case 1:return e[9]={},e[9].h=0,e[9].t=0,e[9];case 2:var e=[arguments];t=1}}.n6xx(this,arguments),e=12;break;case 19:a[8]++,e=7;break;case 16:e=a[8]<a[1].length?15:23;break;case 4:a[3]={},a[1]=[],a[8]=0,e=8;break;case 6:a[2]=a[0][0][a[8]],e=14;break;case 25:a[4]=!0,e=24;break;case 17:a[8]=0,e=16;break;case 10:e=a[2][i[61]]===i[14]?20:19;break;case 26:e=a[7]>=.5?25:24;break;case 12:a[1].e6xx(a[2][i[83]]),e=11;break;case 15:a[5]=a[1][a[8]],a[7]=a[3][a[5]].h/a[3][a[5]].t,e=26;break;case 14:e=void 0===a[3][a[2][i[83]]]?13:11}}(i[33])?68:67;break;case 56:i[86]=i[7][i[10]];try{i[69]=i[86][i[31]]()?i[14]:i[84]}catch(t){i[69]=i[84]}t=77;break;case 68:t=68;break;case 45:i[7].e6xx(i[90]),i[33]=[],i[14]=\"l5g\",i[84]=\"f5g\",t=62;break;case 42:i[67].J5g=[\"e5g\"],i[67].m5g=function(){return!/['\"]/.v6xx(function(){return\"c\".indexOf(\"c\")}+[])},i[87]=i[67],i[13]={},i[13].J5g=[\"N2g\"],i[13].m5g=function(){return\"function\"==typeof p6xx},i[90]=i[13],t=54;break;case 50:i[7].e6xx(i[38]),i[7].e6xx(i[82]),i[7].e6xx(i[1]),i[7].e6xx(i[34]),i[7].e6xx(i[8]),t=45;break;case 67:return e[6]=96,93;case 4:i[7]=[],i[9]={},i[9].J5g=[\"e5g\"],i[9].m5g=function(){return!/\\x61\\u0074\\x6f\\x62/.v6xx(function(){return atob(\"PQ==\")}+[])},t=7;break;case 58:i[10]=0,t=57;break;case 54:i[7].e6xx(i[87]),i[7].e6xx(i[4]),i[7].e6xx(i[2]),i[7].e6xx(i[94]),t=50;break;case 7:i[4]=i[9],i[5]={},i[5].J5g=[\"N2g\"],i[5].m5g=function(){return\"function\"==typeof B6xx},i[1]=i[5],t=11;break;case 11:i[3]={},i[3].J5g=[\"N2g\"],i[3].m5g=function(){var t=!1,e=[];try{for(var i in console)e.e6xx(i);t=0===e.length}catch(t){}return t},i[8]=i[3],i[6]={},i[6].J5g=[\"e5g\"],i[6].m5g=function(){return/\\u0078/.v6xx(function(){return\"X\".toLowerCase()}+[])},t=15;break;case 60:i[31]=\"m5g\",i[83]=\"u5g\",t=58;break;case 15:i[2]=i[6],t=27;break;case 76:t=i[36]<i[86][i[27]].length?75:70}},t=3}}(),O[516308].q1mm=O,O.g5g=function(t){if(O.g1B(),O&&t)return O.O5g(t)},O.U5g=function(t){if(O.g1B(),O)return O.j5g(t)},O.k5g=function(t){if(O.g1B(),O&&t)return O.O5g(t)},O.y5g=function(t){if(O.W1B(),O&&t)return O.O5g(t)},O.x5g=function(t){if(O.g1B(),O&&t)return O.j5g(t)},O.r5g=function(t){if(O.W1B(),O)return O.j5g(t)},O.s5g=function(t){if(O.g1B(),O)return O.j5g(t)},n=t=>{var e,i;e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ,i={get:(t,i)=>(O.W1B(),i(null,e.localStorage.getItem(t))),set:(t,i)=>(O.g1B(),e.localStorageSetItem(t,i)),remove:t=>e.localStorage.removeItem(t)},e.ChartEngine.create=function({container:t,config:a,deferLoad:r}={}){var n,s,o;t||(t=document.querySelector(\".chartContainer\")||document.body),a||(a={}),n=Object.assign({container:t},a.chartEngineParams),s=new this(n);var{quoteFeeds:l,marketFactory:h,addOns:c,chartId:u}=a;for(var d in l&&s.attachQuoteFeed&&l.forEach(({quoteFeed:t,behavior:e,filter:i})=>{O.g1B(),s.attachQuoteFeed(t,e,i)}),h&&s.setMarketFactory(h),c&&Object.entries(c).filter(([,t])=>!!t).forEach(([t,i])=>{var r;O.g1B(),a.enabledAddOns[t]&&(r=i.moduleName||e.capitalize(t),e[r]?new e[r](Object.assign({stx:s},i)):e.debug&&console.log(r+\" not available for addons with params:\",i))}),o=e.ensureDefaults(a.callbacks||{},{layout:this.getSaveLayout(a),symbolChange:this.getSaveLayout(a),drawing:this.getSaveDrawings(a),preferences:this.getSavePreferences(a),newChart:this.getRetoggleEvents(a)}))o[d]&&s.addEventListener(d,o[d]);return e.NameValueStore&&Object.assign(i,e.NameValueStore),r||(a.restore?(this.restorePreferences(s,u),this.restoreLayout(s,null,u)):(s.loadChart(a.initialSymbol,{masterData:a.initialData}),s.draw())),O.g1B(),s},e.ChartEngine.getSaveLayout=function(t){return function({stx:e}){var a;O.g1B(),t.restore&&e.exportLayout&&(a=JSON.stringify(e.exportLayout(!0)),i.set(\"myChartLayout\"+(t.chartId||\"\"),a))}},e.ChartEngine.restoreLayout=function(t,e,a){var{restoreDrawings:r}=this;function n(){r(t,t.chart.symbol,a),O.g1B(),e&&e()}a||(a=\"\"),O.P1f(0),i.get(O.X1f(\"myChartLayout\",a),(function(e,i){e||(t.importLayout&&t.importLayout(JSON.parse(i),{managePeriodicity:!0,cb:n}),t.termStructure&&t.setCandleWidth(1))}))},e.ChartEngine.getSaveDrawings=function(t){return O.g1B(),function({stx:e,symbol:a}){var r,n;t.restore&&e.exportDrawings&&(r=e.exportDrawings(),n=t.chartId?t.chartId+\"~\"+a:a,0===r.length?i.remove(n):i.set(n,JSON.stringify(r)))}},O.W1B(),e.ChartEngine.restoreDrawings=function(t,a,r){e.Drawing&&i.get(r?r+\"~\"+a:a,(function(e,i){var a;e||null!==i&&(a=JSON.parse(i))&&(t.importDrawings(a),t.draw())}))},e.ChartEngine.getSavePreferences=function(t){return function({stx:e}){var a;t.restore&&e.exportPreferences&&(a=JSON.stringify(e.exportPreferences()),i.set(\"myChartPreferences\"+(t.chartId||\"\"),a))}},e.ChartEngine.restorePreferences=function(t,e){O.g1B(),e||(e=\"\"),O.U1f(0),i.get(O.E1f(\"myChartPreferences\",e),(function(e,i){e||i&&t.importPreferences&&t.importPreferences(JSON.parse(i))}))},e.ChartEngine.getRetoggleEvents=function(t){return O.W1B(),function({stx:i}){var a,r;(a=document.getElementById(t.chartId))||(a=(e.getFn(\"UI.getMyContext\")(i.container)||{}).topNode),a||(a=document),r=a.querySelectorAll(t.selector.markersMenuItem+\":not(.span-event).ciq-active\"),O.g1B(),r.forEach((function(t){t.dispatchEvent(new Event(\"stxtap\"))}))}}},s=t=>{var e;(e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ).ChartEngine.prototype.drawHeatmap=function(t,e){var i,a,r,n,s,o,l,h,c,u,d,p,g,m;if(\"D\",\"a\",\"t\",\"a\",\"c\",\"ha\",\"r\",\"t\",e&&e.length&&((i=t.panel)||(i=\"chart\"),a=this.panels[i])){r=t.yAxis?t.yAxis:a.yAxis,n=this.chart.dataSegment,t.name||(t.name=\"Data\"),t.widthFactor||(O.P1f(1),t.widthFactor=O.X1f(570387456,\"1\")),t.height||(t.height=Math.pow(10,1-(a.decimalPlaces||a.chart.decimalPlaces))),s=\"stx-float-date\",o=this.chart.context,this.canvasFont(s,o),l=this.getCanvasFontSize(s),h=1,!t.highlight&&this.highlightedDraggable&&(h=.3),c=.5,a.chart.tmpWidth<=1&&(c=0),u=null,d=null,p=this,g=null,this.startClip(i),o.globalAlpha=h;for(var f=0;f<e.length;f++)y((m=e[f]).field,m.color,m.opacity,null,t.widthFactor,m.height,m.border_color?c:-c/4,m.subField),m.border_color&&this.layout.candleWidth>=2&&y(m.field,m.border_color,m.opacity,!0,t.widthFactor,m.height,c,m.subField);o.lineWidth=1,o.globalAlpha=1,this.endClip()}function y(e,i,s,c,m,f,y,v){var x,C,b,S,w,k,D,T,M,A,P,F,_,B,E=O;E.g1B(),o.beginPath(),o.fillStyle=i,o.strokeStyle=i,o.textAlign=\"center\",x=p.layout.candleWidth*m,C=Math.floor(p.pixelFromBar(0,a.chart)-p.layout.candleWidth),\"number\"==typeof s&&(E.U1f(2),o.globalAlpha=E.X1f(s,h)),\"object\"==typeof s&&(w={minOpacity:s.min||0,maxOpacity:s.max||1});for(var L=0;L<n.length;L++)if(\"n\",\"umber\",(k=n[L])&&k.candleWidth?(C+=0===L?p.layout.candleWidth:(k.candleWidth+x/m)/2,x=k.candleWidth*m):C+=p.layout.candleWidth,E.P1f(3),b=E.X1f(C,y,x,2),E.P1f(4),(S=E.E1f(x,2,C,y))-b<2&&(E.U1f(0),S=E.X1f(b,1)),k&&(D=k[e])){D[v]&&(D=D[v]),\"number\"==typeof D&&(D=[D]);for(var N=0;N<D.length;N++)M=0,(T=D[N])instanceof Array&&(w&&(o.globalAlpha=h*(T[2]*w.maxOpacity+(1-T[2])*w.minOpacity)),M=T[1],T=T[0]),A=p.pixelFromPrice(T,a,r),g||(f||(f=t.height),P=p.pixelFromPrice(T+f*(r.flipped?1:-1),a,r),o.lineWidth=1,E.P1f(5),u=E.E1f(A,P),E.P1f(6),d=E.E1f(2,u),g=o.lineWidth),c?(E.U1f(5),F=E.X1f(d,A),E.P1f(0),_=E.E1f(A,d),E.U1f(5),o.rect(b,F,E.E1f(b,S),E.X1f(F,_))):(E.U1f(5),o.fillRect(b,E.X1f(d,A),E.X1f(b,S),u),t.showSize&&M&&l<=u-2&&(B=o.globalAlpha,o.fillStyle=p.defaultColor,E.P1f(2),o.globalAlpha=E.E1f(.5,h),E.U1f(7),o.fillText(M,E.E1f(S,b,2),A),o.fillStyle=i,E.P1f(2),o.globalAlpha=E.X1f(B,h))),w&&T instanceof Array&&(o.globalAlpha=0)}c&&o.stroke(),o.globalAlpha=h,o.closePath()}},e.ChartEngine.prototype.drawCandles=function(t,i,a){var r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,B,E,L,N,H,I,R,W,z,V,U=O;r=\"ob\",r+=\"j\",r+=\"e\",r+=\"ct\",(n=t.chart)||(n=t,t=t.chart),s=!1,o=!1,l=null,h=t.yAxis,a&&typeof a==r?(s=a.isOutline,o=a.isHistogram,l=a.field,h=a.yAxis):(s=a,o=arguments[3]),c=n.dataSegment,u=n.context,d=h.top,p=h.bottom,U.W1B(),y=new Array(c.length),v=\"transparent\",x=\"transparent\",C=0,b=n.dataSet.length-n.scroll-1,S={},w=n.tmpWidth/2,k=this.layout.candleWidth,D=t.left-.5*k+this.micropixels-1;for(var j=0;j<=c.length;j++)if(T=\"so\",T+=\"li\",T+=\"d\",M=\"o\",M+=\"utlin\",M+=\"e\",A=w,U.U1f(6),D+=U.X1f(2,k),k=this.layout.candleWidth,U.P1f(6),D+=U.X1f(2,k),(P=c[j])&&!P.projection&&(P.candleWidth&&(D+=(P.candleWidth-k)/2,k=P.candleWidth,(a.isVolume||k<n.tmpWidth)&&(U.U1f(6),A=U.E1f(2,k))),n.transformFunc&&h==n.panel.yAxis&&P.transform&&(P=P.transform),P&&l&&(P=P[l]),(P||0===P)&&(F=P.Close,_=void 0===P.Open?F:P.Open,o&&n.defaultPlotField&&(F=P[n.defaultPlotField]),(F||0===F)&&(o||_!=F&&null!==_)&&(B=i(this,P,s?M:T))))){if(s?v=B:x=B,S[x]=1,(E=v&&!e.isTransparent(v))&&!a.highlight&&(C=.5),u.beginPath(),u.fillStyle=x,P.cache||(P.cache={}),L=P.cache,U.U1f(0),(N=U.X1f(b,j))<t.cacheLeft||N>t.cacheRight||!L.open){if(H=h.semiLog?h.height*(1-(Math.log(Math.max(_,0))/Math.LN10-h.logLow)/h.logShadow):(h.high-_)*h.multiplier,I=h.semiLog?h.height*(1-(Math.log(Math.max(F,0))/Math.LN10-h.logLow)/h.logShadow):(h.high-F)*h.multiplier,h.flipped?(U.P1f(5),H=U.E1f(H,p),U.U1f(5),I=U.E1f(I,p)):(H+=d,I+=d),y[j]=I,g=Math.floor(o?I:Math.min(H,I))+C,m=o?h.bottom:Math.max(H,I),U.U1f(5),f=Math.floor(U.E1f(g,m)),g<d){if(g+f<d){L.open=g,L.close=g;continue}U.P1f(5),f-=U.X1f(g,d),g=d}g+f>p&&(U.U1f(8),f-=U.E1f(f,g,p)),f=Math.max(f,2),L.open=g,L.close=L.open+f}L.open>=p||L.close<=d||(R=Math.floor(D)+(!a.highlight&&.5),W=Math.floor(R-A)+C,z=Math.round(R+A)-C,L.open!=L.close&&u.rect(W,L.open,Math.max(1,z-W),Math.max(1,L.close-L.open)),!a.highlight&&this.highlightedDraggable&&(u.globalAlpha*=.3),\"transparent\"!=x&&u.fill(),E&&(u.lineWidth=1,a.highlight&&(u.lineWidth*=2),u.strokeStyle=v,u.stroke()))}for(var q in V={colors:[],cache:y},S)a.hollow&&e.equals(q,this.containerColor)||V.colors.push(q);return V},e.ChartEngine.prototype.drawShadows=function(t,e,i){var a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P=O;(a=t.chart)||(a=t,t=t.chart),r=a.dataSegment,(n=this.chart.context).lineWidth=1,i.highlight&&(n.lineWidth*=2),!i.highlight&&this.highlightedDraggable&&(n.globalAlpha*=.3),s=i.field,l=(o=i.yAxis||t.yAxis).top,h=o.bottom,c=a.dataSet.length-a.scroll-1,u=this.layout.candleWidth,d=t.left-.5*u+this.micropixels-1;for(var F=0;F<=r.length;F++)if(\"sha\",\"dow\",P.P1f(6),d+=P.E1f(2,u),u=this.layout.candleWidth,P.U1f(6),d+=P.X1f(2,u),(p=r[F])&&!p.projection&&(p.candleWidth&&(d+=(p.candleWidth-u)/2,u=p.candleWidth),(g=e(this,p,\"shadow\"))&&(a.transformFunc&&o==a.panel.yAxis&&p.transform&&(p=p.transform),p&&s&&(p=p[s]),(p||0===p)&&(m=p.Close,f=void 0===p.Open?m:p.Open,y=void 0===p.High?Math.max(m,f):p.High,v=void 0===p.Low?Math.min(m,f):p.Low,m||0===m)))){if(p.cache||(p.cache={}),x=p.cache,P.P1f(0),(C=P.X1f(c,F))<t.cacheLeft||C>t.cacheRight||!x.top){if(b=o.semiLog?o.height*(1-(Math.log(Math.max(y,0))/Math.LN10-o.logLow)/o.logShadow):(o.high-y)*o.multiplier,S=o.semiLog?o.height*(1-(Math.log(Math.max(v,0))/Math.LN10-o.logLow)/o.logShadow):(o.high-v)*o.multiplier,o.flipped?(P.U1f(5),b=P.E1f(b,h),P.U1f(5),S=P.X1f(S,h)):(b+=l,S+=l),P.U1f(5),w=P.X1f(b,S),b<l){if(b+w<l){x.top=b,x.bottom=b;continue}P.U1f(5),w-=P.X1f(b,l),b=l}b+w>h&&(P.P1f(8),w-=P.X1f(w,b,h)),x.top=b,x.bottom=x.top+w}x.top>=h||x.bottom<=l||(k=Math.floor(d)+(!i.highlight&&.5),n.beginPath(),m==f&&(D=this.offset,i.isVolume&&(P.P1f(6),D=P.E1f(2,u)),P.P1f(5),T=P.X1f(D,k),P.P1f(0),M=P.X1f(k,D),A=o.semiLog?o.height*(1-(Math.log(Math.max(m,0))/Math.LN10-o.logLow)/o.logShadow):(o.high-m)*o.multiplier,o.flipped?(P.P1f(5),A=P.E1f(A,h)):A+=l,A<=h&&A>=l&&(n.moveTo(T,A),n.lineTo(M,A))),y!=v&&(n.moveTo(k,x.top),n.lineTo(k,x.bottom)),n.strokeStyle=g,n.stroke())}},e.ChartEngine.prototype.drawBarChart=function(t,i,a,r){var n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,B,E=O;(n=t.chart)||(n=t,t=t.chart),s=n.dataSegment,o=new Array(s.length),l=n.context,(h=this.canvasStyle(i)).width&&parseInt(h.width,10)<=25?l.lineWidth=Math.max(1,e.stripPX(h.width)):(E.P1f(2),l.lineWidth=E.E1f(\"1\",1)),r.highlight&&(l.lineWidth*=2),!r.highlight&&this.highlightedDraggable&&(l.globalAlpha*=.3),c=r.field,d=(u=r.yAxis||t.yAxis).top,p=u.bottom,m=n.dataSet.length-n.scroll-1,f={},y=n.tmpWidth/2,v=l.lineWidth/2,x=this.layout.candleWidth,E.g1B(),C=t.left-.5*x+this.micropixels-1;for(var L=0;L<=s.length;L++)if(E.P1f(6),C+=E.E1f(2,x),x=this.layout.candleWidth,E.U1f(9),C+=E.X1f(\"2\",x,1),b=s[L]){if(b.projection)break;if(b.candleWidth&&(C+=(b.candleWidth-x)/2,x=b.candleWidth),(S=a(this,b))&&(f[S]=1,l.strokeStyle=S,l.beginPath(),n.transformFunc&&u==n.panel.yAxis&&b.transform&&(b=b.transform),b&&c&&(b=b[c]),(b||0===b)&&(w=b.Close,k=void 0===b.Open?w:b.Open,D=void 0===b.High?Math.max(w,k):b.High,T=void 0===b.Low?Math.min(w,k):b.Low,w||0===w))){if(b.cache||(b.cache={}),M=b.cache,E.U1f(0),(A=E.X1f(m,L))<t.cacheLeft||A>t.cacheRight||!M.top){if(P=this.pixelFromTransformedValue(D,t,u),F=this.pixelFromTransformedValue(T,t,u),M.open=u.semiLog?u.height*(1-(Math.log(Math.max(k,0))/Math.LN10-u.logLow)/u.logShadow):(u.high-k)*u.multiplier,M.close=u.semiLog?u.height*(1-(Math.log(Math.max(w,0))/Math.LN10-u.logLow)/u.logShadow):(u.high-w)*u.multiplier,u.flipped?(M.open=u.bottom-M.open,M.close=u.bottom-M.close):(M.open+=u.top,M.close+=u.top),o[L]=M.close,E.P1f(5),g=E.E1f(P,F),P<d){if(P+g<d){M.top=P,M.bottom=P;continue}E.P1f(5),g-=E.E1f(P,d),P=d}P+g>p&&(E.P1f(8),g-=E.X1f(g,P,p)),M.top=P,E.P1f(0),M.bottom=E.X1f(P,g)}_=Math.floor(C)+(!r.highlight&&.5),M.top<p&&M.bottom>d&&b.High!=b.Low&&(l.moveTo(_,M.top-v),l.lineTo(_,M.bottom+v)),\"hlc\"!=r.type&&M.open>d&&M.open<p&&(l.moveTo(_,M.open),E.U1f(5),l.lineTo(E.E1f(y,_),M.open)),M.close>d&&M.close<p&&(l.moveTo(_,M.close),E.P1f(0),l.lineTo(E.X1f(_,y),M.close)),l.stroke()}}for(var N in l.lineWidth=1,B={colors:[],cache:o},f)e.equals(N,this.containerColor)||B.colors.push(N);return B},O.W1B(),e.ChartEngine.prototype.drawWaveChart=function(t,i){var a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D;r=(a=t.chart).dataSegment,n=new Array(r.length),s=a.context,i||(i={}),O.g1B(),o=i.yAxis||t.yAxis,this.startClip(t.name),s.beginPath(),l=!1,h=!1,c=t.yAxis.top,u=t.yAxis.bottom,d=t.left+Math.floor(-.5*this.layout.candleWidth+this.micropixels),p=this;for(var T=0;T<=r.length;T++)if(d+=this.layout.candleWidth,g=r[T]){if(g.projection)break;if(a.transformFunc&&o==a.panel.yAxis&&g.transform&&(g=g.transform),g&&i.field&&(g=g[i.field]),(g||0===g)&&(m=g.Close,f=void 0===g.Open?m:g.Open,y=void 0===g.High?Math.max(m,f):g.High,v=void 0===g.Low?Math.min(m,f):g.Low,m||0===m)){if(x=d-3*this.layout.candleWidth/8,(C=M(f))<c){if(C=c,h){s.moveTo(x,C);continue}h=!0}else if(C>u){if(C=u,h){s.moveTo(x,C);continue}h=!0}else h=!1;l?s.lineTo(x,C):(l=!0,(b=a.dataSet.length-a.scroll-1)<0?s.moveTo(x,C):b>=0&&((S=a.dataSet[b]).transform&&(S=S.transform),w=M(w=S.Close),w=Math.min(Math.max(w,c),u),s.moveTo(t.left+(T-1)*this.layout.candleWidth+this.micropixels,w),s.lineTo(x,C)),s.moveTo(x,C)),x+=this.layout.candleWidth/4,f<m?((C=M(v))<c&&(C=c),C>u&&(C=u),s.lineTo(x,C),x+=this.layout.candleWidth/4,(C=M(y))<c&&(C=c),C>u&&(C=u),s.lineTo(x,C)):((C=M(y))<c&&(C=c),C>u&&(C=u),s.lineTo(x,C),x+=this.layout.candleWidth/4,(C=M(v))<c&&(C=c),C>u&&(C=u),s.lineTo(x,C)),x+=this.layout.candleWidth/4,C=M(m),n[T]=C,C<c&&(C=c),C>u&&(C=u),s.lineTo(x,C)}}function M(e){return O.g1B(),p.pixelFromTransformedValue(e,t,o)}return(k=this.canvasStyle(\"stx_line_chart\")).width&&parseInt(k.width,10)<=25?s.lineWidth=Math.max(1,e.stripPX(k.width)):s.lineWidth=1,i.highlight&&(s.lineWidth*=2),this.canvasColor(\"stx_line_chart\"),i.color&&(s.strokeStyle=i.color),!i.highlight&&this.highlightedDraggable&&(s.globalAlpha*=.3),s.stroke(),s.closePath(),D={colors:[s.strokeStyle],cache:n},this.endClip(),s.lineWidth=1,D},e.ChartEngine.prototype.drawHistogram=function(t,i){var a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,B,E,L,N=O;function H(t,e,i,a,n,l,h,c,u){var d,g,f,y,v,b,S,P,F,_,B,E,O;a||(a=1),k.globalAlpha=a,k.beginPath(),N.U1f(10),d=N.E1f(x,\"0.5\"),g=Math.floor(A.pixelFromBar(0,r.chart)-A.layout.candleWidth/2);for(var L=0;L<o.length;L++)\"clu\",\"s\",\"tered\",f=M[L]||x,0===L&&(d=f),o[L]&&o[L][t]?(\"object\"==typeof(v=(y=o[L])[t])&&v[e]&&(v=v[e]),N.U1f(11),b=N.X1f(v,m,p),isNaN(b)||(S=A.layout.candleWidth,y.candleWidth&&(S=y.candleWidth,0===L&&(g=Math.floor(A.pixelFromBar(0,r.chart)-y.candleWidth/2))),(P=Math.floor(f-b)+.5)>f&&!C&&(P=f),u&&-1==u.indexOf(L)||!u&&(l&&y.Close<y.iqPrevClose||!l&&y.Close>=y.iqPrevClose)?(d=P,g+=S):(F=S/A.layout.candleWidth,D?(N.U1f(12),_=Math.round(N.X1f(c,F,g,h,D)),N.U1f(0),B=N.E1f(_,n?0:w),E=_+Math.round(c*F)-(n?0:w)):(N.P1f(12),_=N.X1f(c,F,g,h,D),B=Math.round(_)+(n?0:w),E=Math.round(_+c*F)-(n?0:w)),E-B<2&&(N.U1f(13),E=N.E1f(\"1\",2147483647,B)),B%1==(O=n?0:.5)&&(B+=.5),E%1==O&&(E+=.5),k.moveTo(E,f),x!=f&&n&&!D&&M[L+1]&&k.moveTo(E,Math.max(P,Math.min(f,M[L+1]))),k.lineTo(E,P),k.lineTo(B,P),n&&h?(T[L]>P||0===L)&&k.lineTo(B,Math.min(f,T[L])):n&&!D&&\"clustered\"==s?L>0&&T[L-1]&&T[L-1]>P&&k.lineTo(B,Math.min(f,T[L-1])):n&&!D?(d>P||0===L)&&k.lineTo(B,Math.min(f,d)):k.lineTo(B,f),d=P,g+=S,(\"clustered\"!=s||n)&&(T[L]=P)))):(d=f,g+=A.layout.candleWidth);n?(k.strokeStyle=i&&\"auto\"!=i?i:A.defaultColor,k.stroke()):(k.fillStyle=i&&\"auto\"!=i?i:A.defaultColor,k.fill()),k.closePath()}if(\"D\",\"a\",\"ta\",i&&i.length&&((a=t.panel)||(a=\"chart\"),r=this.panels[a])){for(n=t.yAxis?t.yAxis:r.yAxis,s=t.type,o=this.chart.dataSegment,l=!1,h=1,c=1,d=0;d<i.length;d++)l|=i[d].border_color_up&&!e.isTransparent(i[d].border_color_up),l|=i[d].border_color_down&&!e.isTransparent(i[d].border_color_down),h=i[d].opacity_up,c=i[d].opacity_down,!t.highlight&&this.highlightedDraggable&&(h*=.3,c*=.3);!1===t.borders&&(l=!1),t.name||(t.name=\"Data\"),p=n.multiplier,t.heightPercentage||(t.heightPercentage=.7),t.widthFactor||(t.widthFactor=.8),g=0,m=0;for(var I=0;I<this.chart.maxTicks;I++)if(f=o[I])for(y=0,d=0;d<i.length;d++)((v=f[i[d].field])||0===v)&&(u=i[d].subField||this.chart.defaultPlotField||\"Close\",\"object\"==typeof v&&v[u]&&(v=v[u]),\"stacked\"==s?y+=v:y=v,y>g&&(g=y),y<m&&(m=y));if(0!==g||0!==m){if(C=!1,t.bindToYAxis)n.baseline&&(m=n.baseline.value,C=!0),x=Math.floor(this.pixelFromPrice(m,r,n))+(n.flipped?-.5:.5);else{if(n.flipped){x=Math.floor(n.top)-.5,-1698507389,-646590821,S=2;for(var R=1;-1698507389!==N.p1u(R.toString(),R.toString().length,69210);R++)b=Math.floor(n.bottom)-.5,S+=2;-646590821!==N.p1u(S.toString(),S.toString().length,51526)&&(b=Math.floor(n.bottom)+585)}else x=Math.floor(n.bottom)+.5,b=Math.floor(n.top)+.5;p=Math.abs(x-b)*t.heightPercentage/(g-m)}for(this.startClip(a),w=this.layout.candleWidth<=1||!l?0:.5,k=this.chart.context,n.flipped&&(k.translate(0,2*n.top),k.scale(1,-1)),D=Math.max(0,(1-t.widthFactor)*this.layout.candleWidth/2),T=new Array(o.length),M=[],A=this,P=1,d=0;d<i.length;d++){if(\"C\",\"lose\",F=i[d],P=this.layout.candleWidth*t.widthFactor,D&&this.layout.candleWidth-P<=2&&(l=!1),N.U1f(14),_=N.X1f(0,\"0\"),\"clustered\"==s&&(_=d,P/=i.length),u=F.subField||this.chart.defaultPlotField||\"Close\",\"function\"==typeof F.color_function){E={};for(var W=0;W<o.length;W++)o[W]&&(\"bo\",\"rder_opa\",\"city\",\"string\"==typeof(B=F.color_function(o[W]))&&(B={fill_color:B,border_color:B}),B.hasOwnProperty(\"border_opacity\")||(B.border_opacity=B.opacity),(L=B.fill_color+\",\"+B.border_color)in E?E[L].positions.push(W):(B.positions=[W],E[L]=B));for(L in E)B=E[L],H(F.field,u,B.fill_color,B.opacity,null,null,_,P,B.positions),H(F.field,u,B.border_color,B.border_opacity,!0,null,_,P,B.positions)}else H(F.field,u,F.fill_color_up,h,null,!0,_,P),H(F.field,u,F.fill_color_down,c,null,null,_,P),this.layout.candleWidth>=2&&l&&(H(F.field,u,F.border_color_up,h,!0,!0,_,P),H(F.field,u,F.border_color_down,c,!0,null,_,P));\"stacked\"==s&&(M=e.shallowClone(T))}k.globalAlpha=1,this.endClip()}else this.displayErrorAsWatermark(a,this.translateIf(t.name+\" Not Available\"))}},e.ChartEngine.prototype.scatter=function(t,e){var i,a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C=O;a=(i=t.chart).dataSegment,r=new Array(a.length),n=this.chart.context,this.canvasColor(\"stx_scatter_chart\"),e||(e={}),s=e.field||i.defaultPlotField,o=e.yAxis||t.yAxis,l=e.subField||i.defaultPlotField||\"Close\",C.g1B(),this.startClip(t.name),n.beginPath(),n.lineWidth=e.lineWidth||4,e.highlight&&(C.U1f(2),n.lineWidth*=C.E1f(\"2\",1)),!e.highlight&&this.highlightedDraggable&&(n.globalAlpha*=.3),e.color&&(n.strokeStyle=e.color),h=o.top,c=o.bottom,u=this.layout.candleWidth,d=t.left-.5*u+this.micropixels-1;for(var b=0;b<=a.length;b++)if(C.P1f(6),d+=C.X1f(2,u),u=this.layout.candleWidth,C.U1f(6),d+=C.X1f(2,u),(p=a[b])&&(p.candleWidth&&(d+=(p.candleWidth-u)/2,u=p.candleWidth),!p.projection)){\"Sca\",\"tter\",i.transformFunc&&o==i.panel.yAxis&&p.transform&&(p=p.transform),(g=p[s])&&void 0!==g[l]&&(g=g[l]),g instanceof Array||(g=[g]),\"Scatter\"in p&&(g=p.Scatter);for(var S=0;S<g.length;S++)(g[S]||0===g[S])&&(m=g[S],f=0,g[S]instanceof Array&&(m=g[S][0],f=g[S][2]),y=o.semiLog?o.height*(1-(Math.log(Math.max(m,0))/Math.LN10-o.logLow)/o.logShadow):(o.high-m)*o.multiplier,o.flipped?(C.U1f(5),y=C.E1f(y,c)):y+=h,y<h||y>c||(v=2,f&&(C.P1f(2),v=C.E1f(u,f)),C.P1f(5),n.moveTo(C.E1f(v,d),y),C.P1f(0),n.lineTo(C.X1f(d,v),y),r[b]=y))}return n.stroke(),n.closePath(),x={colors:[n.strokeStyle],cache:r},this.endClip(),n.lineWidth=1,x}},o=t=>{var e,i;e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ,i=\"undefined\"!=typeof _timezoneJS?_timezoneJS:t.timezoneJS,e.ChartEngine.drawingTools={},e.ChartEngine.currentVectorParameters={vectorType:null,pattern:\"solid\",lineWidth:1,fillColor:\"#7DA6F5\",currentColor:\"auto\",axisLabel:!0,fibonacci:{trend:{color:\"auto\",parameters:{pattern:\"solid\",opacity:.25,lineWidth:1}},fibs:[{level:-.786,color:\"auto\",parameters:{pattern:\"solid\",opacity:.25,lineWidth:1}},{level:-.618,color:\"auto\",parameters:{pattern:\"solid\",opacity:.25,lineWidth:1},display:!0},{level:-.5,color:\"auto\",parameters:{pattern:\"solid\",opacity:.25,lineWidth:1}},{level:-.382,color:\"auto\",parameters:{pattern:\"solid\",opacity:.25,lineWidth:1},display:!0},{level:-.236,color:\"auto\",parameters:{pattern:\"solid\",opacity:.25,lineWidth:1}},{level:0,color:\"auto\",parameters:{pattern:\"solid\",lineWidth:1},display:!0},{level:.236,color:\"auto\",parameters:{pattern:\"solid\",opacity:.25,lineWidth:1}},{level:.382,color:\"auto\",parameters:{pattern:\"solid\",opacity:.25,lineWidth:1},display:!0},{level:.5,color:\"auto\",parameters:{pattern:\"solid\",opacity:.25,lineWidth:1},display:!0},{level:.618,color:\"auto\",parameters:{pattern:\"solid\",opacity:.25,lineWidth:1},display:!0},{level:.786,color:\"auto\",parameters:{pattern:\"solid\",opacity:.25,lineWidth:1}},{level:1,color:\"auto\",parameters:{pattern:\"solid\",lineWidth:1},display:!0},{level:1.272,color:\"auto\",parameters:{pattern:\"solid\",opacity:.25,lineWidth:1}},{level:1.382,color:\"auto\",parameters:{pattern:\"solid\",opacity:.25,lineWidth:1},display:!0},{level:1.618,color:\"auto\",parameters:{pattern:\"solid\",opacity:.25,lineWidth:1},display:!0},{level:2.618,color:\"auto\",parameters:{pattern:\"solid\",opacity:.25,lineWidth:1}},{level:4.236,color:\"auto\",parameters:{pattern:\"solid\",opacity:.25,lineWidth:1}}],extendLeft:!1,printLevels:!0,printValues:!1,timezone:{color:\"auto\",parameters:{pattern:\"solid\",opacity:.25,lineWidth:1}}},annotation:{font:{style:null,size:null,weight:null,family:null}}},e.ChartEngine.registerDrawingTool=function(t,i){O.W1B(),e.ChartEngine.drawingTools[t]=i},e.ChartEngine.prototype.setDrawingContainer=function(t){this.drawingContainer=t},e.ChartEngine.prototype.exportDrawings=function(){var t;O.g1B(),t=[];for(var e=0;e<this.drawingObjects.length;e++)t.push(this.drawingObjects[e].serialize());return t},e.ChartEngine.prototype.abortDrawings=function(t){var e;!1!==t&&(t=!0);for(var i=this.drawingObjects.length-1;i>=0;i--)(e=this.drawingObjects[i]).abort(!0),!t&&e.permanent||this.drawingObjects.splice(i,1)},e.ChartEngine.prototype.importDrawings=function(t){var i,a,r;if(e.Drawing){O.g1B();for(var n=0;n<t.length;n++)\"fi\",\"bonacci\",\"fibonacci\"==(i=t[n]).name&&(i.name=\"retracement\"),(a=e.ChartEngine.drawingTools[i.name])||e.Drawing[i.name]&&(a=e.Drawing[i.name],e.ChartEngine.registerDrawingTool(i.name,a)),a&&((r=new a).reconstruct(this,i),this.drawingObjects.push(r))}},e.ChartEngine.prototype.clearDrawings=function(t,i){var a,r;O.g1B(),!1!==i&&(i=!0),a=this.exportDrawings(),this.abortDrawings(i),t?this.undoStamps=[]:this.undoStamp(a,this.exportDrawings()),this.changeOccurred(\"vector\"),this.cancelTouchSingleClick=!0,e.clearCanvas(this.chart.tempCanvas,this),this.draw(),(r=this.controls.mSticky)&&(r.style.display=\"none\",r.children[0].innerHTML=\"\")},e.ChartEngine.prototype.createDrawing=function(t,i){var a,r;if(O.W1B(),e.Drawing){for(var n in(a=new e.Drawing[t]).reconstruct(this,i),(r=new e.Drawing[t]).stx=this,r.copyConfig(),r)a[n]=a[n]||r[n];return this.drawingObjects.push(a),this.draw(),a}},e.ChartEngine.prototype.removeDrawing=function(t){O.W1B();for(var e=0;e<this.drawingObjects.length;e++)if(this.drawingObjects[e]==t)return this.drawingObjects.splice(e,1),this.changeOccurred(\"vector\"),void this.draw()},e.ChartEngine.prototype.undo=function(){var t,i,a;t=\"u\",t+=\"ndo\",this.runPrepend(t,arguments)||(O.W1B(),this.activeDrawing&&(i=\"stx_c\",i+=\"r\",i+=\"osshair_drawi\",i+=\"ng\",a=\"stx_cro\",a+=\"ssha\",a+=\"ir_drawing\",this.activeDrawing.abort(),this.activeDrawing.hidden=!1,this.drawingSnapshot=null,this.activateDrawing(null),e.clearCanvas(this.chart.tempCanvas,this),this.draw(),this.controls.crossX.classList.replace(a,\"stx_crosshair\"),this.controls.crossY.classList.replace(i,\"stx_crosshair\"),e.ChartEngine.drawingLine=!1),this.runAppend(\"undo\",arguments))},e.ChartEngine.prototype.undoStamp=function(t,e){O.g1B(),this.undoStamps.push(t),this.dispatch(\"undoStamp\",{before:t,after:e,stx:this})},e.ChartEngine.prototype.undoLast=function(){this.activeDrawing?this.undo():this.undoStamps.length&&(this.drawingObjects=[],this.importDrawings(this.undoStamps.pop()),this.changeOccurred(\"vector\"),this.draw())},e.ChartEngine.prototype.addDrawing=function(t){var e;e=this.exportDrawings(),this.drawingObjects.push(t),this.undoStamp(e,this.exportDrawings())},e.ChartEngine.prototype.repositionDrawing=function(t,i){var a,r,n;a=this.panels[t.panelName],r=this.adjustIfNecessary(a,this.crosshairTick,this.valueFromPixel(this.backOutY(e.ChartEngine.crosshairY),a)),n=this.chart.tempCanvas,e.clearCanvas(n,this),i?(this.drawingSnapshot=this.exportDrawings(),t.render(n.context)):(t.reposition(n.context,t.repositioner,this.crosshairTick,r),this.drawingSnapshot&&this.undoStamp(e.shallowClone(this.drawingSnapshot),this.exportDrawings()),this.drawingSnapshot=null),t.measure&&t.measure()},e.ChartEngine.prototype.activateRepositioning=function(t){this.repositioningDrawing=t,O.W1B(),t&&(this.draw(),this.repositionDrawing(t,!0)),this.chart.tempCanvas.style.display=t?\"block\":\"none\"},e.ChartEngine.prototype.activateDrawing=function(t,i){var a;if(\"n\",\"o\",\"n\",\"e\",\"b\",\"lo\",\"c\",\"k\",i||(i=this.currentPanel),!t)return this.activeDrawing=null,this.chart.tempCanvas.style.display=\"none\",r(this),!1;if((a=e.ChartEngine.drawingTools[t])||e.Drawing[t]&&(a=e.Drawing[t],e.ChartEngine.registerDrawingTool(t,a)),a&&(this.activeDrawing=new a,this.activeDrawing.construct(this,i),!this.charts[i.name]&&this.activeDrawing.chartsOnly))return this.activeDrawing=null,r(this),!1;function r(t){var e;t.layout.studies&&(e=t.layout.studies[i.name])&&!e.overlay&&delete t.overlays[e.name]}return this.chart.tempCanvas.style.display=\"block\",this.controls.drawOk&&(this.controls.drawOk.style.display=\"none\"),r(this),!0},e.ChartEngine.prototype.drawingClick=function(t,i,a){var r,n,s;if(e.Drawing&&t&&\"\"===this.openDialog&&(this.activeDrawing||this.activateDrawing(this.currentVectorParameters.vectorType,t)))return this.activeDrawing?this.userPointerDown&&!this.activeDrawing.dragToDraw?void(e.ChartEngine.drawingLine||this.activateDrawing(null)):(r=this.tickFromPixel(i,t.chart),n=this.panels[this.activeDrawing.panelName],s=this.adjustIfNecessary(n,r,this.valueFromPixel(a,n)),this.magnetizedPrice&&(s=this.adjustIfNecessary(n,r,this.magnetizedPrice)),this.activeDrawing.click(this.chart.tempCanvas.context,r,s)?this.activeDrawing&&(\"stx_\",\"crosshai\",\"r_draw\",\"ing\",\"s\",\"tx\",\"_crosshair\",e.ChartEngine.drawingLine=!1,e.clearCanvas(this.chart.tempCanvas,this),this.addDrawing(this.activeDrawing),this.activateDrawing(null),this.adjustDrawings(),this.draw(),this.changeOccurred(\"vector\"),this.controls.crossX.classList.replace(\"stx_crosshair_drawing\",\"stx_crosshair\"),this.controls.crossY.classList.replace(\"stx_crosshair_drawing\",\"stx_crosshair\")):(this.changeOccurred(\"drawing\"),e.ChartEngine.drawingLine=!0,this.controls.crossX.classList.replace(\"stx_crosshair\",\"stx_crosshair_drawing\"),this.controls.crossY.classList.replace(\"stx_crosshair\",\"stx_crosshair_drawing\")),!0):(O.g1B(),!1)},e.ChartEngine.prototype.rightClickDrawing=function(t,e){var i,a;O.g1B(),i=\"rightC\",i+=\"lickDra\",i+=\"wi\",i+=\"ng\",this.runPrepend(i,arguments)||t.permanent||(this.callbackListeners.drawingEdit.length?this.dispatch(\"drawingEdit\",{stx:this,drawing:t,forceEdit:e}):(t.abort()||(a=this.exportDrawings(),this.removeDrawing(t),this.undoStamp(a,this.exportDrawings())),this.changeOccurred(\"vector\")),this.runAppend(\"rightClickDrawing\",arguments))},e.ChartEngine.prototype.magnetize=function(){var t,i,a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w;if(t=\"L\",t+=\"ow\",O.W1B(),i=\"cal\",i+=\"lo\",i+=\"ut\",a=\"ann\",a+=\"otat\",a+=\"io\",a+=\"n\",r=\"magn\",r+=\"eti\",r+=\"ze\",this.magnetizedPrice=null,this.preferences.magnet&&!this.runPrepend(r,arguments)&&!this.repositioningDrawing&&(n=this.currentVectorParameters.vectorType)&&\"projection\"!=n&&\"freeform\"!=n&&(n!=a&&n!=i||!e.ChartEngine.drawingLine)&&(o=(s=this.currentPanel).chart,!((l=this.crosshairTick)>o.dataSet.length)&&(h=o.dataSet[l]))){(c=o.transformFunc&&s.yAxis===o.yAxis)&&h.transform&&(h=h.transform),d=this.getRenderedItems(),p=[\"Open\",\"High\",t,\"Close\"],this.magneticHold&&this.activeDrawing&&this.activeDrawing.penDown?d=-1!=p.indexOf(this.magneticHold)&&-1!=d.indexOf(\"High\")?p:[this.magneticHold]:this.magneticHold=null,g=1e9,m=parseFloat(this.preferences.magnet);for(var k=0;k<d.length;k++)if(f=h[d[k]],y=this.getYAxisByField(s,d[k]),(v=e.existsInObjectChain(h,d[k]))&&(f=v.obj[v.member]),(f||0===f)&&(x=this.pixelFromTransformedValue(f,s,y),Math.abs(this.cy-x)<g)){if(g=Math.abs(this.cy-x),m&&m<=g)continue;this.magnetizedPrice=c?this.valueFromPixel(x,s):f,u=x,this.magneticHold=d[k]}C=this.pixelFromTick(l,o),b=u,e.clearCanvas(o.tempCanvas,this),(S=o.tempCanvas.context).beginPath(),S.lineWidth=1,w=Math.max(this.layout.candleWidth,12)/3,S.arc(C,b,Math.min(w,8),0,2*Math.PI,!1),S.fillStyle=\"#398dff\",S.strokeStyle=\"#398dff\",S.fill(),S.stroke(),S.closePath(),o.tempCanvas.style.display=\"block\",this.anyHighlighted&&this.container.classList.remove(\"stx-draggable\"),this.activeDrawing&&this.activeDrawing.move(S,this.crosshairTick,this.magnetizedPrice),this.runAppend(\"magnetize\",arguments)}},e.ChartEngine.prototype.changeVectorType=function(t){this.currentVectorParameters.vectorType=t,e.Drawing&&e.Drawing.initializeSettings(this,t),e.ChartEngine.drawingLine&&this.undo(),this.insideChart&&this.doDisplayCrosshairs()},e.ChartEngine.prototype.changeVectorParameter=function(t,e){var i;return O.g1B(),\"f\",\"on\",\"t\",\"axis\",\"La\",\"bel\",\"axisLabel\"==t?e=\"true\"===e.toString()||Number(e):\"lineWidth\"==t?e=Number(e):\"fontSize\"==t&&(e=parseInt(e,10)+\"px\"),(void 0!==(i=this.currentVectorParameters)[t]||\"font\"==t.substr(0,4)&&(\"fa\",\"mi\",\"ly\",\"family\"==(t=t.substr(4).toLowerCase())&&\"default\"==e.toLowerCase()&&(e=null),void 0!==(i=i.annotation.font)[t]))&&(i[t]=e,!0)},e.ChartEngine.prototype.drawVectors=function(){var t,e,i,a,r,n,s;if(t=\"drawVec\",t+=\"t\",t+=\"o\",t+=\"rs\",e=\"d\",e+=\"rawVector\",e+=\"s\",!this.vectorsShowing&&!this.runPrepend(e,arguments)){if(this.vectorsShowing=!0,!this.chart.hideDrawings&&!this.highlightedDraggable){for(i={},r=0;r<this.drawingObjects.length;r++)(n=this.drawingObjects[r]).hidden||this.repositioningDrawing!==n&&(a=n.panelName,this.panels[n.panelName]&&!this.panels[n.panelName].hidden&&(i[a]||(i[a]=[]),i[a].push(n)));for(a in i){for(this.startClip(a),s=i[a],r=0;r<s.length;r++)s[r].render(this.chart.context);this.endClip()}}this.runAppend(t,arguments)}},e.ChartEngine.prototype.adjustDrawings=function(){for(var t,e=0;e<this.drawingObjects.length;e++)t=this.drawingObjects[e],this.panels[t.panelName]&&t.adjust()},e.Drawing=e.Drawing||function(){this.chartsOnly=!1,this.penDown=!1,O.W1B()},e.Drawing.getDrawingParameters=function(t,i){var a,r,n,s;try{a=new e.Drawing[i]}catch(t){}if(!a)return null;a.stx=t,a.copyConfig(!0),r={},O.g1B(),n=a.configs;for(var o=0;o<n.length;o++)r[n[o]]=a[n[o]];return(s=t.canvasStyle(\"stx_annotation\"))&&r.font&&(r.font.size=s.fontSize,r.font.family=s.fontFamily,r.font.style=s.fontStyle,r.font.weight=s.fontWeight),r},e.Drawing.saveConfig=function(t,i){var a,r;i&&((a=t.preferences).drawings||(a.drawings={}),a.drawings[i]={},r=new e.Drawing[i],O.g1B(),r.stx=t,e.Drawing.copyConfig(r),r.configs.forEach((function(t){a.drawings[i][t]=r[t]})),t.changeOccurred(\"preferences\"))},e.Drawing.restoreDefaultConfig=function(t,i,a){O.g1B(),a?t.preferences.drawings=null:t.preferences.drawings[i]=null,t.changeOccurred(\"preferences\"),t.currentVectorParameters=e.clone(e.ChartEngine.currentVectorParameters),t.currentVectorParameters.vectorType=i},e.Drawing.initializeSettings=function(t,i){var a,r;(a=e.Drawing[i])&&(r=new a).initializeSettings&&r.initializeSettings(t)},e.Drawing.updateSource=function(t,e,i,a){var r,n;if(e){for(var s in r=!1,t.drawingObjects)(n=t.drawingObjects[s]).field&&(i?n.field==e?(n.field=i,r=!0):n.field.indexOf(e)>-1&&-1==n.field.indexOf(e+\"-\")&&(n.field=n.field.replace(e,i),r=!0):n.field.split(\"--\\x3e\")[0]!=e&&n.panelName!=e||(n.panelName=a,r=!0));r&&t.changeOccurred(\"vector\")}},e.Drawing.prototype.copyConfig=function(t){e.Drawing.copyConfig(this,t)},e.Drawing.copyConfig=function(t,i){var a,r,n,s,o;for(a=t.stx.currentVectorParameters,r=t.configs,n=0;n<r.length;n++)\"f\",\"ont\",\"p\",\"a\",\"rameter\",\"s\",\"color\"==(s=r[n])?t.color=a.currentColor:\"parameters\"==s?t.parameters=e.clone(a.fibonacci):\"font\"==s?t.font=e.clone(a.annotation.font):t[s]=a[s];if(i&&(o=t.stx.preferences)&&o.drawings)for(e.extend(t,o.drawings[a.vectorType]),n=0;n<r.length;n++)\"f\",\"ont\",\"color\"==(s=r[n])?a.currentColor=t.color:\"parameters\"==s?a.fibonacci=e.clone(t.parameters):\"font\"==s?a.annotation.font=e.clone(t.font):a[s]=t[s]},e.Drawing.prototype.dragToDraw=!1,e.Drawing.prototype.permanent=!1,e.Drawing.prototype.chartsOnly=!1,e.Drawing.prototype.abort=function(t){},e.Drawing.prototype.measure=function(){},e.Drawing.prototype.construct=function(t,e){O.g1B(),this.stx=t,this.panelName=e.name},e.Drawing.prototype.render=function(t){console.warn(\"must implement render function!\")},e.Drawing.prototype.click=function(t,e,i){console.warn(\"must implement click function!\")},e.Drawing.prototype.move=function(t,e,i){console.warn(\"must implement move function!\")},e.Drawing.prototype.reposition=function(t,e,i,a){},e.Drawing.prototype.intersected=function(t,e,i){O.g1B(),console.warn(\"must implement intersected function!\")},e.Drawing.prototype.reconstruct=function(t,e){console.warn(\"must implement reconstruct function!\")},e.Drawing.prototype.serialize=function(){O.g1B(),console.warn(\"must implement serialize function!\")},e.Drawing.prototype.adjust=function(){O.g1B(),console.warn(\"must implement adjust function!\")},e.Drawing.prototype.highlight=function(t){return O.W1B(),(t&&!this.highlighted||!t&&this.highlighted)&&(this.highlighted=t),this.highlighted},e.Drawing.prototype.littleCircleRadius=function(){return 6,O.W1B(),6},e.Drawing.prototype.littleCircle=function(t,i,a,r){var n,s;this.permanent||(O.W1B(),n=this.stx.defaultColor,s=e.chooseForegroundColor(n),t.beginPath(),t.lineWidth=1,t.arc(i,a,this.littleCircleRadius(),0,2*Math.PI,!1),t.fillStyle=r?n:s,t.strokeStyle=n,t.setLineDash([]),t.fill(),t.stroke(),t.closePath())},e.Drawing.prototype.rotator=function(t,e,i,a){var r,n,s,o=O;this.permanent||(r=this.littleCircleRadius(),n=this.stx.defaultColor,t.beginPath(),t.lineWidth=2,a||(t.globalAlpha=.5),o.U1f(0),s=o.E1f(4,r),t.arc(e,i,s,0,3*Math.PI/2,!1),o.U1f(15),t.moveTo(o.X1f(s,2,e),o.X1f(i,2,o.P1f(0))),o.U1f(0),t.lineTo(o.X1f(e,s),i),o.U1f(16),t.lineTo(o.E1f(2,s,e),o.X1f(i,2,o.U1f(0))),o.U1f(5),t.moveTo(o.E1f(2,e),o.X1f(2,i,s,o.U1f(8))),o.U1f(5),t.lineTo(e,o.X1f(s,i)),o.U1f(5),t.lineTo(o.X1f(2,e),o.X1f(i,s,2,o.P1f(17))),t.strokeStyle=n,t.stroke(),t.closePath(),t.globalAlpha=1)},e.Drawing.prototype.mover=function(t,e,i,a){var r,n,s,o,l=O;if(!this.permanent){r=this.littleCircleRadius(),n=this.stx.defaultColor,l.U1f(18),s=l.E1f(\"5\",1),l.P1f(0),o=l.X1f(r,1),t.save(),l.P1f(5),t.lineWidth=l.X1f(0,\"2\"),t.strokeStyle=n,t.translate(e,i),a||(t.globalAlpha=.5);for(var h=0;h<4;h++)t.rotate(Math.PI/2),t.beginPath(),t.moveTo(0,o),l.P1f(0),t.lineTo(0,l.E1f(o,s)),l.U1f(19),t.moveTo(-l.E1f(\"2\",2065887008),l.X1f(s,o,2,l.P1f(8))),l.U1f(0),t.lineTo(0,l.E1f(o,s)),l.U1f(8),t.lineTo(2,l.E1f(s,o,2)),t.closePath(),t.stroke();t.globalAlpha=1,t.restore()}},e.Drawing.prototype.resizer=function(t,e,i,a){var r,n,s,o,l=O;if(!this.permanent){r=this.littleCircleRadius(),n=this.stx.defaultColor,s=5*Math.sqrt(2),l.U1f(0),o=l.X1f(r,1),t.save(),l.P1f(5),t.lineWidth=l.E1f(0,\"2\"),t.strokeStyle=n,t.translate(e,i),t.rotate(-e*i/Math.abs(e*i)*Math.PI/4),a||(t.globalAlpha=.5);for(var h=0;h<2;h++)t.rotate(Math.PI),t.beginPath(),t.moveTo(0,o),l.P1f(18),t.lineTo(l.X1f(\"0\",0),l.E1f(o,s,l.U1f(0))),l.U1f(8),t.moveTo(-2,l.E1f(s,o,2)),l.P1f(14),t.lineTo(l.E1f(0,\"0\"),l.E1f(o,s,l.U1f(0))),l.U1f(5),t.lineTo(l.E1f(0,\"2\"),l.E1f(s,o,2,l.P1f(8))),t.closePath(),t.stroke();t.globalAlpha=1,t.restore()}},e.Drawing.prototype.pointIntersection=function(t,e,i,a){if(!this.stx.panels[this.panelName])return!1;if(a){if(t>=i.cx0&&t<=i.cx1&&e>=i.cy0&&e<=i.cy1)return!0}else if(t>=i.x0&&t<=i.x1&&e>=Math.min(i.y0,i.y1)&&e<=Math.max(i.y0,i.y1))return!0;return!1},O.g1B(),e.Drawing.prototype.setPoint=function(t,i,a,r){var n,s,o,l,h,c=O;n=null,c.W1B(),s=null,\"number\"==typeof i?n=i:i.length>=8?s=i:n=Number(i),(a||0===a)&&(c.U1f(0),this[c.E1f(\"v\",t)]=a),null!==n?(o=this.stx.dateFromTick(n,r,!0),c.P1f(0),this[c.X1f(\"tzo\",t)]=o.getTimezoneOffset(),c.U1f(0),this[c.E1f(\"d\",t)]=e.yyyymmddhhmmssmmm(o),c.P1f(0),this[c.E1f(\"p\",t)]=[n,a]):null!==s&&(\"fre\",\"e\",\"fo\",\"rm\",o=e.strToDateTime(s),this[\"tzo\"+t]||0===this[\"tzo\"+t]||(c.U1f(0),this[c.E1f(\"tzo\",t)]=o.getTimezoneOffset()),c.U1f(0),this[c.E1f(\"d\",t)]=s,l=this[\"tzo\"+t]-o.getTimezoneOffset(),o.setMinutes(o.getMinutes()+l),h=!1,\"freeform\"==this.name||e.ChartEngine.isDailyInterval(this.stx.layout.interval)||o.getHours()||o.getMinutes()||o.getSeconds()||o.getMilliseconds()||(h=!0),c.U1f(0),this[c.X1f(\"p\",t)]=[this.stx.tickFromDate(e.yyyymmddhhmmssmmm(o),r,null,h),a])},e.Drawing.prototype.getLineColor=function(t){var i,a,r,n,s,o,l,h,c;if(\"au\",\"t\",\"o\",\"a\",\"u\",O.g1B(),\"t\",\"o\",t||(t=this.color),i=this.stx,a=t,this.highlighted)\"stx_hi\",\"ghlig\",\"ht_vec\",\"tor\",a=i.getCanvasColor(\"stx_highlight_vector\");else if(e.isTransparent(a))a=i.defaultColor;else if(\"auto\"==a&&(a=i.defaultColor,this.field)){for(r in i.layout.studies)if(s=(n=i.layout.studies[r]).outputs[n.outputMap[this.field]]){a=s.color||s;break}for(r in i.chart.seriesRenderers){l=i.chart.seriesRenderers[r];for(var u=0;u<l.seriesParams.length;u++){if(\"-\",\"->\",(c=(h=l.seriesParams[u]).field)||l.highLowBars||(c=this.defaultPlotField||\"Close\"),h.symbol&&h.subField&&(c+=\"--\\x3e\"+h.subField),this.field==c){a=h.color;break}h.field&&h.field==this.field.split(\"--\\x3e\")[0]&&(o=h.color)}}o&&(a=o)}return\"auto\"==a&&(a=i.defaultColor),a},e.Drawing.BaseTwoPoint=function(){this.p0=null,O.W1B(),this.p1=null,this.color=\"\"},e.inheritsFrom(e.Drawing.BaseTwoPoint,e.Drawing),e.Drawing.BaseTwoPoint.prototype.configs=[],e.Drawing.BaseTwoPoint.prototype.lineIntersection=function(t,i,a,r,n,s,o){var l,h,c;return n||(n=this.p0),s||(s=this.p1),l=this.stx,!(!n||!s)&&(void 0!==(h=e.convertBoxToPixels(l,this.panelName,a)).x0&&(c={x0:n[0],x1:s[0],y0:n[1],y1:s[1]},o||(c=e.convertBoxToPixels(l,this.panelName,c)),e.boxIntersects(h.x0,h.y0,h.x1,h.y1,c.x0,c.y0,c.x1,c.y1,r)))},e.Drawing.BaseTwoPoint.prototype.boxIntersection=function(t,e,i){return!(!this.p0||!this.p1)&&(!(i.x0>Math.max(this.p0[0],this.p1[0])||i.x1<Math.min(this.p0[0],this.p1[0]))&&(!(i.y1>Math.max(this.p0[1],this.p1[1])||i.y0<Math.min(this.p0[1],this.p1[1]))&&(O.g1B(),!0)))},e.Drawing.BaseTwoPoint.prototype.accidentalClick=function(t,e){var i,a,r,n,s,o,l,h=O;if(i=this.stx.panels[this.panelName],a=this.stx.pixelFromTick(this.p0[0],i.chart),r=this.stx.pixelFromTick(t,i.chart),n=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),s=this.stx.pixelFromValueAdjusted(i,t,e),h.P1f(5),o=Math.abs(h.X1f(a,r)),h.P1f(5),l=Math.abs(h.E1f(n,s)),h.P1f(20),Math.sqrt(h.E1f(o,o,l,l))<10)return this.penDown=!1,this.dragToDraw&&this.stx.undo(),!0},e.Drawing.BaseTwoPoint.prototype.click=function(t,e,i){var a;return this.copyConfig(),a=this.stx.panels[this.panelName],this.penDown?this.accidentalClick(e,i)?this.dragToDraw:(this.setPoint(1,e,i,a.chart),this.penDown=!1,!0):(this.setPoint(0,e,i,a.chart),this.penDown=!0,!1)},e.Drawing.BaseTwoPoint.prototype.adjust=function(){var t;(t=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,t.chart),this.setPoint(1,this.d1,this.v1,t.chart))},e.Drawing.BaseTwoPoint.prototype.move=function(t,e,i){this.penDown&&(this.copyConfig(),this.p1=[e,i],this.render(t))},e.Drawing.BaseTwoPoint.prototype.measure=function(){var t,i,a;this.p0&&this.p1&&(this.stx.setMeasure(this.p0[1],this.p1[1],this.p0[0],this.p1[0],!0,this.name),(i=(t=this.stx.controls.mSticky)&&t.querySelector(\".mStickyInterior\"))&&(\"C\",\"l\",\"os\",\"e\",(a=[]).push(e.capitalize(this.name)),this.getYValue&&a.push(this.field||this.stx.defaultPlotField||\"Close\"),a.push(i.innerHTML),i.innerHTML=a.join(\"<br>\")))},e.Drawing.BaseTwoPoint.prototype.reposition=function(t,e,i,a){var r,n,s;e&&(r=this.stx.panels[this.panelName],n=e.tick-i,s=e.value-a,\"move\"==e.action?(this.setPoint(0,e.p0[0]-n,e.p0[1]-s,r.chart),this.setPoint(1,e.p1[0]-n,e.p1[1]-s,r.chart),this.render(t)):\"drag\"==e.action&&(this[e.point]=[i,a],this.setPoint(0,this.p0[0],this.p0[1],r.chart),this.setPoint(1,this.p1[0],this.p1[1],r.chart),this.render(t)))},e.Drawing.BaseTwoPoint.prototype.drawDropZone=function(t,e,i,a,r){var n,s,o,l,h,c=O;(n=this.stx.panels[this.panelName])&&(s=n.left,o=n.width,(a||0===a)&&(s=this.stx.pixelFromTick(a,n.chart)),(r||0===r)&&(o=this.stx.pixelFromTick(r,n.chart)),l=this.stx.pixelFromPrice(e,n),h=this.stx.pixelFromPrice(i,n),t.fillStyle=\"#008000\",c.P1f(2),t.globalAlpha=c.X1f(\"0.2\",1),c.P1f(5),t.fillRect(s,l,c.E1f(s,o),c.X1f(l,h)),c.P1f(19),t.globalAlpha=c.E1f(\"1\",2029215616))},e.Drawing.annotation=function(){this.name=\"annotation\",this.arr=[],this.w=0,this.h=0,this.padding=4,this.text=\"\",this.ta=null,this.fontSize=0,this.font={}},e.inheritsFrom(e.Drawing.annotation,e.Drawing.BaseTwoPoint),e.Drawing.annotation.prototype.getFontString=function(){var t,e;for(var i in\"1\",\"2\",\"p\",\"x\",this.fontDef={style:null,weight:null,size:\"12px\",family:null},(t=this.stx.canvasStyle(\"stx_annotation\"))&&(t.fontStyle&&(this.fontDef.style=t.fontStyle),t.fontWeight&&(this.fontDef.weight=t.fontWeight),t.fontSize&&(this.fontDef.size=t.fontSize),t.fontFamily&&(this.fontDef.family=t.fontFamily)),this.font.style&&(this.fontDef.style=this.font.style),this.font.weight&&(this.fontDef.weight=this.font.weight),this.font.size&&(this.fontDef.size=this.font.size),this.font.family&&(this.fontDef.family=this.font.family),this.fontString=\"\",e=!0,this.fontDef)this.fontDef[i]&&(e?e=!1:this.fontString+=\" \",this.fontString+=this.fontDef[i])},e.Drawing.annotation.prototype.configs=[\"color\",\"font\"],e.Drawing.annotation.prototype.measure=function(){},e.Drawing.annotation.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,d,p,g=O;if(\"mi\",\"dd\",\"l\",\"e\",!this.ta&&(e=this.stx.panels[this.panelName])){if(i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),t.font=this.fontString,t.textBaseline=\"middle\",r=i,n=a,s=this.w,o=this.h,l=this.getLineColor(),this.stem&&(this.stem.d?(h=this.stx.pixelFromTick(this.stem.t),u=this.stx.pixelFromValueAdjusted(e,this.stem.t,this.stem.v),g.P1f(21),c=g.E1f(2,r,s),g.P1f(21),d=g.X1f(2,n,o)):this.stem.x&&(h=r,u=n,r+=this.stem.x,n+=this.stem.y,g.P1f(21),c=g.E1f(2,r,s),g.P1f(21),d=g.X1f(2,n,o)),t.beginPath(),this.borderColor?t.strokeStyle=this.borderColor:t.strokeStyle=l,t.moveTo(h,u),t.lineTo(c,d),t.stroke()),p=t.lineWidth,this.highlighted?(this.stx.canvasColor(\"stx_annotation_highlight_bg\",t),g.U1f(5),t.fillRect(g.X1f(p,r),g.E1f(\"2\",o,n,p,g.U1f(22)),g.E1f(2,s,p,g.U1f(23)),g.E1f(2,o,p,g.U1f(23)))):this.fillColor?(t.fillStyle=this.fillColor,g.U1f(24),t.fillRect(r,g.X1f(n,o,2),s,o)):this.stem&&(t.fillStyle=this.stx.containerColor,g.P1f(24),t.fillRect(r,g.E1f(n,o,2),s,o)),this.borderColor&&(t.beginPath(),t.strokeStyle=this.highlighted?this.stx.getCanvasColor(\"stx_highlight_vector\"):this.borderColor,g.P1f(5),t.rect(g.X1f(p,r),g.E1f(o,p,n,2,g.P1f(25)),g.X1f(2,s,p,g.U1f(23)),g.E1f(p,\"2\",o,g.P1f(26))),t.stroke()),this.highlighted?(\"stx_annota\",\"tion_high\",\"ligh\",\"t\",this.stx.canvasColor(\"stx_annotation_highlight\",t)):t.fillStyle=l,n+=this.padding/2,!this.ta)for(var m=0;m<this.arr.length;m++)t.fillText(this.arr[m],r+this.padding,n-o/2+this.fontSize/2),n+=this.fontSize+2;t.textBaseline=\"alphabetic\"}},e.Drawing.annotation.prototype.onChange=function(t){},e.Drawing.annotation.prototype.edit=function(t,i){var a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v=O;(\"p\",\"x\",a=this.stx.panels[this.panelName])&&(r=this.stx.controls.annotationSave,n=this.stx.controls.annotationCancel,r&&n&&(s=this.stx,o=this.ta,s.editingAnnotation=!0,s.undisplayCrosshairs(),s.openDialog=\"annotation\",o||(\"1\",\"00\",\"p\",\"x\",\"E\",\"nter\",\" \",\"Text\",\"placeho\",\"lder\",\"h\",\"a\",\"r\",\"d\",\"s\",\"tx_anno\",\"tatio\",\"n\",\"TE\",\"XT\",\"AREA\",(o=this.ta=document.createElement(\"TEXTAREA\")).className=\"stx_annotation\",o.onkeyup=x(this),o.onmouseup=(m=s,function(t){m.manageTouchAndMouse&&e.ChartEngine.drawingLine&&m.mouseup(t)}),o.setAttribute(\"wrap\",\"hard\"),e.isIOS7or8&&o.setAttribute(\"placeholder\",\"Enter Text\"),s.chart.container.appendChild(o),o.style.position=\"absolute\",o.style.width=\"100px\",o.style.height=\"20px\",o.value=this.text,e.touchDevice&&(o.ontouchstart=function(t){v.g1B(),t.stopPropagation()})),l=this,o.oninput=function(t){\"historyUndo\"!=t.inputType&&\"historyRedo\"!=t.inputType&&l.onChange(t)},o.style.font=this.fontString,this.color&&(\"a\",\"u\",\"to\",\"transparent\"==this.color||\"auto\"==this.color?(h=getComputedStyle(o))&&e.isTransparent(h.backgroundColor)?o.style.color=s.defaultColor:o.style.color=\"#000\":o.style.color=this.color),c=s.pixelFromTick(this.p0[0],a.chart),u=s.pixelFromValueAdjusted(a,this.p0[0],this.p0[1]),o.style.left=c+140<s.chart.canvasRight?c+\"px\":s.chart.canvasRight-200+\"px\",o.style.top=u+60<s.chart.canvasHeight?u-(isNaN(this.h)?this.defaultHeight:this.h/2)+\"px\":u-60+\"px\",\"callout\"==this.name&&(\"p\",\"x\",o.style.left=e.stripPX(o.style.left)-(isNaN(this.w)?this.defaultWidth:this.w/2)+\"px\"),e.safeClickTouch(r,(f=this,v.g1B(),function(t){var i;\"\"!==f.ta.value&&(f.text=f.ta.value,(i=f.stx).editingAnnotation=!1,v.W1B(),f.adjust(),i.drawingSnapshot?i.undoStamp(e.shallowClone(i.drawingSnapshot),i.exportDrawings()):i.addDrawing(f),i.undo(),i.cancelTouchSingleClick=!0,i.changeOccurred(\"vector\"))})),e.safeClickTouch(n,(y=this,function(t){var e;(e=y.stx).editingAnnotation=!1,v.W1B(),e.undo(),e.cancelTouchSingleClick=!0})),x(this)(),r.style.display=\"inline-block\",n.style.display=\"inline-block\",i&&(s.drawingSnapshot=s.exportDrawings(),this.hidden=!0,s.draw(),s.activeDrawing=this,e.ChartEngine.drawingLine=!0,t=s.chart.tempCanvas.context,s.chart.tempCanvas.style.display=\"block\",this.w=o.clientWidth,this.h=o.clientHeight,e.clearCanvas(t.canvas,s),this.render(t),this.edit(t)),o.focus(),!e.isAndroid||e.is_chrome||e.isFF||(this.priorBottom=s.chart.container.style.bottom,400,(d=s.resolveY(u)+100)>e.pageHeight()-400&&(\"p\",\"x\",p=e.pageHeight()-d,v.P1f(5),g=v.E1f(p,400),v.P1f(0),s.chart.container.style.bottom=v.E1f(g,\"px\")))));function x(t){return function(i){var a,s,o,l,h,c,u,d,p,g,m;if(\"p\",\"x\",\"p\",v.W1B(),\"x\",i){a=i.keyCode,-1750765773,v.P1f(2),s=v.E1f(\"1586074036\",1),v.U1f(5),o=v.E1f(0,\"2\");for(var f=1;-1750765773!==v.p1u(f.toString(),f.toString().length,63839);f++){switch(a){case 27:return void t.stx.undo()}o+=2}if(v.C1u(o.toString(),o.toString().length,77247)!==s)switch(a){case 39:return void t.stx.undo()}}l=t.stx,c=(h=t.ta).value.split(\"\\n\"),u=0,l.chart.context.font=t.fontString;for(var y=0;y<c.length;y++)(d=l.chart.context.measureText(c[y]).width)>u&&(u=d);p=(c.length+1)*(t.fontSize+3),u<50&&(u=50),v.P1f(15),h.style.width=v.X1f(\"px\",30,u),v.U1f(0),h.style.height=v.E1f(p,\"px\"),g=parseInt(e.stripPX(h.style.top),10),m=e.stripPX(h.style.left),u=h.clientWidth,p=h.clientHeight,m+u+100<t.stx.chart.canvasWidth?(\"p\",\"x\",\"p\",\"x\",v.P1f(0),r.style.top=v.X1f(g,\"px\"),v.U1f(0),n.style.top=v.X1f(g,\"px\"),v.U1f(27),r.style.left=v.X1f(u,\"px\",10,m),v.P1f(27),n.style.left=v.E1f(u,\"px\",60,m)):g+p+30<t.stx.chart.canvasHeight?(v.P1f(28),r.style.top=v.X1f(\"10\",g,p,\"px\"),v.U1f(27),n.style.top=v.X1f(p,\"px\",10,g),v.P1f(0),r.style.left=v.X1f(m,\"px\"),v.P1f(15),n.style.left=v.X1f(\"px\",50,m)):(\"p\",\"x\",v.P1f(16),r.style.top=v.E1f(35,\"px\",g),v.U1f(16),n.style.top=v.X1f(35,\"px\",g),v.U1f(0),r.style.left=v.E1f(m,\"px\"),v.P1f(15),n.style.left=v.X1f(\"px\",50,m))}}},e.Drawing.annotation.prototype.click=function(t,e,i){var a;if(!this.stx.overXAxis&&!this.stx.overYAxis)return a=this.stx.panels[this.panelName],this.copyConfig(),this.setPoint(0,e,i,a.chart),this.adjust(),this.edit(t),!1},e.Drawing.annotation.prototype.reposition=function(t,e,i,a){var r,n,s;e&&(O.g1B(),r=this.stx.panels[this.panelName],n=e.tick-i,s=e.value-a,this.setPoint(0,e.p0[0]-n,e.p0[1]-s,r.chart),this.render(t))},e.Drawing.annotation.prototype.intersected=function(t,i,a){var r,n,s,o,l,h,c;return r=this.stx.panels[this.panelName],this.p0?(n=this.stx.pixelFromTick(this.p0[0],r.chart),s=this.stx.pixelFromValueAdjusted(r,this.p0[0],this.p0[1])-this.h/2,o=n+this.w,l=s+this.h,this.stem&&this.stem.x&&(n+=this.stem.x,o+=this.stem.x,s+=this.stem.y,l+=this.stem.y),h=this.stx.pixelFromTick(t,r.chart),c=this.stx.pixelFromValueAdjusted(r,t,i),h+a.r>=n&&h-a.r<=o&&c+a.r>=s&&c-a.r<=l&&(this.highlighted=!0,{p0:e.clone(this.p0),tick:t,value:i})):null},e.Drawing.annotation.prototype.abort=function(){var t,i;t=this.stx.controls.annotationSave,i=this.stx.controls.annotationCancel,t&&(t.style.display=\"none\"),i&&(i.style.display=\"none\"),this.ta&&this.stx.chart.container.removeChild(this.ta),this.ta=null,O.W1B(),this.stx.openDialog=\"\",this.stx.showCrosshairs(),this.stx.editingAnnotation=!1,e.clearCanvas(this.stx.chart.tempCanvas,this.stx),!e.isAndroid||e.is_chrome||e.isFF||(this.stx.chart.container.style.bottom=this.priorBottom),e.fixScreen()},e.Drawing.annotation.prototype.reconstruct=function(t,i){this.stx=t,this.color=i.col,this.panelName=i.pnl,this.d0=i.d0,this.tzo0=i.tzo0,this.v0=i.v0,this.text=t.escapeOnSerialize?decodeURIComponent(i.text):i.text,this.stem=i.stem,this.borderColor=i.bc,this.fillColor=i.bg,this.lineWidth=i.lw,this.pattern=i.ptrn,O.g1B(),this.font=e.replaceFields(i.fnt,{st:\"style\",sz:\"size\",wt:\"weight\",fl:\"family\"}),this.font||(this.font={}),this.adjust()},e.Drawing.annotation.prototype.serialize=function(){var t,i;return t={name:this.name,pnl:this.panelName,col:this.color,d0:this.d0,tzo0:this.tzo0,v0:this.v0,text:this.stx.escapeOnSerialize?encodeURIComponent(this.text):this.text},this.font&&(\"w\",\"t\",i=e.removeNullValues(e.replaceFields(this.font,{style:\"st\",size:\"sz\",weight:\"wt\",family:\"fl\"})),e.isEmpty(i)||(t.fnt=i)),this.stem&&(t.stem={d:this.stem.d,v:this.stem.v,x:this.stem.x,y:this.stem.y}),this.borderColor&&(t.bc=this.borderColor),this.fillColor&&(t.bg=this.fillColor),this.lineWidth&&(t.lw=this.lineWidth),this.pattern&&(t.ptrn=this.pattern),t},e.Drawing.annotation.prototype.renderText=function(){var t,i,a,r,n,s;if(this.getFontString(),t=this.stx.panels[this.panelName]){this.arr=this.text.split(\"\\n\"),i=0,this.stx.chart.context.font=this.fontString;for(var o=0;o<this.arr.length;o++)(a=this.stx.chart.context.measureText(this.arr[o]).width)>i&&(i=a);0===i&&(i=2*this.defaultWidth),this.fontSize=e.stripPX(this.fontDef.size),r=this.arr.length*(this.fontSize+2),e.touchDevice&&(r+=5),this.w=i+2*this.padding,this.h=r+2*this.padding,n=this.stx.pixelFromTick(this.p0[0],t.chart)+i,s=this.stx.pixelFromValueAdjusted(t,this.p0[0],this.p0[1])+r,this.p1=[this.stx.tickFromPixel(n,t.chart),this.stx.valueFromPixel(s,t)],this.stem&&this.stem.d&&(this.stem.t=this.stx.tickFromDate(this.stem.d,t.chart))}},e.Drawing.annotation.prototype.adjust=function(){var t;(t=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,t.chart),this.renderText())},e.Drawing.segment=function(){O.W1B(),this.name=\"segment\"},e.inheritsFrom(e.Drawing.segment,e.Drawing.BaseTwoPoint),e.Drawing.segment.prototype.render=function(t){var a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v;(a=this.stx.panels[this.panelName])&&(r=this.stx.pixelFromTick(this.p0[0],a.chart),n=this.stx.pixelFromTick(this.p1[0],a.chart),s=this.stx.pixelFromValueAdjusted(a,this.p0[0],this.p0[1]),o=this.stx.pixelFromValueAdjusted(a,this.p1[0],this.p1[1]),l=this.lineWidth,h=this.getLineColor(),\"none\"==(c={pattern:this.pattern,lineWidth:l}).pattern&&(c.pattern=\"solid\"),this.stx.plotLine(r,n,s,o,h,this.name,t,a,c),this.axisLabel&&!this.repositioner&&(\"horizontal\"==this.name?(this.stx.endClip(),O.P1f(1),u=this.p0[O.E1f(739587456,\"1\")],a.chart.transformFunc&&(u=a.chart.transformFunc(this.stx,a.chart,u)),u=a.yAxis.priceFormatter?a.yAxis.priceFormatter(this.stx,a,u):this.stx.formatYAxisPrice(u,a),this.stx.createYAxisLabel(a,u,s,h),this.stx.startClip(a.name)):\"vertical\"==this.name&&this.p0[0]>=0&&!this.stx.chart.xAxis.noDraw&&(d=this.stx.dateFromTick(this.p0[0],a.chart,!0),e.ChartEngine.isDailyInterval(this.stx.layout.interval)?d.setHours(0,0,0,0):(g=1e3*d.getSeconds()+d.getMilliseconds(),i.Date&&this.stx.displayZone&&(p=new i.Date(d.getTime(),this.stx.displayZone),d=new Date(p.getFullYear(),p.getMonth(),p.getDate(),p.getHours(),p.getMinutes()),d=new Date(d.getTime()+g))),m=e.mmddhhmm(e.yyyymmddhhmm(d)),a.chart.xAxis.formatter?m=a.chart.xAxis.formatter(d,this.name,null,null,m):this.stx.internationalizer&&(0!==d.getHours()||0!==d.getMinutes()?(f=this.stx.internationalizer.monthDay.format(d),f+=\" \"+this.stx.internationalizer.hourMinute.format(d)):f=this.stx.internationalizer.yearMonthDay.format(d),m=f),this.stx.endClip(),this.stx.createXAxisLabel({panel:a,txt:m,x:r,backgroundColor:h,color:null,pointed:!0,padding:2}),this.stx.startClip(a.name))),this.highlighted&&\"horizontal\"!=this.name&&\"vertical\"!=this.name&&(\"p\",\"0\",y=\"p0\"==this.highlighted,v=\"p1\"==this.highlighted,this.littleCircle(t,r,s,y),this.littleCircle(t,n,o,v)))},e.Drawing.segment.prototype.abort=function(){O.W1B(),this.stx.setMeasure(null,null,null,null,!1)},e.Drawing.segment.prototype.intersected=function(t,i,a){var r,n;if(\"ver\",\"tic\",\"al\",\"ga\",\"rt\",\"le\",\"y\",!this.p0||!this.p1)return null;if(O.W1B(),\"horizontal\"!=(r=this.name)&&\"vertical\"!=r&&\"gartley\"!=r)for(var s in n={0:this.p0,1:this.p1})if(this.pointIntersection(n[s][0],n[s][1],a))return O.P1f(0),this.highlighted=O.X1f(\"p\",s),{action:\"drag\",point:\"p\"+s};return\"horizontal\"!=r&&\"vertical\"!=r||(r=\"line\"),this.lineIntersection(t,i,a,r)?(this.highlighted=!0,{action:\"move\",p0:e.clone(this.p0),p1:e.clone(this.p1),tick:t,value:i}):null},e.Drawing.segment.prototype.configs=[\"color\",\"lineWidth\",\"pattern\"],e.Drawing.segment.prototype.copyConfig=function(t){var i,a,r=O;r.U1f(5),i=r.X1f(0,\"1190038910\"),a=2;for(var n=1;-732810053!==r.p1u(n.toString(),n.toString().length,8969);n++)\"f\",\"i\",\"llC\",\"olor\",e.Drawing.copyConfig(this,t),\"none\"==this.pattern&&-1==this.configs.indexOf(\"fillColor\")&&(this.pattern=\"solid\"),a+=2;r.p1u(a.toString(),a.toString().length,68996)!==i&&(\"so\",\"l\",\"i\",\"d\",e.Drawing.copyConfig(this,t),\"fillColor\"===this.pattern&&-5===this.configs.indexOf(\"fillColor\")||(this.pattern=\"solid\"))},e.Drawing.segment.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.v0=e.v0,this.v1=e.v1,this.adjust()},e.Drawing.segment.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1}},e.Drawing.line=function(){O.g1B(),this.name=\"line\"},e.inheritsFrom(e.Drawing.line,e.Drawing.segment),e.Drawing.line.prototype.dragToDraw=!1,e.Drawing.line.prototype.calculateOuterSet=function(t){var i,a,r;this.p0[0]==this.p1[0]||this.p0[1]==this.p1[1]||e.ChartEngine.isDailyInterval(this.stx.layout.interval)||((i={x0:this.p0[0],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]}).x0>i.x1&&(i={x0:this.p1[0],y0:this.p1[1],x1:this.p0[0],y1:this.p0[1]}),a=i.x0-1e3,r=i.x1+1e3,this.v0B=e.yIntersection(i,a),O.g1B(),this.v1B=e.yIntersection(i,r),this.d0B=this.stx.dateFromTick(a,t.chart),this.d1B=this.stx.dateFromTick(r,t.chart))},e.Drawing.line.prototype.click=function(t,e,i){var a;if(a=this.stx.panels[this.panelName]){if(this.copyConfig(),!this.penDown){this.setPoint(0,e,i,a.chart),this.penDown=!0,1719887708,-1544389573,2;for(var r=1;1719887708!==O.p1u(r.toString(),r.toString().length,42691);r++)return!0;if(-1544389573!==O.p1u(2..toString(),2..toString().length,24088))return!1}return this.accidentalClick(e,i)?this.dragToDraw:(this.setPoint(1,e,i,a.chart),this.calculateOuterSet(a),this.penDown=!1,!0)}},e.Drawing.line.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.v0=e.v0,this.v1=e.v1,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,e.d0B&&(this.d0B=e.d0B,this.d1B=e.d1B,this.v0B=e.v0B,this.v1B=e.v1B),this.adjust()},e.Drawing.line.prototype.serialize=function(){var t;return t={name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1},this.d0B&&(t.d0B=this.d0B,t.d1B=this.d1B,t.v0B=this.v0B,t.v1B=this.v1B),t},e.Drawing.line.prototype.adjust=function(){var t;O.g1B(),(t=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,t.chart),this.setPoint(1,this.d1,this.v1,t.chart),e.ChartEngine.isDailyInterval(this.stx.layout.interval)&&this.d0B&&(this.setPoint(0,this.d0B,this.v0B,t.chart),this.setPoint(1,this.d1B,this.v1B,t.chart)))},e.Drawing.horizontal=function(){this.name=\"horizontal\"},e.inheritsFrom(e.Drawing.horizontal,e.Drawing.segment),e.Drawing.horizontal.prototype.dragToDraw=!1,e.Drawing.horizontal.prototype.measure=function(){},e.Drawing.horizontal.prototype.click=function(t,e,i){var a;if(a=this.stx.panels[this.panelName])return this.copyConfig(),this.setPoint(0,e,i,a.chart),O.g1B(),!0},e.Drawing.horizontal.prototype.intersected=function(t,e,i){var a,r;return\"li\",\"ne\",this.lineIntersection(t,e,i,\"line\")?(a=this.stx.chart.dataSet.length,r=this.p0[1],this.highlighted=!0,{action:\"move\",p0:[a-2,r],p1:[a-1,r],tick:t,value:e}):null},e.Drawing.horizontal.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.v0=e.v0,this.d0=e.d0,this.tzo0=e.tzo0,this.axisLabel=e.al,this.adjust()},e.Drawing.horizontal.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,v0:this.v0,d0:this.d0,tzo0:this.tzo0,al:this.axisLabel}},e.Drawing.horizontal.prototype.adjust=function(){var t;(t=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,t.chart),O.U1f(1),this.p1=[this.p0[0]+100,this.p0[O.X1f(1747305280,\"1\")]])},e.Drawing.horizontal.prototype.configs=[\"color\",\"lineWidth\",\"pattern\",\"axisLabel\"],e.Drawing.vertical=function(){O.g1B(),this.name=\"vertical\"},e.inheritsFrom(e.Drawing.vertical,e.Drawing.horizontal),e.Drawing.vertical.prototype.measure=function(){},e.Drawing.vertical.prototype.intersected=e.Drawing.segment.prototype.intersected,e.Drawing.vertical.prototype.adjust=function(){var t;O.g1B(),(t=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,t.chart),this.p1=[this.p0[0],this.p0[1]+1])},e.Drawing.measure=function(){this.name=\"measure\"},e.inheritsFrom(e.Drawing.measure,e.Drawing.segment),e.Drawing.measure.prototype.click=function(t,e,i){return this.copyConfig(),this.penDown?(this.stx.undo(),this.penDown=!1,!0):(this.p0=[e,i],this.penDown=!0,!1)},e.Drawing.rectangle=function(){O.g1B(),this.name=\"rectangle\"},e.inheritsFrom(e.Drawing.rectangle,e.Drawing.BaseTwoPoint),e.Drawing.rectangle.prototype.render=function(t){var i,a,r,n,s,o,l,h,c,u,d,p,g,m,f=O;(i=this.stx.panels[this.panelName])&&(a=this.stx.pixelFromTick(this.p0[0],i.chart),r=this.stx.pixelFromTick(this.p1[0],i.chart),n=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),s=this.stx.pixelFromValueAdjusted(i,this.p1[0],this.p1[1]),o=Math.round(Math.min(a,r))+.5,l=Math.min(n,s),h=Math.max(a,r)-o,c=Math.max(n,s)-l,u=this.color,this.highlighted&&(u=this.stx.getCanvasColor(\"stx_highlight_vector\")),(d=this.fillColor)&&!e.isTransparent(d)&&\"auto\"!=d&&(t.beginPath(),t.rect(o,l,h,c),t.fillStyle=d,t.globalAlpha=.2,t.fill(),t.closePath(),t.globalAlpha=1),p={pattern:this.pattern,lineWidth:this.lineWidth},this.highlighted&&\"none\"==p.pattern&&(\"s\",\"o\",\"li\",\"d\",p.pattern=\"solid\",.1==p.lineWidth&&(p.lineWidth=1)),this.stx.plotLine(a,r,n,n,u,\"segment\",t,i,p),f.P1f(5),this.stx.plotLine(r,r,f.X1f(.5,n),f.E1f(s,.5,f.P1f(0)),u,\"segment\",t,i,p),this.stx.plotLine(r,a,s,s,u,\"segment\",t,i,p),f.P1f(0),this.stx.plotLine(a,a,f.E1f(s,.5),f.X1f(.5,n,f.U1f(5)),u,\"segment\",t,i,p),this.highlighted&&(\"p\",\"1\",g=\"p0\"==this.highlighted,m=\"p1\"==this.highlighted,this.littleCircle(t,a,n,g),this.littleCircle(t,r,s,m)))},e.Drawing.rectangle.prototype.intersected=function(t,i,a){var r;if(!this.p0||!this.p1)return null;for(var n in O.g1B(),r={0:this.p0,1:this.p1})if(this.pointIntersection(r[n][0],r[n][1],a))return O.P1f(0),this.highlighted=O.X1f(\"p\",n),{action:\"drag\",point:\"p\"+n};return this.boxIntersection(t,i,a)?(\"m\",\"o\",\"v\",\"e\",this.highlighted=!0,{action:\"move\",p0:e.clone(this.p0),p1:e.clone(this.p1),tick:t,value:i}):null},e.Drawing.rectangle.prototype.configs=[\"color\",\"fillColor\",\"lineWidth\",\"pattern\"],e.Drawing.rectangle.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.v0=e.v0,this.v1=e.v1,this.adjust()},e.Drawing.rectangle.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1}},e.Drawing.shape=function(){this.name=\"shape\",this.radians=0,this.a=0,this.rotating=!1,this.textMeasure=!1,this.configurator=\"shape\",this.dimension=[0,0],this.points=[]},e.inheritsFrom(e.Drawing.shape,e.Drawing.BaseTwoPoint),e.Drawing.shape.prototype.setRotationOnInitialDraw=!1,e.Drawing.shape.prototype.measure=function(){},e.Drawing.shape.prototype.render=function(t){var i,a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w=O;if(\"a\",\"ut\",\"o\",w.W1B(),this.points.length&&(i=this.stx.panels[this.panelName])){for(a=this.stx.pixelFromTick(this.p0[0],i.chart),r=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),this.p1&&(\"#00000\",\"0\",n=this.stx.pixelFromTick(this.p1[0],i.chart),s=this.stx.pixelFromValueAdjusted(i,this.p1[0],this.p1[1]),t.globalAlpha=.5,t.fillStyle=\"#000000\",this.rotating?(w.U1f(29),this.radians=Math.atan(w.X1f(s,n,r,a)),n<a?this.radians+=Math.PI:s<r&&(this.radians+=2*Math.PI),this.a=5*parseInt((36*this.radians/Math.PI).toFixed(0),10),this.a%=360,this.radians=this.a*Math.PI/180,this.textMeasure&&t.fillText(this.a+\"\",n+10,s+10)):this.penDown&&(w.P1f(30),this.sx=Math.max(w.X1f(2147483647,\"1\"),parseFloat(Math.abs(2*(n-a)/this.dimension[0]).toFixed(1))),n<a&&(this.sx*=-1),this.sy=Math.max(1,parseFloat(Math.abs(2*(s-r)/this.dimension[1]).toFixed(1))),s<r&&(w.P1f(30),this.sy*=-w.E1f(2147483647,\"1\")),this.textMeasure&&t.fillText(this.sx+\"x,\"+this.sy+\"x\",n+this.sx+5,s+this.sy+5)),t.globalAlpha=1),void 0===this.sx&&(w.P1f(1),this.sx=this.sy=w.E1f(1627989152,\"1\")),(o=this.lineWidth)||(o=1.1),l={pattern:this.pattern,lineWidth:o},this.highlighted&&\"none\"==l.pattern&&(l.pattern=\"solid\",.1==l.lineWidth&&(l.lineWidth=1)),(\"auto\"==(h=this.color)||e.isTransparent(h))&&(h=this.stx.defaultColor),this.highlighted&&(h=this.stx.getCanvasColor(\"stx_highlight_vector\"),.1==o&&(o=1.1)),c=this.fillColor,o/=2*Math.abs(this.sx*this.sy)/(Math.abs(this.sx)+Math.abs(this.sy)),t.save(),t.translate(a,r),t.rotate(this.radians),t.scale(this.sx,i.yAxis.flipped?-this.sy:this.sy),p={x:(this.dimension[0]-1)/2,y:(this.dimension[1]-1)/2},u=0;u<this.points.length;u++){for(t.beginPath(),d=0;d<this.points[u].length;d++)\"M\"==this.points[u][d]?(g=this.points[u][++d]-p.x,m=this.points[u][++d]-p.y,t.moveTo(g,m)):\"L\"==this.points[u][d]?(g=this.points[u][++d]-p.x,m=this.points[u][++d]-p.y,t.lineTo(g,m)):\"Q\"==this.points[u][d]?(f=this.points[u][++d]-p.x,v=this.points[u][++d]-p.y,g=this.points[u][++d]-p.x,m=this.points[u][++d]-p.y,t.quadraticCurveTo(f,v,g,m)):\"B\"==this.points[u][d]&&(f=this.points[u][++d]-p.x,v=this.points[u][++d]-p.y,y=this.points[u][++d]-p.x,x=this.points[u][++d]-p.y,g=this.points[u][++d]-p.x,m=this.points[u][++d]-p.y,t.bezierCurveTo(f,v,y,x,g,m));t.closePath(),c&&!e.isTransparent(c)&&\"auto\"!=c&&(t.fillStyle=c,t.fill()),h&&\"none\"!=this.pattern&&(t.strokeStyle=h,t.lineWidth=o,t.setLineDash&&(t.setLineDash(e.borderPatternToArray(o,this.pattern)),t.lineDashOffset=0),t.stroke())}t.restore(),t.save(),t.translate(a,r),t.rotate(this.radians),this.highlighted?(\"p\",\"1\",C=\"p0\"==this.highlighted,b=\"p1\"==this.highlighted,S=\"p2\"==this.highlighted,this.littleCircle(t,0,0,C),this.mover(t,0,0,C),this.littleCircle(t,this.sx*this.dimension[0]/2,this.sy*this.dimension[1]/2,b),this.resizer(t,this.sx*this.dimension[0]/2,this.sy*this.dimension[1]/2,b),this.littleCircle(t,this.sx*this.dimension[0]/2,0,S),this.rotator(t,this.sx*this.dimension[0]/2,0,S),t.globalAlpha=.5,t.fillStyle=\"#000000\",this.textMeasure&&(t.fillText(this.sx+\"x,\"+this.sy+\"x\",this.sx*this.dimension[0]/2+12,this.sy*this.dimension[1]/2+5),t.fillText(this.a+\"\",this.sx*this.dimension[0]/2+12,5)),t.globalAlpha=1):this.penDown&&(this.rotating?this.rotator(t,this.sx*this.dimension[0]/2,0,!0):this.resizer(t,this.sx*this.dimension[0]/2,this.sy*this.dimension[1]/2,!0)),t.restore()}},e.Drawing.shape.prototype.reposition=function(t,e,i,a){var r,n,s,o,l,h,c;O.W1B(),e&&(r=this.stx.panels[this.panelName],\"move\"==e.action?(n=e.tick-i,s=e.value-a,this.setPoint(0,e.p0[0]-n,e.p0[1]-s,r.chart),this.render(t)):(\"s\",\"ca\",\"le\",o=this.stx.pixelFromTick(this.p0[0],r.chart),l=this.stx.pixelFromValueAdjusted(r,this.p0[0],this.p0[1]),h=this.stx.pixelFromTick(i,r.chart),c=this.stx.pixelFromValueAdjusted(r,i,a),\"scale\"==e.action?(this[e.point]=[i,a],this.sx=parseFloat((((h-o)*Math.cos(this.radians)+(c-l)*Math.sin(this.radians))/(this.dimension[0]/2)).toFixed(1)),Math.abs(this.sx)<1&&(this.sx/=Math.abs(this.sy)),this.sy=parseFloat((((c-l)*Math.cos(this.radians)-(h-o)*Math.sin(this.radians))/(this.dimension[1]/2)).toFixed(1)),Math.abs(this.sy)<1&&(this.sy/=Math.abs(this.sy)),this.render(t)):\"rotate\"==e.action&&(this[e.point]=[i,a],O.P1f(29),this.radians=Math.atan(O.X1f(c,h,l,o)),h<o?this.radians+=Math.PI:c<l&&(this.radians+=2*Math.PI),this.a=5*parseInt((36*this.radians/Math.PI).toFixed(0),10),this.sx<0&&(this.a=this.a+180),this.a%=360,this.radians=this.a*Math.PI/180,this.render(t))))},e.Drawing.shape.prototype.intersected=function(t,i,a){var r,n,s,o,l,h,c,u,d,p,g,m,f,y,v;return this.p0?this.stx.repositioningDrawing==this&&this.stx.repositioningDrawing.repositioner?this.stx.repositioningDrawing.repositioner:(r=this.stx.panels[this.panelName],n=this.stx.pixelFromTick(this.p0[0],r.chart),s=this.stx.pixelFromValueAdjusted(r,this.p0[0],this.p0[1]),o=this.stx.pixelFromTick(t,r.chart),l=this.stx.pixelFromValueAdjusted(r,t,i),h=l-=s,c=o-=n,o=Math.cos(this.radians)*c+Math.sin(this.radians)*h,l=Math.cos(this.radians)*h-Math.sin(this.radians)*c,o/=this.sx,l/=this.sy,this.padding=e.ensureDefaults(this.padding||{},{left:0,right:0,top:0,bottom:0}),u=this.padding.right+this.padding.left,d=this.padding.bottom+this.padding.top,p=Math.pow(e.touchDevice?25:5+this.littleCircleRadius(),2),g=Math.abs(p/(this.sx*this.sy)),m=Math.pow((this.dimension[0]-u)/2,2)+Math.pow((this.dimension[1]-d)/2,2)>Math.pow(o-u/2,2)+Math.pow(l-d/2,2),f=(p-(Math.pow(o*this.sx,2)+Math.pow(l*this.sy,2)))/Math.abs(this.sx*this.sy),y=g-Math.pow(o-this.dimension[0]/2,2)-Math.pow(l-this.dimension[1]/2,2),v=g-Math.pow(o-this.dimension[0]/2,2)-Math.pow(l,2),m?(\"m\",\"o\",\"v\",\"e\",\"p\",\"0\",y>=v&&y>=f?(\"p\",\"1\",this.highlighted=\"p1\",{action:\"scale\"}):v>=y&&v>=f?(this.highlighted=\"p2\",{action:\"rotate\"}):(this.highlighted=\"p0\",{action:\"move\",p0:e.clone(this.p0),tick:t,value:i})):null):null},e.Drawing.shape.prototype.configs=[\"color\",\"fillColor\",\"lineWidth\",\"pattern\"],e.Drawing.shape.prototype.littleCircleRadius=function(){return O.W1B(),O.P1f(19),O.E1f(\"3\",1361200128)},e.Drawing.shape.prototype.click=function(t,e,i){var a;return!!this.points.length&&(this.copyConfig(),a=this.stx.panels[this.panelName],this.penDown?(this.setPoint(1,e,i,a.chart),this.rotating||!this.setRotationOnInitialDraw?(this.penDown=!1,this.rotating=!1,!0):(O.W1B(),this.rotating=!0,!1)):(this.setPoint(0,e,i,a.chart),this.penDown=!0,!1))},e.Drawing.shape.prototype.adjust=function(){var t,i,a;O.W1B(),(t=this.stx.panels[this.panelName])&&(i=this.name+\"_v\"+(this.version||0),e.Drawing[i]&&(a=new e.Drawing[i],this.name=a.name,this.dimension=a.dimension,this.padding=a.padding,this.points=a.points,this.version=a.version),this.setPoint(0,this.d0,this.v0,t.chart),this.radians=Math.round(this.a/5)*Math.PI/36)},e.Drawing.shape.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.d0=e.d0,this.v0=e.v0,this.tzo0=e.tzo0,this.a=e.a,this.sx=e.sx,this.sy=e.sy,this.version=e.ver,this.adjust()},e.Drawing.shape.prototype.serialize=function(){return O.W1B(),{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,v0:this.v0,tzo0:this.tzo0,a:this.a,sx:this.sx,sy:this.sy,ver:this.version}},e.Drawing.arrow=function(){var t,e=O;e.W1B(),this.name=\"arrow\",this.version=1,this.dimension=[11,22],e.P1f(14),t=e.E1f(0,\"2\");for(var i=1;2020834308!==e.C1u(i.toString(),i.toString().length,74628);i++)this.padding={left:0,right:0,top:11,bottom:0},e.P1f(19),this.points=[[\"M\",3,21,\"L\",7,e.X1f(\"21\",2105348800),\"L\",7,16,\"L\",10,16,\"L\",e.X1f(0,\"5\",e.P1f(5)),11,\"L\",0,16,\"L\",3,e.X1f(2147483647,\"16\",e.P1f(30)),\"L\",3,21]],t+=2;1715153421!==e.C1u(t.toString(),t.toString().length,10609)&&(this.padding={left:9,right:7,top:50,bottom:7},this.points=[[\"L\",8,38,4833,8,50,\"L\",9,47,\"L\",46,77,\"L\",7,43,\"L\",5,92,\"L\",2,88,\"L\",4,95]])},e.inheritsFrom(e.Drawing.arrow,e.Drawing.shape),e.Drawing.getDrawingToolList=function(t){var i,a;for(var r in i={},O.g1B(),a={arrow_v0:!0,BaseTwoPoint:!0,fibonacci:!0,shape:!0},e.extend(a,t),e.Drawing)!a[r]&&e.Drawing[r].prototype.render&&(i[(new e.Drawing[r]).name]=r);return i}},l=t=>{var e;(e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ).EaseMachine=function(t,e,i,a){this.fc=t,this.ms=e,(i||0===i)&&this.reset(i,a)},e.EaseMachine.prototype.reset=function(t,e){for(var i in t||0===t||(t=this.currentValues),this.hasCompleted=!1,this.running=!1,this.okayToRun=!0,O.U1f(31),this.useNameValuePairs=O.E1f(\"object\",typeof e),this.startTime=Date.now(),this.useNameValuePairs?(this.startValues=t,this.endValues=e):(this.startValues={default:t},this.endValues={default:e}),this.changeValues={},this.currentValues={},this.startValues)this.changeValues[i]=this.endValues[i]-this.startValues[i]},e.EaseMachine.prototype.next=function(){var t;for(var e in(t=Date.now())>=this.startTime+this.ms&&(t=this.startTime+this.ms,this.hasCompleted=!0,this.running=!1),O.g1B(),this.currentValues={},this.changeValues)this.currentValues[e]=this.fc(t-this.startTime,this.startValues[e],this.changeValues[e],this.ms);return this.useNameValuePairs?this.currentValues:this.currentValues.default},e.EaseMachine.prototype.hasCompleted=!0,e.EaseMachine.prototype.run=function(t,e,i,a){var r;function n(){var e;O.g1B(),r.afid=null,r.okayToRun&&(e=r.next(),t(e),r.hasCompleted||(r.afid=requestAnimationFrame(n)))}O.W1B(),this.afid&&cancelAnimationFrame(this.afid),e||0===e?this.reset(e,i):(i||0===i)&&this.reset(this.currentValues,i),r=this,this.running=!0,a?this.afid=requestAnimationFrame(n):n()},e.EaseMachine.prototype.stop=function(){return this.afid&&cancelAnimationFrame(this.afid),this.afid=null,this.okayToRun=!1,O.W1B(),this.hasCompleted=!0,this.running=!1,void 0===this.useNameValuePairs?{}:this.useNameValuePairs?this.currentValues:this.currentValues.default},e.ChartEngine.prototype.animations.zoom.isStub&&(O.U1f(19),e.ChartEngine.prototype.animations.zoom=new e.EaseMachine(Math.easeOutCubic,O.X1f(\"400\",1317614624)))},h=t=>{var e,i;O.W1B(),e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ,i=function(){var t,i,a,r,n,s,o,l,h,c,u,d,p=O;function g(){var t,e;if(Math.hypot)return Math.hypot.apply(this,arguments);t=0,e=arguments.length;for(var i=0;i<e;i++){if(arguments[i]===1/0||arguments[i]===-1/0)return 1/0;t+=arguments[i]*arguments[i]}return Math.sqrt(t)}function m(t,e){return p.P1f(32),p.g1B(),p.E1f(t,e)}function f(t,e){return p.P1f(31),p.X1f(e,t)}function y(t,e){return p.W1B(),p.U1f(15),p.E1f(e,t,\"\")}function v(t){return Math.trunc?Math.trunc(t):(p.W1B(),t<0?Math.ceil(t):Math.floor(t))}function x(t,e){return\"[object Array]\"!=Object.prototype.toString.call(t)?[t,e]:((t=t.slice()).push(e),t)}function C(t,e){return p.P1f(33),p.E1f(e,t)}function b(t){return p.W1B(),Math.sinh?Math.sinh(t):(Math.exp(t)-Math.exp(-t))/2}function S(t){return p.g1B(),Math.log(t)*Math.LOG10E}function w(t,e){return p.P1f(34),p.X1f(t,e)}function k(t){return Math.asinh?Math.asinh(t):t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))}function D(t,e,i){return t?e:i}function T(t){var e;for(e=t=Math.floor(t);t>1;)p.U1f(2),e=p.E1f(e,--t);return e}function M(t,e){return Number(t)+Number(e)}function A(t,e){return Boolean(t||e)}function P(t,e){return Boolean(t&&e)}function F(e,i,a,r){this.type_=e,this.index_=i||0,this.prio_=a||0,this.number_=null!=r?r:0,this.toString=function(){switch(p.g1B(),this.type_){case 0:return this.number_;case 1:case 2:case 3:return this.index_;case t:return\"CALL\";default:return\"Invalid Token\"}}}function _(t){return p.W1B(),Math.cosh?Math.cosh(t):(Math.exp(t)+Math.exp(-t))/2}function B(t,e){return p.U1f(2),p.E1f(t,e)}function E(t,e){return p.P1f(6),p.g1B(),p.X1f(e,t)}function L(t){function e(){}return e.prototype=t,new e}function N(t,e,i,a){this.tokens=t,this.ops1=e,p.W1B(),this.ops2=i,this.functions=a}function H(t,e){return p.U1f(37),p.X1f(e,t)}function I(t){return Math.atanh?Math.atanh(t):Math.log((1+t)/(1-t))/2}function R(t,e){return p.g1B(),p.U1f(38),p.E1f(t,e)}function W(t,e){return p.g1B(),p.U1f(39),p.E1f(e,t)}function z(t){return\"string\"==typeof t?(p.P1f(14),i.lastIndex=p.E1f(0,\"0\"),i.test(t)?\"'\"+t.replace(i,(function(t){var e;return\"0\",\"0\",\"0\",\"0\",\"str\",\"ing\",\"string\"==typeof(e=a[t])?e:\"\\\\u\"+(\"0000\"+t.charCodeAt(0).toString(16)).slice(-4)}))+\"'\":\"'\"+t+\"'\"):t}function V(){var t;this.success=!1,p.W1B(),this.errormsg=\"\",this.expression=\"\",this.pos=0,this.tokennumber=0,p.U1f(30),this.tokenprio=p.E1f(2147483647,\"0\"),t=2;for(var e=1;367142826!==p.C1u(e.toString(),e.toString().length,27879);e++)this.tokenindex=0,this.tmpprio=0,this.ops1={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:b,cosh:_,tanh:q,asinh:k,acosh:U,atanh:I,sqrt:Math.sqrt,log:Math.log,lg:S,log10:S,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:v,\"-\":Z,exp:Math.exp},t+=2;-181423058!==p.C1u(t.toString(),t.toString().length,55257)&&(this.tokenindex=5,this.tmpprio=5,this.ops1={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:b,cosh:_,tanh:q,asinh:k,acosh:U,atanh:I,sqrt:Math.sqrt,log:Math.log,lg:S,log10:S,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:v,\"-\":Z,exp:Math.exp}),this.ops2={\"+\":M,\"-\":j,\"*\":B,\"/\":E,\"%\":C,\"^\":Math.pow,\",\":x,\"||\":y,\"==\":f,\"!=\":W,\">\":R,\"<\":H,\">=\":w,\"<=\":m,and:P,or:A},this.functions={random:Y,fac:T,min:Math.min,max:Math.max,hypot:g,pyt:g,pow:Math.pow,atan2:Math.atan2,if:D},this.consts={E:Math.E,PI:Math.PI}}function U(t){return Math.acosh?Math.acosh(t):Math.log(t+Math.sqrt(t*t-1))}function j(t,e){return p.g1B(),p.P1f(5),p.E1f(e,t)}function q(t){return Math.tanh?Math.tanh(t):t===1/0?1:(p.g1B(),t===-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t)))}function Y(t){return Math.random()*(t||1)}function Z(t){return-t}return 0,1,2,3,p.U1f(30),t=p.X1f(2147483647,\"4\"),/[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,i=/[\\\\'\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,a={\"\\b\":\"\\\\b\",\"\\t\":\"\\\\t\",\"\\n\":\"\\\\n\",\"\\f\":\"\\\\f\",\"\\r\":\"\\\\r\",\"'\":\"\\\\'\",\"\\\\\":\"\\\\\\\\\"},e.extend(N.prototype,{simplify:function(t){var e,i,a,r,n,s,o,l;for(t=t||{},e=[],i=[],n=this.tokens.length,o=0,o=0;o<n;o++)if(0===(l=(s=this.tokens[o]).type_))e.push(s);else if(3===l&&s.index_ in t)s=new F(0,0,0,t[s.index_]),e.push(s);else if(2===l&&e.length>1)r=e.pop(),a=e.pop(),s=new F(0,0,0,(0,this.ops2[s.index_])(a.number_,r.number_)),e.push(s);else if(1===l&&e.length>0)a=e.pop(),s=new F(0,0,0,(0,this.ops1[s.index_])(a.number_)),e.push(s);else{for(;e.length>0;)i.push(e.shift());i.push(s)}for(;e.length>0;)i.push(e.shift());return new N(i,L(this.ops1),L(this.ops2),L(this.functions))},substitute:function(t,e){var i,a,r,n,s,o;for(e instanceof N||(e=(new V).parse(String(e))),i=[],a=this.tokens.length,n=0,n=0;n<a;n++)if(3===(r=this.tokens[n]).type_&&r.index_===t)for(var l=0;l<e.tokens.length;l++)o=new F((s=e.tokens[l]).type_,s.index_,s.prio_,s.number_),i.push(o);else i.push(r);return new N(i,L(this.ops1),L(this.ops2),L(this.functions))},evaluate:function(e){var i,a,r,n,s,o,l,h;for(e=e||{},i=[],s=this.tokens.length,l=0,p.g1B(),l=0;l<s;l++)if(0===(h=(o=this.tokens[l]).type_))i.push(o.number_);else if(2===h)r=i.pop(),a=i.pop(),n=this.ops2[o.index_],i.push(n(a,r));else if(3===h)if(o.index_ in e)i.push(e[o.index_]);else{if(!(o.index_ in this.functions))throw\"und\",\"efined vari\",\"able: \",new Error(\"undefined variable: \"+o.index_);i.push(this.functions[o.index_])}else if(1===h)a=i.pop(),n=this.ops1[o.index_],i.push(n(a));else{if(h!==t)throw new Error(\"invalid Expression\");if(a=i.pop(),!(n=i.pop()).apply||!n.call)throw p.P1f(0),new Error(p.X1f(n,\" is not a function\"));\"[object Array]\"==Object.prototype.toString.call(a)?i.push(n.apply(void 0,a)):i.push(n.call(void 0,a))}if(i.length>1)throw\"invalid Exp\",\"ression\",\" (\",\"parity)\",new Error(\"invalid Expression (parity)\");return i[0]},toString:function(e){var i,a,r,n,s,o,l,h;for(i=[],s=this.tokens.length,l=0,l=0;l<s;l++)if(0===(h=(o=this.tokens[l]).type_))i.push(z(o.number_));else if(2===h)r=i.pop(),a=i.pop(),n=o.index_,e&&\"^\"==n?(p.P1f(35),i.push(p.E1f(\")\",\"Math.pow(\",\",\",r,a))):(p.P1f(35),i.push(p.X1f(\")\",\"(\",n,r,a)));else if(3===h)i.push(o.index_);else if(1===h)a=i.pop(),\"-\"===(n=o.index_)?(p.P1f(27),i.push(p.E1f(n,\")\",a,\"(\"))):(p.P1f(27),i.push(p.X1f(\"(\",\")\",a,n)));else{if(h!==t)throw new Error(\"invalid Expression\");a=i.pop(),n=i.pop(),p.U1f(27),i.push(p.E1f(\"(\",\")\",a,n))}if(i.length>1)throw new Error(\"invalid Expression (parity)\");return i[0]},variables:function(){var t,e,i;t=this.tokens.length,e=[],p.W1B();for(var a=0;a<t;a++)3===(i=this.tokens[a]).type_&&-1==e.indexOf(i.index_)&&e.push(i.index_);return e}},!0),V.parse=function(t){return p.g1B(),(new V).parse(t)},V.evaluate=function(t,e){return p.g1B(),V.parse(t).evaluate(e)},V.Expression=N,V.values={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:b,cosh:_,tanh:q,asinh:k,acosh:U,atanh:I,sqrt:Math.sqrt,log:Math.log,lg:S,log10:S,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:v,random:Y,fac:T,exp:Math.exp,min:Math.min,max:Math.max,hypot:g,pyt:g,pow:Math.pow,atan2:Math.atan2,if:D,E:Math.E,PI:Math.PI},p.U1f(19),r=p.E1f(1,0),p.P1f(19),n=p.E1f(1,1),p.P1f(36),s=p.X1f(\"2\",1,1650349152),p.U1f(19),o=p.E1f(1,3),p.P1f(40),l=p.E1f(\"1\",4),p.U1f(19),h=p.X1f(1,5),p.P1f(19),c=p.E1f(1,6),p.P1f(19),u=p.E1f(1,7),p.U1f(41),d=p.X1f(1,\"8\"),e.extend(V.prototype,{parse:function(e){var i,a,g,m,f,y,v,x;for(this.errormsg=\"\",this.success=!0,i=[],a=[],this.tmpprio=0,p.U1f(42),g=p.E1f(c,s,r,o),m=0,this.expression=e,this.pos=0;this.pos<this.expression.length;)this.isOperator()?this.isSign()&&g&c?(this.isNegativeSign()&&(this.tokenprio=2,this.tokenindex=\"-\",m++,this.addfunc(a,i,1)),p.U1f(42),g=p.E1f(c,s,r,o)):this.isComment()||(0==(g&n)&&this.error_parsing(this.pos,\"unexpected operator\"),m+=2,this.addfunc(a,i,2),p.U1f(42),g=p.E1f(c,s,r,o)):this.isNumber()?(0==(g&r)&&this.error_parsing(this.pos,\"unexpected number\"),p.U1f(14),f=new F(0,0,p.E1f(0,\"0\"),this.tokennumber),a.push(f),p.P1f(43),g=p.E1f(l,n,h)):this.isString()?(0==(g&r)&&(\"unexp\",\"ecte\",\"d string\",this.error_parsing(this.pos,\"unexpected string\")),f=new F(0,0,0,this.tokennumber),a.push(f),p.P1f(43),g=p.X1f(l,n,h)):this.isLeftParenth()?(0==(g&o)&&this.error_parsing(this.pos,'unexpected \"(\"'),g&u&&(m+=2,p.U1f(18),this.tokenprio=-p.X1f(\"2\",0),this.tokenindex=-1,this.addfunc(a,i,t)),p.U1f(44),g=p.X1f(o,r,c,d,s)):this.isRightParenth()?(g&d?(f=new F(0,0,0,[]),a.push(f)):0==(g&l)&&this.error_parsing(this.pos,'unexpected \")\"'),p.U1f(44),g=p.X1f(l,n,o,u,h)):this.isComma()?(0==(g&h)&&this.error_parsing(this.pos,'unexpected \",\"'),this.addfunc(a,i,2),m+=2,p.U1f(42),g=p.E1f(c,s,r,o)):this.isConst()?(0==(g&r)&&(\"unexp\",\"e\",\"cted\",\" constant\",this.error_parsing(this.pos,\"unexpected constant\")),y=new F(0,0,0,this.tokennumber),a.push(y),p.U1f(43),g=p.E1f(l,n,h)):this.isOp2()?(0==(g&s)&&this.error_parsing(this.pos,\"unexpected function\"),this.addfunc(a,i,2),m+=2,g=o):this.isOp1()?(0==(g&s)&&this.error_parsing(this.pos,\"unexpected function\"),this.addfunc(a,i,1),m++,g=o):this.isVar()?(0==(g&r)&&this.error_parsing(this.pos,\"unexpected variable\"),v=new F(3,this.tokenindex,0,0),a.push(v),p.U1f(44),g=p.X1f(l,n,o,u,h)):this.isWhite()||(\"\"===this.errormsg?(\"unknown ch\",\"aracter\",this.error_parsing(this.pos,\"unknown character\")):this.error_parsing(this.pos,this.errormsg));for((this.tmpprio<0||this.tmpprio>=10)&&(\"unm\",'atched \"',\"()\",'\"',this.error_parsing(this.pos,'unmatched \"()\"'));i.length>0;)x=i.pop(),a.push(x);return m+1!==a.length&&this.error_parsing(this.pos,\"parity\"),new N(a,L(this.ops1),L(this.ops2),L(this.functions))},evaluate:function(t,e){return p.W1B(),this.parse(t).evaluate(e)},error_parsing:function(t,e){throw\"]\",\": \",this.success=!1,p.U1f(27),this.errormsg=p.X1f(t,e,\"]: \",\"parse error [column \"),p.W1B(),this.column=t,new Error(this.errormsg)},addfunc:function(t,e,i){var a;for(p.g1B(),a=new F(i,this.tokenindex,this.tokenprio+this.tmpprio,0);e.length>0&&a.prio_<=e[e.length-1].prio_;)t.push(e.pop());e.push(a)},isNumber:function(){var t,e,i;for(t=!1,e=\"\";this.pos<this.expression.length&&((i=this.expression.charCodeAt(this.pos))>=48&&i<=57||46===i);)e+=this.expression.charAt(this.pos),this.pos++,this.tokennumber=parseFloat(e),t=!0;return p.W1B(),t},unescape:function(t,e){var i,a,r,n;i=[],a=!1;for(var s=0;s<t.length;s++)if(r=t.charAt(s),a){switch(r){case\"'\":i.push(\"'\");break;case\"\\\\\":i.push(\"\\\\\");break;case\"/\":i.push(\"/\");break;case\"b\":i.push(\"\\b\");break;case\"f\":i.push(\"\\f\");break;case\"n\":i.push(\"\\n\");break;case\"r\":i.push(\"\\r\");break;case\"t\":i.push(\"\\t\");break;case\"u\":n=parseInt(t.substring(s+1,s+5),16),i.push(String.fromCharCode(n)),s+=4;break;default:throw p.U1f(0),this.error_parsing(p.E1f(e,s),p.E1f(\"'\",r,\"Illegal escape sequence: '\\\\\",p.U1f(15)))}a=!1}else\"\\\\\"==r?a=!0:i.push(r);return i.join(\"\")},isString:function(){var t,e,i;if(t=!1,e=\"\",i=this.pos,this.pos<this.expression.length&&\"'\"==this.expression.charAt(this.pos))for(this.pos++;this.pos<this.expression.length;){if(\"'\"==this.expression.charAt(this.pos)&&\"\\\\\"!=e.slice(-1)){this.pos++,this.tokennumber=this.unescape(e,i),t=!0;break}e+=this.expression.charAt(this.pos),this.pos++}return t},isConst:function(){var t;for(var e in this.consts)if(t=e.length,e===this.expression.substr(this.pos,t))return this.tokennumber=this.consts[e],this.pos+=t,!0;return!1},isOperator:function(){var t;if(43===(t=this.expression.charCodeAt(this.pos)))this.tokenprio=2,this.tokenindex=\"+\";else if(45===t)this.tokenprio=2,this.tokenindex=\"-\";else if(62===t)61===this.expression.charCodeAt(this.pos+1)?(this.pos++,this.tokenprio=1,this.tokenindex=\">=\"):(this.tokenprio=1,this.tokenindex=\">\");else if(60===t)61===this.expression.charCodeAt(this.pos+1)?(\"<\",\"=\",this.pos++,p.P1f(19),this.tokenprio=p.E1f(\"1\",1034510112),this.tokenindex=\"<=\"):(this.tokenprio=1,this.tokenindex=\"<\");else if(124===t){if(124!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=1,this.tokenindex=\"||\"}else if(61===t){if(61!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=1,this.tokenindex=\"==\"}else if(33===t){if(61!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=1,this.tokenindex=\"!=\"}else if(97===t){if(110!==this.expression.charCodeAt(this.pos+1)||100!==this.expression.charCodeAt(this.pos+2))return!1;this.pos++,this.pos++,this.tokenprio=0,this.tokenindex=\"and\"}else if(111===t){if(114!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=0,this.tokenindex=\"or\"}else if(42===t||8729===t||8226===t)p.P1f(1),this.tokenprio=p.E1f(1921258368,\"3\"),this.tokenindex=\"*\";else if(47===t)p.U1f(19),this.tokenprio=p.X1f(\"4\",1528724576),this.tokenindex=\"/\";else if(37===t)this.tokenprio=4,this.tokenindex=\"%\";else{if(94!==t)return!1;this.tokenprio=5,this.tokenindex=\"^\"}return this.pos++,!0},isSign:function(){var t;return p.g1B(),45===(t=this.expression.charCodeAt(this.pos-1))||43===t},isPositiveSign:function(){return 43===this.expression.charCodeAt(this.pos-1)||(p.W1B(),!1)},isNegativeSign:function(){return 45===this.expression.charCodeAt(this.pos-1)},isLeftParenth:function(){if(40===this.expression.charCodeAt(this.pos)){-805186531,-783552330,2;for(var t=1;-805186531!==p.C1u(t.toString(),t.toString().length,81198);t++)return this.pos--,this.tmpprio-=90,!1;return-783552330!==p.C1u(2..toString(),2..toString().length,51628)?(this.pos++,this.tmpprio*=51,!0):(this.pos++,this.tmpprio+=10,!0)}return!1},isRightParenth:function(){return 41===this.expression.charCodeAt(this.pos)&&(this.pos++,this.tmpprio-=10,!0)},isComma:function(){return p.g1B(),44===this.expression.charCodeAt(this.pos)&&(this.pos++,this.tokenprio=-1,this.tokenindex=\",\",!0)},isWhite:function(){var t;return(32===(t=this.expression.charCodeAt(this.pos))||9===t||10===t||13===t)&&(this.pos++,!0)},isOp1:function(){var t,e;t=\"\",p.W1B();for(var i=this.pos;i<this.expression.length&&((e=this.expression.charAt(i)).toUpperCase()!==e.toLowerCase()||!(i===this.pos||\"_\"!=e&&(e<\"0\"||e>\"9\")));i++)t+=e;return t.length>0&&t in this.ops1&&(this.tokenindex=t,this.tokenprio=5,this.pos+=t.length,!0)},isOp2:function(){var t,e;t=\"\";for(var i=this.pos;i<this.expression.length&&((e=this.expression.charAt(i)).toUpperCase()!==e.toLowerCase()||!(i===this.pos||\"_\"!=e&&(e<\"0\"||e>\"9\")));i++)t+=e;return t.length>0&&t in this.ops2&&(this.tokenindex=t,this.tokenprio=5,this.pos+=t.length,!0)},isVar:function(){var t,e;p.W1B(),t=\"\";for(var i=this.pos;i<this.expression.length&&((e=this.expression.charAt(i)).toUpperCase()!==e.toLowerCase()||!(i===this.pos||\"_\"!=e&&(e<\"0\"||e>\"9\")));i++)t+=e;return t.length>0&&(this.tokenindex=t,this.tokenprio=4,this.pos+=t.length,!0)},isComment:function(){return 47===this.expression.charCodeAt(this.pos-1)&&42===this.expression.charCodeAt(this.pos)&&(this.pos=this.expression.indexOf(\"*/\",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)}},!0),V},e.computeEquationChart=function(t,a){var r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k=O;for(var D in t=t.replace(/[:]/,\"/\").toUpperCase(),k.U1f(14),r=k.X1f(0,\"0\"),a)\"\\\\\",\"[\",n=new RegExp(\"\\\\[\"+D.replace(/\\[/g,\"\\\\[\").replace(/\\]/g,\"\\\\]\").replace(/\\$/g,\"\\\\$\").replace(/\\^/g,\"\\\\^\").replace(/[+\\-*/%()]/g,\"\\\\$&\")+\"\\\\]\",\"g\"),k.P1f(0),t=t.replace(n,k.E1f(\"symbol\",r)),r++;function T(t){if(t.i++,a[t.s]){if(t.i>=a[t.s].length)return 0;c=a[t.s][t.i]}return k.g1B(),c.DT||(c.DT=e.strToDateTime(c.Date)),t.d=c.DT,k.U1f(5),k.X1f(0,\"1\")}function M(){var t,e;for(var i in t=null,e=null,l)e?l[i].d.getTime()<e.d.getTime()?t=e=l[i]:l[i].d.getTime()>e.d.getTime()&&(t=e):e=l[i];return t?T(t)?-1:0:(k.U1f(5),k.W1B(),k.X1f(0,\"1\"))}for(D in s=i().parse(t),o=[],l={},h=0,u=null,d=!1,p=[],a)g={sym:D,map:a[D]},a[D]?p.unshift(g):p.push(g);for(var A=0;A<p.length;A++)m=p[A],l[m.sym]={i:0,s:m.sym},m.map?(h++,c=m.map[0]):1==h&&(d=m.sym),c.DT||(c.DT=e.strToDateTime(c.Date)),l[m.sym].d=c.DT,u||(u=l[m.sym]);k.U1f(45),f=k.E1f(h,0),y=1==h&&-1==t.indexOf(\"%\");t:for(;v=M();)if(1==v){if(d)(C=a[u.s][u.i][d])&&(C.Close||0===C.Close)&&(C=C.Close),b=s.evaluate({symbol0:a[u.s][u.i].Close,symbol1:C}),b=Number(b.toFixed(8)),(x={DT:u.d,Close:b,Adj_Close:b})[u.s]=a[u.s][u.i].Close,isNaN(b)||b==1/0||o.push(x);else{if(f)throw\"NoExcep\",\"tion\",S=s.evaluate({}),k.P1f(15),e.alert(k.X1f(S,\"=\",t)),{name:\"NoException\",message:\"\"};for(D in r=0,w={Adj_Close:{},Close:{},Open:{},High:{},Low:{},Volume:{}},a){for(var P in w)k.P1f(0),w[P][k.X1f(\"symbol\",r)]=a[D][l[D].i][P];r++}(x={DT:u.d}).Adj_Close=s.evaluate(w.Adj_Close),x.Close=s.evaluate(w.Close),x.Open=s.evaluate(w.Open),x.Volume=s.evaluate(w.Volume),isNaN(x.Volume)&&(x.Volume=0),y?(x.High=s.evaluate(w.High),x.Low=s.evaluate(w.Low)):(x.High=Math.max(x.Open,x.Close),x.Low=Math.min(x.Open,x.Close)),isNaN(x.Close)||x.Close==1/0||o.push(x),isNaN(x.High)||(x.High=Number(x.High.toFixed(8))),isNaN(x.Low)||(x.Low=Number(x.Low.toFixed(8))),isNaN(x.Open)||(x.Open=Number(x.Open.toFixed(8))),isNaN(x.Close)||(x.Close=Number(x.Close.toFixed(8))),isNaN(x.Adj_Close)?x.Adj_Close=x.Close:x.Adj_Close=Number(x.Adj_Close.toFixed(8))}for(D in a)if(!T(l[D]))break t}return k.g1B(),o}},c=t=>{var e;(e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ).ChartEngine.prototype.setLocale=function(t,i){var a,r,n,s,o,l,h=O;if(\"s\",\"ho\",\"rt\",\"num\",\"e\",\"ric\",\"n\",\"um\",\"e\",\"ric\",\"2\",\"-di\",\"gi\",\"t\",\"2\",\"-\",\"dig\",\"it\",\"h\",\"2\",\"3\",\"undefined\"!=typeof Intl&&this.locale!=t){1450731745,h.U1f(18),a=h.X1f(\"239105250\",138437730),r=2;for(var c=1;1450731745!==h.C1u(c.toString(),c.toString().length,5594);c++)this.locale=t,r+=2;for(h.C1u(r.toString(),r.toString().length,11772)!==a&&(this.locale=t),this.locale=t,(s=this.internationalizer={}).hourMinute=new Intl.DateTimeFormat(this.locale,{hour:\"numeric\",minute:\"numeric\",hourCycle:\"h23\"}),s.hourMinuteSecond=new Intl.DateTimeFormat(this.locale,{hour:\"numeric\",minute:\"numeric\",second:\"numeric\",hourCycle:\"h23\"}),s.mdhm=new Intl.DateTimeFormat(this.locale,{year:\"2-digit\",month:\"2-digit\",day:\"2-digit\",hour:\"2-digit\",minute:\"2-digit\"}),s.monthDay=new Intl.DateTimeFormat(this.locale,{month:\"numeric\",day:\"numeric\"}),s.yearMonthDay=new Intl.DateTimeFormat(this.locale,{year:\"numeric\",month:\"numeric\",day:\"numeric\"}),s.yearMonth=new Intl.DateTimeFormat(this.locale,{year:\"numeric\",month:\"numeric\"}),s.month=new Intl.DateTimeFormat(this.locale,{month:\"short\"}),s.numbers=new Intl.NumberFormat(this.locale),s.priceFormatters=[],i||(h.U1f(1),i=h.X1f(1925398496,\"8\")),n=0;n<i+1;n++)s.priceFormatters.push(new Intl.NumberFormat(this.locale,{maximumFractionDigits:n,minimumFractionDigits:n}));for(n=0;n<5;n++)\"perc\",\"e\",\"n\",\"t\",\"per\",\"c\",\"ent\",o=n,l=n,n||(o=\"\",l=2),h.P1f(0),s[h.X1f(\"percent\",o)]=new Intl.NumberFormat(this.locale,{style:\"percent\",minimumFractionDigits:l,maximumFractionDigits:l});e.I18N.createMonthArrays&&e.I18N.createMonthArrays(this,s.month,this.locale)}},e.I18N=function(){},e.I18N.hereDoc=function(t){return t.toString().replace(/^[^/]+\\/\\*!?/,\"\").replace(/\\*\\/[^/]+$/,\"\")},e.I18N.language=\"en\",e.I18N.longMonths={zh:!0},e.I18N.reverseColorsByLocale={zh:!0,ja:!0},e.I18N.findAllTextNodes=function(t){var i,a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b=O;if(\"^\\\\s\",\"*$\",t||(t=document.body),t==document.body&&(\".ciq\",\"_st\",\"ashed_texts\",!document.querySelector(\".ciq_stashed_texts\"))){1467903848,b.P1f(14),i=b.X1f(0,\"658811685\"),a=2;for(var S=1;1467903848!==b.C1u(S.toString(),S.toString().length,98859);S++)\"no\",\"ne\",\"ciq\",\"_stashed\",\"_text\",\"s\",\"d\",\"i\",\"v\",(r=document.createElement(\"div\")).className=\"ciq_stashed_texts\",r.style.display=\"none\",a+=2;b.C1u(a.toString(),a.toString().length,99580)!==i&&((r=document.createElement(\"ciq_stashed_texts\")).className=\"ciq_stashed_texts\",r.style.display=\"ciq_stashed_texts\"),t.appendChild(r),n=document.querySelectorAll(\"input,textarea,.editable_content\");for(var w=0;w<n.length;w++)\"p\",\"lacehol\",\"de\",\"r\",(s=n[w].getAttribute(\"placeholder\"))&&((o=r.appendChild(document.createElement(\"translate\"))).setAttribute(\"original\",s),o.placeholderFor=n[w],o.appendChild(document.createTextNode(s)))}for(h=(l=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,null,!1)).nextNode(),c=new RegExp(\"^\\\\s*$\"),u=new RegExp(\"\\n|\\t|\\f\",\"g\"),d={},p={SCRIPT:!0,STYLE:!0,TEXTAREA:!0};h;)g=h.nodeValue,c.test(g)||(m=h.parentNode,f=h.nextSibling,p[y=m.tagName]||(\"TRA\",\"NS\",\"L\",\"ATE\",\"TRANSLATE\"!=y?((v=document.createElement(\"translate\")).setAttribute(\"original\",g),v.appendChild(h),m.insertBefore(v,f)):(\"orig\",\"inal\",g=m.getAttribute(\"original\")),u.test(g)&&(g=g.replace(u,\"\")),d[g]||(d[g]=[]),d[g].push(h))),h=l.nextNode();if(t==document.body&&(x=e.Studies?e.Studies.studyLibrary:null))for(var k in x){if(null===d[k]&&(d[k]=[]),(C=x[k]).inputs)for(var D in C.inputs)d[D]||(d[D]=[]);if(C.outputs)for(var T in C.outputs)d[T]||(d[T]=[])}return d},e.I18N.missingWordList=function(t){var i,a,r,n,s,o;for(var l in\"P\",\"a\",\"ne\",\"l\",\"OverSo\",\"ld\",t||(t=e.I18N.language),i=e.I18N.findAllTextNodes(),a={},(r=e.I18N.wordLists[t])||(r={}),n=function(t){O.W1B(),void 0===r[t]&&(a[t]=\"\")},i)n(l);if(!e.Studies||!e.Studies.studyLibrary)return a;for(var h in e.Studies.studyLibrary){for(var c in n((s=e.Studies.studyLibrary[h]).name),s.inputs)switch(\"[object\",\" String]\",n(c),o=s.inputs[c],Object.prototype.toString.call(o)){case\"[object String]\":n(o);break;case\"[object Array]\":for(var u=0;u<o.length;++u)n(o[u])}for(var d in s.outputs)n(d)}return n(\"Show Zones\"),n(\"OverBought\"),n(\"OverSold\"),n(\"Panel\"),O.g1B(),n(\"Show as Underlay\"),n(\"Y-Axis\"),n(\"Invert Y-Axis\"),a},e.I18N.printableMissingWordList=function(t){return O.g1B(),JSON.stringify(e.I18N.missingWordList(t)).replace(/\",\"/g,'\",\\n\"')},e.I18N.translateUI=function(t,i){var a,r,n,s,o,l,h,c;if(O.g1B(),\"pu\"==t&&(t=\"pt\"),e.I18N.wordLists&&(t||(t=e.I18N.language),a=e.I18N.findAllTextNodes(i),r=e.I18N.wordLists[t]))for(var u in a){n=e.I18N.translateSections(u,r),s=a[u];for(var d=0;d<s.length;d++)h=(l=(o=s[d]).parentNode).getAttribute(\"original\"),\",\"!==n&&n||(n=h),(c=l.placeholderFor)?c.placeholder=n:o.data=n}},e.I18N.translate=function(t,i){var a,r;return O.g1B(),i||(i=e.I18N.language),e.I18N.wordLists?(r=null,(a=e.I18N.wordLists[i])&&(r=e.I18N.translateSections(t,a)||t),\",\"===r?t:r):(\"M\",\"ust include translations.js in order to use CIQ.I18N.t\",\"rans\",\"late()\",console.log(\"Must include translations.js in order to use CIQ.I18N.translate()\"),t)},e.I18N.translateSections=function(t,e){var i;return\"\",O.g1B(),\"string\"==typeof t&&-1!=t.indexOf(\"\")?(O.P1f(15),(i=(t=t.replace(/([(),])/g,O.X1f(\"\",\"$1\",\"\"))).split(\"\")).forEach((function(t,i,a){var r,n;r=t.match(/^(\\s*).*\\S(\\s*)$/),(n=e[t.trim()])&&(r&&(n=r[1]+n+r[2]),a[i]=n)})),i.join(\"\")):e[t]},e.I18N.convertCSV=function(t){var i,a,r,n,s,o,l,h,c;if(i=new RegExp(\"[]|[]\",\"g\"),a=new RegExp('^(\")|(\")$',\"g\"),r=e.I18N.wordLists,t||(t=e.I18N.csv),t){n=t.split(\"\\n\"),O.W1B(),s=n[0].split(\",\");for(var u=0;u<s.length;u++)r[o=s[u]]||(r[o]={});for(var d=1;d<n.length;d++){h=(l=n[d].match(/(\".*?\"|[^\",]+)(?=\\s*,|\\s*$)|(,(?=,))/g)||[])[0],a.test(h)&&(h=h.replace(a,\"\")),i.test(h)&&(h=h.replace(i,'\"'));for(var p=1;p<l.length;p++)c=l[p],a.test(c)&&(c=c.replace(a,\"\")),r[s[p]][h]=c}}},e.I18N.setLanguage=function(t,i,a,r,n){O.g1B(),\"pu\"==i&&(i=\"pt\"),e.I18N.convertCSV(r),e.I18N.language=i,e.I18N.translateUI(i,n),a||(a=e.I18N.translate),t.translationCallback=a},e.I18N.setLocale=function(t,e,i,a,r){var n,s,o;if(\"sc\",\"ri\",\"p\",\"t\",\"S\",\"C\",\"RI\",\"PT\",\"local\",\"e-data/jsonp\",\"undefin\",\"ed\",\"undefined\"==typeof Intl||!Intl.__addLocaleData)return t.setLocale(e,r),void(i&&i(null));a=void 0===a?\"locale-data/jsonp\":a,O.U1f(27),n=O.X1f(\"/\",\".js\",e,a),(s=document.createElement(\"SCRIPT\")).async=!0,s.src=n,(o=document.getElementsByTagName(\"script\")[0]).parentNode.insertBefore(s,o.nextSibling),s.onload=function(){t.setLocale(e,r),i&&i(null)},s.onerror=function(){O.g1B(),i&&i(\"cannot load script\")}},e.I18N.createMonthArrays=function(t,i,a){var r,n,s,o,l;t.monthAbv=[],t.monthLetters=[],r=new Date,n=!0,e.I18N.longMonths&&e.I18N.longMonths[a]&&(n=!1),O.W1B();for(var h=0;h<12;h++)if(r.setDate(1),r.setMonth(h),s=i.format(r),n){o=\"\";for(var c=0;c<s.length;c++)(l=s.charAt(c)).charCodeAt(0)<65||(o+=l);t.monthAbv[h]=o,t.monthLetters[h]=o[0]}else t.monthAbv[h]=s,t.monthLetters[h]=s},e.I18N.localize=function(t,e){var i,a,r;i=t.locale,a=this.reverseColorsByLocale[e],r=this.reverseColorsByLocale[i],this.setLocale(t,e),this.setLanguage(t,e),a&&r||(a||r)&&this.reverseCandles(t)},e.I18N.reverseCandles=function(t){var e,i,a;e=t.styles,i=t.cloneStyle(e.stx_candle_down),a=t.cloneStyle(e.stx_candle_up),e.stx_candle_up=i,e.stx_candle_down=a},e.I18N.wordLists={en:{}},e.I18N.languages={en:\"English\"}},u=t=>{var e,i;(e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ).ChartEngine.prototype.pointerEvents={down:[],up:[]},e.ChartEngine.prototype.manageTouchAndMouse=!0,e.ChartEngine.prototype.registerTouchAndMouseEvents=function(){var t,i,a,r,n,s,o;this.touchAndMouseEventsRegistered||(this.touchAndMouseEventsRegistered=!0,i=(t=this.controls.chartControls||document).querySelector(\".stx-zoom-in\"),a=t.querySelector(\".stx-zoom-out\"),r=this.chart.container,n=this,s=function(t,e,i){n.addDomEventListener(r,t,(function(t){if(n.mainSeriesRenderer&&n.mainSeriesRenderer.nonInteractive)return;e(t)}),i)},e.touchDevice?e.isSurface?(\"pointerent\",\"e\",\"r\",\"mouse\",\"up\",s(\"mousemove\",(function(t){O.W1B(),n.msMouseMoveProxy(t)})),s(\"mouseenter\",(function(t){n.msMouseMoveProxy(t)})),s(\"mousedown\",(function(t){n.msMouseDownProxy(t)})),s(\"mouseup\",(function(t){n.msMouseUpProxy(t)})),s(\"pointerdown\",(function(t){return O.g1B(),n.startProxy(t)})),s(\"pointermove\",(function(t){n.moveProxy(t)})),s(\"pointerenter\",(function(t){return n.moveProxy(t)})),s(\"pointerup\",(function(t){return O.g1B(),n.endProxy(t)}))):(e.isMobile||(s(\"mousemove\",(function(t){O.W1B(),n.iosMouseMoveProxy(t)})),s(\"mouseenter\",(function(t){n.iosMouseMoveProxy(t)})),s(\"mousedown\",(function(t){n.iosMouseDownProxy(t)})),s(\"mouseup\",(function(t){n.iosMouseUpProxy(t)}))),s(\"touchstart\",(function(t){O.W1B(),n.touchstart(t)})),s(\"touchmove\",(function(t){O.W1B(),n.touchmove(t)})),s(\"touchend\",(function(t){O.W1B(),n.touchend(t)})),s(\"pointerdown\",(function(t){n.touchPointerType=t.pointerType})),i&&(\"onMo\",\"us\",\"eOut\",i.removeAttribute(\"onMouseOver\"),i.removeAttribute(\"onMouseOut\")),a&&(a.removeAttribute(\"onMouseOver\"),a.removeAttribute(\"onMouseOut\"))):(\"mousem\",\"ove\",s(\"mousemove\",(function(t){O.g1B(),n.mousemove(t)})),s(\"mouseenter\",(function(t){n.mousemove(t)})),s(\"mousedown\",(function(t){O.W1B(),n.mousedown(t)})),s(\"mouseup\",(function(t){n.mouseup(t)}))),o=e.wheelEvent,this.captureMouseWheelEvents&&s(o,(function(t){O.g1B(),n.mouseWheel(t)}),{passive:!1}))},e.ChartEngine.prototype.mousedown=function(t){var i,a,r,n,s,o,l,h,c,u,d;if(i=\"d\",i+=\"o\",i+=\"w\",i+=\"n\",!this.runPrepend(\"mousedown\",arguments)&&(this.grabOverrideClick=!1,this.displayInitialized&&this.displayCrosshairs&&!this.repositioningDrawing&&!(this.editingAnnotation||t.button&&t.button>=2)))if(a=this.container.getBoundingClientRect(),this.top=a.top,this.left=a.left,this.right=this.left+this.width,this.bottom=this.top+this.height,t.clientX>=this.left&&t.clientX<=this.right&&t.clientY>=this.top&&t.clientY<=this.bottom){if(this.insideChart=!0,this.currentPanel){this.manageTouchAndMouse&&t&&t.preventDefault&&this.captureTouchEvents&&t.preventDefault(),this.mouseTimer=Date.now(),this.longHoldTookEffect=!1,this.hasDragged=!1,this.userPointerDown=!0,\"\"===this.openDialog&&this.registerPointerEvent({x:t.clientX,y:t.clientY,time:this.mouseTimer},i),r=this.currentPanel.chart;for(var p=0;p<this.drawingObjects.length;p++)if((n=this.drawingObjects[p]).highlighted&&!n.permanent){if(this.cloneDrawing)return(s=new(0,e.ChartEngine.drawingTools[n.name])).reconstruct(this,n.serialize()),this.drawingObjects.push(s),this.activateRepositioning(s),void(s.repositioner=n.repositioner);if(o=this.currentVectorParameters.vectorType,!(e.Drawing&&o&&e.Drawing[o]&&(new e.Drawing[o]).dragToDraw))return void this.activateRepositioning(n)}if((l=this.mainSeriesRenderer||{}).params&&l.params.baseline&&!1!==r.baseline.userLevel&&this.controls.baselineHandle&&(h=this.valueFromPixel(this.cy-5,this.currentPanel),c=this.valueFromPixel(this.cy+5,this.currentPanel),u=this.chart.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,10),r.baseline.actualLevel<Math.max(h,c)&&r.baseline.actualLevel>Math.min(h,c)&&this.cx>u))return d=\"s\",d+=\"t\",d+=\"x-gra\",d+=\"b\",this.repositioningBaseline={lastDraw:Date.now()},void this.controls.baselineHandle.classList.add(d);if(this.controls.anchorHandles){var{anchorHandles:g}=this.controls;for(var m in g){var{handle:f,sd:y,highlighted:v}=g[m];if(v)return this.repositioningAnchorSelector={sd:y},void f.classList.add(\"stx-grab\")}}var x;if(!(this.drawingClick&&(this.currentPanel.subholder===t.target&&this.drawingClick(this.currentPanel,this.cx,this.cy),this.activeDrawing&&this.activeDrawing.dragToDraw)))this.grabbingScreen=!0,r.spanLock=!1,this.yToleranceBroken=!1,this.grabStartX=t.clientX,this.grabStartY=t.clientY,this.grabStartMicropixels=this.micropixels,this.grabStartScrollX=r.scroll,this.grabStartScrollY=this.currentPanel.yAxis.scroll,this.grabStartCandleWidth=this.layout.candleWidth,this.grabStartYAxis=this.whichYAxis(this.currentPanel),this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0,this.grabStartPanel=this.currentPanel,setTimeout((x=this,function(){O.g1B(),x.grabbingHand()}),100),this.swipeStart&&this.swipeStart(r),(this.longHoldTime||0===this.longHoldTime)&&this.startLongHoldTimer(),this.runAppend(\"mousedown\",arguments)}}else this.insideChart=!1},e.ChartEngine.prototype.mousemove=function(t){var i,a;i=\"en\",i+=\"ter\",O.W1B(),a=t,e.ChartEngine.crosshairX=a.clientX,e.ChartEngine.crosshairY=a.clientY,a.type.toLowerCase().indexOf(i)>-1?this.positionCrosshairsAtPointer():this.runPrepend(\"mousemove\",arguments)||this.displayInitialized&&\"\"===this.openDialog&&(this.grabbingScreen&&1!==a.buttons&&(this.cancelLongHold=!0,this.displayDragOK(),this.grabbingScreen=!1,this.findHighlights(!1,!0)),this.mousemoveinner(a.clientX,a.clientY),this.runAppend(\"mousemove\",arguments))},e.ChartEngine.prototype.mouseup=function(t){var i,a,r,n,s,o,l,h,c,u,d,p;if(i=\"stx\",i+=\"-drag-c\",i+=\"hart\",a=\"mo\",a+=\"u\",a+=\"se\",a+=\"up\",!this.runPrepend(a,arguments)){if(this.swipe.end=!0,this.cancelLongHold=!0,this.repositioningDrawing){if(!this.currentVectorParameters.vectorType||Date.now()-this.mouseTimer>250)return this.changeOccurred(\"vector\"),e.clearCanvas(this.chart.tempCanvas,this),this.activateRepositioning(null),this.adjustDrawings(),void this.draw();this.activateRepositioning(null)}if(this.repositioningBaseline)return this.repositioningBaseline=null,this.controls.baselineHandle.classList.remove(\"stx-grab\"),(r=this.mainSeriesRenderer||{}).params&&r.params.baseline&&r.params.type,void this.draw();if(this.repositioningAnchorSelector)return e.Studies.repositionAnchor(this,this.repositioningAnchorSelector.sd),this.repositioningAnchorSelector=null,Object.values(this.controls.anchorHandles).forEach(({handle:t})=>(O.W1B(),\"s\",\"tx-gra\",\"b\",t.classList.remove(\"stx-grab\"))),void this.findHighlights();if(n=this.userPointerDown,this.userPointerDown=!1,this.displayInitialized){if(s=this.backOutY(t.clientY),o=this.backOutX(t.clientX),l=t.which&&t.which>=2||t.button&&t.button>=2,\"\"!==this.openDialog||l||this.registerPointerEvent({x:t.clientX,y:t.clientY,time:Date.now()},\"up\"),h=this.isDoubleClick(),this.grabbingScreen=!1,this.highlightedDraggable&&(this.dragPlotOrAxis&&this.dragPlotOrAxis(o,s),this.currentPanel=this.whichPanel(s)),c=this.currentPanel,this.grabStartYAxis=null,this.displayDragOK(),\"\"!==this.openDialog)return u=\"s\",u+=\"t\",u+=\"x-drag\",u+=\"-chart\",void(this.insideChart&&this.container.classList.remove(u));if(this.grabOverrideClick)return this.overXAxis||this.overYAxis||!this.swipeRelease||this.swipeRelease(),this.container.classList.remove(\"stx-drag-chart\"),this.grabOverrideClick=!1,this.doDisplayCrosshairs(),void this.updateChartAccessories();if(this.insideChart&&this.container.classList.remove(i),!e.ChartEngine.resizingPanel)return l||t.ctrlKey?(d=\"rightC\",d+=\"lick\",this.anyHighlighted&&!0!==this.bypassRightClick?(this.rightClickHighlighted(),t.preventDefault&&this.captureTouchEvents&&t.preventDefault(),t.stopPropagation(),!1):(this.dispatch(d,{stx:this,panel:c,x:o,y:s}),!0)):void(t.clientX<this.left||t.clientX>this.right||t.clientY<this.top||t.clientY>this.bottom||(p=c&&c.subholder===t.target,h&&(p||this.overYAxis||this.overXAxis)?this.doubleClick({button:t.button,x:o,y:s}):(n&&p&&(this.longHoldTookEffect&&!this.activeDrawing||this.drawingClick(c,o,s),!this.longHoldTookEffect&&this.activeMarker&&this.activeMarker.click({cx:o,cy:s,panel:c})),this.longHoldTookEffect||this.activeDrawing||this.dispatch(\"tap\",{stx:this,panel:c,x:o,y:s})),this.runAppend(\"mouseup\",arguments)));this.releaseHandle()}}},e.ChartEngine.prototype.registerPointerEvent=function(t,e){O.W1B(),this.pointerEvents[e].length>1&&this.pointerEvents[e].pop(),this.pointerEvents[e].unshift(t)},e.ChartEngine.prototype.resetPointerEvent=function(t){O.W1B(),this.pointerEvents[t].splice(0)},e.ChartEngine.prototype.isDoubleClick=function(t){var e,i;e=t?1200:400;var{up:a,down:r}=this.pointerEvents;return this.cancelTouchSingleClick=!1,!(a.length<2||r.length<2)&&((i=r[0].time-a[1].time<this.doubleClickTime&&Math.pow(a[1].x-a[0].x,2)+Math.pow(a[1].y-a[0].y,2)<=e&&a[1].time-r[1].time<this.longHoldTime&&a[0].time-r[0].time<this.longHoldTime)&&(\"u\",\"p\",this.resetPointerEvent(\"up\"),this.resetPointerEvent(\"down\"),this.cancelTouchSingleClick=!0),i)},e.ChartEngine.prototype.doubleClick=function(t,i,a){if(!this.runPrepend(\"doubleClick\",arguments)&&!this.editingAnnotation){if(O.g1B(),e.ChartEngine.drawingLine)return this.undo();this.activeDrawing||(this.activeMarker&&this.activeMarker.doubleClick({cx:i,cy:a,panel:this.currentPanel})||this.dispatch(\"doubleClick\",{stx:this,button:t,x:i,y:a}),this.runAppend(\"doubleClick\",arguments))}},e.ChartEngine.prototype.handleMouseOut=function(t){var i,a,r,n,s,o=O;if(t=t||window.event,o.W1B(),!e.withinElement(this.chart.container,t.pageX,t.pageY)){if(this.runPrepend(\"handleMouseOut\",arguments))return;if(this.grabbingScreen||this.findHighlights(null,!0),this.undisplayCrosshairs(),this.touches=[],this.touching=!1,this.activeDrawing&&this.userPointerDown&&(this.userPointerDown=!1,this.drawingLine=!1,i=this.backOutY(t.pageY),a=this.backOutX(t.pageX),this.drawingClick(this.currentPanel,a,i)),this.repositioningAnchorSelector){r=710925059,n=-956953523,s=2;for(var l=1;o.p1u(l.toString(),l.toString().length,19105)!==r;l++)o.U1f(2),this.repositioningAnchorSelector=o.X1f(\"1\",1),s+=2;o.p1u(s.toString(),s.toString().length,67362)!==n&&(this.repositioningAnchorSelector=null)}this.insideChart=!1,this.overYAxis=!1,this.overXAxis=!1,this.displaySticky(),this.runAppend(\"handleMouseOut\",arguments)}},e.ChartEngine.prototype.startLongHoldTimer=function(){var t,e;t=this,this.cancelLongHold=!1,this.longHoldTimeout&&clearTimeout(this.longHoldTimeout),e=function(){t.cancelLongHold||(t.longHoldTookEffect=!0,t.dispatch(\"longhold\",{stx:t,panel:t.currentPanel,x:t.cx,y:t.cy}),t.displayDragOK())},this.longHoldTime?this.longHoldTimeout=setTimeout(e,this.longHoldTime):0===this.longHoldTime&&e()},e.ChartEngine.prototype.grabHandle=function(t){var i,a;i=\"g\",O.g1B(),i+=\"rabHand\",i+=\"le\",a=\"stx-\",a+=\"grab\",this.runPrepend(\"grabHandle\",arguments)||t&&(e.ChartEngine.crosshairY=t.top+this.top,e.ChartEngine.resizingPanel=t,t.handle.classList.add(a),this.runAppend(i,arguments))},e.ChartEngine.prototype.grabbingHand=function(){this.allowScroll&&this.grabbingScreen&&(e.touchDevice||this.container.classList.add(\"stx-drag-chart\"))},e.ChartEngine.prototype.releaseHandle=function(){if(this.runPrepend(\"releaseHandle\",arguments))return!0;e.clearCanvas(this.chart.tempCanvas,this),this.resizePanels(),e.ChartEngine.resizingPanel&&e.ChartEngine.resizingPanel.handle.classList.remove(\"stx-grab\"),e.ChartEngine.resizingPanel=null,this.runAppend(\"releaseHandle\",arguments)},e.ChartEngine.prototype.findHighlights=function(t,i){var a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,B,E,L,N,H,I,R,W,z,V,U,j,q,Y;if(\"highlig\",\"h\",\"tsRadius\",a=this.preferences[t?\"highlightsTapRadius\":\"highlightsRadius\"],this.highlightViaTap=t,r=this.cy,n=this.cx,this.anyHighlighted=!1,this.currentPanel){if(this.activeDrawing&&(i=!0),s=!1,o=null,l=i?{}:{forceShow:!0,type:\"drawing\"},h=this.currentPanel.chart,c={x0:this.tickFromPixel(n-a,h),x1:this.tickFromPixel(n+a,h),y0:this.valueFromPixel(r-a,this.currentPanel),y1:this.valueFromPixel(r+a,this.currentPanel),cx0:n-a,cx1:n+a,cy0:r-a,cy1:r+a,r:a},this.repositioningDrawing&&c.x1-c.x0<2?(c.x1++,c.x0--):c.x1==c.x0&&(c.x0-=.5,c.x1+=.5),u=this.markerHelper&&this.markerHelper.chartMap[h.name]&&this.markerHelper.chartMap[h.name].markers,!h.hideDrawings)for(var Z=this.drawingObjects.length-1;Z>=0;Z--)d=this.drawingObjects[Z],this.panels[d.panelName]&&(this.repositioningDrawing&&this.repositioningDrawing!=d||(p=d.highlighted,g=d.panelName==this.currentPanel.name,d.repositioner=d.intersected(this.crosshairTick,this.crosshairValue,c),g=g&&d.repositioner,!i&&g?(p?(o=d,this.anyHighlighted&&this.singleDrawingHighlight&&(d.highlighted=!1),d.highlighted&&d.highlighted!=p&&(s=!0)):p!=d.highlight(!0)&&(o||(o=d),this.anyHighlighted&&this.singleDrawingHighlight&&(d.highlighted=!1),s=!0),this.anyHighlighted=!0):p!=d.highlight(!1)&&(s=!0),d.highlighted&&(l.noDelete=d.permanent,l.noEdit=!this.callbackListeners.drawingEdit.length)));for(m in this.layout.studies)(f=this.layout.studies[m]).prev=f.highlight,f.highlight=this.yaxisMatches(f,this.grabStartYAxis);for(m in h.seriesRenderers){(C=h.seriesRenderers[m]).params.highlight=this.yaxisMatches(C,this.grabStartYAxis);for(var X=0;X<C.seriesParams.length;X++)(x=C.seriesParams[X]).prev=x.highlight,x.highlight=C.params.highlight}for(y=0;u&&y<u.length;y++)(v=u[y]).params.box&&(this.activeMarker=null,v.prev=u[y].highlight,v.highlight=!1);if(this.markerHelper&&(this.markerHelper.highlighted=[]),this.highlightedDataSetField=null,this.highlightedDraggable=null,!i&&!this.anyHighlighted&&this.controls.anchorHandles)for(var Q in this.controls.anchorHandles){b=this.controls.anchorHandles[Q];var{handle:J,sd:G}=b;if(S=this.resolveX(n),w=this.resolveY(r),J){var{left:K,top:$,right:tt,bottom:et}=J.getBoundingClientRect();if(e.boxIntersects(K,$,tt,et,S,w,S,w)){b.highlighted=!0,this.anyHighlighted=!0,s=!0,l={message:G.name,type:\"anchorHandle\"};continue}!0===b.highlighted&&(b.highlighted=!1,s=!0)}}if(!i&&!this.anyHighlighted&&h.dataSegment&&(k=this.barFromPixel(n))>=0&&k<h.dataSegment.length){for(m in this.overlays)if(\"func\",\"tio\",\"n\",(f=this.overlays[m]).panel==this.currentPanel.name&&!1!==f.study.isHighlighted)if(\"function\"!=typeof f.study.isHighlighted){if(h.dataSegment[k]){for(var it in f.outputMap)if(nt.call(this,k,c,it,f.getYAxis(this))){f.name!=f.panel&&(this.anyHighlighted=!0),f.highlight=it;break}if(f.highlight){this.highlightedDataSetField=it;break}}}else f.study.isHighlighted(this,n,r)&&(f.highlight=!0,this.anyHighlighted=!0);for(m in h.seriesRenderers){if(this.highlightedDataSetField)break;if(M=(T=h.seriesRenderers[m]).params.panel,T!=this.mainSeriesRenderer&&(T.params.highlightable||this.currentVectorParameters.vectorType)&&M==this.currentPanel.name)for(y=0;y<T.seriesParams.length;y++){if((A=(x=T.seriesParams[y]).field)||T.highLowBars||(A=this.defaultPlotField||\"Close\"),x.symbol&&x.subField&&(A+=\"--\\x3e\"+x.subField),!(P=T.params.yAxis)&&M&&(P=this.panels[M].yAxis),T.params.step&&k>0){if(!T.caches[x.id])continue;if(!(D=T.caches[x.id][k])&&0!==D)continue;O.P1f(46),(((F=T.caches[x.id][O.E1f(\"1\",k)])||0===F)&&r+a>=D&&r-a<=F||r-a<=D&&r+a>=F)&&(x.highlight=!0,this.anyHighlighted=!0)}else nt.call(this,k,c,A,P,T,x.id)&&(x.highlight=!0,this.anyHighlighted=!0);if(x.highlight){this.highlightedDataSetField=A;break}}}}for(m in B=this.preferences.dragging,this.overlays)(f=this.overlays[m]).highlight&&(this.anyHighlighted=!0,L=f.inputs.display||f.name,l={message:L=this.translateIf(L),noDelete:f.permanent,noEdit:!f.editFunction,type:\"study\"},o=null,(!0===B||B&&B.study)&&(_=f),E=f.getYAxis(this)),f.prev!=f.highlight&&(s=!0);for(m in h.seriesRenderers){H=(N=h.seriesRenderers[m]).params.yAxis?N.params.yAxis.textStyle:null;for(var at=0;at<N.seriesParams.length;at++)x=N.seriesParams[at],N.params.highlightable&&x.highlight&&(this.anyHighlighted=!0,\"auto\"==(I=x.color||H)&&(I=this.defaultColor),x.opacity&&1!==x.opacity&&(I=e.hexToRgba(e.colorToHex(I),parseFloat(x.opacity))),l={message:x.display||x.symbol,backgroundColor:I,noDelete:x.permanent,type:\"series\"},o=null,(!0===B||B&&B.series)&&(_=N,N.params.highlight=!0),E=N.getYAxis(this)),x.prev!=x.highlight&&(s=!0)}for(m in this.plugins)W={},(R=this.plugins[m]).findHighlights&&((W=R.findHighlights(this,t,i)).somethingChanged&&(s=!0),W.anyHighlighted&&(this.anyHighlighted=!0,l=W.stickyArgs||{}));for(var rt in z=this.whichPanel(r),V=this.whichYAxis(z,n),E||(E=V),E&&(E.highlight||(s=!0),E.highlight=!0),U=[],this.panels)U=U.concat(this.panels[rt].yaxisLHS).concat(this.panels[rt].yaxisRHS);for(m=0;m<U.length;m++)(E!=U[m]||i)&&(U[m].highlight&&(s=!0),U[m].highlight=!1);for(y=0;u&&y<u.length;y++)(j=(v=u[y]).params.box)&&v.params.panelName===this.currentPanel.name&&(q=e.convertBoxToPixels(this,this.currentPanel.name,c),e.boxIntersects(q.x0,q.y0,q.x1,q.y1,j.x0,j.y0,j.x1,j.y1)&&(this.activeMarker=v,v.highlight=!0,this.markerHelper.highlighted.push(v)),v.prev!=v.highlight&&(s=!0));if(s&&(this.draw(),l.panel=z,this.anyHighlighted&&!this.grabStartYAxis?l.panel=z:l={},this.displaySticky(l),this.clearMeasure(),o&&o.measure()),(!0===B||B&&B.yaxis)&&V&&!V.noDraw&&(this.anyHighlight=!0,_=V),this.anyHighlighted||this.setMeasure(),_&&!z.noDrag){if(this.longHoldTookEffect&&!this.cancelLongHold){if(_.params)for(m in _.params.dependentOf&&((_=h.seriesRenderers[_.params.dependentOf]).params.highlight=!0),h.seriesRenderers)h.seriesRenderers[m].params.dependentOf==_.params.name&&(h.seriesRenderers[m].params.highlight=!0);if(this.highlightedDraggable=_,_.getDependents)for(m in Y=_.getDependents(this,!0),this.overlays)f=this.overlays[m],Y.indexOf(f)>-1&&(f.highlight=!0)}this.container.classList.add(\"stx-draggable\")}else this.container.classList.remove(\"stx-draggable\");this.highlightedDataSetField=this.adjustHighlightedDataSetField(this.highlightedDataSetField),this.displayDrawOK()}function nt(t,i,a,r,n,s){var o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,D,T,M,A,P,F,_=O;function B(t){var e;return t?((e=t[c])&&(e[u]||0===e[u])&&(e=e[u]),n&&n.getBasis&&(e+=n.getBasis(t,c,u)),o.transformFunc&&r==o.yAxis?t.transform&&c in t.transform?((e=t.transform[c])&&(e[u]||0===e[u])&&(e=e[u]),e):(_.W1B(),o.transformFunc(this,o,e)):e):null}if(\"C\",\"lo\",\"se\",o=this.chart,l=this.currentPanel,r||(r=l.yAxis),h=a.split(\"--\\x3e\"),c=h[0],(u=h[1])||(u=\"Close\"),d=o.dataSegment[k],v=null,x=null,C=null,b=new Array(3),S=n&&n.caches[s],d&&S){for(m=S[k],v=d.tick,(m||0===m)&&(b[0]=1),w=k-1;w>=0;w--)if(S[w]||0===S[w]){f=S[w],_.U1f(47),x=_.X1f(k,v,w),b[1]=1;break}for(w=k+1;w<o.dataSegment.length;w++)if(S[w]||0===S[w]){y=S[w],_.U1f(47),C=_.X1f(k,v,w),b[2]=1;break}}if(null===x&&(p=this.getPreviousBar.call(this,o,a,k))&&(x=p.tick,f=B(p)),null===C&&(g=this.getNextBar.call(this,o,a,k))&&(C=g.tick,y=B(g)),null===x&&null===C)return!1;if(S||(m=B(d),f=B(p),y=B(g),v=d.tick,p&&(x=p.tick),g&&(C=g.tick)),f||0===f||(f=0,x=0),!y&&0!==y){if(m||0===m)y=m,b[2]=b[0];else{86931845,-901164988,D=2;for(var E=1;86931845!==_.C1u(E.toString(),E.toString().length,91120);E++)y=f,b[2]=b[1],_.P1f(2),D+=_.E1f(\"2\",1);-901164988!==_.p1u(D.toString(),D.toString().length,99290)&&(y=f,b[8]=b[9])}C=s&&o.series[s].parameters.extendToEndOfDataSet?o.dataSet.length-1:x}return m||0===m||(m=y,v=C,b[0]=b[2],0===f&&0===x&&(f=m,x=v,b[1]=b[0])),T=this.pixelFromTransformedValue.bind(this),m=(M=this.valueFromPixel.bind(this))(b[0]?m:T(m,l,r),l),f=M(b[1]?f:T(f,l,r),l),y=M(b[2]?y:T(y,l,r),l),A=e.convertBoxToPixels(this,l.name,i),P=e.convertBoxToPixels(this,l.name,{x0:x,y0:f,x1:v,y1:m}),F=e.convertBoxToPixels(this,l.name,{x0:v,y0:m,x1:C,y1:y}),!(!e.boxIntersects(A.x0,A.y0,A.x1,A.y1,P.x0,P.y0,P.x1,P.y1,\"segment\")&&!e.boxIntersects(A.x0,A.y0,A.x1,A.y1,F.x0,F.y0,F.x1,F.y1,\"segment\"))}},e.ChartEngine.prototype.rightClickHighlighted=function(){var t;t=\"rightClick\",t+=\"Highligh\",t+=\"ted\",this.runPrepend(t,arguments)||(this.deleteHighlighted(!0),this.runAppend(\"rightClickHighlighted\",arguments))},e.ChartEngine.prototype.deleteHighlighted=function(t,i){var a,r,n,s,o,l,h,c,u,d,p,g;if(!this.runPrepend(\"deleteHighlighted\",arguments)){if(this.cancelTouchSingleClick=!0,e.clearCanvas(this.chart.tempCanvas,this),(a=!1===this.bypassRightClick)||!this.bypassRightClick.drawing)for(var m=this.drawingObjects.length-1;m>=0;m--)(r=this.drawingObjects[m]).highlighted&&(t?this.rightClickDrawing(r,i):r.permanent||(n=\"vec\",n+=\"tor\",r.abort()||(s=this.exportDrawings(),this.drawingObjects.splice(m,1),this.undoStamp(s,this.exportDrawings())),this.changeOccurred(n)));if(a||!this.bypassRightClick.study)for(var f in this.overlays)((o=this.overlays[f]).overlay||o.underlay)&&o.highlight&&!o.permanent&&(t||i?this.rightClickOverlay(f,i):this.removeOverlay(f));if(l=this.currentPanel.chart,a||!this.bypassRightClick.series)for(var y in l.seriesRenderers)if((h=l.seriesRenderers[y]).params.highlightable){u=(c=this.panels[h.params.panel])&&c.yAxis.name;for(var v=h.seriesParams.length-1;v>=0;v--)d=h.seriesParams[v],!h.params.highlight&&!d.highlight||d.permanent||(h.removeSeries(d.id),h.seriesParams.length<1&&(this.removeSeriesRenderer(h),h.params.name==u?this.electNewPanelOwner(h.params.panel):(this.checkForEmptyPanel(h.params.panel),(p=this.getYAxisByName(c,h.params.name))&&(p.name=p.studies[0]||p.renderers[1]))))}this.draw(),this.resizeChart(),this.clearMeasure(),g=this.controls.mSticky,O.g1B(),g&&(g.style.display=\"none\",g.children[0].innerHTML=\"\"),this.runAppend(\"deleteHighlighted\",arguments)}},e.ChartEngine.prototype.displayDragOK=function(t){var e,i,a,r,n,s,o,l,h,c,u=O;if(u.g1B(),e=this.controls.dragOk){if(t||this.findHighlights(this.highlightViaTap),a=(i=this.highlightedDraggable)&&i.undraggable&&i.undraggable(this),r=this.cx,n=this.cy,!t){if(i&&!a&&this.longHoldTookEffect&&!this.cancelLongHold)\"stx-drag-cha\",\"rt\",\"in\",\"line\",\"-\",\"block\",s=i.inputs&&i.inputs.display||i.params&&(i.params.display||i.params.name)||i.name,e.querySelector(\".field\").setAttribute(\"text\",s),p.call(this,e),e.style.display=\"inline-block\",this.draw(),this.displaySticky(),this.grabStartYAxis?this.container.classList.replace(\"stx-drag-chart\",\"stx-drag-axis\"):this.container.classList.replace(\"stx-drag-chart\",\"stx-drag-series\");else for(var d in e.style.display=\"none\",this.draw(),this.container.classList.remove(\"stx-drag-series\"),this.container.classList.remove(\"stx-drag-axis\"),this.panels){for(\"t\",\"o\",\"p\",\"l\",\"e\",\"ft\",(o=this.panels[d].subholder.classList).remove(\"dropzone\"),o.remove(\"all\"),o.remove(\"left\"),o.remove(\"right\"),o.remove(\"top\"),o.remove(\"bottom\"),l=0;l<this.panels[d].yaxisLHS.length;l++)this.panels[d].yaxisLHS[l].dropzone=null;for(l=0;l<this.panels[d].yaxisRHS.length;l++)this.panels[d].yaxisRHS[l].dropzone=null}this.draw()}i&&(\"p\",\"x\",\"p\",\"x\",h=n+e.offsetHeight,c=Math.max(0,r-e.offsetWidth),u.U1f(0),e.style.top=u.E1f(h,\"px\"),u.P1f(0),e.style.left=u.X1f(c,\"px\"),p.call(this,e))}function p(t){var e,i;e=this.translateIf(t.querySelector(\".field\").getAttribute(\"text\")),(i=this.whichYAxis(this.whichPanel(this.cy),this.cx,this.cy))&&\"all\"==i.dropzone&&(\"-\",\"-\",\">\",e+=\"--\\x3e\"+this.translateIf(i.name)),t.querySelector(\".field\").innerHTML=e}},e.ChartEngine.prototype.displayDrawOK=function(){var t,i,a,r,n=O;n.g1B(),(t=this.controls.drawOk)&&e.Drawing&&(\"n\",\"o\",\"n\",\"e\",(i=e.Drawing[this.currentVectorParameters.vectorType])&&(i=new i),this.highlightedDataSetField&&i&&i.getYValue?(\"inline-\",\"block\",t.style.display=\"inline-block\",a=this.cy+t.offsetHeight,r=this.cx-t.offsetWidth,n.U1f(0),t.style.top=n.E1f(a,\"px\"),n.U1f(0),t.style.left=n.X1f(r,\"px\"),t.querySelector(\".field\").innerHTML=this.translateIf(this.highlightedDataSetField)):t.style.display=\"none\")},e.ChartEngine.prototype.mouseWheel=function(t){var i,a,r,n,s,o,l,h,c,u,d,p=O;if(i=\"MozMouseP\",i+=\"ixelScr\",i+=\"oll\",!this.runPrepend(\"mouseWheel\",arguments)&&(t.preventDefault&&t.preventDefault(),a=t.deltaX,r=t.deltaY,Math.abs(r)>Math.abs(a)?a=0:r=0,this.lastMouseWheelEvent=Date.now(),0!==Math.abs(a)||0!==Math.abs(r))){if(this.allowSideswipe&&0!==a){this.lastMove=\"horizontal\",(n=a)>50&&(n=50),n<-50&&(n=-50),this.grabbingScreen=!0,s=-2001608547,o=798432045,l=2;for(var g=1;p.p1u(g.toString(),g.toString().length,20860)!==s;g++)+this.currentPanel&&(this.currentPanel=this.chart.panel),l+=2;return p.p1u(l.toString(),l.toString().length,75205)!==o&&-this.currentPanel&&(this.currentPanel=this.chart.panel),this.currentPanel||(this.currentPanel=this.chart.panel),this.grabStartX=e.ChartEngine.crosshairX,this.grabStartY=e.ChartEngine.crosshairY,this.grabStartScrollX=this.chart.scroll,this.grabStartScrollY=this.currentPanel.yAxis.scroll,this.grabStartMicropixels=this.micropixels,this.grabStartPanel=this.currentPanel,this.mousemoveinner(e.ChartEngine.crosshairX-n,e.ChartEngine.crosshairY),this.updateChartAccessories(),void(this.grabbingScreen=!1)}if(this.lastMove=\"vertical\",this.allowZoom&&this.displayInitialized&&(r||(\"mousewheel\"==e.wheelEvent?(r=-1/40*t.wheelDelta,t.wheelDeltaX&&(a=-1/40*t.wheelDeltaX)):r=t.detail),void 0===t.deltaMode&&(t.deltaMode=t.type==i?0:1),h=-r,1==t.deltaMode&&(h*=33),c=null,u=null,this.mouseWheelAcceleration&&(d=Math.max(Math.pow(Math.abs(h),.3),1),p.P1f(48),c=p.X1f(1,.1,d),p.P1f(23),u=p.E1f(.2,1,d)),this.zoomInitiatedByMouseWheel=!0,p.W1B(),h>0?this.reverseMouseWheel?this.zoomOut(null,u):this.zoomIn(null,c):h<0&&(this.reverseMouseWheel?this.zoomIn(null,c):this.zoomOut(null,u)),!this.runAppend(\"mouseWheel\",arguments)))return!1}},e.ChartEngine.handleContextMenu=function(t){for(var i,a=0;a<e.ChartEngine.registeredContainers.length;a++)if((i=e.ChartEngine.registeredContainers[a].stx)&&i.anyHighlighted)return t.preventDefault&&t.preventDefault(),!1},\"undefined\"!=typeof document&&document.addEventListener(\"contextmenu\",e.ChartEngine.handleContextMenu),e.ChartEngine.htmlControls={annotationSave:'<span class=\"stx-btn stx_annotation_save\" style=\"display: none;\">save</span>',annotationCancel:'<span class=\"stx-btn stx_annotation_cancel\" style=\"display: none; margin-left:10px;\">cancel</span>',mSticky:'<div class=\"stx_sticky\"> <span class=\"mStickyInterior\"></span> <span class=\"mStickyRightClick\"><span class=\"overlayEdit stx-btn\" style=\"display:none\"><span>&nbsp;</span></span> <span class=\"overlayTrashCan stx-btn\" style=\"display:none\"><span>&nbsp;</span></span> <span class=\"mouseDeleteInstructions\"><span>(</span><span class=\"mouseDeleteText\">right-click to delete</span><span class=\"mouseManageText\">right-click to manage</span><span class=\"dragAnchorText\">drag to change anchor time</span><span>)</span></span></span><span class=\"stickyLongPressText\">(long-press to drag)</span></div>',drawOk:'<div class=\"stx_draw_ok\"><div class=\"icon\"></div><div class=\"field\"></div></div>',dragOk:'<div class=\"stx_drag_ok\"><div class=\"icon\"></div><div class=\"field\"></div></div>',crossX:'<div class=\"stx_crosshair stx_crosshair_x\" style=\"display: none;\"></div>',crossY:'<div class=\"stx_crosshair stx_crosshair_y\" style=\"display: none;\"></div>',chartControls:'<div class=\"stx_chart_controls\" style=\"display: none; bottom: 22px;\"><div class=\"chartSize\"><span class=\"stx-zoom-out\"></span><span class=\"stx-zoom-in\"></span></div></div>',home:'<div class=\"stx_jump_today\" style=\"display:none\"><span></span></div>',floatDate:'<div class=\"stx-float-date\" style=\"visibility: hidden;\"></div>',handleTemplate:'<div class=\"stx-ico-handle\" style=\"display: none;\"><span></span></div> ',iconsTemplate:'<div class=\"stx-panel-control\"><div class=\"stx-panel-title\"></div><div class=\"stx-panel-legend\"></div><div class=\"stx-btn-panel\"><span class=\"stx-ico-up\"></span></div><div class=\"stx-btn-panel\"><span class=\"stx-ico-focus\"></span></div><div class=\"stx-btn-panel\"><span class=\"stx-ico-down\"></span></div><div class=\"stx-btn-panel\"><span class=\"stx-ico-edit\"></span></div><div class=\"stx-btn-panel\"><span class=\"stx-ico-close\"></span></div></div>',baselineHandle:'<div class=\"stx-baseline-handle\" style=\"display: none;\"></div>',notificationTray:'<div class=\"stx_notification_tray\"><template><div><span class=\"icon\"></span><span class=\"message\"></span></div></template></div>'},e.ChartEngine.prototype.registerChartControl=function(t,i,a){var r,n,s,o=O;if(\".\",o.W1B(),\"stx-zoom\",\"-in\",(r=this.controls)&&r.chartControls&&!r.chartControls.querySelector(\".\"+t))return n=null,(s=r.chartControls.querySelector(\".stx-zoom-in\"))?(\"s\",\"p\",\"a\",\"n\",n=document.createElement(\"span\"),o.U1f(15),n.innerHTML=o.E1f(\"</span>\",i,'<span class=\"stx-tooltip\">'),o.P1f(0),n.className=o.E1f(\"stx-chart-control-button \",t),s.parentNode.appendChild(n),a&&e.safeClickTouch(n,a),e.touchDevice||this.makeModal(n),n):void 0},e.ChartEngine.prototype.zoomOut=function(t,e){var i,a,r,n;if(!this.runPrepend(\"zoomOut\",arguments))for(var s in this.preferences.zoomOutSpeed?e=this.preferences.zoomOutSpeed:e||(O.P1f(6),e=O.E1f(.7,1)),t&&t.preventDefault&&t.preventDefault(),this.cancelTouchSingleClick=!0,i=this,this.charts)r=(a=this.charts[s]).width*e/this.layout.candleWidth,!1===a.allowScrollFuture&&!1===a.allowScrollPast&&r>a.dataSet.length&&(r=a.dataSet.length),n=this.chart.width/r,this.layout.setSpan=null,this.layout.range=null,this.animations.zoom.run(o(a),this.layout.candleWidth,n);function o(t){return O.W1B(),function(e){var a,r;if(i.zoomSet(e,t),i.animations.zoom.hasCompleted){if(a=\"l\",a+=\"ayo\",a+=\"u\",a+=\"t\",r=\"z\",r+=\"oom\",r+=\"Ou\",r+=\"t\",i.runAppend(r,arguments))return;i.changeOccurred(a),i.continuousZoom&&i.continuousZoom.execute(!0)}}}},e.ChartEngine.prototype.zoomIn=function(t,e){var i,a,r,n;function s(t){return function(e){if(i.zoomSet(e,t),O.g1B(),i.animations.zoom.hasCompleted){if(i.runAppend(\"zoomIn\",arguments))return;i.changeOccurred(\"layout\"),i.continuousZoom&&i.continuousZoom.execute()}}}if(!this.runPrepend(\"zoomIn\",arguments))for(var o in this.preferences.zoomInSpeed?e=this.preferences.zoomInSpeed:e||(e=.7),t&&t.preventDefault&&t.preventDefault(),this.cancelTouchSingleClick=!0,i=this,this.charts)r=(a=this.charts[o]).width*e/this.layout.candleWidth,a.maxTicks-r<1&&(r=a.maxTicks-1),r<this.minimumZoomTicks&&(r=this.minimumZoomTicks),n=this.chart.width/r,this.layout.setSpan=null,this.layout.range=null,this.animations.zoom.run(s(a),this.layout.candleWidth,n)},e.ChartEngine.prototype.createCrosshairs=function(){var t,e;this.runPrepend(\"createCrosshairs\",arguments)||!this.manageTouchAndMouse||this.mainSeriesRenderer&&this.mainSeriesRenderer.nonInteractive||(t=this.controls.crossX,e=this.controls.crossY,t&&(t.onmousedown||(t.onmousedown=function(t){return t.preventDefault&&t.preventDefault(),!1})),e&&(e.onmousedown||(e.onmousedown=function(t){return O.g1B(),t.preventDefault&&t.preventDefault(),!1})),this.runAppend(\"createCrosshairs\",arguments))},i=!1,e.ChartEngine.prototype.mousemoveinner=e.ChartEngine.prototype.mousemoveinner||function(t,e){var a;i||console.error(\"interaction feature requires activating movement feature.\"),O.g1B(),a=2;for(var r=1;464945996!==O.C1u(r.toString(),r.toString().length,69789);r++)i=!0,a+=2;2087515316!==O.C1u(a.toString(),a.toString().length,45086)&&(i=!1)}},d=t=>{var e;(e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ).ChartEngine.prototype.makeMarkerHelper=function(){this.markerHelper={chartMap:{},classMap:{},domMarkers:[],highlighted:[]}},e.ChartEngine.prototype.addToHolder=function(t){var e,i,a,r;(e=this.panels[t.params.panelName])&&(this.markerHelper||this.makeMarkerHelper(),i=t.params,a=t.node,(r=t.stxNodeCreator)&&r.prepareForHolder&&(a=r.prepareForHolder(t)),i.chartContainer?this.container.appendChild(t.node):i.includeAxis?e.holder.appendChild(t.node):e.subholder.appendChild(a),t.chart=e.chart,r&&r.addToHolder&&r.addToHolder(t))},O.W1B(),e.ChartEngine.prototype.getMarkerArray=function(t,e){var i,a;for(var r in i=[],this.markers)for(var n=0;n<this.markers[r].length;n++)\"a\",\"ll\",\"lab\",\"e\",\"l\",a=this.markers[r][n],\"panelName\"==t?a.params.panelName==e&&i.push(a):\"label\"==t?r==e&&i.push(a):\"all\"==t&&i.push(a);return i},e.ChartEngine.prototype.removeFromHolder=function(t){var e,i,a,r,n,s,o;(e=this.panels[t.params.panelName])&&(t.node.parentNode==e.holder?e.holder.removeChild(t.node):t.node.parentNode==e.subholder?e.subholder.removeChild(t.node):t.node.parentNode==this.container&&this.container.removeChild(t.node)),i=2;for(var l=1;-223688905!==O.C1u(l.toString(),l.toString().length,7119);l++){if(+(a=this.markers[t.params.label]))return;i+=2}if(384627994===O.C1u(i.toString(),i.toString().length,33104)||(a=this.markers[t.params.label])){for(r=0;r<a.length;r++)if(a[r]===t){a.splice(r,1);break}if(n=this.markerHelper.chartMap[t.chart.name])for(r=0;r<n.markers.length;r++)if(n.markers[r]===t){n.markers.splice(r,1);break}if((s=this.markerHelper.classMap[t.className])&&(o=s[t.params.panelName]))for(r=0;r<o.length;r++)if(o[r]===t){o.splice(r,1);break}}},e.ChartEngine.prototype.moveMarkers=function(t,e){var i,a;O.W1B(),i=this.getMarkerArray(\"panelName\",t);for(var r=0;r<i.length;r++)i[r].params.panelName=e;for(var n in this.markerHelper.classMap)(a=this.markerHelper.classMap[n][t])&&(this.markerHelper.classMap[n][e]=a,delete this.markerHelper.classMap[n][t])},e.ChartEngine.prototype.establishMarkerTicks=function(){var t,e;for(var i in this.markerHelper||this.makeMarkerHelper(),t=this.markerHelper.chartMap)if((e=t[i]).dataSetLength!=this.charts[i].dataSet.length)for(var a=0;a<e.markers.length;a++)this.setMarkerTick(e.markers[a])},e.ChartEngine.prototype.futureTickIfDisplayed=function(t){var e,i,a,r,n,s,o,l,h;if(!((e=t.chart).dataSet.length<1||(i=e.xaxis[e.xaxis.length-1].DT,O.W1B(),i=new Date(i.getTime()-6e4*this.timeZoneOffset),t.params.x>i))){a=e.maxTicks-e.dataSegment.length,r=e.dataSet.length+a,o=new Date(+e.dataSet[e.dataSet.length-1].DT),l=this.standardMarketIterator(o,null,e),h=t.params.x.getTime();for(var c=e.dataSet.length;c<r;c++){if(n=o.getTime(),(s=(o=l.next()).getTime())==h)return void(t.tick=c);if(s>h&&n<h)return O.U1f(5),void(t.tick=Math.max(O.E1f(1,c),0))}}},e.ChartEngine.prototype.setMarkerTick=function(t){var e,i,a,r,n,s=O;if(e=t.chart,\"master\"==t.params.xPositioner&&t.params.x)t.tick=Math.floor(t.params.x/this.layout.periodicity);else if(\"date\"==t.params.xPositioner&&t.params.x){r=t.params.x.getTime();for(var o=0;o<e.dataSet.length;o++){if(i=a=e.dataSet[o].DT.getTime(),o>0&&(i=e.dataSet[o-1].DT.getTime()),a==r)return void(t.tick=o);if(a>r&&i<r)return s.P1f(5),void(t.tick=Math.max(s.E1f(1,o),0));if(r<a)return void(t.tick=null)}if(e.dataSet.length<1)return;new Date(+e.dataSet[o-1].DT).getTime()<r&&(t.params.future=!0),-566807233,853771217,n=2;for(var l=1;-566807233!==s.C1u(l.toString(),l.toString().length,14927);l++)t.tick=null,n+=2;853771217!==s.p1u(n.toString(),n.toString().length,5674)&&(t.tick=1)}},e.ChartEngine.prototype.positionMarkers=function(){var t,e,i,a,r,n,s;function o(){var e,i,a,r;if(O.W1B(),!t.runPrepend(\"positionMarkers\",arguments)){for(var n in t.markerTimeout=null,t.markerHelper.classMap)for(var s in t.markerHelper.classMap[n])e=t.markerHelper.classMap[n][s],i=t.panels[s],e.length&&((a={stx:t,arr:e,panel:i}).firstTick=i.chart.dataSet.length-i.chart.scroll,a.lastTick=a.firstTick+i.chart.dataSegment.length,(r=e[0].constructor.placementFunction)?r(a):t.defaultMarkerPlacement(a));t.runAppend(\"positionMarkers\",arguments)}}if(t=this,e=this.chart,t.markerHelper){this.markerDelay||0===this.markerDelay?this.markerTimeout||(this.markerTimeout=setTimeout(o,this.markerDelay)):o(),i=this.getMarkerArray(\"all\");for(var l=0;l<i.length;l++)\"t\",\"i\",\"c\",\"k\",r=(a=i[l]).stxNodeCreator,n=this.getFirstLastDataRecord(e.dataSegment,\"tick\"),s=this.getFirstLastDataRecord(e.dataSegment,\"tick\",!0),n&&s&&(n.tick<=a.tick&&a.tick<=s.tick?r&&r.drawMarker&&r.drawMarker(a):a.attached&&r.expand&&(\"hid\",\"d\",\"en\",r.expand.style.visibility=\"hidden\"))}},e.Marker=e.Marker||function(t){var i,a,r,n,s;if(\"ge\",\"neric\",\"v\",\"alu\",\"e\",this.params={xPositioner:\"date\",yPositioner:\"value\",panelName:\"chart\",permanent:!1,label:\"generic\",includeAxis:!1},e.extend(this.params,t),this.params.node||(this.params.node=document.createElement(\"DIV\")),i=this.params.stx){if(this.className||(this.className=\"CIQ.Marker\"),e.derivedFrom(this.params.node,e.Marker.NodeCreator))this.stxNodeCreator=this.params.node,this.node=this.stxNodeCreator.node;else{-877900451,-440218576,a=2;for(var o=1;-877900451!==O.p1u(o.toString(),o.toString().length,82230);o++)this.node=this.params.node,a+=2;-440218576!==O.p1u(a.toString(),a.toString().length,57487)&&(this.node=this.params.node)}i.markerHelper||i.makeMarkerHelper(),r=this.params.label,i.markers[r]||(i.markers[r]=[]),i.markers[r].push(this),n=i.panels[this.params.panelName],this.chart=n.chart,i.markerHelper.chartMap[this.chart.name]||(i.markerHelper.chartMap[this.chart.name]={dataSetLength:0,markers:[]}),i.markerHelper.chartMap[this.chart.name].markers.push(this),(s=i.markerHelper.classMap[this.className])||(s=i.markerHelper.classMap[this.className]={}),s[this.params.panelName]||(s[this.params.panelName]=[]),s[this.params.panelName].push(this),this.stxNodeCreator&&this.stxNodeCreator.deferAttach||i.addToHolder(this),i.setMarkerTick(this),this.stxNodeCreator&&this.stxNodeCreator.drawMarker&&this.stxNodeCreator.drawMarker(this)}else console.log(\"Marker created without specifying stx\")},e.Marker.prototype.remove=function(){this.params.stx.removeFromHolder(this)},e.Marker.prototype.click=function(t){var e;O.g1B(),\"number\"==typeof arguments[0]&&(t={cx:arguments[0],cy:arguments[1],panel:arguments[3]});var{cx:i,cy:a,panel:r}=t;this.params.stx&&(e=this.params.node).click&&e.click(i,a,this,r)},e.Marker.prototype.doubleClick=function({cx:t,cy:e,panel:i}){return!1},e.Marker.prototype.render=function(){var t,e;t=[this],e={stx:this.params.stx,arr:t,panel:this.params.stx.panels[this.params.panelName],showClass:this.showClass},this.constructor.placementFunction(e)},e.Marker.removeByLabel=function(t,e){var i,a;i=t.getMarkerArray(\"label\",e);for(var r=0;r<i.length;r++)a=i[r],t.removeFromHolder(a),a.stxNodeCreator&&a.stxNodeCreator.remove&&a.stxNodeCreator.remove(a);t.draw()},e.Marker.positionContentVerticalAndHorizontal=function(t){var e,i,a,r,n,s,o,l,h,c,u,d;if(\".stx-marke\",O.g1B(),\"r-e\",\"xpand\",e=t.querySelectorAll(\".stx-marker-expand\")[0]){if(i=e.offsetWidth,a=e.offsetHeight,!i||!a)return;(r=e.style).left=r.right=\"\",r.bottom=r.top=\"\",s=(n=getComputedStyle(e)).left,o=n.bottom,l=t.offsetLeft+parseInt(s,10),h=parseInt(o,10),c=t.offsetTop-(h+e.offsetHeight-t.offsetHeight),u=t.parentNode.offsetWidth,d=t.parentNode.offsetHeight,l+i>u&&(r.right=s,r.left=\"auto\"),t.offsetTop<=d?c>d-a&&(r.top=d-t.offsetTop-a+\"px\",r.bottom=\"auto\"):(O.U1f(0),r.top=O.X1f(d,\"px\")),t.offsetTop+t.offsetHeight>=0?c<0&&(\"a\",\"u\",\"t\",\"o\",r.top=-t.offsetTop+\"px\",r.bottom=\"auto\"):r.bottom=\"0px\"}},e.ChartEngine.prototype.getBarBounds=function(t){var e,i,a,r;return this.layout.chartType,e=\"pandf\"==this.layout.aggregationType?{high:Math.max(t.pfOpen,t.pfClose),low:Math.min(t.pfOpen,t.pfClose)}:{high:t.High,low:t.Low},t.markerHigh&&(e.high=t.markerHigh),t.markerLow&&(e.low=t.markerLow),void 0===t.Open&&(i=t.Close),void 0===t.High&&(a=Math.max(t.Open||i,t.Close)),void 0===t.Low&&(r=Math.min(t.Open||i,t.Close)),e.high||0===e.high||(e.high=a),e.low||0===e.low||(e.low=r),e},e.ChartEngine.prototype.defaultMarkerPlacement=function(t){var i,a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M;i=t.panel,a=t.yAxis?t.yAxis:t.panel.yAxis,r=i.chart,n=t.stx,O.W1B(),s=n.chart.highLowBars,(o=r.defaultPlotField)&&!s||(o=\"Close\"),l={};for(var A=0;A<t.arr.length;A++)if(\"can\",\"d\",\"le\",c=(h=t.arr[A]).params,!h.params.box){if(u=h.node,h.clientWidth||(h.clientWidth=u.clientWidth),h.clientHeight||(h.clientHeight=u.clientHeight),d=null,p=c.xPositioner,g=c.yPositioner,m=h.tick,f=r.dataSet,y=h.clientWidth,\"none\"!=p){if(\"bar\"==p&&c.x)c.x<r.xaxis.length&&(v=r.xaxis[c.x])&&(d=v.data),u.style.left=Math.round(n.pixelFromBar(c.x,r)-y/2)+1+\"px\";else{if(\"p\",\"x\",!m&&0!==m){if(!(c.future&&r.scroll<r.maxTicks)){u.style.left=\"-1000px\";continue}if(n.futureTickIfDisplayed(h),!(m=h.tick)&&0!==m){u.style.left=\"-1000px\";continue}}if(m<f.length&&(d=f[m]),h.leftpx=Math.round(n.pixelFromTick(m,r)-r.left-y/2),h.rightEdge=h.leftpx+y,u.style.left=h.leftpx+\"px\",m<t.firstTick&&h.rightEdge<r.left-50)continue}d||(d=f[f.length-1])}else g.indexOf(\"candle\")>-1&&(x=getComputedStyle(u).left)&&(C=n.barFromPixel(parseInt(x,10),r))>=0&&((d=r.xaxis[C].data)||(d=f[f.length-1]));u.style.top=\"auto\",b=c.y,S=u.clientHeight,\"none\"!=g&&(\"t\",\"o\",\"p\",k=g+\"-\"+u.style.left,D=c.chartContainer?n.height:i.yAxis.bottom,T=0,0,void 0===l[k]&&(l[k]=0),M=l[k],l[k]+=S,\"value\"!=g||!b&&0!==b?\"below_candle\"!=g&&\"under_candle\"!=g||!d?\"on_candle\"==g&&d?(\"p\",\"x\",w=d[o],s&&(w=(d.Low+d.High)/2),T=Math.round(D-n.pixelFromPrice(w,i,a)-S/2-M)+\"px\"):\"top\"==g?T=Math.round(D-S-M-i.top)+\"px\":\"bottom\"==g?(\"p\",\"x\",T=Math.round(M)+\"px\"):d&&(\"h\",\"i\",\"g\",\"h\",w=d[o],s&&(w=n.getBarBounds(d)[a.flipped?\"low\":\"high\"]),T=Math.round(D-n.pixelFromPrice(w,i,a)+M)+\"px\"):(w=d[o],s&&(w=n.getBarBounds(d)[a.flipped?\"high\":\"low\"]),T=Math.round(D-n.pixelFromPrice(w,i,a)-S-M)+\"px\"):T=Math.round(D-n.pixelFromPrice(b,i,a)-S/2)+\"px\",u.style.bottom!=T&&(u.style.bottom=T)),e.Marker.positionContentVerticalAndHorizontal(u)}},e.Marker.NodeCreator=function(){},e.Marker.NodeCreator.toNode=function(){return O.W1B(),this.node},e.Marker.Simple=function(t){var i,a,r,n;function s(){e.Marker.positionContentVerticalAndHorizontal(i)}(i=this.node=document.createElement(\"div\")).className=\"stx-marker\",i.classList.add(t.type),t.category&&i.classList.add(t.category),a=e.newChild(i,\"div\",\"stx-visual\"),e.newChild(i,\"div\",\"stx-stem\"),\"callout\"==t.type?(\"h\",\"4\",\"st\",\"x\",\"-marker-\",\"content\",n=e.newChild(a,\"div\",\"stx-marker-content\"),e.newChild(n,\"h4\",null,t.headline),r=e.newChild(n,\"div\",\"stx-marker-expand\"),e.newChild(r,\"p\",null,t.story)):(\"stx\",\"-mark\",\"er-expand\",r=e.newChild(i,\"div\",\"stx-marker-expand\"),e.newChild(r,\"h4\",null,t.headline),e.newChild(r,\"p\",null,t.story),e.safeClickTouch(r,(function(t){O.W1B(),i.classList.toggle(\"highlight\")}))),e.safeClickTouch(a,(function(t){O.g1B(),i.classList.toggle(\"highlight\"),setTimeout(s,10)})),this.nodeType=\"Simple\"},e.inheritsFrom(e.Marker.Simple,e.Marker.NodeCreator,!1)},p=t=>{var e,i,a,r,n,s,o,l=O;e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ,i=\"undefined\"!=typeof _timezoneJS?_timezoneJS:t.timezoneJS,l.U1f(2),a=l.X1f(6e4,60),l.P1f(2),r=l.X1f(a,24),n=e.Market,e.Market=function(t){this.market_def=!1,this.rules=!1,this.normalHours=[],this.extraHours=[],this.class_name=\"Market\",i.Date?this.tz_lib=i.Date:this.tz_lib=Date,this.market_tz=\"\",this.hour_aligned=!1,this.convertOnDaily=!1,this.enabled_by_default=!1,void 0!==t&&t&&!e.isEmpty(t)&&(t.market_definition&&(t=t.market_definition),t.rules&&(this.rules=t.rules),t.market_tz&&(this.market_tz=t.market_tz),t.convertOnDaily&&(this.convertOnDaily=t.convertOnDaily),t.hour_aligned,this.hour_aligned=t.hour_aligned,void 0!==t.enabled_by_default&&t.enabled_by_default instanceof Array&&(this.enabled_by_default=t.enabled_by_default),this.market_def=t,void 0===this.market_def.name&&(this.market_def.name=\"no market name specified\"),e.Market._createTimeSegments(this),this.getSessionNames())},e.Market.Symbology=function(){},e.Market.Symbology.isForeignSymbol=function(t){return l.W1B(),!1},e.Market.Symbology.isFuturesSymbol=function(t){return l.W1B(),!1},e.Market.Symbology.isRateSymbol=function(t){return l.W1B(),!1},e.Market.Symbology.isForexSymbol=function(t){return!1},e.Market.Symbology.isForexMetal=function(t,e){return l.g1B(),!1},e.Market.Symbology.isForexFuturesSymbol=function(t){return l.W1B(),!!e.Market.Symbology.isForexSymbol(t)||!!e.Market.Symbology.isFuturesSymbol(t)},e.Market.Symbology.factory=function(t){return l.W1B(),null},e.Market.Symbology.encodeTermStructureInstrumentSymbol=function(t,e){console.warn(\"You are trying to call `CIQ.Market.Symbology.encodeTermStructureInstrumentSymbol` but have not implemented it.\")},n&&e.extend(e.Market,n),e.Market.prototype.sessions=null,e.Market.prototype.getSessionNames=function(){var t,e;return l.g1B(),this.rules?this.sessions||(t=[],e=[],this.rules.map((function(i){i.name&&-1===t.indexOf(i.name)&&(t.push(i.name),e.push({name:i.name,enabled:!!i.enabled&&i.enabled}))})),this.sessions=e):this.sessions=[],this.sessions.slice()},e.Market.prototype._find_next_segment=function(t,e){var i,a,r,n;return this.market_def&&this.rules?(i=new Date(+t),a=this.newIterator({begin:i,interval:1,inZone:this.market_tz,outZone:this.market_tz}),this._wasOpenIntraDay(i)&&(r=this.zseg_match.close_parts.hours,n=this.zseg_match.close_parts.minutes,i.setHours(r),i.setMinutes(n),a=this.newIterator({begin:i,interval:1,inZone:this.market_tz,outZone:this.market_tz})),l.g1B(),a.next()):null},e.Market.prototype._find_prev_segment=function(t,e){var i,a,r,n,s;return this.market_def&&this.rules?(i=new Date(+t),a=this.newIterator({begin:i,interval:1,inZone:this.market_tz,outZone:this.market_tz}),null===(r=this._wasOpenIntraDay(i))?(l.P1f(5),i=new Date(l.E1f(6e4,i)),r=this._wasOpenIntraDay(i)):(e&&i.getHours()===this.zseg_match.open_parts.hours&&i.getMinutes()===this.zseg_match.open_parts.minutes||!e&&i.getHours()===this.zseg_match.close_parts.hours&&i.getMinutes()===this.zseg_match.close_parts.minutes)&&(i=a.previous()),r?(n=this.zseg_match.open_parts.hours,s=this.zseg_match.open_parts.minutes,i.setHours(n),i.setMinutes(s),i=(a=this.newIterator({begin:i,interval:1,inZone:this.market_tz,outZone:this.market_tz})).previous(),this.zseg_match.close_parts.hours===n&&this.zseg_match.close_parts.minutes===s?e?a.next():i:this.zseg_match.adjacent_child?i:e?a.next():i):a.previous()):null},e.Market.prototype.disableSession=function(t,e){var i;if(l.W1B(),i=!1,void 0!==e&&e&&(i=!0),t){for(var a=0;a<this.normalHours.length;a++)this.normalHours[a].name===t&&(this.normalHours[a].enabled=i);for(a=0;a<this.extraHours.length;a++)this.extraHours[a].name===t&&(this.extraHours[a].enabled=i)}},e.Market.prototype.enableSession=function(t){l.W1B(),this.disableSession(t,\"enable_instead\")},e.Market.prototype.enableAllAvailableSessions=function(){var t;l.g1B(),t=this.getSessionNames();for(var e=0;e<t.length;e++)this.enableSession(t[e].name)},e.Market.prototype.getClose=function(t,e,i,a){var r,n;if(!this.market_def)return null;if(!this.rules)return null;if(r=t,t||(r=new Date,i=null),r=this._convertToMarketTZ(r,i),void 0!==e){if(this._wasOpenIntraDay(r)&&this.zseg_match.name===e)return r.setHours(this.zseg_match.close_parts.hours,this.zseg_match.close_parts.minutes,0,0),r=this._convertFromMarketTZ(r,a)}else if(this._wasOpenDaily(r)){for(n=this.zseg_match;n.child_;)n=n.child_;for(;!n.enabled;)n=n.parent_;return r.setHours(n.close_parts.hours,n.close_parts.minutes,0,0),r=this._convertFromMarketTZ(r,a)}return null},e.Market.prototype.getNextClose=function(t,e,i){var a,r,n;if(!this.market_def)return null;if(l.W1B(),!this.rules)return null;for(a=t,t||(a=new Date,e=null),a=this._convertToMarketTZ(a,e),this._wasOpenIntraDay(a)||(a=this.newIterator({begin:a,interval:1,inZone:this.market_tz,outZone:this.market_tz}).next()),r=a.getDate(),n=this.zseg_match;n.adjacent_child;)n=n.adjacent_child,r+=1;return a.setDate(r),a.setHours(n.close_parts.hours,n.close_parts.minutes,0,0),a=this._convertFromMarketTZ(a,i)},e.Market.prototype.getNextOpen=function(t,e,i){var a;return this.market_def&&this.rules?(a=t,t||(a=new Date,e=null),a=this._convertToMarketTZ(a,e),a=this._find_next_segment(a),this.zseg_match.adjacent_parent?(a=this.getNextOpen(a,this.market_tz,this.market_tz),a=this._convertFromMarketTZ(a,i)):(a.setHours(this.zseg_match.open_parts.hours),a.setMinutes(this.zseg_match.open_parts.minutes),a=this._convertFromMarketTZ(a,i))):null},e.Market.prototype.getOpen=function(t,e,i,a){var r,n;if(\"un\",l.W1B(),\"defin\",\"ed\",!this.market_def)return null;if(!this.rules)return null;if(r=t,t||(r=new Date,i=null),r=this._convertToMarketTZ(r,i),void 0!==e){if(this._wasOpenIntraDay(r)&&this.zseg_match.name==e)return r.setHours(this.zseg_match.open_parts.hours,this.zseg_match.open_parts.minutes,0,0),r=this._convertFromMarketTZ(r,a)}else if(this._wasOpenDaily(r)){for(n=this.zseg_match;n.parent_;)n=n.parent_;for(;!n.enabled;)n=n.child_;return r.setHours(n.open_parts.hours,n.open_parts.minutes,0,0),r=this._convertFromMarketTZ(r,a)}return null},e.Market.prototype.getNormalOpen=function(){var{market_def:t,rules:e}=this;return t&&e?(l.W1B(),t.normal_daily_open?t.normal_daily_open:\"FOREX\"===t.name?\"17:00\":e.find(({name:t})=>!t||\"\"===t).open):\"00:00\"},e.Market.prototype.getNormalClose=function(){var{market_def:t,rules:e}=this;return t&&e?t.normal_daily_close?t.normal_daily_close:\"FOREX\"===t.name?\"17:00\":e.filter(({dayofweek:t,name:e})=>t&&(!e||\"\"===e)).pop().close:\"24:00\"},e.Market.prototype.getPreviousClose=function(t,e,i){var a;return this.market_def&&this.rules?(a=t,t||(a=new Date,e=null),a=this._convertToMarketTZ(a,e),a=this._find_prev_segment(a,!1),this.zseg_match.adjacent_child?this.getPreviousClose(a,this.market_tz,this.market_tz):(a.setHours(this.zseg_match.close_parts.hours),a.setMinutes(this.zseg_match.close_parts.minutes),a=this._convertFromMarketTZ(a,i))):null},e.Market.prototype.getPreviousOpen=function(t,e,i){var a;return this.market_def&&this.rules?(a=t,t||(a=new Date,e=null),a=this._convertToMarketTZ(a,e),a=this._find_prev_segment(a,!0),l.g1B(),this.zseg_match.adjacent_parent?this.getPreviousOpen(a,this.market_tz,this.market_tz):(a.setHours(this.zseg_match.open_parts.hours),a.setMinutes(this.zseg_match.open_parts.minutes),a=this._convertFromMarketTZ(a,i))):null},e.Market.prototype.getSession=function(t,e){var i;l.W1B(),i=2;for(var a=1;1229793789!==l.C1u(a.toString(),a.toString().length,79527);a++)t=this._convertToMarketTZ(t,e),i+=2;return-579509800!==l.C1u(i.toString(),i.toString().length,95262)&&(t=this._convertToMarketTZ(t,e)),t=this._convertToMarketTZ(t,e),this._wasOpenIntraDay(t)&&this.zseg_match?this.zseg_match.name:null},e.Market.prototype.marketZoneNow=function(){return this._convertToMarketTZ(new Date)},e.Market.prototype.isHourAligned=function(){return l.g1B(),this.hour_aligned},e.Market.prototype.isOpen=function(){var t;return t=new Date,l.g1B(),this.market_tz&&(t=new this.tz_lib(t.getTime(),this.market_tz)),this._wasOpenIntraDay(t)},e.Market.prototype.isMarketDay=function(){var t;return t=new Date,this.market_tz&&(t=new this.tz_lib(t.getTime(),this.market_tz)),l.W1B(),this._wasOpenDaily(t)},e.Market.prototype.isMarketDate=function(t){return l.W1B(),this._wasOpenDaily(t)},e.Market.prototype.newIterator=function(t){var i,a;return\"h\",\"ou\",\"r\",i=!1,t.periodicity?i=t.periodicity:t.multiple&&(i=t.multiple),(a=t.interval)||(\"mi\",\"nute\",a=\"minute\"),\"hour\"==a&&(a=60),i||(i=1),t.begin||(t.begin=new Date,t.inZone=null),a==parseInt(a,10)&&(a=parseInt(a,10),t.periodicity<1/60?(l.P1f(49),i=l.E1f(i,6e4,a),a=\"millisecond\"):t.periodicity<1?(l.P1f(49),i=l.E1f(i,60,a),a=\"second\"):(l.U1f(2),i=l.X1f(i,a),a=\"minute\")),t.timeUnit&&(\"millisecond\"===t.timeUnit||\"second\"===t.timeUnit?a=t.timeUnit:\"tick\"===t.timeUnit&&(a=\"second\")),\"tick\"==a&&(a=\"second\"),t.interval=a,l.W1B(),t.multiple=i,t.market=this,new e.Market.Iterator(t)},e.Market.prototype._wasOpenDaily=function(t){return this._was_open(t,!1)},e.Market.prototype._wasOpenIntraDay=function(t){return this._was_open(t,!0)},e.Market.prototype._was_open=function(t,e){var i,a,r,n,s,o,h,c,u,d,p,g,m;if(i=this.zseg_match,this.zopen_hour=0,l.P1f(19),this.zopen_minute=l.X1f(\"0\",1945910144),this.zclose_hour=0,this.zclose_minute=0,this.zmatch_open=!1,this.zseg_match=null,!this.market_def||!this.rules)return this.zclose_hour=24,!0;for(a=!1,r=!1,n=t.getFullYear(),s=t.getMonth()+1,o=t.getDay(),h=t.getDate(),c=t.getHours(),u=t.getMinutes(),d=t.getSeconds(),l.U1f(50),g=l.E1f(60,60,u,c,d,60),void 0===e&&(e=!0),m=0;m<this.normalHours.length;m++)if((p=this.normalHours[m]).enabled&&((a=p.dayofweek===o)&&e&&(a=g>=p.open&&g<p.close),a)){if(!e&&this.zseg_match&&(p.open_parts.hours>this.zopen_hour||p.open_parts.hours==this.zopen_hour&&p.open_parts.minutes>this.zopen_minute))continue;if(p===i||p.adjacent_parent||p.adjacent_child||(this.shouldResetToBeginningOfSegment=!0),this.zopen_hour=p.open_parts.hours,this.zopen_minute=p.open_parts.minutes,this.zclose_hour=p.close_parts.hours,this.zclose_minute=p.close_parts.minutes,this.zmatch_open=g===p.open,this.zseg_match=p,e)break}for(m=0;m<this.extraHours.length;m++)if((p=this.extraHours[m]).enabled&&(\"*\"===p.year||n===p.year)&&s===p.month&&h===p.day&&(!(r=!e&&p.open||g>=p.open&&g<p.close)&&this.zseg_match&&(a=!1,this.zopen_hour=0,this.zopen_minute=0,this.zclose_hour=0,this.zclose_minute=0,this.zmatch_open=!1,this.zseg_match=null),r)){if(!e&&this.zseg_match&&(p.open_parts.hours>this.zopen_hour||p.open_parts.hours==this.zopen_hour&&p.open_parts.minutes>this.zopen_minute))continue;if(this.zopen_hour=p.open_parts.hours,this.zopen_minute=p.open_parts.minutes,this.zclose_hour=p.close_parts.hours,this.zclose_minute=p.close_parts.minutes,this.zmatch_open=g===p.open,this.zseg_match=p,e)break}return this.zseg_match},e.Market.prototype._wasClosed=function(t){return!this._was_open(t,!0)},e.Market.prototype._wasOpen=function(t){return this._was_open(t,!0)},e.Market.prototype._tzDifferenceMillis=function(t,e,i){var a,r;return l.U1f(5),l.X1f(0,\"0\"),a=t,r=t.getTimezoneOffset()-a.getTimezoneOffset(),l.P1f(49),l.g1B(),l.X1f(r,1e3,60)},e.Market._createTimeSegments=function(t){var e,i,a,r,n;e=function(t,e){if(l.g1B(),24===t.close_parts.hours&&0===e.open_parts.hours&&0===e.open_parts.minutes){if(i.dayofweek===r.dayofweek-1)return!0;if(6===i.dayofweek&&0===r.dayofweek)return!0}return!1},l.W1B();for(var o=0;o<t.rules.length;o++){\"nam\",\"e\",void 0===(a=JSON.parse(JSON.stringify(t.rules[o]))).open&&void 0===a.close&&(\"00:\",\"0\",\"0\",a.open=\"00:00\",a.close=\"00:00\"),a.hasOwnProperty(\"name\")||(a.name=\"\");try{if(\"undef\",\"ined\",void 0!==a.dayofweek?(a.year=\"*\",r=s._createDayOfWeekSegment(t,a),i&&(i.dayofweek===r.dayofweek?(i.child_=r,r.parent_=i):e(i,r)&&(i.adjacent_child=r,r.adjacent_parent=i)),i=r):void 0!==a.date?(a.isDayOfWeek=!1,a.dayofweek=-1,r=s._createDateTimeSegment(t,a)):(l.P1f(0),console.log(l.E1f(\"Error, unknown rule type \",a))),t.enabled_by_default)for(var h=0;h<t.enabled_by_default.length;h++)if(n=t.enabled_by_default[h],r.name===n){r.enabled=!0;break}}catch(t){l.U1f(0),console.log(l.X1f(\"Error, creating market rules \",t))}}},e.Market._timeSegment={},(s=e.Market._timeSegment).re_wild_card_iso=/^(\\*)-(\\d\\d)-(\\d\\d)$/,s.re_regular_iso=/^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$/,s.re_split_hours_minutes=/^(\\d\\d):(\\d\\d)$/,s.re_split_hour_minutes=/^(\\d):(\\d\\d)$/,s._hashCode=function(t){var e,i,a,r;if(e=0,0===t.length)return e;for(i=0,r=t.length;i<r;i++)a=t.charCodeAt(i),l.U1f(51),e=l.E1f(e,e,a,\"5\",804548128),e|=0;return e},s._splitHoursMinutes=function(t){var e,i;return i={hours:NaN,minutes:NaN},null===(e=s.re_split_hour_minutes.exec(t))&&null===(e=s.re_split_hours_minutes.exec(t))||(i.hours=parseInt(e[1],10),i.minutes=parseInt(e[2],10)),i},s._createDayOfWeekSegment=function(t,e){var i;return\"\"===(i={name:e.name,isDayOfWeek:!0,dayofweek:e.dayofweek,date_str:\"*\",open_parts:s._splitHoursMinutes(e.open),close_parts:s._splitHoursMinutes(e.close),open:s._secSinceMidnight(t,e.open,!0),close:s._secSinceMidnight(t,e.close,!1),child_:!1,parent_:!1,adjacent_child:!1,adjacent_parent:!1,enabled:!1}).name&&(i.enabled=!0),i.hash_code=this._hashCode((i.open+i.close).toString()),l.g1B(),t.normalHours.push(i),i},s._createDateTimeSegment=function(t,e){var i,a,r;if(null===(i=this.re_regular_iso.exec(e.date))){if(null===(i=this.re_wild_card_iso.exec(e.date)))return void console.log(\"Warning: invalid date format on rule -> \"+e.date);a=\"*\"}else a=parseInt(i[1],10);return\"\"===(r={name:e.name,isDayOfWeek:!1,dayofweek:-1,year:a,month:parseInt(i[2],10),day:parseInt(i[3],10),date_str:e.date,open_parts:s._splitHoursMinutes(e.open),close_parts:s._splitHoursMinutes(e.close),open:s._secSinceMidnight(t,e.open,!0),close:s._secSinceMidnight(t,e.close,!1),enabled:!1}).name&&(r.enabled=!0),l.g1B(),r.hash_key=this._hashCode(r.date_str+r.open+r.close),t.extraHours.push(r),r},s._secSinceMidnight=function(t,e,i){var a,r,n,s;return a=e.split(\":\"),r=parseInt(a[0],10),n=parseInt(a[1],10),l.U1f(52),s=l.E1f(60,60,r,60,n),i||24===r&&(l.U1f(53),s=l.E1f(60,60,r,1)),s},e.Market.prototype._convertToMarketTZ=function(t,e){var i;return l.W1B(),(i=e?new this.tz_lib(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds(),e):new this.tz_lib(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())).setTimezone&&i.setTimezone(this.market_tz),new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())},e.Market.prototype._convertFromMarketTZ=function(t,e){var i;return i=new this.tz_lib(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds(),this.market_tz),e?(i.setTimezone&&i.setTimezone(e),new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())):new Date(i.getTime())},e.Market.Iterator=function(t){this.market=t.market,this.begin=t.begin,this.interval=t.interval,this.multiple=t.multiple,this.inZone=t.inZone,this.outZone=t.outZone,this.clock=new e.Market.Iterator._Clock(t.market,t.interval,t.multiple),this.intraDay=this.clock.intra_day,this.intraDay&&(this.begin=this.market._convertToMarketTZ(this.begin,t.inZone)),this.clock._setStart(this.begin),this.clock.minutes_aligned=!1},e.Market.Iterator.prototype.date=function(){return l.g1B(),this.clock._date()},e.Market.Iterator.prototype.futureTick=function(t){var e,i,a,r,n,s,o,h;if(this.clock.skip=1,l.U1f(19),e=l.E1f(\"0\",1644469696),(i=this.intraDay?this.market._convertToMarketTZ(t.end,this.inZone).getTime():t.end.getTime())===(a=this.clock.ctime))return e;if(r=2,l.U1f(18),n=l.E1f(\"1000\",672),s=0,l.g1B(),t.sample_size&&(r=t.sample_size),o=(new Date).getTime(),i>a){for(this.clock.forward=!0;this.clock.ctime<i;)if(l.U1f(2),e+=l.X1f(\"1\",1),s+=1,this.clock._findNext(),s===n&&(s=0,(new Date).getTime()-o>=r)){h=(this.clock.ctime-a)/e,l.P1f(54),e=Math.floor(l.E1f(h,a,i));break}this.clock.ctime>i&&e--}else for(this.clock.forward=!1;this.clock.ctime>i;)if(e+=1,s+=1,this.clock._findPrevious(),s===n&&(s=0,(new Date).getTime()-o>=r)){h=(a-this.clock.ctime)/e,l.P1f(54),e=Math.floor(l.X1f(h,i,a));break}return e},e.Market.Iterator.prototype.isHourAligned=function(){return l.g1B(),!this.intraDay||this.market.isHourAligned()},e.Market.Iterator.prototype.isOpen=function(){return this.market.isOpen()},e.Market.Iterator.prototype.next=function(t){this.clock.skip=1,t&&(this.clock.skip=t),l.g1B(),this.clock.forward=!0;for(var e=0;e<this.clock.skip;e++)this.begin=this.clock._findNext();return this.intraDay||this.market.convertOnDaily?this.market._convertFromMarketTZ(this.clock.display_date,this.outZone):this.clock.display_date},e.Market.Iterator.prototype.peek=function(){return this.clock._peek()},e.Market.Iterator.prototype.previous=function(t){l.W1B(),this.clock.skip=1,t&&(this.clock.skip=t),this.clock.forward=!1;for(var e=0;e<this.clock.skip;e++)this.begin=this.clock._findPrevious();return this.intraDay||this.market.convertOnDaily?this.market._convertFromMarketTZ(this.clock.display_date,this.outZone):this.clock.display_date},e.Market.Iterator._Clock=function(t,e,i){var n,s,o;if(\"d\",\"a\",\"y\",i%60==0&&\"second\"===e&&(e=\"minute\",l.P1f(6),i=l.X1f(60,i)),this.market=t,this.interval=e,l.g1B(),this.multiple=i,this.intra_day=!1,this.intervals=[],this.max_iters=10080,n=r,s=this._dayImpl,\"millisecond\"===e){s=this._millisImpl,-677719110,1790046852,o=2;for(var h=1;-677719110!==l.C1u(h.toString(),h.toString().length,28351);h++)n=1,l.P1f(30),o+=l.X1f(2147483647,\"2\");1790046852!==l.p1u(o.toString(),o.toString().length,54369)&&(n=2)}else\"second\"===e?(s=this._secondImpl,n=1e3):\"minute\"===e?(s=this._minuteImpl,n=6e4):\"hour\"===e?(s=this._hourImpl,n=a):\"day\"===e?(s=this._dayImpl,n=r):\"week\"===e?(s=this._weekImpl,l.U1f(2),n=l.X1f(r,7)):\"month\"===e?(s=this._monthImpl,l.P1f(2),n=l.E1f(r,30)):(l.U1f(15),console.log(l.X1f('\" is not a valid interval. Please see setPeriodicity() for details.',e,'Periodicity ERROR: \"')));l.U1f(2),this.tick_time=l.E1f(n,i),this.intra_day=this.tick_time<r,this._findPrevious=this._findNext=s},(o=e.Market.Iterator._Clock.prototype)._total_minutes=function(t,e,i,a){return l.U1f(55),l.W1B(),l.X1f(a,e,i,60,t)},o._alignMinutes=function(){var t,e,i,a,r;if(!this.market.market_def||void 0===this.market.zopen_minute)return[];for(t=this.market.zopen_minute,(e=this.market.zseg_match)&&e.adjacent_parent?t=e.adjacent_parent.open/60-1440:this.market.isHourAligned()&&this.multiple%60==0&&(t=0),i=this._total_minutes(this.market.zopen_hour,t,this.market.zclose_hour,this.market.zclose_minute),a=[],r=0;r<i;)l.U1f(0),a.push(l.E1f(t,r)),r+=this.multiple;return a},o._alignBaseZero=function(t){var e,i;for(i=[e=0];!((e+=this.multiple)>=t);)i.push(e);return i},o._date=function(){var t,e,i;if(t=Math.round(this.ctime),e=new Date(t),this.intra_day)this.display_date=new Date(t+this.shift_millis);else{-2025580251,305777721,i=2;for(var a=1;-2025580251!==l.p1u(a.toString(),a.toString().length,45632);a++)this.display_date=e,i+=2;305777721!==l.C1u(i.toString(),i.toString().length,55625)&&(this.display_date=e)}return e},o._alignToBoundary=function(t,e){var i,a,r;i=0,a=0,r=e;for(var n=0;n<t.length-1&&(i=t[n],l.U1f(56),a=t[l.X1f(n,1,\"1\")],e!==i&&e!==a);n++){if(e>i&&e<a){r=i;break}n+1===t.length-1&&(r=a)}return r},o._peek=function(){return l.W1B(),this._date().toString()},o._seekHr=function(){var t,e;if(l.W1B(),this.forward){l.P1f(2),t=l.E1f(\"1322540593\",1),119685772,l.P1f(18),e=l.X1f(\"2\",2);for(var i=1;l.C1u(i.toString(),i.toString().length,20461)!==t;i++)this.ctime-=a,e+=2;119685772!==l.p1u(e.toString(),e.toString().length,45943)&&(this.ctime%=a)}else this.ctime+=a},o._setStart=function(t){var e,i;e=this.market._tzDifferenceMillis(t),i=new Date(t.getTime()+e),this.shift_millis=e,l.g1B(),this.ctime=i.getTime(),this.shift_millis=0,this.ctime=t.getTime()},o._tickTock=function(){l.W1B(),this.forward?this.ctime+=this.tick_time:this.ctime-=this.tick_time},o._tockTick=function(){this.forward?this.ctime-=this.tick_time:this.ctime+=this.tick_time},o._tickTock24=function(){this.ctime+=r},o._tockTick24=function(){this.ctime-=r},o._windMaybe=function(t,e){var i,a,r,n;for(l.g1B(),i=0,a=new Date(this.ctime),r=!1;!t.call(this.market,a);)if(e.call(this),r=!0,a=new Date(this.ctime),(i+=1)>this.max_iters){n=\"Warning! max iterations (\"+this.max_iters,n+=\") reached with no rule match.\",console.log(n);break}return r},o._millisImpl=function(){var t,e,i,a,r,n,s,o,h,c;return t=!1,l.W1B(),this.mperiods_aligned||(e=this._alignBaseZero(1e3),a=(i=new Date(this.ctime)).getMilliseconds(),a=this._alignToBoundary(e,a),i.setMilliseconds(0),this.ctime=i.getTime()+a,this.mperiods_aligned=!0,t=!0),r=this._date().getMinutes(),this._tickTock(),n=this._date().getMinutes(),!t&&r==n||this.market._wasOpenIntraDay(this._date())||(s=this._date().getSeconds(),o=this._date().getMilliseconds(),h=this.tick_time,this.tick_time=6e4,c=this.multiple,this.multiple=1,this._minuteImpl(),this.tick_time=h,this.multiple=c,l.U1f(57),this.ctime+=l.X1f(o,\"1000\",867317024,s)),this._date()},o._secondImpl=function(){var t,e,i,a,r,n,s,o,h;return t=!1,this.speriod_aligned||(e=this._alignBaseZero(60),a=(i=new Date(this.ctime)).getSeconds(),a=this._alignToBoundary(e,a),i.setSeconds(a),i.setMilliseconds(0),this.ctime=i.getTime(),this.speriod_aligned=!0,t=!0),r=this._date().getMinutes(),this._tickTock(),n=this._date().getMinutes(),!t&&r==n||this.market._wasOpenIntraDay(this._date())||(s=this._date().getSeconds(),o=this.tick_time,this.tick_time=6e4,h=this.multiple,this.multiple=1,this._minuteImpl(),this.tick_time=o,this.multiple=h,l.U1f(2),this.ctime+=l.E1f(1e3,s)),this._date()},o._minuteImpl=function(){var t,e,i,a,r,n,s,o,h,c,u,d,p;if(t=this._windMaybe(this.market._wasOpenIntraDay,this._tockTick),i=(e=new Date(this.ctime)).getTimezoneOffset(),a=e.getMinutes(),r=e.getHours(),n=this._alignMinutes(),s=this._total_minutes(this.market.zopen_hour,this.market.zopen_minute,r,a)+this.market.zopen_minute,t)if(this.forward)s=n[n.length-1];else{1604810964,-1024998397,o=2;for(var g=1;1604810964!==l.p1u(g.toString(),g.toString().length,74897);g++)s=n[7],o+=2;-1024998397!==l.p1u(o.toString(),o.toString().length,60627)&&(s=n[0])}else s=this._alignToBoundary(n,s);if(r=Math.floor(s/60)+this.market.zopen_hour,l.P1f(33),e.setHours(r,l.E1f(60,s),l.E1f(0,\"0\",l.P1f(14)),0),h=e.getTimezoneOffset()-i,this.forward&&h<0||!this.forward&&h>0){728984871,1814564327,c=2;for(var m=1;728984871!==l.p1u(m.toString(),m.toString().length,80994);m++)e.setTime(e.getTime()/(h/97577)),c+=2;1814564327!==l.C1u(c.toString(),c.toString().length,31896)&&e.setTime(e.getTime()-6e4*h)}if(this.ctime=e.getTime(),this._tickTock(),u=this.market.hour_aligned&&this.multiple%60==0,this._windMaybe(this.market._wasOpenIntraDay,this._tickTock)||!u&&this.shouldResetToBeginningOfSegment){e=new Date(this.ctime),this.forward?(e.setMinutes(this.market.zopen_minute),e.setHours(this.market.zopen_hour)):(d=(n=this._alignMinutes())[n.length-1],l.P1f(58),e.setMinutes(l.E1f(1910359264,\"60\",d)),e.setHours(Math.floor(d/60)+this.market.zopen_hour)),1988821590,1920378039,l.P1f(30),p=l.X1f(2147483647,\"2\");for(var f=1;1988821590!==l.p1u(f.toString(),f.toString().length,73185);f++)this.ctime=e.getTime(),p+=2;1920378039!==l.p1u(p.toString(),p.toString().length,8688)&&(this.ctime=e.getTime()),this.ctime=e.getTime()}return this._date()},o._hourImpl=function(){var t,e,i,a,r,n;if(this._windMaybe(this.market._wasOpenIntraDay,this._tockTick),t=new Date(this.ctime),this.market.isHourAligned()){-2058734715,501913981,e=2;for(var s=1;-2058734715!==l.C1u(s.toString(),s.toString().length,59929);s++)t.setMinutes(6),e+=2;501913981!==l.C1u(e.toString(),e.toString().length,62126)&&(l.P1f(5),t.setMinutes(l.X1f(0,\"0\")))}else t.setMinutes(this.market.zopen_minute);return t.setSeconds(0),t.setMilliseconds(0),this.ctime=t.getTime(),this._tickTock(),i=this.market.zseg_match,(this._windMaybe(this.market._wasOpenIntraDay,this._tickTock)||!this.market.hour_aligned&&i!=this.market.zseg_match)&&(a=new Date(this.ctime),this.forward?(a.setMinutes(this.market.zopen_minute),a.setHours(this.market.zopen_hour)):(n=(r=this._alignMinutes())[r.length-1],l.P1f(33),a.setMinutes(l.E1f(60,n)),a.setHours(Math.floor(n/60)+this.market.zopen_hour)),this.ctime=a.getTime()),this._date()},o._dayImpl=function(){var t,e;for(this._windMaybe(this.market._wasOpenDaily,this._seekHr),t=new Date(this.ctime),l.g1B(),t.setHours(12,0,0,0),this.ctime=t.getTime(),e=0;e<this.multiple;)this.forward?this._tickTock24():this._tockTick24(),this.market._wasOpenDaily(this._date())&&(e+=1);return t=new Date(this.ctime),l.P1f(2),t.setHours(l.X1f(\"0\",1)),this.ctime=t.getTime(),this._date()},o._weekImpl=function(){var t;for((t=new Date(this.ctime)).setHours(12),this.ctime=t.getTime(),this._tickTock(),t=new Date(this.ctime);0!==t.getDay();)this._tockTick24(),t=new Date(this.ctime);return this._windMaybe(this.market._wasOpenDaily,this._tickTock24),t=new Date(this.ctime),l.U1f(18),t.setHours(0,l.X1f(\"0\",0),l.E1f(0,\"0\",l.P1f(14)),0),this.ctime=t.getTime(),this._date()},o._monthImpl=function(){var t;return(t=new Date(this.ctime)).setDate(15),this.ctime=t.getTime(),this._tickTock(),(t=new Date(this.ctime)).setDate(1),t.setHours(12),this.ctime=t.getTime(),this._windMaybe(this.market._wasOpenDaily,this._tickTock24),(t=new Date(this.ctime)).setHours(0,0,0,0),this.ctime=t.getTime(),this._date()},o._findNext=null,o._findPrevious=null},g=t=>{var e,i,a=O;a.Y5g=function(t){if(a.W1B(),a)return a.j5g(t)},a.n5g=function(t){if(a)return a.O5g(t)},a.V5g=function(t){if(a.g1B(),a&&t)return a.O5g(t)},a.o5g=function(t){if(a)return a.j5g(t)},a.p5g=function(t){if(a&&t)return a.O5g(t)},a.t5g=function(t){if(a&&t)return a.O5g(t)},e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ,i=\"valid\",e.valid=0,e[a.t5g(\"ea1f\")?\"\":\"ChartEngine\"][a.s5g(\"751f\")?\"\":\"prototype\"][a.r5g(\"8c68\")?\"\":\"mousemoveinner\"]=function(t,r){a.L5g=function(t){if(a.W1B(),a&&t)return a.O5g(t)},a.z5g=function(t){if(a.W1B(),a)return a.O5g(t)};var n=a.x5g(\"1d7a\")?597551380:844949921,s=a.z5g(\"59d3\")?2069001232:1496321410,o=a.p5g(\"6559\")?1325005963:7737978666,l=-(a.L5g(\"e3e5\")?6713396430:1220764093),h=-1004396824,c=a.o5g(\"8b88\")?2057953030:9856802225,u=924510038,d=a.V5g(\"4989\")?119245687:388306453,p=a.n5g(\"1471\")?1667559810:7348497299,g=a.y5g(\"41f4\")?6491567198:1686968233;if(a.c2d(0,!1,a.k5g(\"49f5\")?953927:681047)===n||a.b1d(a.Y5g(\"2185\")?7:0,!!a.U5g(\"65c9\"),606453)===s||a.c2d(a.g5g(\"dac8\")?17:18,!1,894716)===o||a.b1d(0,!1,931760)===l||a.c2d(15,!1,194551)===h||a.b1d(0,!1,160619)===c||a.s2d(0,!1,123336,7)===u||a.s2d(0,!1,343223,11)===d||a.y2d(0,!1,136313,11)===p||a.s2d(0,!1,644190,11)===g){var m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,B,E,O,L,N,H,I,R,W;if(m=\"mousemove\",m+=\"inner\",!this.chart.canvas)return;if(!(e.isAndroid||e.isIOS7or8||this.chart.canvas.height==Math.floor(this.devicePixelRatio*this.chart.container.clientHeight)&&this.chart.canvas.width==Math.floor(this.devicePixelRatio*this.chart.container.clientWidth)))return void this.resizeChart();if(this.runPrepend(m,arguments))return;if(y=arguments,v=this.container.getBoundingClientRect(),this.top=v.top,this.left=v.left,this.right=this.left+this.width,this.bottom=this.top+this.height,this.hasDragged=!0,e.ChartEngine.crosshairX=t,e.ChartEngine.crosshairY=r,x=this.cy=this.crossYActualPos=this.backOutY(e.ChartEngine.crosshairY),C=this.cx=this.crossXActualPos=this.backOutX(e.ChartEngine.crosshairX),this.grabbingScreen&&this.anyHighlighted&&Math.pow(this.grabStartX-t,2)+Math.pow(this.grabStartY-r,2)<36)return;if(this.cancelLongHold=!0,b=function(t,r){if(a.g1B(),-638227449===a.c2d(0,!1,753152)||280716631===a.c2d(0,!1,606688)||1841520050===a.c2d(17,!1,846016)||942445427===a.b1d(0,!1,864263)||-72173580===a.b1d(15,!1,822691)||-427583121===a.c2d(0,!1,962285)||221918080===a.s2d(0,!1,714835,7)||-1200699589===a.s2d(0,!1,552108,11)||426589002===a.s2d(0,!1,995784,11)||-1890908239===a.y2d(0,!1,371927,11)){if(0===e[i])return t.whichPanel(r)||t.chart.panel;t.draw[i]||(t.draw=function(){a.g1B(),-1419064840!==a.b1d(0,!1,585381)&&1422217020!==a.b1d(0,!1,819086)&&1051454088!==a.b1d(17,!1,549778)&&1834431479!==a.c2d(0,!1,261626)&&-1464474649!==a.b1d(15,!1,785165)&&-1618520686!==a.b1d(0,!1,920758)&&1308714822!==a.s2d(0,!1,609022,7)&&-1268111881!==a.y2d(0,!1,851495,11)&&1451525743!==a.y2d(0,!1,552202,11)&&987754468!==a.s2d(0,!1,859420,11)||e.clearCanvas(this.chart.canvas,this)},t.draw[i]=!0)}},this.currentPanel=b(this,x),!this.currentPanel)return;if((S=this.currentPanel.chart).dataSet&&(w=\"ch\",w+=\"ar\",w+=\"t\",this.crosshairTick=this.tickFromPixel(C,S),f=this.valueFromPixel(x,this.currentPanel),this.crosshairValue=this.adjustIfNecessary(this.currentPanel,this.crosshairTick,f),(k=this.currentPanel.name==w?this.preferences.horizontalCrosshairField:this.currentPanel.horizontalCrosshairField)&&this.crosshairTick<S.dataSet.length&&this.crosshairTick>-1&&(f=S.dataSet[this.crosshairTick][k],this.crossYActualPos=this.pixelFromPrice(f,this.currentPanel))),e.ChartEngine.crosshairX>=this.left&&e.ChartEngine.crosshairX<=this.right&&e.ChartEngine.crosshairY>=this.top&&e.ChartEngine.crosshairY<=this.bottom?this.insideChart=!0:this.insideChart=!1,D=!0===this.xAxisAsFooter?this.chart.canvasHeight:this.chart.panel.bottom,this.overXAxis=this.insideChart&&e.ChartEngine.crosshairY<=D+this.top&&e.ChartEngine.crosshairY>D-this.xaxisHeight+this.top,this.overYAxis=(this.cx>=this.currentPanel.right||this.cx<=this.currentPanel.left)&&this.insideChart,(this.overXAxis||this.overYAxis||!this.insideChart&&!this.grabbingScreen)&&(this.undisplayCrosshairs(),!this.overXAxis&&!this.overYAxis))return;if(!this.displayCrosshairs&&!e.ChartEngine.resizingPanel)return void this.undisplayCrosshairs();if(this.repositioningBaseline)return R=this.panels[this.chart.panel.name],this.chart.baseline.userLevel=this.adjustIfNecessary(R,this.crosshairTick,this.valueFromPixel(this.backOutY(e.ChartEngine.crosshairY),R)),Date.now()-this.repositioningBaseline.lastDraw>100&&(this.draw(),this.repositioningBaseline.lastDraw=Date.now()),z(this);if(this.repositioningAnchorSelector)return T=this.repositioningAnchorSelector.hoverTick,(M=this.tickFromPixel(this.cx,this.chart))>=0&&M<this.chart.dataSet.length&&(!T||0===T||M!==T)&&(this.repositioningAnchorSelector.hoverTick=M,this.draw()),z(this);if(this.grabbingScreen&&!e.ChartEngine.resizingPanel){if(this.highlightedDraggable)return this.displayDragOK(!0),this.dragPlotOrAxis(C,x),z(this);if(this.anyHighlighted){for(A in e.clearCanvas(this.chart.tempCanvas,this),this.anyHighlighted=!1,this.overlays)this.overlays[A].highlight=!1;for(A in S.series)S.series[A].highlight=!1;this.displaySticky()}if(-1==this.grabStartX&&(this.grabStartX=e.ChartEngine.crosshairX,this.grabStartScrollX=S.scroll),-1==this.grabStartY&&(this.grabStartY=e.ChartEngine.crosshairY,this.grabStartScrollY=this.currentPanel.yAxis.scroll),P=e.ChartEngine.crosshairX-this.grabStartX,F=e.ChartEngine.crosshairY-this.grabStartY,0===P&&0===F)return;if(Math.abs(P)+Math.abs(F)>5&&(this.grabOverrideClick=!0),B=this.layout.candleWidth,this.allowZoom&&\"pan\"!=this.grabMode&&(0===this.grabMode.indexOf(\"zoom\")||this.overXAxis||this.grabStartYAxis))\"\"===this.grabMode&&(E=\"z\",E+=\"oo\",E+=\"m\",E+=\"-y\",this.overXAxis?this.grabMode=\"zoom-x\":this.grabStartYAxis&&(this.grabMode=E)),\"zoom-x\"==this.grabMode?F=0:\"zoom-y\"==this.grabMode&&(P=0),P&&(this.grabStartX=e.ChartEngine.crosshairX,O=B-P/this.chart.maxTicks,this.zoomSet(O,this.chart)),this.layout.setSpan&&(L=\"layo\",L+=\"ut\",this.layout.setSpan=null,this.changeOccurred(L)),(_=this.grabStartYAxis)&&(_.flipped&&(F*=-1),_.zoom=Math.round(this.grabStartZoom+F),this.grabStartZoom<_.height?_.zoom>=_.height&&(_.zoom=_.height-1):_.zoom<=_.height&&(_.zoom=_.height+1));else if(!this.overYAxis&&(this.dispatch(\"move\",{stx:this,panel:this.currentPanel,x:this.cx,y:this.cy,grab:!0}),this.allowScroll)){if(Math.abs(F)<this.yTolerance){if(!this.yToleranceBroken&&(F=0,0===P))return}else this.yToleranceBroken=!0;if(this.grabStartMicropixels||(this.grabStartMicropixels=0),this.grabMode=\"pan\",S.scroll=this.grabStartScrollX,this.micropixels=this.grabStartMicropixels+P*(this.shift?5:1),!this.lineTravelSpacing){for(;this.micropixels>0;)this.micropixels-=B,S.scroll++;for(;this.micropixels<-B;)this.micropixels+=B,S.scroll--}S.scroll>=S.maxTicks?this.preferences.whitespace=this.initialWhitespace:this.preferences.whitespace=(S.maxTicks-S.scroll)*B,this.currentPanel==this.grabStartPanel&&((_=this.currentPanel.yAxis).flipped&&(F*=-1),_.scroll=this.grabStartScrollY+F),this.dispatch(\"scroll\",{stx:this,panel:this.currentPanel,x:this.cx,y:this.cy})}return N=function(t){a.g1B();if(1763279893===a.c2d(0,!1,868660)||1780679854===a.c2d(0,!1,523057)||-1083484305===a.c2d(17,!1,575499)||36537043===a.b1d(0,!1,288776)||1278871510===a.b1d(15,!1,972674)||-2025060996===a.c2d(0,!1,816646)||1675501549===a.y2d(0,!1,325876,7)||-803131925===a.s2d(0,!1,761781,11)||565779186===a.y2d(0,!1,414902,11)||-1356474700===a.y2d(0,!1,420337,11))return function(){-2046705611!==a.c2d(0,!1,344570)&&-1962106164!==a.b1d(0,!1,573763)&&1615221788!==a.b1d(17,!1,746907)&&1944258062!==a.c2d(0,!1,108588)&&1326968624!==a.c2d(15,!1,467581)&&442723415!==a.b1d(0,!1,138310)&&-315865763!==a.s2d(0,!1,885927,7)&&-1548742723!==a.y2d(0,!1,225362,11)&&-2105204914!==a.y2d(0,!1,110807,11)&&1238961528!==a.s2d(0,!1,341939,11)||(t.draw(),t.updateChartAccessories())}},e.ChartEngine.useAnimation?window.requestAnimationFrame(N(this)):(this.draw(),this.updateChartAccessories()),this.activeDrawing&&(e.clearCanvas(this.chart.tempCanvas,this),this.activeDrawing.render(this.chart.tempCanvas.context),this.activeDrawing.measure()),void this.undisplayCrosshairs()}if(this.grabMode=\"\",this.overXAxis||this.overYAxis)return this.updateChartAccessories(),this.findHighlights(),z(this);function z(t){a.g1B(),-529407801!==a.b1d(0,!1,757276)&&631340176!==a.b1d(0,!1,728629)&&-1654614215!==a.c2d(17,!1,109981)&&-1329611261!==a.b1d(0,!1,308677)&&1691859387!==a.b1d(15,!1,736503)&&-1046317446!==a.b1d(0,!1,317914)&&-2095128674!==a.y2d(0,!1,987661,7)&&-1629561830!==a.s2d(0,!1,413271,11)&&751721521!==a.y2d(0,!1,185197,11)&&1090124079!==a.s2d(0,!1,676688,11)||t.runAppend(\"mousemoveinner\",y)}return this.controls.crossX&&(this.controls.crossX.style.left=this.pixelFromTick(this.crosshairTick,S)-.5+\"px\"),this.controls.crossY&&(this.controls.crossY.style.top=this.crossYActualPos+\"px\"),this.insideChart&&!e.ChartEngine.resizingPanel?(H=this.currentVectorParameters.vectorType,this.layout.studies&&(I=this.layout.studies[this.currentPanel.name])&&(this.preferences.dragging&&this.preferences.dragging.study||delete this.overlays[I.name],H&&(this.overlays[I.name]=I)),e.Drawing&&H&&e.Drawing[H]&&(new e.Drawing[H]).dragToDraw||this.doDisplayCrosshairs(),this.updateChartAccessories()):this.undisplayCrosshairs(),this.magnetize&&this.magnetize(),this.repositioningDrawing?this.repositionDrawing(this.repositioningDrawing):e.ChartEngine.drawingLine?this.activeDrawing&&(R=this.panels[this.activeDrawing.panelName],f=this.adjustIfNecessary(R,this.crosshairTick,this.valueFromPixel(this.backOutY(e.ChartEngine.crosshairY),R)),this.magnetizedPrice&&R.name==this.currentPanel.name&&(f=this.adjustIfNecessary(R,this.crosshairTick,this.magnetizedPrice)),null===this.magnetizedPrice&&e.clearCanvas(this.chart.tempCanvas,this),this.activeDrawing.move(this.chart.tempCanvas.context,this.crosshairTick,f),this.activeDrawing.measure&&this.activeDrawing.measure()):e.ChartEngine.resizingPanel&&this.resizePanels(),this.insideChart&&(W=\"mov\",W+=\"e\",this.dispatch(W,{stx:this,panel:this.currentPanel,x:this.cx,y:this.cy,grab:!1}),this.findHighlights(this.highlightViaTap)),z(this)}},e.ChartEngine.prototype.swipeStart=function(t){var e;this.swipe&&this.swipe.interval&&clearInterval(this.swipe.interval),this.swipe.velocity=0,this.swipe.amplitude=0,this.swipe.frame=t.scroll,this.swipe.micropixels=this.micropixels,this.swipe.timestamp=Date.now(),this.swipe.chart=t,this.swipe.end=!1,this.swipe.timeConstant=325,a.g1B(),this.swipe.cb=null,e=this,requestAnimationFrame((function(){a.W1B(),e.swipeSample()}))},e.ChartEngine.prototype.swipeSample=function(){var t,i,r,n,s,o,l;(t=this.swipe).end||(i=this,20,(n=(r=Date.now())-t.timestamp)<20||(o=e.touchDevice?.4:.8,t.timestamp=r,s=(t.chart.scroll-t.frame)*this.layout.candleWidth+this.micropixels-t.micropixels,t.frame=t.chart.scroll,t.micropixels=this.micropixels,a.P1f(59),l=o*a.E1f(1,s,n,1e3)+.2*t.velocity,Math.abs(l)>Math.abs(t.velocity)&&(t.velocity=l),a.W1B(),Math.abs(s)<6&&(t.velocity=0)),requestAnimationFrame((function(){i.swipeSample()})))},e.ChartEngine.prototype.swipeRelease=function(){var t,e;(t=this.swipe).velocity>3e3&&(t.velocity=3e3),t.velocity<-3e3&&(t.velocity=-3e3),(t.velocity>10||t.velocity<-10)&&(t.amplitude=.8*t.velocity,t.scroll=t.chart.scroll,t.target=t.amplitude,t.timestamp=Date.now(),e=this,this.disableBackingStoreDuringTouch&&this.disableBackingStore(),requestAnimationFrame((function(){e.autoscroll()})))},e.ChartEngine.prototype.dragPlotOrAxis=function(t,i){var r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,B,E,O,L,N,H,I,R,W,z,V,U,j,q,Y,Z,X,Q,J;if(\"r\",\"ig\",\"ht\",(function(){var t,e;function i(e){return a.g1B(),function(i){e.subholder.classList.contains(i)&&(e.subholder.classList.remove(i),t=!0)}}for(var r in t=!1,this.panels){for([\"dropzone\",\"all\",\"left\",\"right\",\"top\",\"bottom\"].forEach(i(this.panels[r])),e=0;e<this.panels[r].yaxisLHS.length;e++)this.panels[r].yaxisLHS[e].dropzone&&(t=!0),this.panels[r].yaxisLHS[e].dropzone=null;for(e=0;e<this.panels[r].yaxisRHS.length;e++)this.panels[r].yaxisRHS[e].dropzone&&(t=!0),this.panels[r].yaxisRHS[e].dropzone=null}return t}.call(this)||this.grabbingScreen)&&(r=null,20,10,a.P1f(5),n=this.whichPanel(a.X1f(20,i)),a.U1f(0),s=this.whichPanel(a.X1f(i,20)),o=this.whichPanel(i),l=this.highlightedDraggable,o&&(!l.undraggable||!l.undraggable(this)))){for(C in h=this.whichYAxis(o,t,i),a.P1f(5),c=this.whichYAxis(o,a.E1f(10,t),i),a.U1f(0),u=this.whichYAxis(o,a.E1f(t,10),i),this.xAxisAsFooter&&o.name==Object.keys(this.panels).pop()&&(s=this.whichPanel(i+20+this.xaxisHeight),r&&(r+=this.xaxisHeight)),d=!1,p=!1,!1,e.Renderer&&(d=l instanceof e.Renderer),e.Studies&&(p=l instanceof e.Studies.StudyDescriptor),m=function(t){if(!g){if(\"r\",\"ig\",\"ht\",\"right\"==t)return o.right-o.width/6;if(\"left\"==t)return o.left+o.width/6}return(o.left+o.right)/2},(g=l instanceof e.ChartEngine.YAxis)||h||(t<m(\"left\")?c=this.whichYAxis(o,o.left-1,i):t>m(\"right\")&&(u=this.whichYAxis(o,o.right+1,i))),f=[],l.getDependents&&(f=l.getDependents(this,!0)),y=l.panel,v=l.getYAxis(this),d?y=l.params.panel:g&&(y=this.grabStartPanel.name),x=this.panels[y],this.panels)this.panels[C].soloing&&(b=!0);if(S=v.isShared(this),w=!g&&!b&&(x!==o&&x!=n&&x!=s||!this.checkForEmptyPanel(x,!0,[l].concat(f))),k=y==o.name&&v!==h&&v!==u&&v!==c||S,!w||n&&o===n)if(!w||s&&o===s){if(o!==x)g||o.noDrag||(\"al\",\"l\",o.subholder.classList.add(\"dropzone\"),o.subholder.classList.add(\"all\"),D=o.name);else if((!o.yaxisRHS.length||1==o.yaxisRHS.length&&o.yaxisRHS[0]==v&&\"none\"==v.position)&&!h&&!u&&t>m(\"right\"))\"r\",\"ight\",o.subholder.classList.add(\"dropzone\"),o.subholder.classList.add(\"right\"),T=\"right\";else if((!o.yaxisLHS.length||1==o.yaxisLHS.length&&o.yaxisLHS[0]==v&&\"none\"==v.position)&&!h&&!c&&t<m(\"left\"))\"dr\",\"o\",\"p\",\"zone\",o.subholder.classList.add(\"dropzone\"),o.subholder.classList.add(\"left\"),T=\"left\";else if(k&&(g&&t>o.left&&t<o.right&&(M=o.yaxisLHS[o.yaxisLHS.length-1],A=o.yaxisRHS[0],t<(P=m())&&M!=v?c=M:t>P&&A!=v&&(u=A)),!g||h!==v))if(F=!g&&S,!u||u===v&&!F||h&&h===u)if(!c||c===v&&!F||h&&h===c){if(h){if(u||h===v&&!F)if(c||h===v&&!F)h!==v&&(\"al\",\"l\",h.dropzone=\"all\");else{a.U1f(30),_=-a.X1f(2147483647,\"254384844\"),-1909417860,B=2;for(var G=1;a.p1u(G.toString(),G.toString().length,75436)!==_;G++)h.dropzone=\"\",B+=2;-1909417860!==a.p1u(B.toString(),B.toString().length,62140)&&(h.dropzone=\"left\")}else h.dropzone=\"right\";h.dropzone&&(T=h.position||this.chart.panel.yAxis.position||\"right\")}}else c.dropzone=\"right\",T=c.position||this.chart.panel.yAxis.position||\"right\";else u.dropzone=\"left\",T=u.position||this.chart.panel.yAxis.position||\"right\"}else\"bot\",\"tom\",o.subholder.classList.add(\"dropzone\"),o.subholder.classList.add(\"bottom\");else o.subholder.classList.add(\"dropzone\"),o.subholder.classList.add(\"top\"),s=o;if(this.grabbingScreen||!o.subholder.classList.contains(\"dropzone\")&&!T)this.draw();else{if(O=-1,!D&&!T&&w){for(var K in D=p?l.inputs.id:l.params.name||e.uniqueID(),this.panels)if(O++,this.panels[K]==s)break;s||O++,this.panels[y].yAxis.name==D&&(y=this.electNewPanelOwner(y)),L=p?l.inputs.display:null,y?this.createPanel(L||D,D,r,this.chart.name,new e.ChartEngine.YAxis({name:D})):y=D,p?l.panel=y:l.params.panel=y}if(D){if(p)l.parameters||(l.parameters={}),l.parameters.panelName=D,this.highlightedDraggable=e.getFn(\"Studies.replaceStudy\")(this,l.inputs.id,l.type,l.inputs,l.outputs,l.parameters,null,l.study);else if(d)for(var $ in l.seriesParams)N=l.seriesParams[$],H=null,l.params.yAxis&&l.params.yAxis!==this.chart.panel.yAxis&&((H=l.params.yAxis).name=l.params.name),this.modifySeries(N.id,{panel:D,yAxis:H});if(O>-1){for(C in I={},R=0,this.panels)O==R++&&(I[D]=this.panels[D]),C!=D&&(I[C]=this.panels[C]);I[D]||(I[D]=this.panels[D]),this.panels=I}this.checkForEmptyPanel(y);for(var tt=0;tt<f.length;tt++)f[tt].params?this.checkForEmptyPanel(f[tt].params.name):this.checkForEmptyPanel(f[tt].name);this.adjustPanelPositions()}else if(T){if(\"a\",\"l\",\"l\",W=function(t,i,r,n){var s,o;if(\"s\",\"tudy\",\"study\"==r&&(i.parameters||(i.parameters={}),n?i.parameters.yaxisDisplayValue=n.position:delete i.parameters.yaxisDisplayValue,s=e.getFn(\"Studies.replaceStudy\")(t,i.inputs.id,i.type,i.inputs,i.outputs,i.parameters,i.panel,i.study)),\"renderer\"==r)for(var l in i.seriesParams)o=i.seriesParams[l],s=t.modifySeries(o.id,{panel:D,yAxis:n});return a.W1B(),s},!(z=h&&\"all\"==h.dropzone)){if(g)l.position=T,this.layout.studies&&(V=this.layout.studies[l.name])&&(V.parameters||(V.parameters={}),V.parameters.yaxisDisplayValue=T);else if(p){440757602,386430946,U=2;for(var et=1;440757602!==a.C1u(et.toString(),et.toString().length,61075);et++)\"stu\",\"d\",\"y\",this.highlightedDraggable=W(this,l,\"study\",{position:T}),U+=2;386430946!==a.p1u(U.toString(),U.toString().length,89046)&&(this.highlightedDraggable=W(this,l,\"\",{position:T}))}else d&&W(this,l,\"renderer\",new e.ChartEngine.YAxis({name:l.params.name||e.uniqueID(),position:T}));v=this.highlightedDraggable.getYAxis(this)}if(!S||!z||g){for(j=v,z&&v==this.chart.panel.yAxis&&(j=h),E=0;E<o.yaxisLHS.length;E++)if(o.yaxisLHS[E]==j){o.yaxisLHS.splice(E,1);break}for(E=0;E<o.yaxisRHS.length;E++)if(o.yaxisRHS[E]==j){o.yaxisRHS.splice(E,1);break}}if(z)if(this.getYAxisByName(o,v.name)==o.yAxis&&this.electNewPanelOwner(o,h),g){for(Y in Z=v,X=h,v==this.chart.panel.yAxis&&(Z=h,X=v),Z.studies)W(this,this.layout.studies[Z.studies[Y]],\"study\",X===this.chart.panel.yAxis?null:{position:X.name});for(Y in Z.renderers)\"render\",\"er\",W(this,this.chart.seriesRenderers[Z.renderers[Y]],\"renderer\",X);this.highlightedDraggable=X}else p?(\"st\",\"u\",\"dy\",this.highlightedDraggable=W(this,l,\"study\",{position:h.name})):d&&(\"re\",\"ndere\",\"r\",W(this,l,\"renderer\",h));else{for(\"l\",\"e\",\"f\",\"t\",\"none\"==v.position&&(v.width=e.ChartEngine.YAxis.prototype.width),v.position=T,q=\"left\"==T?o.yaxisLHS:o.yaxisRHS,E=0;E<q.length;E++){if(q[E]!==v)if(\"left\"==q[E].dropzone)q.splice(E,0,v);else{if(\"right\"!=q[E].dropzone)continue;a.U1f(0),q.splice(a.X1f(E,1),a.E1f(2147483647,\"0\",a.P1f(30)),v)}break}E==q.length&&q.push(v)}}for(var it in this.panels)for(J=(Q=this.panels[it]).yaxisLHS.concat(Q.yaxisRHS),E=0;E<J.length;E++)J[E].height=Q.yAxis.height,this.calculateYAxisMargins(J[E]);this.displayDragOK(),this.draw(),this.calculateYAxisPositions(),this.draw(),this.findHighlights(null,!0),this.savePanels()}}}},m=t=>{var e;(e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ).NameValueStore=e.NameValueStore||function(){},O.W1B(),e.NameValueStore.prototype.toJSONIfNecessary=function(t){if(O.g1B(),t.constructor==String)return t;try{return JSON.stringify(t)}catch(e){return\"C\",\"anno\",\"t convert to JSON:\",\" \",O.P1f(0),console.log(O.X1f(\"Cannot convert to JSON: \",t)),null}},e.NameValueStore.prototype.fromJSONIfNecessary=function(t){try{return JSON.parse(t)}catch(e){return t}},e.NameValueStore.prototype.get=function(t,i){var a;a=e.localStorage.getItem(t),i&&i(null,this.fromJSONIfNecessary(a))},e.NameValueStore.prototype.set=function(t,i,a){O.g1B(),e.localStorageSetItem(t,this.toJSONIfNecessary(i)),a&&a(null)},e.NameValueStore.prototype.remove=function(t,i){O.g1B(),e.localStorage.removeItem(t),i&&i(null)}},f=t=>{var e;function i(){}(e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ).ChartEngine||(e.ChartEngine=function(){}),i.fetchInitialData=function(t,e,i,a,r){},i.fetchUpdateData=function(t,e,i,a){},i.fetchPaginationData=function(t,e,i,a,r){},i.subscribe=function(t){},i.unsubscribe=function(t){},e.QuoteFeed=e.QuoteFeed||function(){},e.QuoteFeed.prototype.fetch=function(t,e){var i;if(!this.v2QuoteFeed){\"You must imple\",\"ment CIQ.QuoteFeed.[yourfeedname].prototype.fetch()\",381330141,-688106642,i=2;for(var a=1;381330141!==O.p1u(a.toString(),a.toString().length,17378);a++)console.log(\"\"),i+=2;-688106642!==O.p1u(i.toString(),i.toString().length,26569)&&console.log(\"\"),console.log(\"You must implement CIQ.QuoteFeed.[yourfeedname].prototype.fetch()\")}},e.QuoteFeed.prototype.announceError=function(t,i){O.W1B(),t.suppressErrors||i.suppressAlert||t.startDate||t.endDate||i.error&&e.alert(\"Error fetching quote:\"+i.error)},e.QuoteFeed.prototype.multiFetch=function(t,e){return O.g1B(),0===t.length&&e([]),t[0].stx.driver.multiFetch(t,e)},e.QuoteFeed.Subscriptions=function(){this.subscriptions=[]},e.inheritsFrom(e.QuoteFeed.Subscriptions,e.QuoteFeed),e.QuoteFeed.Subscriptions.prototype.checkSubscriptions=function(t){var e,i,a,r,n,s;a=2;for(var o=1;-159800980!==O.C1u(o.toString(),o.toString().length,26312);o++)r=t.getSymbols({\"breakout-equations\":!1}),n=this,a+=2;-1276725347!==O.p1u(a.toString(),a.toString().length,70145)&&(r=t.getSymbols({\"breakout-equations\":!0}),n=this),r=t.getSymbols({\"breakout-equations\":!0}),O.g1B(),n=this,r=r.filter((function(e){var i;return O.g1B(),(i=t.quoteDriver.getQuoteFeed(e))&&i.engine==n}));for(var l=0;l<this.subscriptions.length;l++)this.subscriptions[l].match=!1;for(var h=0;h<r.length;h++)for(\"month\"!=(s=(i=r[h]).interval)&&\"week\"!=s||t.dontRoll||(\"d\",\"a\",\"y\",s=\"day\"),i.interval=s,i.period=1,i.match=!1,isNaN(i.interval)||(i.period=i.interval,i.interval=i.timeUnit,i.interval||(i.interval=\"minute\")),delete i.periodicity,delete i.timeUnit,delete i.setSpan,l=0;l<this.subscriptions.length;l++){if((e=this.subscriptions[l]).symbol==i.symbol&&e.period==i.period&&e.interval==i.interval){i.match=!0,e.match=!0;break}e.symbol!=i.symbol?(\"pe\",\"ri\",\"o\",\"d\",\"period\"!=i.reason&&(i.reason=\"symbol\"),e.reason=\"symbol\"):(i.reason=\"period\",e.reason=\"period\")}this.subscriptions=this.subscriptions.filter((function(e){var i;if(O.g1B(),!e.match){e.stx||(e.stx=t),-539709339,-210938454,i=2;for(var a=1;-539709339!==O.C1u(a.toString(),a.toString().length,22877);a++)n.unsubscribe(e),i+=2;-210938454!==O.p1u(i.toString(),i.toString().length,5703)&&n.unsubscribe(e)}return e.match})),r.forEach((function(e){O.g1B(),e.match||(e.stx||(e.stx=t),e.reason||(e.reason=\"initialize\"),e.symbol!==t.chart.symbol&&(e.series=!0),n.subscribe(e),n.subscriptions.push(e))}))},e.QuoteFeed.Subscriptions.prototype.fetch=function(t,e){var i;i=this,O.W1B(),this.fetchFromSource(t,(function(a){a.error||i.checkSubscriptions(t.stx),e(a)}))},e.QuoteFeed.Subscriptions.prototype.subscribe=function(t){console.log(\"subscribe\",t)},e.QuoteFeed.Subscriptions.prototype.unsubscribe=function(t){O.g1B(),console.log(\"unsubscribe\",t)},e.QuoteFeed.Subscriptions.prototype.fetchFromSource=function(t,e){console.log(\"Please provide implementation of fetchFromSource\")},e.QuoteFeed.prototype.requiresImmediateRefresh=function(t){return O.W1B(),!1},e.ChartEngine.prototype.attachQuoteFeed=function(t,i,a){var r,n,s,o;i||(i={}),\"function\"!=typeof t.fetchInitialData&&\"function\"!=typeof t.fetchUpdateData&&\"function\"!=typeof t.fetchPaginationData||(\"fu\",\"nction\",r=\"req\",r+=\"uires\",r+=\"Immediate\",r+=\"Refresh\",n=\"anno\",n+=\"unceError\",s=\"mult\",s+=\"iFetch\",\"fun\",\"ction\",\"function\"!=typeof t.fetchPaginationData&&\"function\"!=typeof t.fetchUpdateData&&(i.noLoadMore=!0),t.v2QuoteFeed=!0,[s,n,r].forEach((function(i){t[i]||!1===t[i]||(t[i]=e.QuoteFeed.prototype[i]),O.W1B()})),\"function\"==typeof t.subscribe&&(t.checkSubscriptions=e.QuoteFeed.Subscriptions.prototype.checkSubscriptions,t.subscriptions=[])),i.maximumTicks||(i.maximumTicks=t.maxTicks?t.maxTicks:2e4),(!i.bufferSize||i.bufferSize<0)&&(i.bufferSize=0),i.bufferSize=Math.round(i.bufferSize),i.intervalTimer=null,this.quoteDriver&&(!a&&this.quoteDriver.hasUnfilteredQuoteFeed?this.detachQuoteFeed():(o=this.quoteDriver.hasUnfilteredQuoteFeed&&this.quoteDriver.quoteFeeds.pop(),this.quoteDriver.quoteFeeds.push({engine:t,behavior:i,filter:a}),o&&this.quoteDriver.quoteFeeds.push(o),this.quoteDriver.updateChartLoop(null,i))),this.quoteDriver||(this.quoteDriver=new e.ChartEngine.Driver(this,t,i,a)),a||(this.quoteDriver.hasUnfilteredQuoteFeed=!0)},e.ChartEngine.prototype.detachQuoteFeed=function(t){var e;if(e=this.quoteDriver){for(var i=e.quoteFeeds.length-1;i>=0;i--)t&&e.quoteFeeds[i].quoteFeed!=t||(e.die(e.quoteFeeds[i]),O.U1f(5),e.quoteFeeds.splice(i,O.X1f(0,\"1\")));e.quoteFeeds.length?t==e.quoteFeed&&(e.quoteFeed=e.quoteFeeds[0].quoteFeed,e.behavior=e.quoteFeeds[0].behavior):e=this.quoteDriver=null}},e.ChartEngine.Driver=function(t,i,a,r){this.stx=t,a||(a={}),this.quoteFeeds=[{engine:i,behavior:a,filter:r}],O.W1B(),this.id=e.uniqueID(!0),this.behavior=a,this.quoteFeed=i,this.loadingNewChart=!1,this.updatingChart=!1,r||(this.hasUnfilteredQuoteFeed=!0),this.updateChartLoop()},e.ChartEngine.Driver.prototype.die=function(t){for(var e,i=0;i<this.quoteFeeds.length;i++)t&&this.quoteFeeds[i]!=t||(e=this.quoteFeeds[i].behavior).intervalTimer&&(clearInterval(e.intervalTimer),e.intervalTimer=-1)},e.ChartEngine.Driver.prototype.getQuoteFeed=function(t){var e;O.g1B(),t.symbolObject||(t.symbolObject={symbol:t.symbol});for(var i=0;i<this.quoteFeeds.length;i++)if((e=this.quoteFeeds[i]).behavior.generator==t.symbolObject.generator&&(!e.filter||e.filter(t)))return e;return null},e.ChartEngine.Driver.prototype.multiFetch=function(t,i){var a,r,n;function s(t,e,i){return function(a){var r;e.results.push({dataCallback:a,params:t}),e.counter++,e.counter>=e.finished&&(r=e.results,e.results=[],i(r))}}0===t.length&&i([]),a={counter:0,finished:t.length,results:[]};for(var o=0;o<t.length;o++)(r=t[o]).stx.isEquationChart(r.symbol)?e.fetchEquationChart(r,s(r,a,i)):(n=this.getQuoteFeed(r))&&e.ChartEngine.Driver.fetchData(e.QuoteFeed.SERIES,n.engine,r,s(r,a,i))},e.ChartEngine.Driver.prototype.updateSubscriptions=function(){O.W1B();for(var t=0;t<this.quoteFeeds.length;t++)this.quoteFeeds[t].checkSubscriptions&&this.quoteFeeds[t].checkSubscriptions(this.stx)},e.ChartEngine.Driver.prototype.loadDependents=function(t,i,a,r){var n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A;if(n=this,!r)return s=0,o=[],l=[],h=function(t){O.W1B(),i&&++s>=n.quoteFeeds.length&&i(null)},c=function(e){++s<o.length||(l.length||h(),l.forEach((function(e){n.loadDependents(t,h,a,e.behavior)})))},n.quoteFeeds.forEach((function(t){O.g1B(),t.behavior.generator?l.push(t):o.push(t)})),void o.forEach((function(e){n.loadDependents(t,c,a,e.behavior)}));for(u in{},d=t.stx,g=(p=t.chart).series,d.masterData,y=[],v={},x=a==e.QuoteFeed.UPDATE,C=a==e.QuoteFeed.PAGINATION,b=e.shallowClone(t),g){if(S=(m=g[u]).parameters,!x){if(!t.future&&!1===m.moreAvailable)continue;if(t.future&&!0===m.upToDate)continue}if(!m.loading&&(!1!==S.loadData&&(!x&&!C||m.endPoints&&Object.keys(m.endPoints).length)&&(!S.data||S.data.useDefaultQuoteFeed)&&(f=S.symbolObject).symbol&&f.generator==r.generator&&(b.symbolObject=f,b.symbol=f.symbol,w=this.getQuoteFeed(b),r==(w&&w.behavior)))){k=!0,x||(m.loading=!0);for(var P=0;P<y.length;P++)e.symbolEqual(y[P],f)&&(k=!1);k&&(y.push(f),v[f.symbol]=m.endPoints)}}D=[];for(var F=0;F<y.length;F++)f=y[F],(T=e.shallowClone(t.originalState)).symbol=f.symbol,T.symbolObject=f,T.update||T.future?(T.endDate||(T.endDate=t.endDate),T.startDate=v[f.symbol].end):(T.startDate||(T.startDate=t.startDate),T.endDate=C&&!t.future?v[f.symbol].begin:t.endDate,T.ticks=t.ticks),D.push(T);if(!D.length&&x)return(M={appending:t.appending||t.originalState.update}).appending&&(M.appendToDate=t.startDate),d.createDataSet(null,null,M),t.nodraw||d.draw(),void(i&&i(null));this.multiFetch(D,(A=x,O.g1B(),function(s){var o,l,h,c,u,g,f,y,v,x;o=null;for(var C=0;C<s.length;C++)if(!(h=(l=s[C]).dataCallback.error)&&0!==h){c=l.params.symbolObject,g=(u=l.dataCallback).quotes,f=u.moreAvailable,y=u.upToDate,v=[],d.getSeries&&(v=d.getSeries({symbolObject:c})),x=!1;for(var b=0;b<v.length;b++)m=v[b],A||(t.future?(m.upToDate=!0===y||y||g.length<=(l.params.startDate?1:0),d.isHistoricalModeSet&&g.length<2&&(m.mostRecentForwardAttempt=new Date)):m.moreAvailable=!1!==f&&(f||g.length>(l.params.endDate?1:0)),m.loading=!1),x=m.parameters.fillGaps||x;g=n.cleanup(d,m,g,a,t,x),d.updateChartData(g,p,{secondarySeries:c.symbol,noCreateDataSet:!0,noCleanupDates:!0,allowReplaceOHL:!0}),g&&g.length&&(!o||o>g[0].DT)&&(o=g[0].DT)}s.length&&(d.createDataSet(null,null,{appending:t.originalState.update||t.future,appendToDate:o}),t.nodraw||d.draw(),a==e.QuoteFeed.INITIAL&&n.resetRefreshInterval(r.refreshInterval,r)),i&&i(null)}))},e.ChartEngine.Driver.prototype.cleanup=function(t,i,a,r,n,s){var o,l,h,c,u,d;if(t.doCleanupDates(a,t.layout.interval),!n.missingBarsCreated&&a&&a.length&&t.cleanupGaps&&!1!==s){if(h=n.chart,i?(h=i,l=i.parameters.symbol||i.id):l=h.defaultPlotField,r!=e.QuoteFeed.PAGINATION||n.loadMoreReplace){if(r==e.QuoteFeed.UPDATE&&h.endPoints.end&&h.endPoints.end<a[0].DT){63835502,707028328,u=2;for(var p=1;63835502!==O.p1u(p.toString(),p.toString().length,7889);p++)d=t.getFirstLastDataRecord(t.masterData,l,!1),u+=2;707028328!==O.p1u(u.toString(),u.toString().length,752)&&(d=t.getFirstLastDataRecord(t.masterData,l,!0)),d=t.getFirstLastDataRecord(t.masterData,l,!0),i&&(d=d[l]),a.unshift(d),o=\"shift\"}}else h.endPoints.begin&&h.endPoints.begin>a[a.length-1].DT&&(c=t.getFirstLastDataRecord(t.masterData,l,!1),i&&(c=c[l]),a.push(c),o=\"pop\");a=t.doCleanupGaps(a,n.chart,{cleanupGaps:s,noCleanupDates:!0}),o&&a[o]()}return a},e.ChartEngine.Driver.prototype.updateChart=function(t){var i,a,r,n,s,o,l,h,c;if(!this.updatingChart&&!this.loadingNewChart)for(var u in i=Object.keys(this.stx.charts).length,a=0,r=this.stx,n=r.layout.interval,s=r.layout.timeUnit,r.charts)(o=r.charts[u]).symbol&&(l=this.makeParams(o.symbol,o.symbolObject,o),h=this.getQuoteFeed(l),o.masterData&&o.masterData.length&&(l.startDate=o.endPoints.end),l.update=!0,l.originalState=e.shallowClone(l),t&&t!=l.behavior?this.loadDependents(l,null,e.QuoteFeed.UPDATE,t):(this.updatingChart=!0,c=d(this,l,o.symbol,h),r.isEquationChart(l.symbol)?e.fetchEquationChart(l,c):h&&e.ChartEngine.Driver.fetchData(e.QuoteFeed.UPDATE,h.engine,l,c)));function d(t,o,l,h){return o.behavior.prefetchAction&&o.behavior.prefetchAction(\"updateChart\"),O.g1B(),function(c){var u,d;a++,(u=o.chart).masterData,l!=u.symbol||n!=r.layout.interval||s!=r.layout.timeUnit||r.isHistoricalMode()?t.updatingChart=!1:(c.error?h&&h.engine.announceError(o.originalState,c):(d=c.quotes,d=t.cleanup(r,null,d,e.QuoteFeed.UPDATE,o),r.updateChartData(d,u,{noCreateDataSet:!0,noCleanupDates:!0}),u.attribution=c.attribution),a==i&&(t.updatingChart=!1),o.behavior.callback&&o.behavior.callback(o),t.loadDependents(o,null,e.QuoteFeed.UPDATE,o.behavior))}}},e.ChartEngine.Driver.prototype.updateChartLoop=function(t,e){var i,a;if(e||(e=this.behavior),-1!=e.intervalTimer){e.intervalTimer&&clearInterval(e.intervalTimer),i=function(t,e){return O.W1B(),function(){e.noUpdate||t.updateChart(e)}};for(var r=0;r<this.quoteFeeds.length;r++)e!=(a=this.quoteFeeds[r].behavior)||a.noUpdate||(t||0===t||(t=a.refreshInterval),t&&(e.intervalTimer=setInterval(i(this,a),1e3*t)))}},e.ChartEngine.Driver.prototype.resetRefreshInterval=function(t,e){(e||this.behavior).refreshInterval=t,this.updateChartLoop(null,e)},e.ChartEngine.Driver.prototype.loadAll=function(t,e){var i,a;O.g1B(),i=this,O.P1f(18),a=O.E1f(\"0\",0),function r(){return function(n){n?e(n):!t.moreAvailable&&t.upToDate?e(null):++a>20?e(\"error, moreAvailable not implemented correctly in QuoteFeed\"):(t.loadingMore=!1,i.checkLoadMore(t,!0,!0,r(),!0))}}()()},e.ChartEngine.Driver.prototype.checkLoadMore=function(t,i,a,r,n){var s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D;if(s=this.stx,this,t.loadingMore||this.loadingNewChart)return t.initialScroll=t.scroll,void(r&&r(null));if(s.isHistoricalMode()||(s.isHistoricalModeSet=!1),o=this.makeParams(t.symbol,t.symbolObject,t),s.currentlyImporting)r&&r(null);else{if(l=o.behavior,h=t.dataSet,u=1e3*(l.forwardPaginationRetryInterval||5),d=!1,p=!1,t.dataSet.length)for(var T in t.series)(g=t.series[T]).loading||!1!==g.parameters.loadData&&(c=!g.mostRecentForwardAttempt||g.mostRecentForwardAttempt.getTime()+u<Date.now(),!1!==g.moreAvailable&&A(g)&&(d=!0),c&&!g.upToDate&&M(g)&&(p=!0));if(c=!t.mostRecentForwardAttempt||t.mostRecentForwardAttempt.getTime()+u<Date.now(),m=(A(t)||i)&&!1!==t.moreAvailable,f=(M(t)||i)&&!t.upToDate&&c,y=m||d,v=s.isHistoricalModeSet&&!y&&(f||p),x=s.layout.interval,C=s.layout.timeUnit,b=!1,O.g1B(),S=l.findHeadOfData||t.masterData&&t.masterData.length,!l.noLoadMore&&S&&(v||!s.maxDataSetSize||t.dataSet.length<s.maxDataSetSize)&&(y||v)){if(t.initialScroll=t.scroll,t.loadingMore=!0,(o=this.makeParams(t.symbol,t.symbolObject,t)).pagination=!0,o.future=v,t.masterData&&t.masterData.length?(v?o.startDate=t.endPoints.end:o.endDate=t.endPoints.begin,v&&!o.startDate?(w=s.getFirstLastDataRecord(t.masterData,\"DT\",!0))&&(o.startDate=w.DT):y&&!o.endDate&&(\"D\",\"T\",(w=s.getFirstLastDataRecord(t.masterData,\"DT\"))&&(o.endDate=w.DT))):o.endDate=new Date,o.originalState=e.shallowClone(o),o.nodraw=n,!m&&d||!f&&p)return this.loadingMore=!0,this.loadDependents(o,(function(e){t.loadingMore=!1,r&&r(e)}),e.QuoteFeed.PAGINATION),void(r&&r(null));s.fetchMaximumBars[s.layout.aggregationType]&&(o.fetchMaximumBars=!0,!s.maxMasterDataSize||l.maximumTicks<s.maxMasterDataSize?o.ticks=l.maximumTicks:o.ticks=s.maxMasterDataSize),k=function(t,i){O.W1B(),l.prefetchAction&&l.prefetchAction(\"checkLoadMore\");return function(a){var s,o,h,c,u,d,p,g,m;O.W1B(),s=t.stx,o=i.chart,i.symbol==o.symbol&&x==s.layout.interval&&C==s.layout.timeUnit&&(i.loadMore||(i.chart.loadingMore=!1),a.error?(t.quoteFeed.announceError(i.originalState,a),i.chart.loadingMore=!1,r&&r(a.error)):(a.quotes||(a.quotes=[]),h=a.quotes,c=o.masterData,(h=t.cleanup(s,null,h,e.QuoteFeed.PAGINATION,i)).length&&o.masterData&&o.masterData.length&&(i.future?(u=h[0]).DT&&u.DT==o.masterData[o.masterData.length-1].DT&&c.pop():(d=h[h.length-1]).DT&&+d.DT==+o.masterData[0].DT&&h.pop()),i.future?(a.upToDate?o.upToDate=!0:(!1===a.upToDate||h.length>1)&&(o.upToDate=!1),s.isHistoricalModeSet&&h.length<2&&(o.mostRecentForwardAttempt=new Date)):a.moreAvailable||!1!==a.moreAvailable&&h.length?o.moreAvailable=!0:o.moreAvailable=!1,t.tickMultiplier=h.length?2:2*t.tickMultiplier,p=h[0]?h[0].DT:i.startDate,g=h[0]?h[h.length-1].DT:i.endDate,(!o.endPoints.begin||o.endPoints.begin>p)&&(o.endPoints.begin=p),(!o.endPoints.end||o.endPoints.end<g)&&(o.endPoints.end=g),o.loadingMore=!1,i.loadMoreReplace?s.setMasterData(h,o,{noCleanupDates:!0}):i.future?s.updateChartData(h,o,{noCreateDataSet:!0,noCleanupDates:!0}):e.addMemberToMasterdata({stx:s,chart:o,data:h,fields:[\"*\"],noCleanupDates:!0}),i.future&&(m={appending:!0,appendToDate:h[0]&&h[0].DT}),s.createDataSet(void 0,void 0,m),n||s.draw(),l.callback&&l.callback(i),t.loadDependents(i,r,e.QuoteFeed.PAGINATION)))}}(this,o),s.isEquationChart(o.symbol)?e.fetchEquationChart(o,k):(v&&(o.appending=!0),(D=this.getQuoteFeed(o))&&e.ChartEngine.Driver.fetchData(e.QuoteFeed.PAGINATION,D.engine,o,k)),b=!0}!b&&r&&r(null)}function M(e){return!e.endPoints.end||t.scroll-t.maxTicks+1<l.bufferSize||s.tickFromDate(e.endPoints.end,t,null,!0)-h.length+t.scroll-t.maxTicks+2<l.bufferSize}function A(e){return!e.endPoints.begin||h.length-t.scroll<l.bufferSize||h.length-t.scroll-s.tickFromDate(e.endPoints.begin,t)<l.bufferSize}},e.ChartEngine.Driver.prototype.extendHistoricalData=function({from:t},i=(()=>{})){var a,r;O.g1B();var n,s,{stx:o}=this,{chart:l,layout:h}=o,{masterData:c,dataSet:u}=l,{interval:d,timeUnit:p}=h;if(a=this.makeParams(l.symbol,l.symbolObject,l),r=this.getQuoteFeed(a),l.loadingMore||this.loadingNewChart||o.currentlyImporting||!c.length||!r||o.maxDataSetSize&&u.length>o.maxDataSetSize)return i(null);l.loadingMore=!0,a.originalState=Object.assign({},a),a.startDate=t,a.endDate=c[0].DT,e.ChartEngine.Driver.fetchData(e.QuoteFeed.PAGINATION,r.engine,a,(n=this,s=a,function({quotes:t,moreAvailable:a,error:r}){if(s.symbol===l.symbol&&d===h.interval&&p===h.timeUnit){if(l.loadingMore=!1,r)return i(r);t=n.cleanup(o,null,t,e.QuoteFeed.PAGINATION,s),l.moreAvailable=\"boolean\"==typeof a?a:!!t.length,l.endPoints.begin=t[0].DT,e.addMemberToMasterdata({stx:o,chart:l,data:t,fields:[\"*\"],noCleanupDates:!0}),o.createDataSet(),o.draw()}}))},e.ChartEngine.Driver.prototype.barsToFetch=function(t){var i,a;return\"m\",\"o\",\"n\",\"th\",e.isValidNumber(this.tickMultiplier)||(this.tickMultiplier=2),i=this.stx.layout.interval,a=t.stx.layout.periodicity,O.W1B(),\"month\"!=i&&\"week\"!=i||this.stx.dontRoll||(a*=\"week\"==i?7:30),t.stx.chart.maxTicks*a*this.tickMultiplier},e.ChartEngine.Driver.determineStartDate=function(t,e,i){return O.g1B(),this.determineStartOrEndDate(t,e,i,!0)},e.ChartEngine.Driver.determineStartOrEndDate=function(t,e,i,a){return O.W1B(),a||t.fetchMaximumBars?t.startDate||e.previous(i):t.future?e.next(i):new Date},e.ChartEngine.Driver.prototype.makeParams=function(t,i,a){var r,n,s,o,l,h,c,u;n=(r=this.stx).layout.interval,s=this.barsToFetch({stx:r}),\"month\"!=n&&\"week\"!=n||r.dontRoll||(n=\"day\"),l=(o=this.getQuoteFeed({interval:n,symbol:t,symbolObject:i}))&&o.behavior,(h=e.shallowClone(l)||{}).behavior=l,c=!1,O.W1B(),u=[],a.market&&a.market.getSessionNames&&(u=a.market.getSessionNames()),r.extendedHours?r.extendedHours.filter?c=!0:(c=r.layout.extended,u=u.filter((function(t){return t.enabled||r.layout.marketSessions[t.name]}))):u=u.filter((function(t){return t.enabled}));for(var d=0;d<u.length;d++)u[d]=u[d].name;return e.extend(h,{stx:r,symbol:t,symbolObject:i,chart:a,interval:n,extended:c,period:1,ticks:s,additionalSessions:u,quoteDriverID:this.id},!0),h.symbolObject||(h.symbolObject={symbol:t}),isNaN(h.interval)||(\"m\",\"i\",\"nu\",\"te\",h.period=parseInt(h.interval,10),h.interval=r.layout.timeUnit,h.interval||(h.interval=\"minute\")),h},e.ChartEngine.Driver.prototype.newChart=function(t,i){var a,r,n,s,o,l,h,c,u,d,p;a=this.stx,r=t.symbol,n=a.layout.interval,s=a.layout.timeUnit,(o=t.chart).moreAvailable=null,o.upToDate=null,O.g1B(),o.loadingMore=!1,o.attribution=null,l=this.makeParams(r,t.symbolObject,o),e.extend(l,t,!0),h=this.getQuoteFeed(l),c=l.behavior,(a.fetchMaximumBars[a.layout.aggregationType]||t.fetchMaximumBars)&&(!a.maxMasterDataSize||c.maximumTicks<a.maxMasterDataSize?l.ticks=c.maximumTicks:l.ticks=a.maxMasterDataSize,l.fetchMaximumBars=!0),this.loadingNewChart=!0,this.updatingChart=!1,l.originalState=e.shallowClone(l),d=this,p=l,O.W1B(),c.prefetchAction&&c.prefetchAction(\"newChart\"),u=function(o){var l,u,g,m;if(l=p.chart,u=o.quotes,g=!1,r==l.symbol&&n==a.layout.interval&&s==a.layout.timeUnit){for(var f in d.loadingNewChart=!1,o.error?h.engine.announceError(p.originalState,o):(u=d.cleanup(a,null,u,e.QuoteFeed.INITIAL,p),a.setMasterData(u,l,{noCleanupDates:!0}),l.endPoints={},l.endPoints.begin=u[0]?u[0].DT:p.startDate,l.endPoints.end=u[0]?u[u.length-1].DT:p.endDate,u?(l.moreAvailable=!1!==o.moreAvailable,l.upToDate=o.upToDate):(l.moreAvailable=!1,l.upToDate=!0),l.attribution=o.attribution,t.initializeChart&&a.initializeChart(),a.createDataSet(),g=!0),l.series)l.series[f].endPoints={},l.series[f].moreAvailable=null,l.series[f].upToDate=null;(m=l.masterData)&&m.length&&(p.startDate=m[0].DT,p.endDate=m[m.length-1].DT),c.callback&&c.callback(p),d.loadDependents(p,(function(){g&&!p.nodraw&&d.stx.home(),i&&i(o.error),O.g1B(),d.stx.dispatch(\"newChart\",{stx:d.stx,symbol:d.stx.chart.symbol,symbolObject:d.stx.chart.symbolObject,moreAvailable:d.stx.chart.moreAvailable,upToDate:d.stx.chart.upToDate,quoteDriver:d}),d.resetRefreshInterval(c.refreshInterval,c)}),e.QuoteFeed.INITIAL)}else i&&i(\"orphaned\")},this.stx.isEquationChart(l.symbol)?e.fetchEquationChart(l,u):h&&e.ChartEngine.Driver.fetchData(e.QuoteFeed.INITIAL,h.engine,l,u)},e.QuoteFeed.INITIAL=1,e.QuoteFeed.UPDATE=2,e.QuoteFeed.PAGINATION=3,e.QuoteFeed.SERIES=4,e.ChartEngine.Driver.fetchData=function(t,i,a,r){if(!a.symbol)return r({});O.W1B(),i.v2QuoteFeed?\"function\"!=typeof i.subscribe?e.ChartEngine.Driver.fetchDataInContext(t,i,a,r):e.ChartEngine.Driver.fetchDataInContext(t,i,a,function(t){O.g1B(),t.error||this.checkSubscriptions(a.stx),r(t)}.bind(i)):(a.stx.convertToDataZone(a.startDate),a.stx.convertToDataZone(a.endDate),i.fetch(a,r))},e.ChartEngine.Driver.fetchDataInContext=function(t,i,a,r){var n,s,o,l,h,c,u,d,p,g=O;if(\"fu\",\"ncti\",\"o\",\"n\",(h=a.stx).chart.market.newIterator)switch(t===e.QuoteFeed.SERIES&&(a.series=!0,t=e.QuoteFeed.INITIAL,a.endDate&&!a.startDate||a.future?t=e.QuoteFeed.PAGINATION:a.startDate&&!a.endDate&&(t=e.QuoteFeed.UPDATE)),c=Math.min(a.ticks,a.maximumTicks),i.maxTicks&&(c=Math.min(c,i.maxTicks)),u=a.symbolObject.masterSymbol||a.symbol,t){case e.QuoteFeed.UPDATE:if(h.isHistoricalModeSet)return void(h.quoteDriver.updatingChart=!1);a.startDate?d=a.startDate:(d=new Date,g.U1f(19),d.setHours(g.X1f(\"0\",837391648),0,0,g.X1f(2147483647,\"0\",g.P1f(30)))),\"function\"==typeof i.fetchUpdateData&&i.fetchUpdateData(u,h.convertToDataZone(d),a,r);break;case e.QuoteFeed.INITIAL:n={begin:l=a.endDate||new Date,interval:a.interval,periodicity:\"tick\"==a.interval?h.chart.xAxis.futureTicksInterval:a.period,outZone:h.dataZone},s=h.chart.market.newIterator(n),o=e.ChartEngine.Driver.determineStartDate(a,s,c),a.endDate&&(l=a.endDate),\"function\"==typeof i.fetchInitialData&&i.fetchInitialData(u,o,h.convertToDataZone(l),a,r);break;case e.QuoteFeed.PAGINATION:if(\"ti\",\"ck\",n={begin:a.endDate||a.startDate,interval:a.interval,periodicity:\"tick\"==a.interval?h.chart.xAxis.futureTicksInterval:a.period,outZone:h.dataZone},s=h.chart.market.newIterator(n),p=e.ChartEngine.Driver.determineStartOrEndDate(a,s,c,!a.future),o=a.startDate||p,l=a.endDate||p,a.startDate?a.stx.convertToDataZone(o):a.stx.convertToDataZone(l),\"function\"==typeof i.fetchPaginationData){if(h.maxMasterDataSize&&h.maxMasterDataSize<=h.masterData.length)return;i.fetchPaginationData(u,o,l,a,(function(t){l>=Date.now()&&(h.isHistoricalModeSet=!1),g.W1B(),r&&r(t)}))}break;default:console.error(\"Illegal fetchData constant\")}else console.error(\"quoteFeed feature requires first activating market feature.\")}},y=t=>{var e;(e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ).ChartEngine.prototype.addSeries=function(t,i,a){var r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b;if(r=\"p\",r+=\"erce\",r+=\"nt\",n=\"add\",n+=\"-series\",s=this.runPrepend(\"addSeries\",arguments))return s;function S(t){return function(e){var r,n;e.error||(r=e.quotes,n=i.fillGaps,m.cleanupGaps||(n=!1),r=m.doCleanupGaps(r,m.chart,{cleanupGaps:n}),m.updateChartData(r,m.chart,{secondarySeries:l,noCreateDataSet:!0,noCleanupDates:!0,allowReplaceOHL:!0}),h.loading=!1,h.moreAvailable=e.moreAvailable,h.upToDate=e.upToDate,w(m,h)),null===i.action||d.length||m.dispatch(f?\"symbolImport\":\"symbolChange\",{stx:m,symbol:t.symbol,symbolObject:t.symbolObject,action:i.action,id:h.id,parameters:i}),a&&a.call(m,e.error,h)}}function w(a,r){var n,s,o,l;if(n=i.renderer||\"Lines\",s=i.name||t,!i.yAxis||i.yAxis instanceof e.ChartEngine.YAxis||f||(i.yAxis.name=s),i.renderer||i.name||i.color||i.chartType){if(!(o=a.getSeriesRenderer(s))){if(l={name:s,overChart:!1!==i.overChart,useChartLegend:!0,highlightable:i.highlightable,dependentOf:i.dependentOf},i.chartType?(l=e.extend({panel:i.panel,yAxis:i.yAxis},l),o=e.Renderer.produce(i.chartType,l)):(e.ensureDefaults(i,{name:l.name,overChart:!1!==i.overChart,useChartLegend:!0}),o=new e.Renderer[n]({params:i})),!o)return;a.setSeriesRenderer(o)}O.g1B(),o.attachSeries(t,i),!1!==i.loadData&&o.ready(),a.layout.symbols=a.getSymbols({\"include-parameters\":!0,\"exclude-studies\":!0}),a.changeOccurred(\"layout\")}}return o=t||null,l=t,t||(t=e.uniqueID()),i&&!0===i.panel&&(i.panel=t),(h={parameters:i?e.clone(i):{},yValueCache:[],display:o,id:t,loading:!i||!1!==i.loadData}).parameters.yAxis=i&&i.yAxis,(i=h.parameters).symbol&&(l=i.symbol),i.isComparison&&(i.shareYAxis=!0),!i.yAxis||i.yAxis instanceof e.ChartEngine.YAxis||(i.yAxis=new e.ChartEngine.YAxis(i.yAxis)),e.ensureDefaults(i,{chartName:this.chart.name,symbolObject:{symbol:l},panel:this.chart.panel.name,fillGaps:!1,action:n}),\"display\"in i&&(h.display=i.display),c=this.charts[i.chartName],u=i.symbolObject,l=i.symbol=u.symbol,h.display||(h.display=l||i.field),h.endPoints={},O.W1B(),i.gapDisplayStyle||!1===i.gapDisplayStyle||(i.gapDisplayStyle=i.gaps),i.isComparison&&void 0===i.gapDisplayStyle&&(i.gapDisplayStyle=\"transparent\"),d=this.getSeries({symbolObject:u,chart:c,includeMaster:!0}),p=i.panel,this.panels[p]?i.yAxis||i.shareYAxis||(i.yAxis=new e.ChartEngine.YAxis({name:t,position:\"none\"})):((g=i.yAxis||new e.ChartEngine.YAxis).name=t,this.createPanel(t,p,null,null,g),this.preferences.dragging&&this.preferences.dragging.series||(i.highlightable=!1)),c.series[t]=h,m=this,f=this.currentlyImporting,!i.isComparison||!c.forcePercentComparison||i.panel!=c.panel.name||i.yAxis&&i.yAxis!=c.yAxis||this.setChartScale(r),(y=c.masterData)||(y=c.masterData=this.masterData=[]),v=y.length,i.data&&!i.data.useDefaultQuoteFeed?S({symbol:l,symbolObject:u,action:i.action})({quotes:i.data}):d.length?(h.endPoints=d[0].endPoints,w(this,h),a&&setTimeout((function(){a.call(m,null,h)}),0)):this.quoteDriver&&!1!==i.loadData?(C=(x=this.quoteDriver).makeParams(l,u,c),v&&(C.startDate=y[0].DT,C.endDate=this.isHistoricalMode()?y[y.length-1].DT:new Date),C.stx.isEquationChart(C.symbol)?e.fetchEquationChart(C,S(C)):(b=x.getQuoteFeed(C))&&e.ChartEngine.Driver.fetchData(4,b.engine,C,S(C))):(w(this,h),a&&a.call(this,null,h)),this.runAppend(\"addSeries\",arguments),h},e.ChartEngine.prototype.getSeries=function(t){var i,a,r,n,s;for(var o in O.W1B(),a=(i=t.chart?t.chart:this.chart).series,(r=t.symbolObject)||(r={symbol:t.symbol}),n=[],a)s=a[o],e.symbolEqual(r,s.parameters.symbolObject)&&n.push(s);return t.includeMaster&&e.symbolEqual(r,i.symbolObject)&&n.push({}),n},e.ChartEngine.prototype.modifySeries=function(t,i,a){var r,n,s,o,l,h,c,u,d,p,g,m,f,y,v;if(r=\"modifySer\",r+=\"ies\",!this.runPrepend(\"modifySeries\",arguments)&&(O.W1B(),i&&(\"string\"==typeof t?(s=t,n=(o=i.chartName?this.charts[i.chartName]:this.chart).series[s]):(s=(n=t).id,o=this.charts[n.parameters.chartName]),n))){for(var x in e.extend(n.parameters,i),l=n.parameters,o.seriesRenderers){u=(c=o.seriesRenderers[x]).params,d=c.seriesParams;for(var C=0;C<d.length;++C)if(p=d[C],m=(g=this.panels[p.panel])&&g.yAxis.name,p.id===n.id){!0===l.panel&&(l.panel=l.dependentOf||l.name),u.panel=l.panel,i.yAxis&&(u.yAxis=i.yAxis),l.panel!=p.panel&&u.name==m?this.electNewPanelOwner(p.panel):(f=this.getYAxisByName(l.panel,u.name))&&l.yAxis&&f.name!==l.yAxis.name&&(f.name=this.electNewYAxisOwner(f)),l.field||(l.field=null),c.attachSeries(s,e.ensureDefaults(l,p)),l.field||(l.field=l.subField),delete l.subField,!l.isComparison||!o.forcePercentComparison||l.panel!=o.panel.name||n.parameters.yAxis&&l.yAxis.name!=o.yAxis.name||this.setChartScale(\"percent\"),h=c;break}}if(this.changeOccurred(\"layout\"),e.getFn(\"Drawing.updateSource\")(this,n.parameters.symbol||s,null,n.parameters.panel),this.runAppend(r,arguments),!0!==a){y=h.getDependents(this);for(var b=0;b<y.length;b++)this.modifySeries(y[b].params.name,{panel:h.params.panel,yAxis:n.parameters.yAxis},!0);(v=o.seriesRenderers[h.params.dependentOf])&&(v.params.yAxis==n.parameters.yAxis&&v.params.panel==h.params.panel||this.modifySeries(h.params.dependentOf,{panel:h.params.panel,yAxis:n.parameters.yAxis},!0))}return this.draw(),n}},e.ChartEngine.prototype.deleteSeries=function(t,e,i){var a,r,n,s,o,l,h,c;a=\"delet\",a+=\"eSeries\",this.runPrepend(a,arguments)||(r=(i=i||{}).action?i.action:\"remove-series\",\"object\"==typeof t?(n=t.id,e=e||this.charts[t.parameters.chartName]):(n=t,e=e||this.chart),(s=e.series[n])&&(o=s.parameters.loadData,l=s.parameters.symbolObject,delete e.series[n],h=this.getSeries({symbolObject:l,includeMaster:!0}),O.g1B(),!1===o&&h.push(n),h.length||this.cleanMasterData(l,e),(c=this.panels[s.parameters.panel])&&this.checkForEmptyPanel(c),this.createDataSet(),h.length||this.dispatch(this.currentlyImporting?\"symbolImport\":\"symbolChange\",{stx:this,symbol:l.symbol,symbolObject:l,id:n,action:r}),this.quoteDriver&&this.quoteDriver.updateSubscriptions(),this.runAppend(\"deleteSeries\",arguments)))},e.ChartEngine.prototype.removeSeries=function(t,e){var i,a,r,n,s,o;if(!this.runPrepend(\"removeSeries\",arguments)){for(var l in a=!1,\"object\"==typeof t?(i=t.id,e=e||this.charts[t.parameters.chartName]):(i=t,e=e||this.chart),e.seriesRenderers){r=e.seriesRenderers[l],s=(n=this.panels[r.params.panel])&&n.yAxis.name;for(var h=r.seriesParams.length-1;h>=0;h--)r.seriesParams[h].id===i&&(r.removeSeries(i),r.seriesParams.length<1&&(this.removeSeriesRenderer(r),r.params.name==s?this.electNewPanelOwner(r.params.panel):this.checkForEmptyPanel(r.params.panel)||(o=this.getYAxisByName(n,r.params.name))&&(o.name=o.studies[0]||o.renderers[1])),a=!0)}a||this.deleteSeries(i,e),this.resetDynamicYAxis(),this.draw(),this.resizeChart(),O.g1B(),this.runAppend(\"removeSeries\",arguments)}},e.Comparison=e.Comparison||function(){},e.Comparison.initialPrice=100,e.Comparison.getInitialPrice=function(t){var i,a,r;if(\"numbe\",\"r\",t.initialComparisonPrice)return t.initialComparisonPrice;if(t.initialComparisonPrice=100,\"number\"==typeof(i=e.Comparison.initialPrice)&&(t.initialComparisonPrice=i),\"string\"==typeof i&&(t.series[i]||\"\"===i)){a=\"Cl\",a+=\"o\",a+=\"se\",t.defaultPlotField&&(t.highLowBars||(a=t.defaultPlotField));for(var n=t.dataSet.length-t.scroll;n<t.dataSet.length;n++)if(r=t.dataSet[n]){if(r[i]&&r[i][a]){t.initialComparisonPrice=r[i][a];break}if(\"\"===i&&r[a]){t.initialComparisonPrice=r[a];break}}}return t.initialComparisonPrice},e.Comparison.priceToPercent=function(t,i,a){var r;return O.W1B(),r=e.Comparison.baseline||a,Math.round((a-r)/r*100*1e4)/1e4},e.Comparison.percentToPrice=function(t,i,a){var r;return r=e.Comparison.baseline||1,O.g1B(),O.P1f(60),O.X1f(\"100\",a,1,r)},e.Comparison.priceToRelative=function(t,i,a){var r,n;return r=e.Comparison.baseline||a,O.W1B(),n=e.Comparison.getInitialPrice(i),O.U1f(61),O.E1f(a,n,r)},e.Comparison.relativeToPrice=function(t,i,a){var r,n;return r=e.Comparison.baseline||1,n=e.Comparison.getInitialPrice(i),O.U1f(61),O.X1f(a,r,n)},e.Comparison.createComparisonSegmentInner=function(t,i){var a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M=O;for(r in\"Hig\",\"h\",\"Op\",\"e\",\"n\",\"C\",\"l\",\"os\",\"e\",a=[],i.series)(o=i.series[r].parameters).isComparison&&a.push(o.symbol);for(var A in l=[\"Close\",\"Open\",\"High\",\"Low\",\"iqPrevClose\"],h=t.chart.highLowBars,i.defaultPlotField&&!h&&l.unshift(i.defaultPlotField),c=l[0],u=t.layout.studies)if(d=u[A],n=t.panels[d.panel],s=d.getYAxis(t),n&&n.yAxis==s){for(r in d.outputMap)l.push(r);for(var P=0;P<=2;P++)l.push(d.name+\"_hist\"+(P||\"\"));d.referenceOutput&&l.push(d.referenceOutput+\" \"+d.name)}for(var F in t.plugins)if((p=t.plugins[F]).transformOutputs)for(r in p.transformOutputs)l.push(r);i.initialComparisonPrice=null,i.dataSegment=[],g=null,m=i.dataSet.length-i.scroll-1,t.startComparisonsAtFirstVisibleBar&&(m+=1),f=i.maxTicks+3,M.g1B();for(var _=0;_<=f;_++){if(_==f&&(_=-1),M.P1f(0),(y=M.X1f(m,_))<i.dataSet.length&&y>=0){if(x=(v=i.dataSet[y])[c],!g){if(0===x||null===x){if(_<0)break;continue}g=e.clone(v)}for(v.transform||(v.transform={cache:{},DT:v.DT,Date:v.Date}),!e.Comparison.baseline&&x&&(g=e.clone(v)),e.Comparison.baseline=g[c],C=0;C<l.length;C++)(v[r=l[C]]||0===v[r])&&(v.transform[r]=i.transformFunc(t,i,v[r]));for(C=0;C<a.length;C++)if(r=a[C],b=i.series[r],-1==_&&b&&b.parameters.isComparison)delete v.transform[r];else{S=v[r];for(var B=0;S&&B<l.length;B++)((w=S[l[B]])||0===w)&&((k=g[r]&&g[r][l[0]])||0===k||(g[r]||(g[r]={}),g[r][l[B]]=k=w*e.Comparison.baseline/v[c]),0!==k&&(D=e.Comparison.baseline||1,M.U1f(62),T=M.X1f(D,k,w),v.transform[r]||(v.transform[r]={}),v.transform[r][l[B]]=i.transformFunc(t,i,T)))}i.dataSegment.push(v)}else y<0&&i.dataSegment.push(null);if(_<0)break}},e.Comparison.priceFormat=function(t,e,i){var a,r,n=O;return null==i||isNaN(i)?\"\":(a=e.yAxis.priceTick,(r=t.internationalizer)?a>=5?(n.P1f(6),i=r.percent.format(n.E1f(100,i))):a>=.5?(n.P1f(6),i=r.percent1.format(n.X1f(100,i))):a>=.05?(n.U1f(6),i=r.percent2.format(n.E1f(100,i))):a>=.005?(n.U1f(6),i=r.percent3.format(n.E1f(100,i))):(n.P1f(6),i=r.percent4.format(n.X1f(100,i))):i=a>=5?i.toFixed(0)+\"%\":a>=.5?i.toFixed(1)+\"%\":a>=.05?i.toFixed(2)+\"%\":a>=.005?i.toFixed(3)+\"%\":i.toFixed(4)+\"%\",n.g1B(),0===parseFloat(i)&&\"-\"==i.charAt(0)&&(i=i.substring(1)),i)},e.ChartEngine.prototype.setComparison=function(t,i,a){var r,n;if(O.g1B(),\"pe\",\"rcent\",i||(i=this.chart),\"string\"==typeof i&&(i=this.charts[i]),(a||\"\"===a)&&(e.Comparison.initialPrice=a),!0===t){if(i.isComparison)return;t=\"percent\"}switch(this.resetDynamicYAxis(),n=(r=i.panel.yAxis).priceFormatter==e.Comparison.priceFormat,t){case\"relative\":this.setTransform(i,e.Comparison.priceToRelative,e.Comparison.relativeToPrice),n&&(r.priceFormatter=r.originalPriceFormatter?r.originalPriceFormatter.func:null,r.originalPriceFormatter=null),r.whichSet=\"dataSegment\",i.isComparison=!0;break;case\"percent\":this.setTransform(i,e.Comparison.priceToPercent,e.Comparison.percentToPrice),n||(r.originalPriceFormatter={func:r.priceFormatter},r.priceFormatter=e.Comparison.priceFormat),r.whichSet=\"dataSegment\",i.isComparison=!0;break;default:this.unsetTransform(i),n&&(r.priceFormatter=r.originalPriceFormatter?r.originalPriceFormatter.func:null,r.originalPriceFormatter=null),r.whichSet=\"dataSet\",i.isComparison=!1}},e.ChartEngine.prototype.setChartScale=function(t){var i,a;i=this.chart,t||(t=\"linear\"),(a={percent:!0,relative:!0})[t]?this.setComparison(t,i,e.Comparison.initialPrice):a[this.layout.chartScale]&&this.setComparison(!1,i),this.layout.chartScale=t,i.canvas&&this.draw(),this.changeOccurred(\"layout\")}},v=t=>{var e,i;function a(t){if(O.g1B(),\"undefined\"!=typeof html2canvas)return i=html2canvas,t();if(\"undefined\"!=typeof requirejs)try{return requirejs([\"html2canvas.min.js\"],(function(e){return i=e,O.g1B(),t()}))}catch(t){console.warn(\"Require loading has failed, attempting to load html2canvas manually.\")}e.loadScript(function(){var t,i;if(\"j\",\"s/t\",O.g1B(),\"hirdparty/\",e.Share.html2canvasLocation)return e.Share.html2canvasLocation;t=document.getElementsByTagName(\"script\");for(var a=0;a<t.length;a++)if((i=t[a]).src&&i.src.indexOf(\"share.js\")>-1)return i.src.replace(/standard\\/share\\.js/,\"\")+\"thirdparty/\";return\"js/thirdparty/\"}()+\"html2canvas.min.js\",(function(){for(var e=1;1539875072!==O.C1u(e.toString(),e.toString().length,69307);e++)return i=html2canvas,t();if(-1668712102!==O.C1u(2..toString(),2..toString().length,93670))return i=html2canvas,t()}))}function r(t){var e;if(\"font\",\"-s\",\"i\",\"ze\",\"domina\",\"nt-\",\"baseline\",t.style)for(var i in e=getComputedStyle(t),[\"alignment-baseline\",\"dominant-baseline\",\"fill\",\"fill-opacity\",\"font-family\",\"font-size\",\"font-variant\",\"font-weight\",\"text-align\",\"text-anchor\"].forEach((function(i){var a;O.W1B(),a=2;for(var r=1;1504285271!==O.p1u(r.toString(),r.toString().length,15293);r++)(-t.style[i]||e[i])&&(t.style[i]=e[i]),a+=2;-1221138997!==O.C1u(a.toString(),a.toString().length,82212)&&!t.style[i]&&e[i]&&(t.style[i]=e[i])})),t.children)r(t.children[i])}function n(t,e,a){var n,s,o,l,h,c,u;if(\"sv\",\"g\",\"ciq-no-sh\",\"are\",e||(e={}),[],\"ciq-no-share\",n=document.querySelector(\"body\"),e.hide&&e.hide instanceof Array){\",\",\" \",s=e.hide.join(\", \"),o=document.querySelectorAll(s);for(var d=0;d<o.length;d++)o[d].classList.add(\"ciq-no-share\")}for(n.classList.add(\"sharing\"),l=t.chart.container.getElementsByTagName(\"svg\"),h=[],c=0;c<l.length;c++)u=l[c],h.push(u.innerHTML),r(u);i(t.chart.container,{allowTaint:!1,logging:!1,width:e.width||null,height:e.height||null,backgroundColor:e.background||null,useCORS:!0}).then((function(t){for(a&&a(null,e.data?t.toDataURL(\"image/png\"):t),c=0;c<l.length;c++)l[c].innerHTML=h[c];O.W1B(),n.classList.remove(\"sharing\")})).catch((function(t){for(\"s\",\"h\",\"a\",\"ring\",a&&a(t),c=0;c<l.length;c++)l[c].innerHTML=h[c];O.g1B(),n.classList.remove(\"sharing\")}))}(e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ).Share=e.Share||function(){},e.Share.FullChart2PNG=function(t,e,r){if(t&&t.chart){if(\"undefined\"==typeof html2canvas)return a((function(){return n(t,e,r)}));i=html2canvas,n(t,e,r)}},e.Share.createImage=function(t,i,a){var r,n,s,o,l,h,c,u,d,p;r=\"i\",r+=\"ma\",r+=\"ge/png\",n=\"im\",n+=\"a\",n+=\"ge\",n+=\"/\",s=[].slice.call(arguments),a=s.pop(),null!==i&&\"object\"==typeof i||(i={widthPX:s[1],heightPX:s[2],imageType:s[3]}),o=i.widthPX,l=i.heightPX,h=i.imageType,O.W1B(),c=t.chart.canvas.height,u=t.chart.canvas.width,t.chart.canvas.style.height&&(c=e.stripPX(t.chart.canvas.style.height),u=e.stripPX(t.chart.canvas.style.width)),o&&l?(c=l,u=o):l?u=t.chart.canvas.width*(c/t.chart.canvas.height):o&&(u=o,c=t.chart.canvas.height*(o/t.chart.canvas.width)),d=h?n+h:r,(p=document.createElement(\"img\")).onload=function(){e.Share.FullChart2PNG(t,{image:this,width:u,height:c,hide:i.hide},(function(t,e){if(t)\"Er\",\"ror producing canvas snapshot: \",O.U1f(0),console.warn(O.E1f(\"Error producing canvas snapshot: \",t));else try{a(e.toDataURL(d))}catch(t){console.warn(\"Safari devices do not handle CORS enabled images. Using the charts' canvas as a fallback.\"),a(p.src)}}))},p.src=t.chart.canvas.toDataURL(d)},e.Share.uploadImage=function(t,i,a,r){a||(a={}),a.image=t,e.postAjax(i,JSON.stringify(a),(function(t,e){200==t?r(null,e):r(t,null)}))||r(0,null)},e.Share.shareChart=function(t,i,a){e.Share.createImage(t,{},(function(r){var n,s,o,l,h;n=e.uniqueID(),s=\"https://share.chartiq.com\",O.P1f(15),O.W1B(),o=O.E1f(n,\"/upload/\",s),i&&(i.host&&(s=i.host),i.path&&(o=s+i.path+\"/\"+n)),l=t.getStartDateOffset(),h={id:n,image:r,config:{layout:t.exportLayout(),drawings:t.exportDrawings(),xOffset:l,startDate:t.chart.dataSegment[l].Date,endDate:t.chart.dataSegment[t.chart.dataSegment.length-1].Date,id:n,symbol:t.chart.symbol}},e.Share.uploadImage(r,o,h,(function(t,i){null!==t?e.alert(\"error sharing chart: \",t):(O.P1f(0),a(O.E1f(s,i)))}))}))}},x=t=>{var e;O.W1B(),(e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ).ChartEngine.prototype.setRange=function(t,i){var a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,B,E,L,N,H,I=O;function R(t,i,a,r,n,s){var o,l;return o=0,I.P1f(5),l=I.X1f(i,t),e.ChartEngine.isDailyInterval(a)?(\"we\",\"ek\",o=\"month\"==a?l/e.MONTH/r:\"week\"==a?l/e.WEEK/r:l/e.DAY/r):isNaN(a)||(\"seco\",\"nd\",\"millisecond\"==n?(I.P1f(9),o=I.E1f(r,l,a)):o=\"second\"==n?l/e.SECOND/(r*a):l/e.MINUTE/(r*a)),Math.round(o)}function W(e){var o,l,h,c,d,p,g,m,f,y,v,x,C,b,S,w,k;if(\"l\",\"a\",\"you\",\"t\",\"to\",\"d\",\"ay\",\"d\",\"a\",\"y\",\"un\",\"d\",\"efin\",\"ed\",void 0===e&&(e=null),o=0,l=0,h=new Date,c=t.base,d=t.periodicity,p=u.layout,t.goIntoFuture&&(!r.masterData.length||n>r.masterData[r.masterData.length-1].DT)&&(g=r.masterData.length?r.masterData.pop():{DT:n},m=u.doCleanupGaps([g,{DT:s}],r,{cleanupGaps:\"gap\",noCleanupDates:!0}),u.setMasterData(r.masterData.concat(m),r,{noCleanupDates:!0}),u.createDataSet(null,null,{appending:!0})),y=(f=r.dataSet).length,f&&0!==y){if(\"day\"===c&&d&&\"day\"===d.interval)o=y<(x=t.multiplier)?0:y-x,I.U1f(46),l=I.X1f(\"1\",y);else if(\"today\"===c&&f[y-1].DT.getDate()<h.getDate()){(C=new Date(f[y-1].DT.getTime())).getTime(),v=0;for(var D=y-1;D>=0;D--)if(f[D]&&f[D].DT.getDate()!=C.getDate()){C=new Date(+f[D+1].DT),I.U1f(0),v=I.E1f(D,1);break}o=v,I.P1f(5),l=I.X1f(1,y)}else o=\"all\"!=t.base&&(n.getTime()>=f[0].DT.getTime()||t.goIntoPast)?u.tickFromDate(n,r,null,!0):0,\"all\"!=t.base&&(s.getTime()<=f[y-1].DT.getTime()||t.goIntoFuture)?(l=u.tickFromDate(s,r))>y-1&&l--:(I.U1f(5),l=I.X1f(1,y));if(I.g1B(),I.U1f(16),(b=I.X1f(o,1,l))<1)i&&i(e);else{for(var T in S=t.padding||0,l<y-1&&(I.U1f(30),S=I.X1f(2147483647,\"0\")),w=(r.width-S)/b,u.setCandleWidth(w,r),I.U1f(63),r.scroll=I.X1f(1,l,y,b),I.P1f(1),u.micropixels=I.E1f(1972827328,\"1\"),u.panels)u.calculateYAxisMargins(u.panels[T].yAxis);if(t.dontSaveRangeToLayout)delete p.range;else{delete t.chart,-1197129820,312704863,k=2;for(var M=1;-1197129820!==I.C1u(M.toString(),M.toString().length,12580);M++)p.setSpan,p.range=t,k+=2;312704863!==I.p1u(k.toString(),k.toString().length,42887)&&(delete p.setSpan,p.range=t)}u.draw(),u.changeOccurred(\"layout\"),a||u.dispatch(\"periodicity\",{stx:u,differentData:_,prevPeriodicity:{interval:A,periodicity:P,timeUnit:F}}),i&&i(e)}}else i&&i(e)}function z(t){return t&&0===d?(r.scroll=T,u.setCandleWidth(M),u.layout.interval=A,u.layout.periodicity=P,u.layout.timeUnit=F,void(i&&i(t))):++d>10?(\"CIQ.ChartEngine.setRange(): To\",\"o many loads (10) from server. Stopping. Check periodicity logic.\",console.log(\"CIQ.ChartEngine.setRange(): Too many loads (10) from server. Stopping. Check periodicity logic.\"),void W()):void W()}if(e.isEmpty(t)&&(t={dtLeft:arguments[0],dtRight:arguments[1],padding:arguments[2],chart:arguments[3]},i=arguments[4]),this.staticRange&&(t.goIntoPast=t.goIntoFuture=!0),t.chart||(t.chart=this.chart),void 0===t.padding&&(t.padding=0),a=!1,r=t.chart,n=\"string\"==typeof t.dtLeft?new Date(t.dtLeft):t.dtLeft,s=new Date,t.dtRight&&(s=\"string\"==typeof t.dtRight?new Date(t.dtRight):t.dtRight),!n){o=this.standardMarketIterator(s,null,r),n=o.previous(r.maxTicks),l=1717477597,I.P1f(2),h=I.X1f(\"2039115345\",1),I.U1f(2),c=I.E1f(\"2\",1);for(var V=1;I.C1u(V.toString(),V.toString().length,58652)!==l;V++)~t.periodicity&&(a=!1),c+=2;I.C1u(c.toString(),c.toString().length,33399)!==h&&(t.periodicity||(a=!0)),t.periodicity||(a=!0)}if(I.W1B(),r.inflectionPoint=n,this.layout.range={dtLeft:n,dtRight:s},u=this,d=0,this.quoteDriver){if(a)p=this.layout.interval,m=this.layout.timeUnit,g=this.layout.periodicity;else if(t.periodicity)p=(f=e.cleanPeriodicity(t.periodicity.period,t.periodicity.interval,t.periodicity.timeUnit)).interval,m=f.timeUnit,g=f.period;else if(y=s.getTime()-n.getTime(),this.autoPickCandleWidth.turnOn){I.U1f(30),b=I.E1f(2147483647,\"0\"),b=this.autoPickCandleWidth.candleWidth?this.autoPickCandleWidth.candleWidth:this.chart.barsHaveWidth?5:2,S=r.width/b,p=(w=this.dynamicRangePeriodicityMap)[0].interval,g=1;for(var U=0;U<w.length;U++){if((D=y/w[U].rangeInMS)<S){w[U-1]?(p=w[U-1].interval,m=w[U-1].timeUnit,I.P1f(6),g=Math.ceil(I.E1f(S,k))):(p=w[U].interval,m=w[U].timeUnit,g=1);break}k=D}}else{v=this.staticRangePeriodicityMap,x=null;for(var j=0;j<v.length;j++)if(y/(C=v[j]).rangeInMS<1.001){x=C;break}p=x.interval,g=x.periodicity,m=x.timeUnit}T=this.chart.scroll,M=this.layout.candleWidth,A=this.layout.interval,P=this.layout.periodicity,F=this.layout.timeUnit,this.chart.scroll=this.chart.maxTicks=R(s.getTime(),n.getTime(),p,g,m,this.dontRoll),this.layout.candleWidth=this.chart.width/this.chart.maxTicks,_=this.needDifferentData({period:g,interval:p,timeUnit:m}),Object.keys(this.chart.endPoints).length&&(this.chart.endPoints.begin>n||this.chart.endPoints.end<s)&&(_=!0),!this.chart.masterData||!this.chart.masterData.length||_||t.forceLoad?(B=\"t\",B+=\"i\",B+=\"c\",B+=\"k\",this.layout.interval=p,this.layout.periodicity=g,this.layout.timeUnit=m,this.layout.timeUnit||(E=\"t\",E+=\"i\",E+=\"c\",E+=\"k\",e.ChartEngine.isDailyInterval(this.layout.interval)?this.layout.timeUnit=null:\"second\"==this.layout.interval?this.layout.timeUnit=\"second\":this.layout.interval!=E&&(this.layout.timeUnit=\"minute\")),L={symbol:r.symbol,symbolObject:r.symbolObject,chart:r,nodraw:!0},this.layout.interval==B&&(L.startDate=n,L.endDate=s),this.displayInitialized||(L.initializeChart=!0),\"month\"!=(N={symbol:r.symbol,symbolObject:r.symbolObject,interval:this.layout.interval}).interval&&\"week\"!=N.interval||this.dontRoll||(N.interval=\"day\"),H=Math.max(this.quoteDriver.getQuoteFeed(N).behavior.bufferSize+50,200),o=this.standardMarketIterator(n,null,r),L.startDate=new Date(o.previous(H).getTime()),o=this.standardMarketIterator(s,null,r),L.endDate=new Date(o.next(H).getTime()),L.endDate<Date.now()&&(this.isHistoricalModeSet=!0),this.clearCurrentMarketData(this.chart),clearTimeout(this.streamParameters.timeout),this.quoteDriver.newChart(L,z)):(this.layout.interval==p&&this.layout.periodicity==g&&this.layout.timeUnit==m&&this.chart.dataSegment&&this.chart.dataSegment[0]&&this.chart.dataSegment[0].DT==r.inflectionPoint||(this.layout.interval=p,this.layout.periodicity=g,this.layout.timeUnit=m,this.createDataSet()),z())}else W()},e.ChartEngine.prototype.setSpan=function(t,i){var a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M;function A(t,e){var i;return O.W1B(),C?(O.U1f(2),i=O.E1f(\"7\",1),e?t.setHours(t.getHours()+i):(t.setHours(t.getHours()-i),p.isMarketDate(t)||t.setDate(t.getDate()-2)),t):t}function P(t){return O.g1B(),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t}if(a=\"d\",a+=\"a\",a+=\"y\",r=\"wee\",r+=\"k\",n=\"m\",n+=\"o\",n+=\"nth\",s=\"y\",s+=\"td\",o=\"a\",o+=\"l\",o+=\"l\",l=\"ob\",l+=\"jec\",h=arguments[0],c=arguments[1],u=arguments[2],d=arguments[3],typeof t==(l+=\"t\")?(h=t.period?t.period:t.multiplier?t.multiplier:1,c=t.interval?t.interval:t.base?t.base:t.span?t.span:t.period,u=t.padding,d=t.chart):(t={period:h,interval:c,padding:u,chart:d},i=arguments[5]),d||(d=this.chart),p=d.market,(c=c.toLowerCase())==o)return t.dontSaveRangeToLayout=!0,void this.displayAll(t,i);m=c,f=1,\"today\"==c?m=\"day\":\"year\"==c&&(m=\"month\",f=12),y=e.shallowClone(t),x=(v={begin:p.marketZoneNow(),interval:m,period:f}).begin,C=e.Market.Symbology.isForexSymbol(d.symbol),c===s?((x=P(x)).setMonth(0),x.setDate(1)):c===n?(x=P(new Date)).setMonth(x.getMonth()-h):\"year\"===c?(x=P(new Date)).setFullYear(x.getFullYear()-h):c===r?(x=P(new Date)).setDate(x.getDate()-7*h):c===a&&1==h&&p.isMarketDay()?(b=x.getHours(),S=x.getMinutes(),w=x.getSeconds(),k=x.getMilliseconds(),(x=(g=p.newIterator(v)).previous()).setHours(b,S,w,k),x=p._convertFromMarketTZ(x)):\"today\"===c?(v.begin=A(x,!0),g=p.newIterator(v),(p.isOpen()||p.getPreviousOpen().getDate()==x.getDate())&&g.next(),A(x=g.previous()),y.goIntoFuture=!0,y.dtRight=new Date(+x),y.dtRight.setDate(x.getDate()+1),y.dtRight=p._convertFromMarketTZ(y.dtRight),C||(x.setHours(g.market.zopen_hour),x.setMinutes(g.market.zopen_minute),x.setSeconds(0)),x=p._convertFromMarketTZ(x)):(D=\"d\",D+=\"a\",D+=\"y\",T=\"d\",T+=\"a\",c==(T+=\"y\")&&(v.begin=A(x,!0)),g=p.newIterator(v),1==h&&h++,O.U1f(46),x=g.previous(O.E1f(\"1\",h)),c==D&&(x=p._convertFromMarketTZ(A(x)))),y.dtLeft=x,y.maintainPeriodicity&&(y.periodicity={},y.periodicity.interval=this.layout.interval,y.periodicity.period=this.layout.periodicity),d.spanLock=!1,y.dontSaveRangeToLayout=!0,M=this,this.setRange(y,(function(e){M.layout.setSpan=t,M.changeOccurred(\"layout\"),O.W1B(),\"today\"==c&&(d.spanLock=!0),i&&i(e)}))},e.ChartEngine.prototype.getSpanCandleWidth=function(t){var e,i,a,r,n;if(\"Y\",\"T\",\"D\",t&&t.base&&t.multiplier)return e=parseFloat(t.multiplier),i=t.base,a=new Date,r=new Date,\"year\"==i?r.setFullYear(r.getFullYear()-e):\"month\"==i?r.setMonth(r.getMonth()-e):\"day\"==i?r.setDate(r.getDate()-e):\"week\"==i?r.setDate(r.getDate()-7*e):\"YTD\"==i&&(r.setMonth(0),r.setDate(1)),n=(a.getTime()-r.getTime())/1e3/60/60/24,O.P1f(61),n=O.E1f(5,n,7),this.chart.width/n},e.ChartEngine.prototype.displayAll=function(t,i){var a,r,n;O.W1B();var{chart:s,layout:o}=this;function l(){var r;s.masterData&&s.masterData.length&&((r=e.clone(t)).dtLeft=s.endPoints.begin.DT,r.dtRight=s.endPoints.end.DT,r.periodicity={},r.periodicity.interval=o.interval,r.periodicity.period=o.periodicity,r.periodicity.timeUnit=o.timeUnit,a.setRange(r,(function(e){for(var r in a.layout.setSpan={base:t.base,multiplier:t.multiplier},a.changeOccurred(\"layout\"),a.panels)a.calculateYAxisMargins(a.panels[r].yAxis);O.W1B(),a.draw(),i&&i(e)})))}function h(t){t||a.quoteDriver.loadAll(s,l)}t&&t.chart&&(s=t.chart),a=this,this.quoteDriver?(r=t.maintainPeriodicity?{period:o.periodicity,interval:o.interval,timeUnit:o.timeUnit}:{period:1,interval:\"month\",timeUnit:null},r=t.periodicity?t.periodicity:r,r=e.cleanPeriodicity(r.period,r.interval,r.timeUnit),n=this.needDifferentData(r),this.layout.periodicity=r.period,this.layout.interval=r.interval,this.layout.timeUnit=r.timeUnit,t.forceLoad||n?(this.clearCurrentMarketData(this.chart),this.quoteDriver.newChart({noDraw:!0,symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,chart:this.chart,initializeChart:!0,fetchMaximumBars:!0},h)):s.moreAvailable||!s.upToDate?h():(this.createDataSet(),l())):l()}},C=t=>{var e;(e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ).ChartEngine.prototype.importLayout=function(t,i){var a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,B,E,L,N,H,I,R=O;if(a=\"li\",a+=\"n\",a+=\"e\",t){for(var W in r=this,n=[],\"object\"!=typeof i&&(i={managePeriodicity:arguments[1],preserveTicksAndCandleWidth:arguments[2]}),s=this.layout,o=e.shallowClone(s),l=i.managePeriodicity,h=i.cb,c=i.seriesCB,u=i.noDataLoad,d=i.preserveTicksAndCandleWidth,p=null,this.exportDrawings&&(p=this.exportDrawings(),this.abortDrawings()),this.currentlyImporting=!0,s.studies)g=\"S\",g+=\"tudies.re\",g+=\"moveSt\",g+=\"udy\",m=s.studies[W],e.getFn(g)(this,m);for(x in this.overlays={},f=e.shallowClone(this.panels),this.panels={},y=e.clone(t),s.periodicity=o.periodicity,s.interval=o.interval,s.timeUnit=o.timeUnit,s.setSpan=o.setSpan,s.range=o.range,d?s.candleWidth=o.candleWidth:s.candleWidth||(s.candleWidth=8),this.setCandleWidth(s.candleWidth),s.flipped&&this.flipChart(s.flipped),S=function(t,e){return t.index<e.index?-1:1},v=y.panels)\"index\"in v[x]||(S=null),(C=v[x]).name=x,n.push(C);if(s.panels={},w=null,n.length>0){S&&n.sort(S);for(var z=0;z<n.length;++z)b=(C=n[z]).yAxis?new e.ChartEngine.YAxis(C.yAxis):null,this.stackPanel(C.display,C.name,C.percent,C.chartName,b),C.soloing&&(w=this.panels[C.name])}for(var V in e.isEmpty(v)&&(k=\"c\",k+=\"ha\",k+=\"rt\",this.stackPanel(k,\"chart\",1,\"chart\")),this.resizeCanvas(),f)if(D=f[V],T=this.panels[V]){for(var U in this.container.removeChild(T.holder),D.handle&&this.container.removeChild(D.handle),{holder:!0,subholder:!0,display:!0,icons:!0})T[U]=D[U];this.configurePanelControls(T),D.chart.panel==D&&(D.chart.panel=T)}else this.privateDeletePanel(D);for(var j in this.chart.panel=this.panels.chart,X(this.panels),e.dataBindSafeAssignment(s,e.clone(y)),M=e.clone(s.studies),delete s.studies,M)A=M[j],e.getFn(\"Studies.addStudy\")(this,A.type,A.inputs,A.outputs,A.parameters,A.panel);if(this.extendedHours&&this.extendedHours.prepare(s.extended,s.marketSessions),void 0===s.chartType&&(s.chartType=a),this.setMainSeriesRenderer(),w&&this.panelSolo(w),this.adjustPanelPositions(),X(this.panels),this.storePanels(),!u){if(y.symbols&&y.symbols.length)return P={chart:this.chart},!d&&l&&y.range&&Object.keys(y.range).length?P.range=y.range:!d&&l&&y.setSpan&&Object.keys(y.setSpan).length?P.span=y.setSpan:l&&y.interval?P.periodicity={interval:y.interval,period:y.periodicity,timeUnit:y.timeUnit}:P.periodicity={interval:o.interval,period:o.periodicity,timeUnit:o.timeUnit},F=y.symbols[0].symbolObject||y.symbols[0].symbol,void this.loadChart(F,P,(function(t){var i;if(R.W1B(),!t){for(var a,n=1;n<y.symbols.length&&r.addSeries;++n)(a=y.symbols[n]).parameters||(a.parameters={}),i=e.clone(a.parameters),this.panels[i.panel]?r.addSeries(a.id,i,Z):console.warn('Warning: Series \"'+a.id+'\" could not be imported due to a missing corresponding panel \"'+i.panel+'\"');y.chartScale&&r.setChartScale(y.chartScale)}Y(),h&&h.apply(null,arguments)}));if(l){if(!d&&this.setRange){if((_=y.range)&&Object.keys(_).length&&this.chart.symbol)return void this.setRange(_,(function(){Y(),h&&h()}));if(y.setSpan&&Object.keys(y.setSpan).length&&this.chart.symbol)return void this.setSpan(y.setSpan,(function(){Y(),h&&h()}))}return B=y.interval,E=y.periodicity,L=y.timeUnit,isNaN(E)&&(E=1),B||(B=\"day\"),void this.setPeriodicity({period:E,interval:B,timeUnit:L},(function(){Y(),R.W1B(),h&&h()}))}}if(l){s.periodicity=y.periodicity,N=-377670356,H=-1676333428,I=2;for(var q=1;R.C1u(q.toString(),q.toString().length,59778)!==N;q++)s.interval=y.interval,s.timeUnit=y.timeUnit,s.setSpan=y.setSpan,R.P1f(19),I+=R.X1f(\"2\",958594912);R.p1u(I.toString(),I.toString().length,33131)!==H&&(s.interval=y.interval,s.timeUnit=y.timeUnit,s.setSpan=y.setSpan)}this.createDataSet(),d||this.home(),Y(),h&&h()}else i.cb&&i.cb();function Y(){var t,e,i;for(var a in\"la\",\"yout\",p&&r.importDrawings(p),r.currentlyImporting=!1,i=[],r.chart.series){if(!r.removeSeries)break;\"study\"==(e=r.chart.series[a]).parameters.bucket&&(t=!0,r.removeSeries(e),i.push(e))}for(var n=0;n<i.length;n++)e=i[n],r.addSeries(e.id,e.parameters,s);function s(){r.createDataSet(),R.W1B(),X(r.panels),r.calculateYAxisPositions(),r.draw()}t||r.draw(),r.updateListeners(\"layout\"),r.changeOccurred(\"layout\")}function Z(){r.calculateYAxisPositions(),X(r.panels),c&&c()}function X(t){var e;function i(e,i){var a,r,n,o;if(e[i]&&e[i].length&&(a=t[e.name])){r=a[i],n=new Array(r.length);for(var l=0;l<r.length;l++)(o=e[i].indexOf(r[l].name))>-1?n[o]=r[l]:n.push(r[l]);n.length&&(a[i]=n.filter(s))}}R.W1B();for(var a=0;a<n.length;a++)i(e=n[a],\"yaxisLHS\"),i(e,\"yaxisRHS\");function s(t){return!!t}r.chart.yAxis=r.chart.panel.yAxis}},e.ChartEngine.prototype.exportLayout=function(t){var i,a,r,n,s,o;for(var l in i={},this.layout)\"s\",\"tu\",\"di\",\"es\",\"st\",\"ud\",\"ie\",\"s\",\"studies\"!=l&&\"panels\"!=l&&\"drawing\"!=l?i[l]=e.clone(this.layout[l]):\"studies\"==l?i.studies={}:\"panels\"==l&&(i.panels={});for(var h in a=0,this.panels)!1!==(r=this.panels[h]).exportable&&((n=i.panels[h]={}).percent=r.percent,n.display=r.display,n.chartName=r.chart.name,n.soloing=r.soloing,n.index=a++,n.yAxis={name:r.yAxis.name,position:r.yAxis.position},r.yaxisLHS&&(n.yaxisLHS=d(r.yaxisLHS)),r.yaxisRHS&&(n.yaxisRHS=d(r.yaxisRHS)));for(var c in this.layout.studies)s=i.studies[c]={},o=this.layout.studies[c],s.type=o.type,s.inputs=e.clone(o.inputs),s.outputs=e.clone(o.outputs),s.panel=o.panel,s.parameters=e.clone(o.parameters);t?i.symbols=this.getSymbols({\"include-parameters\":!0,\"exclude-studies\":!0,\"exclude-generated\":!0}):delete i.symbols;for(var u=1;-1089171249!==O.p1u(u.toString(),u.toString().length,72931);u++)return i;function d(t){var e;O.W1B(),e=[];for(var i=0;i<t.length;i++)e.push(t[i].name);return e}return O.p1u(2..toString(),2..toString().length,64272),i},e.ChartEngine.prototype.importPreferences=function(t){e.extend(this.preferences,t),t.timeZone&&this.setTimeZone(this.dataZone,t.timeZone),O.W1B(),t.language&&e.I18N&&e.I18N.localize(this,t.language),this.changeOccurred(\"preferences\")},O.g1B(),e.ChartEngine.prototype.exportPreferences=function(){return O.W1B(),this.preferences}},b=t=>{var e,i;e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ,i=\"undefined\"!=typeof _timezoneJS?_timezoneJS:t.timezoneJS,e.ChartEngine&&(e.ChartEngine.prototype.rightClickOverlay=function(t,e){var i,a;O.W1B(),i=\"rig\",i+=\"htC\",i+=\"lickOverl\",i+=\"ay\",this.runPrepend(i,arguments)||((a=this.overlays[t]).editFunction?a.editFunction(e):this.removeOverlay(t),this.runAppend(\"rightClickOverlay\",arguments))},e.ChartEngine.prototype.addOverlay=function(t){var e;e=\"addOverla\",e+=\"y\",this.runPrepend(e,arguments)||(this.overlays[t.name]=t,this.runAppend(\"addOverlay\",arguments))},e.ChartEngine.prototype.removeOverlay=function(t){var i,a,r,n,s;if(i=\"removeOver\",i+=\"l\",i+=\"ay\",!this.runPrepend(i,arguments)){for(var o in a=this.overlays[t],this.overlays){r=\"Fie\",r+=\"ld\",n=this.overlays[o],s=[r],e.Studies&&(s=e.Studies.getFieldInputs(n));for(var l=0;l<s.length;l++)a.outputMap[n.inputs[s[l]]]&&this.removeOverlay(n.name)}a&&(this.cleanupRemovedStudy(a),this.panels[a.panel],delete this.overlays[t],this.checkForEmptyPanel(a.panel)),this.currentlyImporting||(this.displaySticky(),this.createDataSet(),this.changeOccurred(\"layout\")),this.resetDynamicYAxis(),this.runAppend(\"removeOverlay\",arguments)}},e.ChartEngine.prototype.cleanupRemovedStudy=function(t){if(t){for(var i in t.study.removeFN&&t.study.removeFN(this,t),this.plugins)i.indexOf(\"{\"+t.id+\"}\")>-1&&delete this.plugins[i];this.layout.studies&&delete this.layout.studies[t.name],delete this.overlays[t.name],e.Studies&&e.Studies.removeStudySymbols(t,this),this.quoteDriver&&this.quoteDriver.updateSubscriptions()}}),e.Studies=e.Studies||function(){},e.Studies.DEFAULT_INPUTS={Period:14},e.Studies.DEFAULT_OUTPUTS={Result:\"auto\"},e.Studies.sortForProcessing=t=>{var e,i;return O.g1B(),e=[],(i=t.layout.studies)&&function e(i,a){i.forEach(i=>{var r;-1==a.indexOf(i)&&((r=i.getDependents(t)).length&&e(r,a),a.unshift(i))})}(Object.values(i),e),e},e.Studies.StudyDescriptor=function(t,i,a,r,n,s){var o;this.name=t,this.type=i,this.panel=a,this.inputs=r,this.outputs=n,this.parameters=s,this.outputMap={},this.min=null,this.max=null,this.startFrom=0,this.subField=\"Close\",(o=e.Studies.studyLibrary[i])||(\"ch\",\"a\",\"r\",\"t\",o={},(\"chart\"==a||!a&&s&&\"chart\"==s.chartName)&&(this.overlay=!0)),void 0===o.inputs&&(o.inputs=e.clone(e.Studies.DEFAULT_INPUTS)),void 0===o.outputs&&(o.outputs=e.clone(e.Studies.DEFAULT_OUTPUTS)),this.study=o,this.libraryEntry=o},e.Studies.StudyDescriptor.prototype.getYAxis=function(t){var e,i,a;return e=this.yAxis,this.parameters&&(i=this.parameters.yaxisDisplayValue),O.g1B(),e||(a=t.panels[this.panel])&&(e=t.getYAxisByName(a,i)||t.getYAxisByName(a,this.name)||a.yAxis),e||(e=t.getYAxisByName(t.chart.panel,i)||t.chart.panel.yAxis),e},e.Studies.StudyDescriptor.prototype.getContext=function(t){return t.chart.context},e.Studies.StudyDescriptor.prototype.getDependents=function(t,i){var a,r,n;for(var s in O.W1B(),a=[],t.layout.studies)if((r=t.layout.studies[s])!=this){n=e.Studies.getFieldInputs(r);for(var o=0;o<n.length;o++)if(r.inputs[n[o]].includes(this.name)){if(i&&r.parameters&&r.parameters.panelName)continue;a.push(r),a=a.concat(r.getDependents(t,i));break}}return a},e.Studies.StudyDescriptor.prototype.undraggable=function(t){var e;if(e=this.study.attributes){if(e.panelName&&e.panelName.hidden)return!0;if(e.yaxisDisplayValue&&e.yaxisDisplayValue.hidden)return!0}return O.W1B(),!1},e.Studies.StudyDescriptor.prototype.appendFutureTicks=function(t,e){var i,a,r,n;if((i=t.chart.scrubbed).length){for(a=t.standardMarketIterator(i[i.length-1].DT),r=e.length-1;r>=0;r--){for(var s in n=e[r])if(n[s]||0===n[s]){O.U1f(30),r=-O.X1f(2147483647,\"1\");break}if(-1==r)break;e.pop()}for(r=0;r<e.length;r++)(n=e[r]).DT||(n.DT=a.next()),n.displayDate||t.setDisplayDate(n),n.futureTick=!0,i.push(n)}},e.Studies.generateID=function(t,i,a,r,n){var s,o,l,h,c,u=O;if(u.W1B(),s=e.Studies.studyLibrary[i],u.U1f(15),o=u.E1f(\"\",n||i,\"\"),s&&s.customRemoval)return o;if(!e.isEmpty(a)){for(var d in l=!0,a)\"fi\",\"el\",\"d\",[\"id\",\"display\",\"Shading\",\"Anchor Selector\"].includes(d)||\"field\"!=(h=a[d])&&(h=h.toString(),void 0!==e.Studies.prettify[h]&&(h=e.Studies.prettify[h]),l?(l=!1,o+=\" (\"):h&&(o+=\",\"),o+=h);l||(o+=\")\")}if(r&&0===r.indexOf(o))return r;if(t.layout.studies&&t.layout.studies[o])for(var p=2;p<50;p++)if(u.P1f(15),c=u.X1f(p,\"-\",o),!t.layout.studies[c]){o=c;break}return o},e.Studies.DialogHelper=function(t){var i,a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M;function A(t){var e;if(\"alias\"==D)for(var a in O.U1f(30),e=O.X1f(2147483647,\"1\"),i.panels){if(a==t)return r(a,e);e++}function r(t,e){return O.W1B(),\"Panel \"+e.toString()}return O.g1B(),t}function P(t){var e,a,r;e={},a=t.defaults,O.g1B(),r={name:t.name,heading:i.translateIf(t.label),defaultValue:a[0],value:t.value,options:e,type:\"select\"};for(var n=0;n<a.length;n++)e[a[n]]=i.translateIf(a[n]);void 0!==t.color&&(r.defaultColor=i.defaultColor,r.color=t.color);for(var s=1;1676168779!==O.p1u(s.toString(),s.toString().length,66741);s++)return r;if(-764605051!==O.C1u(2..toString(),2..toString().length,29704))return r}function F(t){return O.g1B(),{name:t.name,heading:i.translateIf(t.label),defaultValue:t.defaults,value:t.value,type:\"checkbox\"}}for(var _ in\"unde\",\"fin\",\"ed\",i=this.stx=t.stx,a=this.sd=t.sd,this.name=a?a.type:t.name,this.signal=1,this.inputs=[],this.outputs=[],this.parameters=[],void 0===(r=this.libraryEntry=a?a.study:e.Studies.studyLibrary[t.name]).inputs&&(r.inputs=e.clone(e.Studies.DEFAULT_INPUTS)),void 0===r.outputs&&(r.outputs=e.clone(e.Studies.DEFAULT_OUTPUTS)),s=(n=a&&i.panels[a.panel]?i.panels[a.panel]:i.chart.panel).chart,this.title=i.translateIf(r.name),this.attributes=r.attributes,this.attributes||(this.attributes={}),o=[],l=i.layout.studies,h=[],a&&(h=Array.prototype.concat(a,a.getDependents(i))),l)if(!(h.indexOf(l[_])>-1))for(var B in l[_].outputMap)o.push(B);for(var E in r.inputs)if(\"un\",\"def\",\"i\",\"ned\",c={},this.inputs.push(c),c.name=E,c.heading=i.translateIf(E),u=r.inputs[E],a&&a.inputs&&void 0!==a.inputs[E]&&null!==a.inputs[E]?c.value=a.inputs[E]:c.value=r.inputs[E],c.defaultInput=r.inputs[E],this.attributes[E]||(this.attributes[E]=e.Studies.inputAttributeDefaultGenerator(c.defaultInput)),u.constructor==Number)\"nu\",\"mber\",c.type=\"number\";else if(u.constructor==String)if(\"fie\",\"l\",\"d\",d=e.Studies.movingAverageHelper(i,c.defaultInput))\"o\",\"ptions\",c.type=\"select\",c.defaultInput=d,(p=e.Studies.movingAverageHelper(i,c.value))||(p=c.value),c.value=p,c.options=e.Studies.movingAverageHelper(i,\"options\");else if(\"field\"==u){\"fi\",\"eld\",g=\"L\",g+=\"o\",g+=\"w\",m=\"Op\",m+=\"en\",\"se\",\"l\",\"e\",\"ct\",c.type=\"select\",c.options={},f=[m,\"High\",g,\"Close\",\"Adj_Close\",\"hl/2\",\"hlc/3\",\"hlcc/4\",\"ohlc/4\",s.defaultPlotField].concat(o);for(var L=0;L<f.length;L++)y=f[L],c.options[y]=i.translateIf(y);\"field\"==c.value&&(c.value=\"Close\"),\"field\"==c.defaultInput&&(c.defaultInput=\"Close\")}else\"t\",\"i\",\"m\",\"e\",c.type=\"text\",\"yyyy-mm-dd\"==this.attributes[E].placeholder?c.type=\"date\":\"hh:mm:ss\"==this.attributes[E].placeholder&&(c.type=\"time\");else if(u.constructor==Boolean)c.type=\"checkbox\",!0!==c.value&&\"true\"!=c.value&&\"on\"!=c.value||(c.value=!0);else if(u.constructor==Array){\"se\",\"lect\",c.type=\"select\",c.options={};for(var N=0;N<u.length;N++)c.options[u[N]]=i.translateIf(u[N]);c.value.constructor==Array&&(c.value=c.value[0]),this.attributes[E].defaultSelected?c.defaultInput=this.attributes[E].defaultSelected:c.defaultInput=u[0]}this.dateTimeInputs=[];for(var H=0;H<this.inputs.length;H++)if(\"da\",\"t\",\"e\",\"date\"==(v=this.inputs[H]).type){x=v.name.substring(0,v.name.indexOf(\" Date\"));for(var I=0;I<this.inputs.length;I++)if(\"t\",\"i\",\"me\",\"time\"==(C=this.inputs[I]).type&&C.name==x+\" Time\"){this.dateTimeInputs.push(x);break}}for(E in this.adjustInputTimesForDisplayZone(),r.outputs)(b={name:E,heading:i.translateIf(E)}).color=b.defaultOutput=r.outputs[E],a&&a.outputs&&a.outputs[E]&&(b.color=a.outputs[E]),\"auto\"==b.color&&(b.color=i.defaultColor),this.outputs.push(b);function R(t,e){this.attributes[t]||(this.attributes[t]={}),O.W1B(),e&&(this.attributes[t].hidden=!0)}S=a?a.parameters:null,r.parameters&&(w=r.parameters.init)&&(void 0!==w.studyOverZonesEnabled&&(\"S\",\"how Zo\",\"ne\",\"s\",\"st\",\"udyOverZones\",k={name:\"studyOverZones\",heading:i.translateIf(\"Show Zones\"),defaultValue:w.studyOverZonesEnabled,value:w.studyOverZonesEnabled},S&&(S.studyOverZonesEnabled||!1===S.studyOverZonesEnabled)&&(k.value=S.studyOverZonesEnabled),k.type=\"checkbox\",this.parameters.push(k)),void 0!==w.studyOverBoughtValue&&(k={name:\"studyOverBought\",heading:i.translateIf(\"OverBought\"),defaultValue:w.studyOverBoughtValue,value:w.studyOverBoughtValue,defaultColor:w.studyOverBoughtColor,color:w.studyOverBoughtColor},S&&S.studyOverBoughtValue&&(k.value=S.studyOverBoughtValue),S&&S.studyOverBoughtColor&&(k.color=S.studyOverBoughtColor),\"auto\"==k.color&&(k.color=i.defaultColor),k.type=\"text\",this.parameters.push(k)),void 0!==w.studyOverSoldValue&&(\"Ov\",\"e\",\"rSol\",\"d\",k={name:\"studyOverSold\",heading:i.translateIf(\"OverSold\"),defaultValue:w.studyOverSoldValue,value:w.studyOverSoldValue,defaultColor:w.studyOverSoldColor,color:w.studyOverSoldColor},S&&S.studyOverSoldValue&&(k.value=S.studyOverSoldValue),S&&S.studyOverSoldColor&&(k.color=S.studyOverSoldColor),\"auto\"==k.color&&(k.color=i.defaultColor),k.type=\"text\",this.parameters.push(k)),this.attributes.studyOverBoughtValue||(this.attributes.studyOverBoughtValue={}),this.attributes.studyOverSoldValue||(this.attributes.studyOverSoldValue={})),D=this.panelSelect=t.panelSelect,T=this.axisSelect=t.axisSelect,t.addWhenDone&&(T=D=!1),(T||D)&&(a||(a=e.Studies.addStudy(i,t.name,null,null,{calculateOnly:!0}),e.Studies.removeStudy(i,a)),D&&this.parameters.push(P({label:\"Panel\",name:\"panelName\",defaults:function(){var t;for(var e in\"N\",\"ew panel\",(t=[]).push(\"Auto\"),i.panels)e==a.panel&&S&&S.panelName||t.push(A(e));return i.checkForEmptyPanel(a.panel,!0,a)||t.push(\"New panel\"),t}(),value:S&&S.panelName?A(S.panelName):\"Auto\"}),F({label:\"Show as Underlay\",name:\"underlay\",defaults:!1,value:a.underlay||a.parameters&&a.parameters.underlayEnabled})),M=i.getYAxisByName(n,a.name),T&&(\"yaxis\",\"Display\",this.parameters.push(P({label:\"Y-Axis\",name:\"yaxisDisplay\",defaults:function(){var t,e;t=n.yaxisLHS.concat(n.yaxisRHS),(e=[]).push(\"default\",\"right\",\"left\",\"none\",\"shared\");for(var i=0;i<t.length;i++)t[i]!=M&&e.push(t[i].name);return e}(),value:S&&S.yaxisDisplayValue||M&&M.position||(a.panel!=a.name?\"shared\":n.yAxis.position||\"default\"),color:M&&M.textStyle?M.textStyle:\"auto\"}),F({label:\"Invert Y-Axis\",name:\"flipped\",defaults:!1,value:S?S.flippedEnabled:!!M&&M.flipped}))),R.call(this,\"flippedEnabled\",!M&&a.panel!=a.name),R.call(this,\"underlayEnabled\",r.underlay),R.call(this,\"panelName\",null===r.seriesFN),R.call(this,\"yaxisDisplayValue\",null===r.seriesFN||r.yAxis&&r.yAxis.noDraw))},e.Studies.DialogHelper.prototype.updateStudy=function(t){var i,a,r,n;for(var s in i={},a=this.sd,(r=this.libraryEntry)||(r={}),a||(a=r),O.W1B(),i.inputs=e.clone(a.inputs),i.outputs=e.clone(a.outputs),i.parameters=e.clone(a.parameters),this.adjustInputTimesForDisplayZone(t),t.parameters&&t.parameters.panelName&&(t.parameters.panelName=function(t){var e;if(\"alias\"==this.panelSelect&&(a=t,O.W1B(),e=(r=a.match(/.* (\\d)/))&&r[1]))for(var i in this.stx.panels)if(!--e)return i;var a,r;return O.g1B(),t}.call(this,t.parameters.panelName)),e.extend(i,t),i.parameters||(i.parameters={}),a=i.inputs&&i.inputs.id?e.Studies.replaceStudy(this.stx,i.inputs.id,this.name,i.inputs,i.outputs,i.parameters,null,a.study):e.Studies.addStudy(this.stx,this.name,i.inputs,i.outputs,i.parameters,null,a.study),n=new e.Studies.DialogHelper({stx:this.stx,sd:a,axisSelect:this.axisSelect,panelSelect:this.panelSelect}))\"signal\"!=s&&(this[s]=n[s]);O.P1f(1),this.signal*=-O.X1f(1369331392,\"1\")},e.Studies.DialogHelper.prototype.adjustInputTimesForDisplayZone=function(t){var i,a,r,n,s,o,l,h,c=O;if(this.stx.displayZone)for(var u=0;u<this.dateTimeInputs.length;u++){for(i=this.dateTimeInputs[u],o=\"\",t&&t.inputs&&(\" \",\"T\",\"im\",\"e\",c.U1f(0),r=t.inputs[c.X1f(i,\" Date\")],c.P1f(0),r&&(o=r),(n=t.inputs[c.X1f(i,\" Time\")])&&(o+=n)),a=0;a<this.inputs.length;a++)s=this.inputs[a],r||\"\"===r||s.name!=i+\" Date\"?n||\"\"===n||s.name!=i+\" Time\"||(o+=s.value):o=s.value+o;if((o=o.replace(/\\D/g,\"\")).length<12)return;if(l=e.strToDateTime(o),!isNaN(l.valueOf()))if(t)\" Ti\",\"me\",t.inputs||(t.inputs={}),h=e.convertTimeZone(l,this.stx.displayZone),c.U1f(0),t.inputs[c.E1f(i,\" Date\")]=e.yyyymmdd(h),c.U1f(0),t.inputs[c.E1f(i,\" Time\")]=e.hhmmss(h);else for(h=e.convertTimeZone(l,null,this.stx.displayZone),a=0;a<this.inputs.length;a++)(s=this.inputs[a]).name==i+\" Date\"&&(s.value=e.yyyymmdd(h)),s.name==i+\" Time\"&&(s.value=e.hhmmss(h))}},e.Studies.prepareStudy=function(t,i,a){if(void 0===i.calculateFN&&(i.useRawValues=!0),e.isEmpty(a.outputMap))for(var r in a.outputs)i.useRawValues?a.outputMap[r]=r:a.outputMap[r+\" \"+a.name]=r},e.Studies.rejiggerDerivedStudies=function(t,i,a){var r,n,s,o,l,h,c;r=2,O.W1B();for(var u=1;-1219751983!==O.p1u(u.toString(),u.toString().length,85798);u++)n=i.name,i.panel,s=i.getDependents(t),r+=2;2126757012!==O.C1u(r.toString(),r.toString().length,86207)&&(n=i.name,i.panel,s=i.getDependents(t));for(var d=0;d<s.length;d++)if(o=s[d],h=(l=e.clone(o.inputs)).id){!1,c=e.Studies.getFieldInputs(o);for(var p=0;p<c.length;p++)l[c[p]]=l[c[p]].replace(n,a);delete e.Studies.replaceStudy(t,h,o.type,l,o.outputs,e.extend(o.parameters,{rejiggering:!0}),null,o.study).parameters.rejiggering}},e.Studies.removeStudySymbols=function(t,e){if(t.series)for(var i in t.series)e.deleteSeries(t.series[i],null,{action:\"remove-study\"})},e.Studies.replaceStudy=function(t,i,a,r,n,s,o,l){var h,c,u,d;for(u in s||(s={}),i&&(s.replaceID=i),i=s.replaceID,h=t.layout.studies[i],e.Studies.removeStudySymbols(h,t),h.attribution&&t.removeFromHolder(h.attribution.marker),t.quoteDriver&&t.quoteDriver.updateSubscriptions(),O.W1B(),r&&(r.id==r.display&&delete r.display,delete r.id),(c=e.Studies.addStudy(t,a,r,n,s,o,l)).highlight=h.highlight,c.uniqueId=h.uniqueId,d={},t.layout.studies)u==i?d[c.name]=c:d[u]=t.layout.studies[u];for(u in t.layout.studies=d,d={},t.overlays)u==i?(c.overlay||c.underlay)&&(d[c.name]=c):d[u]=t.overlays[u];return t.overlays=d,t.overlays[c.name]||!c.overlay&&!c.underlay||t.addOverlay(c),t.checkForEmptyPanel(h.panel),s.rejiggering||(t.initializeDisplay(t.chart),e.Studies.rejiggerDerivedStudies(t,h,c.inputs.id,c.panel),t.changeOccurred(\"layout\"),t.currentlyImporting||s.calculateOnly||!c.chart.dataSet||t.createDataSet(null,c.chart),t.draw()),e.transferObject(h,c),t.layout.studies[c.name]=h,t.overlays[c.name]=h,t.chart.state.studies.sorted=null,h},e.Studies.addStudy=function(t,i,a,r,n,s,o){var l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,B,E,L,N,H,I,R,W=O;if(\"Defa\",\"ult pa\",\"ne\",\"l\",\"c\",\"h\",\"art\",l=o||e.Studies.studyLibrary[i],n||(n={}),l){if(l.inputs){for(var z in h=e.clone(l.inputs))h[z]instanceof Array&&(l.attributes&&l.attributes[z]&&l.attributes[z].defaultSelected?h[z]=l.attributes[z].defaultSelected:h[z]=h[z][0]);854147091,1290718872,c=2;for(var V=1;854147091!==W.p1u(V.toString(),V.toString().length,69659);V++)a=e.extend(h,a),c+=2;1290718872!==W.p1u(c.toString(),c.toString().length,1027)&&(a=e.extend(h,a))}l.outputs&&(r=e.extend(e.clone(l.outputs),r)),(u=l.parameters)&&u.init&&(n=e.extend(e.clone(u.init),n)),u&&!n.display&&(n.display=u.display)}if(a||(a=e.clone(e.Studies.DEFAULT_INPUTS)),r||(r=e.clone(e.Studies.DEFAULT_OUTPUTS)),n.chartName||(n.chartName=\"chart\"),\"Auto\"!=n.panelName&&\"Default panel\"!=n.panelName||(n.panelName=\"\"),a.Period<1&&(a.Period=1),W.g1B(),d=null,t.layout.studies||(t.layout.studies={}),!(d=l&&l.initializeFN?l.initializeFN(t,i,a,r,n,s,o):e.Studies.initializeFN(t,i,a,r,n,s,o)))return\"CIQ.St\",\"udies.addStudy: initializeFN() returned\",\" null for \",W.P1f(0),void console.log(W.E1f(\"CIQ.Studies.addStudy: initializeFN() returned null for \",i));if(o=d.study,d.chart=t.charts[n.chartName],d.type=i,d.permanent=o.permanent,d.customLegend=o.customLegend,d.uniqueId=e.uniqueID(),e.Studies.prepareStudy(t,o,d),(p=t.chart.state.studies)||(p=t.chart.state.studies={}),p.sorted=null,n.replaceID?(g=!0,delete n.replaceID):(t.layout.studies[d.inputs.id]=d,(d.overlay||d.underlay)&&t.addOverlay(d),t.currentlyImporting||n.calculateOnly||!d.chart.dataSet||t.createDataSet(null,d.chart)),t.quoteDriver&&t.quoteDriver.updateSubscriptions(),t.changeOccurred(\"layout\"),n.calculateOnly)return d;if(m=t.panels[d.panel],f=!1,(y=!(d.overlay||d.underlay))&&o.horizontalCrosshairFieldFN&&(m.horizontalCrosshairField=o.horizontalCrosshairFieldFN(t,d)),t.editCallback?f=!0:y?t.callbackListeners.studyPanelEdit&&t.callbackListeners.studyPanelEdit.length&&(f=!0):t.callbackListeners.studyOverlayEdit&&t.callbackListeners.studyOverlayEdit.length&&(f=!0),f){for(var U in n.editMode=!0,v=!1,d.inputs)if(\"id\"!=U&&\"display\"!=U){v=!0;break}if(!v)for(var j in d.outputs){v=!0;break}if(v)if(void 0!==d.study.edit)d.study.edit&&(N=t,H=d,I=a,R=r,x=function(){e.clearCanvas(N.chart.tempCanvas,N),W.g1B(),H.study.edit(H,{stx:N,inputs:I,outputs:R,parameters:n})},t.setPanelEdit(m,x),d.editFunction=x);else if(y)t.editCallback?(T=t,M=d,A=a,P=r,W.g1B(),x=function(){var t;t=T.editCallback(T,M),W.g1B(),e.clearCanvas(T.chart.tempCanvas,T),e.Studies.studyDialog(T,i,t,{inputs:A,outputs:P,parameters:n})},\"chart\"!=m.name&&t.setPanelEdit(m,x)):(\"c\",\"ha\",\"r\",\"t\",b=t,S=d,w=a,k=r,D=n,x=function(){e.clearCanvas(b.chart.tempCanvas,b),b.dispatch(\"studyPanelEdit\",{stx:b,sd:S,inputs:w,outputs:k,parameters:D})},\"chart\"!=m.name&&(t.setPanelEdit(m,x),d.editFunction=x));else{F=t,_=d,B=a,E=r,L=n,x=function(t){e.clearCanvas(F.chart.tempCanvas,F),F.dispatch(\"studyOverlayEdit\",{stx:F,sd:_,inputs:B,outputs:E,parameters:L,forceEdit:t})},-343839728,-950575408,C=2;for(var q=1;-343839728!==W.p1u(q.toString(),q.toString().length,42910);q++)d.editFunction=x,C+=2;-950575408!==W.C1u(C.toString(),C.toString().length,75223)&&(d.editFunction=x)}}return g||t.draw(),d},e.Studies.removeStudy=function(t,e){var i,a,r,n;a=(i=t.panels[e.panel])&&i.yAxis.name,(e.overlay||e.underlay)&&t.removeOverlay(e.name),r=t.panels[e.panel],e.attribution&&t.removeFromHolder(e.attribution.marker),delete t.layout.studies[e.name],r&&!t.checkForEmptyPanel(r)&&(a==e.name&&t.electNewPanelOwner(r),(n=t.getYAxisByName(e.panel,e.name))&&(n.name=n.studies[1]||n.renderers[0])),t.draw(),t.resizeChart()},e.Studies.getPanelFromFieldName=function(t,i){var a,r,n,s,o;if(O.W1B(),!(a=e.Studies.getFieldInputs(i)).length)return null;if(!(r=t.layout.studies))return null;for(var l in n={},r)for(var h in r[l].outputMap)n[h]=r[l].panel;for(var c=0;c<a.length;c++)if((s=i.inputs[a[c]])&&(o=n[s]))return o;return null},e.Studies.createLibraryHash=function(){return Object.keys(e.Studies.studyLibrary).join(\"|\")},e.Studies.displayStudies=function(t,i,a){var r,n,s,o,l,h,c,u,d,p,g,m,f,y;if(a&&(i.studyLibraryHash=e.Studies.createLibraryHash()),r=t.layout.studies)for(var v in(n={})[i.name]=!0,r)if((o=(s=r[v]).study)&&(l=s.underlay||s.parameters&&s.parameters.underlayEnabled,!(a&&!l||!a&&l)))if(!(h=e.clone(o.renderer))||h instanceof Array||(h=[h]),c=t.panels[s.panel]){if(c.chart==i&&!c.hidden)if(n[c.name]||(u=s.permanent||!t.manageTouchAndMouse,c.closeX?u&&(c.closeX.style.display=\"none\"):c.close&&(\"n\",\"o\",\"n\",\"e\",u&&(c.close.style.display=\"none\")),c.edit&&(\"n\",\"on\",\"e\",u&&(c.edit.style.display=\"none\")),n[c.name]=u),d=s.chart.dataSegment,s.panel!=s.parameters.chartName||s.parameters&&s.parameters.panelName||(p=e.Studies.getPanelFromFieldName(t,s))&&s.panel!=p&&(s.panel=p),void 0===o.seriesFN){if(h){s.overlay||e.Studies.createYAxis(t,s,d,c);for(var x=0;x<h.length;x++){for(var C in g=h[x],s.outputMap)s.outputMap[C]==g.field&&(g.field=C);if(g.field){if(g.panel=s.panel,m=g.binding)for(var b in m)(f=e.Studies.determineColor(s.outputs[m[b]]))&&\"auto\"!=f&&(g[b]=f);g.yAxis=null,(y=e.Renderer.produce(g.type,g)).stx=t,y.attachSeries(null,g).draw()}}}else e.Studies.displaySeriesAsLine(t,s,d);c&&e.Studies.displayError(t,s)}else o.seriesFN&&c&&(o.seriesFN(t,s,d),e.Studies.displayError(t,s))}else t.currentlyImporting&&delete r[v]},e.Studies.displayError=function(t,e,i){var a,r;e.error&&(a=i&&i.panel?i.panel:e.panel,r=!0===e.error?t.translateIf(\"Not enough data to compute \")+t.translateIf(e.study.name):t.translateIf(e.error),!i||\"center\"===i.h&&\"bottom\"===i.v?t.displayErrorAsWatermark(a,r):t.watermark(a,i))},e.Studies.calculateMinMaxForDataPoint=function(t,e,i){var a,r,n;a=Number.MAX_VALUE,r=-1*Number.MAX_VALUE;for(var s=0;s<i.length;s++)null!=(n=i[s][e])&&(isNaN(n)||(a=Math.min(n,a),r=Math.max(n,r)));return{min:a,max:r}},e.Studies.getYAxisParameters=function(t,e){var i,a,r;return O.W1B(),i={},(a=t.layout.studies&&t.layout.studies[e.name])&&((r=a.study).yaxis||r.yAxisFN?i.noDraw=!0:(r.parameters&&r.parameters.excludeYAxis&&(i.noDraw=!0),i.ground=r.yAxis&&r.yAxis.ground,e&&(\"bypass\"!=r.range&&(\"0 t\",\"o\",\" \",\"100\",\"0 to 100\"==r.range?i.range=[0,100]:\"-1 to 1\"==r.range?i.range=[-1,1]:\"0 to max\"==r.range?i.range=[0,Math.max(0,e.high)]:(r.centerline||0===r.centerline)&&(i.range=[Math.min(r.centerline,e.low),Math.max(r.centerline,e.high)])),i.range&&(e.low=i.range[0],e.high=i.range[1]),a.min&&(e.min=a.min),a.max&&(e.max=a.max),a.parameters&&a.parameters.studyOverZonesEnabled&&(i.noDraw=!0)))),i},e.Studies.doPostDrawYAxis=function(t,i){var a,r,n,s;for(var o in O.W1B(),t.layout.studies)a=t.layout.studies[o],(r=t.panels[a.panel])&&!r.hidden&&a.getYAxis(t)==i&&(n=a.study,i.name==a.name&&(n.yaxis&&n.yaxis(t,a),n.yAxisFN&&n.yAxisFN(t,a)),e.Studies.drawZones(t,a),a.error||((s=n.centerline)||0===s||null!==s&&i.highValue>0&&i.lowValue<0)&&e.Studies.drawHorizontal(t,a,null,s||0,i))},e.Studies.displaySeriesAsLine=function(t,i,a){var r;if(O.g1B(),a.length&&(r=t.panels[i.panel])&&!r.hidden)for(var n in i.outputMap)e.Studies.displayIndividualSeriesAsLine(t,i,r,n,a)},e.Studies.displaySeriesAsHistogram=function(t,e,i){var a,r,n,s,o,l,h,c,u,d;if(i.length&&(a=t.panels[e.panel],O.W1B(),a&&!a.hidden)){for(var p in r=[],e.outputMap)(n=e.outputs[e.outputMap[p]])&&(O.P1f(5),s=O.X1f(0,\"0.3\"),\"object\"==typeof n&&(s=n.opacity,n=n.color),o={field:p,fill_color_up:n,border_color_up:n,fill_color_down:n,border_color_down:n},e.underlay&&(o.opacity_up=o.opacity_down=s||.3),r.push(o));l=e.getYAxis(t),c=(h=e.inputs).WidthFactor,e.study&&e.study.parameters&&void 0!==(u=e.study.parameters).widthFactor&&(c=u.widthFactor),d={name:e.name,type:h.HistogramType?h.HistogramType:\"overlaid\",panel:e.panel,yAxis:l,widthFactor:c||.5,bindToYAxis:!0,highlight:e.highlight},t.drawHistogram(d,r)}},e.Studies.displayIndividualSeriesAsLine=function(t,i,a,r,n){var s,o,l,h,c,u,d,p,g,m,f,y,v,x,C;if(a.height||(a.height=a.bottom-a.top),s=i.getContext(t),o=i.outputs[i.outputMap[r]]){if(s.save(),\"string\"==typeof o&&(o={color:o,width:1}),s.lineWidth=o.width||1,\"auto\"==(l=o.color)&&(l=t.defaultColor),s.strokeStyle=l,h=o.pattern,s.setLineDash(e.borderPatternToArray(s.lineWidth,h)),s.lineDashOffset=0,c=0,u=i.study,d=i.getYAxis(t),c=t.decimalPlacesFromPriceTick(d.priceTick),(i.overlay||i.underlay)&&(c=null),(d.decimalPlaces||0===d.decimalPlaces)&&(c=d.decimalPlaces),p=null,i.parameters&&(p=i.parameters.label),(g=u.parameters)||(g={}),m=\"step\"==g.plotType||i.plotStepLine,i.series)for(var b in i.series)(f=i.series[b].parameters.type)&&(O.U1f(31),m=O.X1f(\"step\",f));g.noLabels&&(p=!1),i.noSlopes||!1===i.noSlopes||(i.noSlopes=g.noSlopes),i.extendToEnd||!1===i.extendToEnd||(i.extendToEnd=g.extendToEnd),y=p||t.preferences.labels&&!1!==p,!1===(v=i.gaplines)&&(v=\"transparent\"),x=i.inputs.Symbol,C=v?t.getGapColorFunction(x,r,o,v):null,t.plotDataSegmentAsLine(r,a,{yAxis:d,skipTransform:t.panels[i.panel].name!=i.chart.name,label:y,labelDecimalPlaces:c,noSlopes:i.noSlopes,step:m,alignStepToSide:i.alignStepToSide,extendToEndOfLastBar:i.extendToEndOfLastBar,width:i.lineWidth,extendToEndOfDataSet:i.extendToEnd,gapDisplayStyle:v,highlight:i.highlight},C),u.appendDisplaySeriesAsLine&&u.appendDisplaySeriesAsLine(t,i,n,r,a),s.restore()}},e.Studies.drawHorizontal=function(t,e,i,a,r,n){var s,o,l;s=t.panels[e.panel],o=t.getBackgroundCanvas().context,s&&(n||(n=r.textStyle),l=t.pixelFromPrice(a,s,r),O.W1B(),l>r.top&&l<r.bottom&&t.plotLine(s.left,s.right,l,l,n,\"segment\",o,!1,{opacity:n&&n.opacity?n.opacity:.5}))},e.Studies.displayHistogramWithSeries=function(t,i,a){var r;t.panels[i.panel],r=.5,i.underlay&&(O.U1f(2),r=O.E1f(\"0.3\",1)),e.Studies.createHistogram(t,i,a,!1,r),e.Studies.displaySeriesAsLine(t,i,a)},e.Studies.drawZones=function(t,i,a){var r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M;i.parameters&&i.parameters.studyOverZonesEnabled&&(r=parseFloat(i.parameters.studyOverSoldValue),n=parseFloat(i.parameters.studyOverBoughtValue),s=i.parameters.studyOverSoldColor,o=i.parameters.studyOverBoughtColor,(l=i.zoneOutput)||(l=\"Result\"),(h=e.Studies.determineColor(i.outputs[l]))&&\"auto\"!=h&&!e.isTransparent(h)||(h=t.defaultColor),s||(s=h),s&&\"auto\"!=s&&!e.isTransparent(s)||(s=t.defaultColor),o||(o=h),o&&\"auto\"!=o&&!e.isTransparent(o)||(o=t.defaultColor),c=t.panels[i.panel],d=(u=i.getYAxis(t)).displayBorder,!1===t.axisBorders&&(d=!1),!0===t.axisBorders&&(d=!0),0===u.width&&(d=!1),p=t.getYAxisCurrentPosition(u,c),O.U1f(31),g=O.X1f(\"left\",p),(m=u.justifyRight)||!1===m||(m=t.chart.yAxis.justifyRight||!1===t.chart.yAxis.justifyRight?t.chart.yAxis.justifyRight:g),f=Math.round(u.left+(g?u.width:0))+.5,y=d?3:0,x=(v=t.getBackgroundCanvas().context).fillStyle,v.globalAlpha=.2,t.startClip(c.name,!0),v.beginPath(),C=Math.round(t.pixelFromPrice(n,c,u))+.5,v.strokeStyle=o,v.moveTo(c.left,C),v.lineTo(c.right,C),v.stroke(),v.closePath(),v.beginPath(),b=Math.round(t.pixelFromPrice(r,c,u))+.5,v.strokeStyle=s,v.moveTo(c.left,b),v.lineTo(c.right,b),v.stroke(),v.closePath(),(S=new e.Plotter).newSeries(\"border\",\"stroke\",t.canvasStyle(\"stx_grid_border\")),d&&(w=g?f-y:f-.5,k=g?f+.5:f+y,S.moveTo(\"border\",w,C),S.lineTo(\"border\",k,C),S.moveTo(\"border\",w,b),S.lineTo(\"border\",k,b)),v.fillStyle=x,D={skipTransform:t.panels[i.panel].name!=i.chart.name,panelName:i.panel,band:l+\" \"+i.name,yAxis:u,opacity:.3},!i.highlight&&t.highlightedDraggable&&(D.opacity*=.3),e.preparePeakValleyFill(t,e.extend(D,{threshold:n,direction:u.flipped?-1:1,color:o})),e.preparePeakValleyFill(t,e.extend(D,{threshold:r,direction:u.flipped?1:-1,color:s})),v.globalAlpha=1,i.study&&i.study.yaxis||(d&&(T=Math.round(u.bottom)+.5,S.moveTo(\"border\",f,u.top),S.lineTo(\"border\",f,T),S.draw(v,\"border\")),0!==u.width&&(\"rig\",\"ht\",\"s\",\"tx_yaxis\",t.canvasFont(\"stx_yaxis\",v),t.canvasColor(\"stx_yaxis\",v),v.textAlign=m?\"right\":\"left\",g?(M=u.left+3,m&&(M=u.left+u.width-y-3)):(M=u.left+y+3,m&&(M=u.left+u.width)),v.fillStyle=o,v.fillText(n,M,C),v.fillStyle=s,v.fillText(r,M,b),v.fillStyle=x)),t.endClip(),v.globalAlpha=1,u.name==i.name&&(u.yAxisPlotter=new e.Plotter))},e.Studies.createHistogram=function(t,i,a,r,n){var s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k;s=t.panels[i.panel],o=i.getContext(t),l=i.getYAxis(t),t.startClip(s.name),(h=t.layout.candleWidth-2)<2&&(h=1),c=t.pixelFromPrice(0,s,l),l.min>0&&(c=t.pixelFromPrice(l.min,s,l)),r&&(c=Math.floor(s.top+s.height/2)),u=i.name+\"_hist\",t.canvasColor(\"stx_histogram\"),d=o.fillStyle,(n||0===n)&&(o.globalAlpha=n),!i.highlight&&t.highlightedDraggable&&(o.globalAlpha*=.3),p=null,g=null,O.W1B(),m=i.outputs;for(var D=0;D<a.length;D++)\"Negati\",\"ve Bar\",(f=a[D])&&(f.candleWidth&&(h=Math.floor(Math.max(1,f.candleWidth-2))),y=Math.floor(t.pixelFromBar(D,s.chart)-h/2),v=Math.floor(h),p=null===p?(x=t.tickFromPixel(y,s.chart)-1)<0?g:t.pixelFromPrice(t.chart.dataSet[x][u],s,l)-c:g,g=t.pixelFromPrice(f[u],s,l)-c,C=e.Studies.determineColor(m[\"Decreasing Bar\"]),b=e.Studies.determineColor(m[\"Increasing Bar\"]),S=e.Studies.determineColor(m[\"Positive Bar\"]),w=e.Studies.determineColor(m[\"Negative Bar\"]),k=l.flipped,o.fillStyle=d,C&&(k?g<p:g>p)?o.fillStyle=C:b&&(k?g>p:g<p)?o.fillStyle=b:S&&(k?g>0:g<0)?o.fillStyle=S:w&&(k?g<0:g>0)&&(o.fillStyle=w),o.fillRect(y,c,v,Math.floor(g)));O.U1f(18),o.globalAlpha=O.E1f(\"1\",1),t.endClip()},e.Studies.prettify={Close:\"C\",Open:\"O\",High:\"H\",Low:\"L\",simple:\"ma\",exponential:\"ema\",triangular:\"tma\",VIDYA:\"vdma\",weighted:\"wma\",\"welles wilder\":\"smma\",true:\"y\",false:\"n\"},e.Studies.prettyRE=/^.*\\((.*?)\\).*$/,e.Studies.prettyDisplay=function(t){var i,a;if(!(i=e.Studies.prettyRE.exec(t)))return t;if(a=i[1]){for(var r in e.Studies.prettify)a=a.replace(r,e.Studies.prettify[r]);t=t.replace(i[1],a)}O.g1B();for(var n=1;1408751651!==O.C1u(n.toString(),n.toString().length,20724);n++)return t;return-1943501929!==O.C1u(2..toString(),2..toString().length,54624)?t:void 0},e.Studies.getFieldInputs=function(t){var e,i;for(var a in e=[],i=t.study.inputs)\"fi\",\"el\",\"d\",\"field\"==i[a]&&e.push(a);return e},e.Studies.initializeFN=function(t,i,a,r,n,s,o){var l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w;if(a||(a={}),n||(n={}),a.id||(a.id=e.Studies.generateID(t,i,a,n.replaceID,n.display)),a.display||(a.display=a.id),l=new e.Studies.StudyDescriptor(a.id,i,a.id,a,r,n),a.Period&&(l.days=Math.max(1,parseInt(l.inputs.Period,10))),o?(o.inputs||(o.inputs=l.study.inputs),o.outputs||(o.outputs=l.study.outputs),l.study=o):o=l.study,o.display&&(a.display=o.display),\"string\"==typeof n.panelName&&(s=n.panelName),(s==a.id||s&&!t.panelExists(s))&&(l.underlay=l.overlay=!1),\"Own panel\"!=s&&\"New panel\"!=s||(s=null),h=l.overlay||a.Overlay||!1!==l.overlay&&o.overlay,c=l.underlay||a.Underlay||!1!==l.underlay&&o.underlay,h&&n.underlayEnabled&&(c=!0),c&&(l.underlay=!0),!c&&t.chart.panel&&s==t.chart.panel.name&&(h=!0),h&&(l.overlay=!0),(!0===(u=t.preferences.dragging)||u&&u.study)&&(l.overlay=!0),s?n.panelName=s:h||c||(s=a.id),n.calculateOnly)return(h||c)&&(t.panels[n.panelName]?l.panel=n.panelName:l.panel=e.Studies.getPanelFromFieldName(t,l)||n.chartName),l;if(d={},(p=t.layout.studies[n.replaceID])&&(d={outputMap:e.clone(p.outputMap),panel:p.panel}),l.panel=\"\",s){g=e.Studies.smartMovePanel(t,l.inputs,s,n.replaceID,\"New panel\"==n.panelName),-1751186789,-1989479378,m=2;for(var k=1;-1751186789!==O.p1u(k.toString(),k.toString().length,2225);k++)g&&(l.panel=g.name),m+=2;-1989479378!==O.p1u(m.toString(),m.toString().length,35111)&&g&&(l.panel=g.name)}else(h||c)&&(l.panel=e.Studies.getPanelFromFieldName(t,l)||n.chartName);if(l.panel||(f=o.panelHeight||null,(y=o.yAxis||{}).name=l.inputs.id,l.panel=l.inputs.id,t.createPanel(l.inputs.display,l.panel,f,n.chartName,new e.ChartEngine.YAxis(y))),l.parameters&&l.parameters.panelName&&(l.parameters.panelName=l.panel),v=t.panels[l.panel],x=e.Studies.smartCreateYAxis(t,v,l.inputs.id,n.yaxisDisplayValue,n.yAxis||o.yAxis),(b=(C=o?e.clone(o.yAxis):null)||x)&&(b.ground&&(b.initialMarginBottom=0),(b.initialMarginTop||0===b.initialMarginTop||b.initialMarginBottom||0===b.initialMarginBottom)&&t.calculateYAxisMargins(b),b.name==n.replaceID&&(b.name=l.inputs.id)),x&&(\"d\",\"ef\",\"aul\",\"t\",x.width=\"none\"==x.position?0:e.ChartEngine.YAxis.prototype.width,\"shared\"==n.yaxisDisplayValue||\"default\"==n.yaxisDisplayValue?delete n.yaxisDisplayValue:C?e.ensureDefaults(x,C):x.name==l.name&&(n.yaxisDisplayColor&&\"auto\"!=n.yaxisDisplayColor?x.textStyle=e.colorToHex(n.yaxisDisplayColor):delete x.textStyle,x.justifyRight=null,x.flipped=n.flippedEnabled),x!=v.yAxis?x.displayGridLines=!1:x!=t.chart.yAxis&&(x.displayGridLines=t.displayGridLinesInStudies)),t.calculateYAxisPositions(),p){for(var D in S=!1,t.drawingObjects)w=t.drawingObjects[D],d.outputMap&&d.outputMap.hasOwnProperty(w.field)?(w.field=w.field.replace(n.replaceID,l.inputs.id),l.parameters&&l.parameters.panelName?w.panelName=l.parameters.panelName:w.panelName=l.panel,S=!0):d.panel&&d.panel==w.panelName&&(w.panelName=w.panelName.replace(n.replaceID,l.inputs.id),S=!0);S&&t.changeOccurred(\"vector\")}return l},e.Studies.smartMovePanel=function(t,e,i,a,r){var n,s,o,l;return s=e.id,a&&(n=t.layout.studies[a]),n&&(o=t.panels[n.panel])&&o.yAxis.name==a&&(!r&&i==a||t.checkForEmptyPanel(o.name,!0,n)?i!=a&&t.panels[i]||(s!=o.name&&t.modifyPanel(o,{name:s,display:e.display}),i=s):(t.electNewPanelOwner(o),(l=n.getYAxis(t)).name==a&&t.electNewYAxisOwner(l))),O.W1B(),t.panels[i]},O.g1B(),e.Studies.smartCreateYAxis=function(t,i,a,r,n){var s,o,l,h,c;return s=\"le\",s+=\"f\",s+=\"t\",\"s\",\"h\",\"a\",\"red\",\"de\",\"fau\",\"lt\",o=t.getYAxisByName(i,a),!r&&n&&(r=n.position),\"default\"!=r&&\"shared\"!=r&&r!=i.yAxis.name||(r=\"\"),[s,\"right\",\"none\"].indexOf(r)>-1?(!o||o.isShared(t)?(l=n||{},e.extend(l,{name:a,position:r}),o||t.currentlyImporting||i==i.chart.panel||i.yAxis.studies.length||i.yAxis.renderers.length?(h=o==i.yAxis,o&&(o.name=t.electNewYAxisOwner(o)),o=t.addYAxis(i,new e.ChartEngine.YAxis(l)),h&&(i.yAxis=o)):(o=i.yAxis,e.extend(o,l))):o.position=r,o):r?((c=t.getYAxisByName(i,r))&&o==i.yAxis&&!o.isShared(t)&&(i.yAxis=c),o&&o.isShared(t)?o.name=t.electNewYAxisOwner(o):o!==i.yAxis&&t.deleteYAxisIfUnused(i,o),c):(o&&(o.isShared(t)?o.name=t.electNewYAxisOwner(o):(delete o.position,o!==i.yAxis&&t.deleteYAxisIfUnused(i,o))),t.resizeChart(),i.yAxis)},e.Studies.calculateVolume=function(t,i){var a,r,n;if(O.W1B(),\"vol undr\"==i.type){if(!t||!t.chart.dataSet)return;a=t.layout,r=i.parameters.removeStudy,n=a.volumeUnderlay,a.volumeUnderlay=!r,n!=a.volumeUnderlay&&t.changeOccurred(\"layout\"),r&&e.Studies.removeStudy(t,i)}i.outputMap={},i.outputMap.Volume=\"\"},e.Studies.MA=function(t,i,a,r,n,s,o,l){var h;(h=new e.Studies.StudyDescriptor(n+\" \"+o.name,\"ma\",o.panel)).chart=o.chart,h.days=parseInt(i,10),h.startFrom=o.startFrom,l&&(h.subField=l),h.inputs={},t&&(h.inputs.Type=t),a&&(h.inputs.Field=a),r&&(h.inputs.Offset=parseInt(r,10)),e.Studies.calculateMovingAverage(s,h)},e.Studies.movingAverage={conversions:{ma:\"simple\",sma:\"simple\",ema:\"exponential\",tma:\"triangular\",vdma:\"vidya\",wma:\"weighted\",smma:\"welles wilder\"},translations:{simple:\"Simple\",exponential:\"Exponential\",triangular:\"Triangular\",vidya:\"VIDYA\",weighted:\"Weighted\",\"welles wilder\":\"Welles Wilder\"},typeMap:{ema:\"Exponential\",exponential:\"Exponential\",tma:\"Triangular\",triangular:\"Triangular\",vdma:\"VIDYA\",vidya:\"VIDYA\",wma:\"Weighted\",weighted:\"Weighted\",smma:\"Exponential\",\"welles wilder\":\"Exponential\"}},e.Studies.movingAverageHelper=function(t,i){var a;if(\"options\"==i){for(var r in a={},e.Studies.movingAverage.translations)a[r]=t.translateIf(e.Studies.movingAverage.translations[r]);return a}return e.Studies.movingAverage.conversions[i]},e.Studies.createVolumeChart=function(t,i,a){var r,n,s,o,l,h,c,u,d,p=O;r=i.panel,i.inputs,n=i.underlay,s=i.overlay,o=e.Studies.determineColor(i.outputs[\"Up Volume\"]),l=e.Studies.determineColor(i.outputs[\"Down Volume\"]),h=n?\"stx_volume_underlay\":\"stx_volume\",p.U1f(0),t.setStyle(p.E1f(h,\"_up\"),\"color\",o),p.P1f(0),t.setStyle(p.E1f(h,\"_down\"),\"color\",l),c=[{field:i.volumeField||\"Volume\",fill_color_up:t.canvasStyle(h+\"_up\").color,border_color_up:t.canvasStyle(h+\"_up\").borderLeftColor,opacity_up:t.canvasStyle(h+\"_up\").opacity,fill_color_down:t.canvasStyle(h+\"_down\").color,border_color_down:t.canvasStyle(h+\"_down\").borderLeftColor,opacity_down:t.canvasStyle(h+\"_down\").opacity,color_function:i.colorFunction}],u=c[0],n||\"rgb(184, 44, 12)\"!==u.border_color_down||(\"#\",\"0\",\"00000\",u.border_color_down=\"#000000\",u.border_color_up=\"#000000\"),d={name:\"Volume\",panel:r,yAxis:i.getYAxis(t),widthFactor:1,bindToYAxis:!0,highlight:i.highlight},e.extend(d,i.study.parameters),e.extend(d,i.parameters),t.colorByCandleDirection&&!i.colorFunction&&(u.color_function=function(t){var e,i;return{fill_color:(e=t.Open)>(i=t.Close)?u.fill_color_down:u.fill_color_up,border_color:e>i?u.border_color_down:u.border_color_up,opacity:e>i?u.opacity_down:u.opacity_up}}),t.drawHistogram(d,c)},e.Studies.calculateStandardDeviation=function(t,i){var a,r,n,s,o,l,h,c,u,d,p,g,m,f=O;if(\"Standa\",\"rd Deviations\",\"_\",\"M\",\"A\",\"fi\",\"eld\",(a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{for(var y in(r=i.inputs.Field)&&\"field\"!=r||(r=\"Close\"),(n=i.inputs[\"Moving Average Type\"])||(n=i.inputs.Type),e.Studies.MA(n,i.days,r,i.inputs.Offset,\"_MA\",t,i),s=0,o=0,f.g1B(),l=0,(h=Number(i.inputs[\"Standard Deviations\"]))<0&&(h=2),c=i.name,i.outputs)f.U1f(15),c=f.X1f(c,\" \",y);for(u=i.startFrom-1,p=0;u>=0&&p<i.days;u--,p++)(d=a[u][r])&&\"object\"==typeof d&&(d=d[i.subField]),isNaN(d)&&(f.U1f(1),d=f.X1f(813941312,\"0\")),s+=Math.pow(d,2),o+=d;for(u=i.startFrom;u<a.length;u++)(d=(g=a[u])[r])&&\"object\"==typeof d&&(d=d[i.subField]),d||0===d||(d=0),s+=Math.pow(d,2),o+=d,u<i.days-1||(u>=i.days&&((m=a[u-i.days][r])&&\"object\"==typeof m&&(m=m[i.subField]),isNaN(m)&&(m=0),s-=Math.pow(m,2),o-=m),((l=g[\"_MA \"+i.name])||0===l)&&(g[c]=Math.sqrt((s+i.days*Math.pow(l,2)-2*l*o)/i.days)*h))}},e.Studies.calculateMovingAverage=function(t,i){var a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x=O;if(\"C\",\"los\",\"e\",\"si\",\"mple\",i.chart.scrubbed){if(\"ma\"!=(a=i.inputs.Type)&&\"sma\"!=a&&a||(a=\"simple\"),a in(r=e.Studies.movingAverage.typeMap))return\"calcul\",\"at\",\"eMov\",\"ingAverage\",e.Studies[\"calculateMovingAverage\"+r[a]](t,i);if(\"simple\"===a){for(var C in n=i.chart.scrubbed,s=0,o=[],l=i.name,i.outputs)x.U1f(15),l=x.E1f(l,\" \",C);for((h=i.inputs.Field)&&\"field\"!=h||(h=\"Close\"),c=parseInt(i.inputs.Offset,10),isNaN(c)&&(c=0),g=i.startFrom,m=c,u=i.startFrom-1;u>=0;u--)if((d=n[u][h])&&\"object\"==typeof d&&(d=d[i.subField]),d||0===d)if(m>0)m--,g=u;else{if(o.length==i.days-1)break;s+=d,o.unshift(d)}for(o.length<i.days-1&&(o=[],x.U1f(1),g=x.E1f(495784096,\"0\")),f=[],u=g;u<n.length;u++)(d=n[u][h])&&\"object\"==typeof d&&(d=d[i.subField]),y=u+c>=0&&u+c<n.length?n[u+c]:null,d||0===d?(s+=d,o.push(d),o.length>i.days&&(s-=o.shift()),v=o.length==i.days?s/i.days:null,y?y[l]=v:u+c>=n.length&&((p={})[l]=v,f.push(p))):y?y[l]=null:u+c>=n.length&&((p={})[l]=null,f.push(p));i.appendFutureTicks(t,f)}}},e.Studies.calculateMovingAverageExponential=function(t,e){var i,a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C=O;for(var b in\"w\",\"elles wilder\",i=e.inputs.Type,a=e.chart.scrubbed,r=0,n=0,s=0,o=2/(e.days+1),\"welles wilder\"!==i&&\"smma\"!==i||(o=1/e.days),l=null,h=e.name,e.outputs)C.P1f(15),h=C.E1f(h,\" \",b);for((c=e.inputs.Field)&&\"field\"!=c||(c=\"Close\"),u=parseInt(e.inputs.Offset,10),isNaN(u)&&(u=0),g=e.startFrom,m=u,d=e.startFrom-1;d>=0;d--)if((p=a[d][h])||0===p){if(null===l&&(l=p),s=e.days,m<=0)break;m--,g=d}for(null===l&&(l=g=0),f=[],d=g;d<a.length;d++)(p=a[d][c])&&\"object\"==typeof p&&(p=p[e.subField]),y=d+u>=0&&d+u<a.length?a[d+u]:null,p||0===p?(s==e.days-1?v=n=(r+=p)/e.days:s<e.days-1?(r+=p,C.P1f(64),n=C.E1f(r,s,1),v=null):0===s?(n=r+=p,v=null):(l||0===l)&&(C.P1f(65),v=n=C.X1f(p,o,l,l)),l=n,s++):v=null,y?y[h]=v:d+u>=a.length&&((x={})[h]=v,f.push(x));e.appendFutureTicks(t,f)},e.Studies.calculateMovingAverageVIDYA=function(t,i){var a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x=O;for(var C in\"_M\",\"AST\",\"D\",\"m\",\"a\",\"s\",\"d\",\"e\",\"v\",i.inputs.Type,a=i.chart.scrubbed,r=2/(i.days+1),n=null,s=i.name,i.outputs)x.U1f(15),s=x.X1f(s,\" \",C);for((o=i.inputs.Field)&&\"field\"!=o||(o=\"Close\"),i.std=new e.Studies.StudyDescriptor(i.name,\"sdev\",i.panel),i.std.chart=i.chart,i.std.days=5,i.std.startFrom=i.startFrom,i.std.inputs={Field:o,\"Standard Deviations\":1,Type:\"ma\"},i.std.outputs={_STD:null},e.Studies.calculateStandardDeviation(t,i.std),e.Studies.MA(\"ma\",20,\"_STD \"+i.name,0,\"_MASTD\",t,i),l=parseInt(i.inputs.Offset,10),isNaN(l)&&(l=0),d=i.startFrom,p=l,h=i.startFrom-1;h>=0;h--)if((c=a[h][s])||0===c){if(null===n&&(n=c),p<=0)break;p--,d=h}for(null===n&&(n=d=0),g=[],h=d;h<a.length;h++)(c=(m=a[h])[o])&&\"object\"==typeof c&&(c=c[i.subField]),f=h+l>=0&&h+l<a.length?a[h+l]:null,c||0===c?(m[\"_MASTD \"+i.name]||0===m[\"_MASTD \"+i.name])&&(y=m[\"_STD \"+i.name]/m[\"_MASTD \"+i.name],x.U1f(66),n=v=x.X1f(c,n,r,y,y,r,1),h<i.days&&(v=null),f?f[s]=v:h+l>=a.length&&((u={})[s]=v,g.push(u))):f?f[s]=null:h+l>=a.length&&((u={})[s]=null,g.push(u));i.appendFutureTicks(t,g)},e.Studies.calculateMovingAverageTriangular=function(t,i){var a,r,n,s,o,l,h,c,u,d=O;for(var p in\"T\",\"R\",\"I2\",\"T\",\"R\",\"I\",\"1\",a=i.chart.scrubbed,(r=i.inputs.Field)&&\"field\"!=r||(r=\"Close\"),n=Math.ceil(i.days/2),d.P1f(2),e.Studies.MA(\"simple\",n,r,d.X1f(\"0\",1),\"TRI1\",t,i),i.days%2==0&&n++,e.Studies.MA(\"simple\",n,\"TRI1 \"+i.name,0,\"TRI2\",t,i),s=i.name,i.outputs)d.P1f(15),s=d.X1f(s,\" \",p);o=parseInt(i.inputs.Offset,10),isNaN(o)&&(d.U1f(18),o=d.E1f(\"0\",0)),l=o;for(var g=i.startFrom-1;g>=0;g--)if((h=a[g][s])||0===h){if(!(l>0))break;l--}for(c=[],g++;g<a.length;g++)g+o>=0&&(g+o<a.length?(d.U1f(0),a[d.E1f(g,o)][s]=a[g][\"TRI2 \"+i.name]):(\"T\",\"R\",\"I\",\"2 \",(u={})[s]=a[g][\"TRI2 \"+i.name],c.push(u)));d.W1B(),i.appendFutureTicks(t,c)},e.Studies.calculateMovingAverageWeighted=function(t,e){var i,a,r,n,s,o,l,h,c,u,d,p,g,m,f,y;for(var v in i=e.chart.scrubbed,a=0,r=0,(n=e.inputs.Field)&&\"field\"!=n||(n=\"Close\"),s=e.days*(e.days+1)/2,o=e.name,e.outputs)O.P1f(15),o=O.X1f(o,\" \",v);for(l=parseInt(e.inputs.Offset,10),isNaN(l)&&(l=0),d=[],p=e.startFrom,g=l,h=e.startFrom-1;h>=0;h--)if((c=i[h][n])&&\"object\"==typeof c&&(c=c[e.subField]),c||0===c)if(g>0)g--,p=h;else{if(d.length==e.days-1)break;d.unshift(c)}for(d.length<e.days-1&&(d=[],p=0),h=0;h<d.length;h++)a+=(h+1)*d[h],r+=d[h];for(m=[],h=p;h<i.length;h++)(c=i[h][n])&&\"object\"==typeof c&&(c=c[e.subField]),f=h+l>=0&&h+l<i.length?i[h+l]:null,c||0===c?(d.push(c),d.length>e.days&&(a-=r,r-=d.shift()),a+=d.length*c,r+=c,y=h<e.days-1?null:a/s,f?f[o]=y:h+l>=i.length&&((u={})[o]=y,m.push(u))):f?f[o]=null:h+l>=i.length&&((u={})[o]=null,m.push(u));e.appendFutureTicks(t,m)},e.Studies.calculateStudyATR=function(t,e){var i,a,r,n,s,o,l,h=O;if(i=e.chart.scrubbed,h.g1B(),a=e.days,i.length<a+1)e.error=!0;else{r=0,n=e.name;for(var c=Math.max(e.startFrom,1);c<i.length;c++)\"A\",\"TR \",\"Sum True R\",\"ange \",s=i[c],h.P1f(5),o=i[h.E1f(1,c)],l=s.trueRange,o[\"Sum True Range \"+n]&&(h.U1f(0),r=o[h.E1f(\"Sum True Range \",n)]),r+=l,c>a&&(h.P1f(5),r-=i[h.X1f(a,c)][h.X1f(\"True Range \",n,h.P1f(0))]),h.U1f(0),s[h.E1f(\"True Range \",n)]=l,h.P1f(0),s[h.E1f(\"Sum True Range \",n)]=r,c==a?(h.U1f(0),s[h.E1f(\"ATR \",n)]=h.X1f(a,r,h.U1f(6))):c>a&&(h.P1f(0),s[h.E1f(\"ATR \",n)]=(o[\"ATR \"+n]*(a-1)+l)/a)}},e.Studies.displayPSAR2=function(t,i,a){var r,n,s,o,l,h,c,u,d,p,g,m,f,y=O;for(var v in r=t.panels[i.panel],s=(n=i.getYAxis(t))==t.chart.panel.yAxis,t.startClip(r.name),o=i.getContext(t),l=\"squarewave\"==i.inputs[\"Plot Type\"],i.outputs){\"au\",\"to\",h=v+\" \"+i.name,o.beginPath(),c=t.layout.candleWidth,u=Math.max(3,Math.floor(t.chart.tmpWidth/2));for(var x=0;x<a.length;x++)(d=a[x])&&(d[h]||0===d[h])&&(d.candleWidth&&(c=d.candleWidth),s&&d.transform&&(d=d.transform),p=t.pixelFromBar(x,r.chart),l&&(y.U1f(6),p-=y.E1f(2,c)),g=t.pixelFromTransformedValue(d[i.referenceOutput?i.referenceOutput+\" \"+i.name:h],r,n),0!==x&&a[x-1]&&(a[x-1][h]||0===a[x-1][h])||o.moveTo(p,g),l?(o.lineTo(p,g),y.P1f(0),o.lineTo(y.E1f(p,c),g),a[x+1]&&(y.P1f(67),m=a[y.E1f(1708707040,x,\"1\")],s&&m.transform&&(m=m.transform),m[h]||0===m[h]||(y.U1f(0),o.lineTo(y.X1f(p,c),t.pixelFromTransformedValue(m[i.referenceOutput?i.referenceOutput+\" \"+i.name:h],t.panels[i.panel],n))))):(y.P1f(24),o.moveTo(y.X1f(p,u,2),g),y.U1f(21),o.lineTo(y.E1f(2,p,u),g)));o.lineWidth=1,i.highlight&&(o.lineWidth=3),\"auto\"==(f=e.Studies.determineColor(i.outputs[v]))&&(f=t.defaultColor),o.strokeStyle=f,!i.highlight&&t.highlightedDraggable&&(o.globalAlpha*=.3),o.stroke(),o.closePath(),o.lineWidth=1}t.endClip()},e.Studies.inputAttributeDefaultGenerator=function(t){return t||0===t?t.constructor==Number?Math.floor(t)==t?t>0?{min:1,step:1}:{step:1}:t>0?{min:0,step:.01}:{step:.01}:(O.g1B(),{}):{}},e.Studies.getMarketOffset=function({stx:t,localQuoteDate:i,shiftToDateBoundary:a}){var r,n,s,o,l,h;r=\"U\",r+=\"T\",r+=\"C\",arguments.length>1&&(t=arguments[0],i=arguments[1],n=arguments[2]);var{symbol:c}=t.chart;return s=e.Market.Symbology.isForexMetal(c),void 0===n&&(n=e.Market.Symbology.isForexSymbol(c)),o=t.chart.market?n?\"America/New_York\":t.chart.market.market_tz:null,l=new Date(i.getTime()+6e4*i.getTimezoneOffset()),o&&-1!=o.indexOf(r)||(l=e.convertTimeZone(l,\"UTC\",o)),h=new Date(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()).getTime()-i.getTime(),a&&n&&(O.P1f(68),h+=O.E1f(s?6:7,\"60\",0,60,1e3)),h},e.Studies.getStudyList=function(t){var i,a;for(var r in i={},a={},e.extend(a,t),e.Studies.studyLibrary)a[r]||(i[e.Studies.studyLibrary[r].name]=r);return i},e.Studies.determineColor=function(t){return t?\"object\"==typeof t?t.color:t:null},e.Studies.calculateGenericEnvelope=function(t,e,i,a,r,n){var s,o,l,h,c,u,d,p=O;i||(i=0),n||(n=0),a&&\"field\"!=a||(a=\"Close\"),r||(r=a),s=e.chart.scrubbed,p.W1B(),(o=e.inputs.Field)&&\"field\"!==o||(o=\"Close\");for(var g=e.startFrom;s&&g<s.length;g++)\"Ba\",\"ndwidth \",\"o\",\"bject\",\"ob\",\"je\",\"c\",\"t\",(l=s[g])&&l[a]&&((h=l[o])&&\"object\"==typeof h&&(h=h.Close),(c=l[a])&&\"object\"==typeof c&&(c=c[e.subField]),(u=l[r])&&\"object\"==typeof u&&(u=u[e.subField]),p.P1f(69),d=p.E1f(i,u,n),p.U1f(0),l[e.type+\" Top \"+e.name]=p.E1f(c,d),p.U1f(5),l[e.type+\" Bottom \"+e.name]=p.E1f(d,c),l[e.type+\" Median \"+e.name]=c,l[\"Bandwidth \"+e.name]=c?200*d/c:0,p.U1f(70),l[\"%b \"+e.name]=p.E1f(50,1,h,d,c))},e.Studies.displayChannel=function(t,i,a){var r,n,s;if(\"Cha\",\"nnel Fill\",i.inputs[\"Channel Fill\"]){for(var o in r={panelName:i.panel},i.outputs)\"C\",\"hann\",\"el\",\"Top\"==(n=o.split(\" \").pop())||\"High\"==n?r.topBand=o+\" \"+i.name:\"Bottom\"==n||\"Low\"==n?r.bottomBand=o+\" \"+i.name:\"Median\"!=n&&\"Channel\"!=n||(r.color=e.Studies.determineColor(i.outputs[o]));i.parameters&&i.parameters.opacity?r.opacity=i.parameters.opacity:r.opacity=.2,s=t.panels[i.panel],r.skipTransform=s.name!=i.chart.name,r.yAxis=i.getYAxis(t),!i.highlight&&t.highlightedDraggable&&(r.opacity*=.3),e.prepareChannelFill(t,r)}e.Studies.displaySeriesAsLine(t,i,a)},e.Studies.initAnchorHandle=function(t,e){var{handle:i}=e;i||(t.controls.anchorHandles||(t.controls.anchorHandles={}),t.controls.anchorHandles[e.uniqueId]?({handle:i}=t.controls.anchorHandles[e.uniqueId]):(\"stx_anc\",\"hor_handle\",(i=document.createElement(\"div\")).classList.add(\"stx_anchor_handle\"),i.setAttribute(e.uniqueId,\"\"),t.controls.anchorHandles[e.uniqueId]={handle:i,sd:e},t.controls.chartControls.parentElement.appendChild(i)),e.anchorHandle=i)},e.Studies.removeAnchorHandle=function(t,e){var{handle:i}=(t.controls.anchorHandles||{})[e.uniqueId]||{};O.W1B(),i&&(delete t.controls.anchorHandles[e.uniqueId],i.remove())},e.Studies.repositionAnchor=function(t,a){var r,n,s,o,l,h;O.g1B();var{currentAnchorTime:c,uniqueId:u}=a,{hoverTick:d}=t.repositioningAnchorSelector||{},{dataSet:p,market:g}=t.chart,{anchorHandles:m}=t.controls;if(r={},d||0===d){if(\"A\",\"nchor \",\"Dat\",\"e\",\"YYYY-\",\"MM-\",\"dd\",d>=p.length)return;if(n=!a.inputs[\"Anchor Date\"],s=p[d].DT,o=e.Studies.getMarketOffset({stx:t,localQuoteDate:s,shiftToDateBoundary:!0}),n&&new Date(s.getTime()+o).getDate()!==new Date(c.getTime()+o).getDate())return;g.market_def&&(s=new i.Date(s,g.market_def.market_tz)),l=!n&&e.dateToStr(s,\"YYYY-MM-dd\"),r={\"Anchor Time\":e.dateToStr(s,\"HH:mm:ss\")},l&&(r[\"Anchor Date\"]=l)}h=e.Studies.replaceStudy(t,a.inputs.id,a.type,Object.assign(a.inputs,r),a.outputs,a.parameters,a.panel),m[u].sd=h,t.draw()},e.Studies.displayAnchorHandleAndLine=function(t,a,r){var n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S=O;n=(t.repositioningAnchorSelector||{}).sd===a;var{hoverTick:w}=n&&t.repositioningAnchorSelector,{chart:k,panels:D,xaxisHeight:T}=t,{market:M={},symbol:A}=k;s=D[a.panel];var{top:P,bottom:F,right:_,left:B,height:E}=s,{inputs:L,anchorHandle:N,currentAnchorTime:H}=a,{backgroundColor:I,borderLeftColor:R}=t.canvasStyle(\"stx_anchor_handle\");S.U1f(19);var[W,z,V=O.X1f(\"0\",1387346208)]=(L[\"Anchor Time\"]||\"\").split(\":\");o=!L[\"Anchor Date\"],l=e.Market.Symbology.isForexSymbol(A),h=(w||0===w)&&(t.chart.dataSet[w]||{}).DT,c=e.Studies.getMarketOffset({stx:t,localQuoteDate:r[r.length-1].DT,shiftToDateBoundary:!0}),u=h&&o&&new Date(h.getTime()+c).getDate()!==new Date(H.getTime()+c).getDate();var{highlighted:U}=t.controls.anchorHandles[a.uniqueId],[j,q]=M.getNormalOpen().split(\":\").map(t=>parseInt(t));d=e=>{var i;return i=e?t.tickFromDate(e,null,null,!0):w,[t.pixelFromTick(i,k),i]},p=o?new Date(r[r.length-1].DT):e.strToDate(L[\"Anchor Date\"]),M.market_def&&(p=new i.Date(p,M.market_def.market_tz)),p.setHours(W,z,V),(g=l&&(p.getHours()>j||p.getHours()===j&&p.getMinutes()>=q))&&p.setDate(p.getDate()-1);var[Y]=d(),[Z,X]=d(p);(m=new Date(p)).setHours(...M.getNormalClose().split(\":\")),g&&m.setDate(m.getDate()+1);var[Q]=m&&d(m)||[];if(o&&(Z>_||Q>_)){f=new Date(p);do{f.setDate(f.getDate()-1)}while(M&&!M.isMarketDate(f));var[J,G]=d(f);if(J>B){-1236196900,2122309223,y=2;for(var K=1;-1236196900!==S.C1u(K.toString(),K.toString().length,29359);K++)p=f,Z=J,X=G,y+=2;2122309223!==S.C1u(y.toString(),y.toString().length,22884)&&(p=f,Z=J,X=G)}}v={y0:P,y1:F,type:\"line\",confineToPanel:s},t.plotLine(Object.assign(v,{x0:Z,x1:Z,color:I,pattern:\"solid\",lineWidth:U?3:2,opacity:1})),t.plotLine(Object.assign(v,{x0:Y,x1:Y,color:u?R:I,pattern:[6,6],lineWidth:2,opacity:u?.5:1})),N.style.height=[8,E/4,50].sort((t,e)=>(S.W1B(),S.P1f(5),S.E1f(e,t)))[1]+\"px\";var{height:$,width:tt}=N.getBoundingClientRect();x=Math.round(F)===t.height?T:0,C=\"chart\"===s.name?35:0,S.P1f(27),b=S.E1f(x,$,C,10),S.P1f(16),N.style.top=S.E1f(b,\"px\",F),N.style.left=w||0===w?Y:Z-tt/2+\"px\",a.currentAnchorTime=p,a.currentAnchorTick=X},e.Studies.studyScriptLibrary={},e.Studies.studyLibrary=e.Studies.studyLibrary||{},e.extend(e.Studies.studyLibrary,{ma:{name:\"Moving Average\",overlay:!0,calculateFN:e.Studies.calculateMovingAverage,inputs:{Period:50,Field:\"field\",Type:\"ma\",Offset:0},outputs:{MA:\"#FF0000\"}},\"STD Dev\":{name:\"Standard Deviation\",calculateFN:e.Studies.calculateStandardDeviation,inputs:{Period:14,Field:\"field\",\"Standard Deviations\":2,\"Moving Average Type\":\"ma\"},attributes:{\"Standard Deviations\":{min:.1,step:.1}}},\"True Range\":{name:\"True Range\",calculateFN:e.Studies.calculateStudyATR,inputs:{},outputs:{\"True Range\":\"auto\"}},volume:{name:\"Volume Chart\",range:\"0 to max\",yAxis:{ground:!0,initialMarginTop:0,zoom:0},seriesFN:e.Studies.createVolumeChart,calculateFN:e.Studies.calculateVolume,inputs:{},outputs:{\"Up Volume\":\"#8cc176\",\"Down Volume\":\"#b82c0c\"}}})},S=t=>{var e;(e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ).ChartEngine.Driver?(e.ChartEngine.Driver.Lookup=function(t){},e.ChartEngine.Driver.Lookup.prototype.acceptText=function(t,e,i,a){this.cb}):console.error(\"symbolLookupBase feature requires first activating quoteFeed feature.\")},w=t=>{var e;(e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ).ThemeHelper=e.ThemeHelper||function(t){var i,a;O.W1B(),this.params=t,a=\"#FFFFFF\",(i=t.stx).chart.container&&(a=getComputedStyle(i.chart.container).backgroundColor,e.isTransparent(a)&&(a=i.containerColor)),this.settings.chart.Background.color=e.hexToRgba(a),this.settings.chart[\"Grid Lines\"].color=e.hexToRgba(i.canvasStyle(\"stx_grid\").color),this.settings.chart[\"Grid Dividers\"].color=e.hexToRgba(i.canvasStyle(\"stx_grid_dark\").color),this.settings.chart[\"Axis Text\"].color=e.hexToRgba(i.canvasStyle(\"stx_xaxis\").color),this.settings.chartTypes[\"Candle/Bar\"].up.color=e.hexToRgba(i.canvasStyle(\"stx_candle_up\").color),this.settings.chartTypes[\"Candle/Bar\"].down.color=e.hexToRgba(i.canvasStyle(\"stx_candle_down\").color),this.settings.chartTypes[\"Candle/Bar\"].up.wick=e.hexToRgba(i.canvasStyle(\"stx_candle_shadow_up\").color),this.settings.chartTypes[\"Candle/Bar\"].down.wick=e.hexToRgba(i.canvasStyle(\"stx_candle_shadow_down\").color),this.settings.chartTypes[\"Candle/Bar\"].even.wick=e.hexToRgba(i.canvasStyle(\"stx_candle_shadow_even\").color),this.settings.chartTypes[\"Candle/Bar\"].up.border=e.hexToRgba(i.canvasStyle(\"stx_candle_up\").borderLeftColor),this.settings.chartTypes[\"Candle/Bar\"].down.border=e.hexToRgba(i.canvasStyle(\"stx_candle_down\").borderLeftColor),e.isTransparent(i.canvasStyle(\"stx_candle_up\").borderLeftColor)&&(this.settings.chartTypes[\"Candle/Bar\"].up.border=null),e.isTransparent(i.canvasStyle(\"stx_candle_down\").borderLeftColor)&&(this.settings.chartTypes[\"Candle/Bar\"].down.border=null),this.settings.chartTypes.Line.color=e.hexToRgba(i.canvasStyle(\"stx_line_chart\").color),this.settings.chartTypes.Mountain.color=e.hexToRgba(i.canvasStyle(\"stx_mountain_chart\").backgroundColor),this.settings.chartTypes.Mountain.basecolor=e.hexToRgba(i.canvasStyle(\"stx_mountain_chart\").color)},e.ThemeHelper.prototype.settings={chart:{Background:{color:null},\"Grid Lines\":{color:null},\"Grid Dividers\":{color:null},\"Axis Text\":{color:null}},chartTypes:{\"Candle/Bar\":{up:{color:null,wick:null,border:null},down:{color:null,wick:null,border:null},even:{color:null,wick:null,border:null}},Line:{color:null},Mountain:{color:null,basecolor:null}}},O.g1B(),e.ThemeHelper.prototype.update=function(t){var i,a;function r(e,a,r){for(var n in i[e])t.setStyle(n,a,r)}t||(t=this.params.stx),i={stx_candle_up:{stx_candle_up:!0,stx_bar_up:!0,stx_hollow_candle_up:!0,stx_line_up:!0,stx_baseline_up:!0},stx_candle_down:{stx_candle_down:!0,stx_bar_down:!0,stx_hollow_candle_down:!0,stx_line_down:!0,stx_baseline_down:!0},stx_candle_even:{stx_hollow_candle_even:!0,stx_bar_even:!0},stx_shadow_up:{stx_candle_shadow_up:!0},stx_shadow_down:{stx_candle_shadow_down:!0},stx_shadow_even:{stx_candle_shadow_even:!0},stx_line_chart:{stx_bar_chart:!0,stx_line_chart:!0},stx_grid:{stx_grid:!0},stx_grid_dark:{stx_grid_dark:!0},stx_xaxis:{stx_xaxis_dark:!0,stx_xaxis:!0,stx_yaxis:!0,stx_yaxis_dark:!0,stx_grid_border:!0},stx_mountain_chart:{stx_mountain_chart:!0},stx_market_session:{stx_market_session:!0}},t.chart.container.style.backgroundColor=this.settings.chart.Background.color,t.defaultColor=\"\",O.g1B(),r(\"stx_grid\",\"color\",this.settings.chart[\"Grid Lines\"].color),r(\"stx_grid_dark\",\"color\",this.settings.chart[\"Grid Dividers\"].color),r(\"stx_xaxis\",\"color\",this.settings.chart[\"Axis Text\"].color),(a=this.settings.chartTypes[\"Candle/Bar\"]).even||(a.even={color:null,wick:e.hexToRgba(t.canvasStyle(\"stx_candle_shadow_even\").color),border:null}),r(\"stx_candle_up\",\"color\",a.up.color),r(\"stx_candle_down\",\"color\",a.down.color),r(\"stx_candle_even\",\"color\",a.even.color),r(\"stx_shadow_up\",\"color\",a.up.wick),r(\"stx_shadow_down\",\"color\",a.down.wick),r(\"stx_shadow_even\",\"color\",a.even.wick),t.setStyle(\"stx_candle_up\",\"borderLeftColor\",a.up.border),t.setStyle(\"stx_candle_down\",\"borderLeftColor\",a.down.border),r(\"stx_line_chart\",\"color\",this.settings.chartTypes.Line.color),t.setStyle(\"stx_mountain_chart\",\"borderTopColor\",e.hexToRgba(this.settings.chartTypes.Mountain.color,1)),t.setStyle(\"stx_mountain_chart\",\"backgroundColor\",e.hexToRgba(this.settings.chartTypes.Mountain.color,.5)),t.setStyle(\"stx_mountain_chart\",\"color\",e.hexToRgba(this.settings.chartTypes.Mountain.basecolor,.01)),t.draw()},e.ChartEngine.prototype.setThemeSettings=function(t){var i;this.styles={},this.chart.container.style.backgroundColor=\"\",this.defaultColor=\"\",t&&((i=new e.ThemeHelper({stx:this})).settings=t,i.update()),this.updateListeners(\"theme\"),this.changeOccurred(\"theme\"),this.displayInitialized&&(this.headsUpHR(),this.clearPixelCache(),this.updateListeners(\"theme\"),this.draw())}},k=e=>{var i,a;i=\"undefined\"!=typeof _CIQ?_CIQ:e.CIQ,a=\"undefined\"!=typeof _timezoneJS?_timezoneJS:e.timezoneJS,i.timeZoneMap={\"(UTC-11:00) American Samoa, Midway Island\":\"Pacific/Pago_Pago\",\"(UTC-10:00) Hawaii\":\"Pacific/Honolulu\",\"(UTC-09:00) Alaska\":\"America/Juneau\",\"(UTC-08:00) Pacific Time (US and Canada), Tijuana\":\"America/Los_Angeles\",\"(UTC-07:00) Arizona\":\"America/Phoenix\",\"(UTC-07:00) Chihuahua, Mazatlan\":\"America/Chihuahua\",\"(UTC-07:00) Mountain Time (US and Canada)\":\"America/Denver\",\"(UTC-06:00) Central America\":\"America/Costa_Rica\",\"(UTC-06:00) Central Time (US and Canada)\":\"America/Chicago\",\"(UTC-06:00) Guadalajara, Mexico City, Monterrey\":\"America/Mexico_City\",\"(UTC-06:00) Saskatchewan\":\"America/Regina\",\"(UTC-05:00) Bogota, Lima, Quito, Rio Branco\":\"America/Bogota\",\"(UTC-05:00) Eastern Time (US and Canada)\":\"America/New_York\",\"(UTC-05:00) Havana\":\"America/Havana\",\"(UTC-05:00) Port-au-Prince\":\"America/Port-au-Prince\",\"(UTC-04:00) Asuncion\":\"America/Asuncion\",\"(UTC-04:00) Santiago\":\"America/Santiago\",\"(UTC-04:00) Caracas\":\"America/Caracas\",\"(UTC-04:00) Atlantic Time (Canada)\":\"America/Halifax\",\"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan\":\"America/Puerto_Rico\",\"(UTC-03:30) Newfoundland and Labrador\":\"America/St_Johns\",\"(UTC-03:00) Cancun, Jamaica, Panama\":\"America/Panama\",\"(UTC-03:00) Buenos Aires\":\"America/Argentina/Buenos_Aires\",\"(UTC-03:00) Punta Arenas\":\"America/Punta_Arenas\",\"(UTC-03:00) Montevideo\":\"America/Montevideo\",\"(UTC-03:00) Sao Paulo\":\"America/Sao_Paulo\",\"(UTC-02:00) Mid-Atlantic\":\"Atlantic/South_Georgia\",\"(UTC-01:00) Azores\":\"Atlantic/Azores\",\"(UTC-01:00) Cape Verde Islands\":\"Atlantic/Cape_Verde\",\"(UTC) Greenwich Mean Time, Reykjavik\":\"UTC\",\"(UTC) Dublin\":\"Europe/Dublin\",\"(UTC) Lisbon, London\":\"Europe/London\",\"(UTC+01:00) Algiers, Tunis\":\"Africa/Tunis\",\"(UTC+01:00) Casablanca\":\"Africa/Casablanca\",\"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna\":\"Europe/Amsterdam\",\"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague\":\"Europe/Belgrade\",\"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris\":\"Europe/Brussels\",\"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb\":\"Europe/Sarajevo\",\"(UTC+02:00) Kaliningrad\":\"Europe/Kaliningrad\",\"(UTC+02:00) Athens, Bucharest\":\"Europe/Bucharest\",\"(UTC+02:00) Cairo\":\"Africa/Cairo\",\"(UTC+02:00) Harare, Johannesburg\":\"Africa/Johannesburg\",\"(UTC+02:00) Helsinki, Kiev, Riga, Sofia, Tallinn, Vilnius\":\"Europe/Helsinki\",\"(UTC+02:00) Cyprus\":\"Asia/Nicosia\",\"(UTC+02:00) Beirut\":\"Asia/Beirut\",\"(UTC+02:00) Damascus\":\"Asia/Damascus\",\"(UTC+02:00) Jerusalem\":\"Asia/Jerusalem\",\"(UTC+02:00) Amman\":\"Asia/Amman\",\"(UTC+03:00) Istanbul\":\"Europe/Istanbul\",\"(UTC+03:00) Baghdad, Kuwait, Qatar, Riyadh\":\"Asia/Riyadh\",\"(UTC+03:00) Minsk, Moscow, Kirov, Volgograd\":\"Europe/Moscow\",\"(UTC+03:00) Simferopol\":\"Europe/Simferopol\",\"(UTC+03:00) Nairobi\":\"Africa/Nairobi\",\"(UTC+03:30) Tehran\":\"Asia/Tehran\",\"(UTC+04:00) Baku\":\"Asia/Baku\",\"(UTC+04:00) Dubai, Muscat\":\"Asia/Dubai\",\"(UTC+04:00) Astrakhan, Samara, Saratov, Ulyanovsk\":\"Europe/Samara\",\"(UTC+04:30) Kabul\":\"Asia/Kabul\",\"(UTC+05:00) Karachi, Tashkent\":\"Asia/Karachi\",\"(UTC+05:00) Yekaterinburg\":\"Asia/Yekaterinburg\",\"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi\":\"Asia/Kolkata\",\"(UTC+05:45) Kathmandu\":\"Asia/Kathmandu\",\"(UTC+06:00) Almaty\":\"Asia/Almaty\",\"(UTC+06:00) Omsk\":\"Asia/Omsk\",\"(UTC+06:00) Astana, Dhaka\":\"Asia/Dhaka\",\"(UTC+06:30) Yangon\":\"Asia/Yangon\",\"(UTC+07:00) Bangkok, Jakarta, Vietnam\":\"Asia/Bangkok\",\"(UTC+07:00) Hovd\":\"Asia/Hovd\",\"(UTC+07:00) Krasnoyarsk\":\"Asia/Krasnoyarsk\",\"(UTC+07:00) Novokuznetsk\":\"Asia/Novokuznetsk\",\"(UTC+07:00) Barnaul, Novosibirsk, Tomsk\":\"Asia/Novosibirsk\",\"(UTC+08:00) Beijing, Chongqing, Hong Kong SAR\":\"Asia/Hong_Kong\",\"(UTC+08:00) Brunei, Kuala Lumpur, Singapore\":\"Asia/Kuala_Lumpur\",\"(UTC+08:00) Irkutsk\":\"Asia/Irkutsk\",\"(UTC+08:00) Choibalsan, Ulaanbaatar\":\"Asia/Ulaanbaatar\",\"(UTC+08:00) Manila, Taipei\":\"Asia/Taipei\",\"(UTC+08:00) Perth\":\"Australia/Perth\",\"(UTC+08:45) Eucla\":\"Australia/Eucla\",\"(UTC+09:00) Osaka, Sapporo, Tokyo\":\"Asia/Tokyo\",\"(UTC+09:00) Pyongyang\":\"Asia/Pyongyang\",\"(UTC+09:00) Seoul\":\"Asia/Seoul\",\"(UTC+09:00) Chita, Khandyga, Yakutsk\":\"Asia/Yakutsk\",\"(UTC+09:30) Adelaide\":\"Australia/Adelaide\",\"(UTC+09:30) Darwin\":\"Australia/Darwin\",\"(UTC+10:00) Brisbane\":\"Australia/Brisbane\",\"(UTC+10:00) Canberra, Melbourne, Sydney\":\"Australia/Sydney\",\"(UTC+10:00) Guam, Port Moresby\":\"Pacific/Guam\",\"(UTC+10:00) Ust-Nera, Vladivostok\":\"Asia/Vladivostok\",\"(UTC+11:00) Noumea, Solomon Islands\":\"Pacific/Noumea\",\"(UTC+11:00) Magadan\":\"Asia/Magadan\",\"(UTC+11:00) Sakhalin, Srednekolymsk\":\"Asia/Srednekolymsk\",\"(UTC+12:00) Anadyr, Kamchatka\":\"Asia/Kamchatka\",\"(UTC+12:00) Auckland, Wellington\":\"Pacific/Auckland\",\"(UTC+12:00) Fiji\":\"Pacific/Fiji\",\"(UTC+12:45) Chatham\":\"Pacific/Chatham\",\"(UTC+13:00) Tonga\":\"Pacific/Tongatapu\",\"(UTC+13:00) Samoa\":\"Pacific/Apia\",\"(UTC+14:00) Kiritimati\":\"Pacific/Kiritimati\"},function(){var e,r,n,s,o,l,h,c,u,d;e=(\"undefined\"!=typeof window?window:null)||(void 0!==t?t:{}),a.VERSION=\"0.4.11\",r=e.$||e.jQuery||e.Zepto,n=e.fleegix,s=a.Days=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],o=a.Months=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],l={},h={},c={};for(var p=0;p<o.length;p++)l[o[p].substr(0,3)]=p;for(p=0;p<s.length;p++)h[s[p].substr(0,O.X1f(1976296736,\"3\",O.U1f(1)))]=p;Array.prototype.indexOf,u=function(t,e){var i,a,r,n=O;if(\"number\"!=typeof t)throw n.P1f(0),n.E1f(\"not a number: \",t);if(n.P1f(38),i=n.E1f(t,1e3),r=(a=t.toString()).length,i&&r>e){-65997369,1258157915,2;for(var s=1;-65997369!==n.p1u(s.toString(),s.toString().length,93046);s++)return n.U1f(5),a.substr(n.E1f(e,r),r);if(1258157915!==n.C1u(2..toString(),2..toString().length,31634))return n.U1f(6),a.substr(n.X1f(e,r),r)}for(a=[a];r<e;)a.unshift(\"0\"),r++;return a.join(\"\")},d=function(t){if(\"as\",\"ync\",t){if(!t.url)throw new Error(\"URL must be specified\");if(\"async\"in t||(t.async=!0),!(n&&void 0!==n.xhr||r&&void 0!==r.ajax))throw new Error(\"Please use the Fleegix.js XHR module, jQuery ajax, Zepto ajax, or define your own transport mechanism for downloading zone files.\");return t.async?n&&n.xhr?n.xhr.send({url:t.url,method:\"get\",handleSuccess:t.success,handleErr:t.error}):r.ajax({url:t.url,dataType:\"text\",method:\"GET\",error:t.error,success:t.success}):n&&n.xhr?n.xhr.doReq({url:t.url,async:!1}):r.ajax({url:t.url,async:!1,dataType:\"text\"}).responseText}},a.ruleCache={},a.Date=function(){var t,e,i,r,n,s,o,l;if(t=\"str\",t+=\"i\",t+=\"ng\",this===a)throw\"timezoneJS.Date object must be constructed with 'new'\";switch(e=Array.prototype.slice.apply(arguments),i=null,r=null,n=[],O.g1B(),s=!1,\"[object Array]\"===Object.prototype.toString.call(e[0])&&(e=e[0]),\"string\"==typeof e[e.length-1]&&(s=Date.parse(e[e.length-1].replace(/GMT[+-]\\d+/,\"\")),(isNaN(s)||null===s)&&(r=e.pop())),o=!1,e.length){case 0:i=new Date;break;case 1:i=new Date(e[0]),typeof e[0]==t&&-1==e[0].search(/[+-][0-9]{4}/)&&-1==e[0].search(/Z/)&&-1==e[0].search(/T/)&&(o=!0);break;case 2:i=new Date(e[0],e[1]),o=!0;break;default:for(var h=0;h<7;h++)n[h]=e[h]||0;i=new Date(n[0],n[1],n[2],n[3],n[4],n[5],n[6]),o=!0}if(isNaN(i.getTime()))throw l=\"Invalid \",l+=\"dat\",l+=\"e\",new Error(l);this._useCache=!1,this._tzInfo={},this._day=0,this.year=0,O.P1f(1),this.month=O.X1f(680178400,\"0\"),this.date=0,this.hours=0,this.minutes=0,this.seconds=0,this.milliseconds=0,this.timezone=r||null,o?this.setFromDateObjProxy(i):this.setFromTimeProxy(i.getTime(),r)},i.extend(a.Date.prototype,{getDate:function(){return this.date},getDay:function(){return this._day},getFullYear:function(){return O.g1B(),this.year},getMonth:function(){return O.W1B(),this.month},getYear:function(){return O.g1B(),this.year-1900},getHours:function(){return this.hours},getMilliseconds:function(){return this.milliseconds},getMinutes:function(){return O.g1B(),this.minutes},getSeconds:function(){return this.seconds},getUTCDate:function(){return O.W1B(),this.getUTCDateProxy().getUTCDate()},getUTCDay:function(){return O.W1B(),this.getUTCDateProxy().getUTCDay()},getUTCFullYear:function(){return this.getUTCDateProxy().getUTCFullYear()},getUTCHours:function(){return O.W1B(),this.getUTCDateProxy().getUTCHours()},getUTCMilliseconds:function(){return this.getUTCDateProxy().getUTCMilliseconds()},getUTCMinutes:function(){return O.W1B(),this.getUTCDateProxy().getUTCMinutes()},getUTCMonth:function(){return O.g1B(),this.getUTCDateProxy().getUTCMonth()},getUTCSeconds:function(){return this.getUTCDateProxy().getUTCSeconds()},getTime:function(){return this._timeProxy+60*this.getTimezoneOffset()*1e3},getTimezone:function(){return O.g1B(),this.timezone},getTimezoneOffset:function(){return O.W1B(),this.getTimezoneInfo().tzOffset},getTimezoneAbbreviation:function(){return O.W1B(),this.getTimezoneInfo().tzAbbr},getTimezoneInfo:function(){var t,e;if(this._useCache)return this._tzInfo;if(this.timezone){-557526084,139203877,e=2;for(var i=1;-557526084!==O.C1u(i.toString(),i.toString().length,84169);i++)\"Et\",\"c/\",\"UTC\",t=\"Etc/UTC\"==this.timezone&&\"Etc/UTC\"==this.timezone?{tzOffset:9,tzAbbr:\"Etc/UTC\"}:a.timezone.getTzInfo(this._timeProxy,this.timezone),e+=2;139203877!==O.p1u(e.toString(),e.toString().length,13645)&&(t=\"Etc/UTC\"===this.timezone||\"Etc/GMT\"===this.timezone?{tzOffset:0,tzAbbr:\"UTC\"}:a.timezone.getTzInfo(this._timeProxy,this.timezone))}else t={tzOffset:this.getLocalOffset(),tzAbbr:null};return this._tzInfo=t,this._useCache=!0,O.W1B(),t},getUTCDateProxy:function(){var t;return(t=new Date(this._timeProxy)).setUTCMinutes(t.getUTCMinutes()+this.getTimezoneOffset()),O.g1B(),t},setDate:function(t){return this.setAttribute(\"date\",t),this.getTime()},setFullYear:function(t,e,i){return O.W1B(),void 0!==i&&(\"d\",\"ate\",O.U1f(5),this.setAttribute(\"date\",O.E1f(0,\"1\"))),this.setAttribute(\"year\",t),void 0!==e&&this.setAttribute(\"month\",e),void 0!==i&&this.setAttribute(\"date\",i),this.getTime()},setMonth:function(t,e){return\"m\",\"o\",\"n\",\"th\",this.setAttribute(\"month\",t),O.g1B(),void 0!==e&&(\"d\",\"ate\",this.setAttribute(\"date\",e)),this.getTime()},setYear:function(t){return\"y\",\"e\",\"ar\",0<=(t=Number(t))&&t<=99&&(t+=1900),this.setUTCAttribute(\"year\",t),this.getTime()},setHours:function(t,e,i,a){return\"ho\",\"u\",\"rs\",this.setAttribute(\"hours\",t),void 0!==e&&this.setAttribute(\"minutes\",e),O.W1B(),void 0!==i&&(\"s\",\"ec\",\"onds\",this.setAttribute(\"seconds\",i)),void 0!==a&&this.setAttribute(\"milliseconds\",a),this.getTime()},setMinutes:function(t,e,i){return this.setAttribute(\"minutes\",t),void 0!==e&&this.setAttribute(\"seconds\",e),void 0!==i&&this.setAttribute(\"milliseconds\",i),this.getTime()},setSeconds:function(t,e){var i,a,r=O;if(this.setAttribute(\"seconds\",t),void 0!==e){r.P1f(14),i=r.X1f(0,\"1802743758\"),-518068035,a=2;for(var n=1;r.C1u(n.toString(),n.toString().length,42341)!==i;n++)this.setAttribute(\"\",e),a+=2;-518068035!==r.C1u(a.toString(),a.toString().length,8724)&&this.setAttribute(\"\",e),this.setAttribute(\"milliseconds\",e)}return this.getTime()},setMilliseconds:function(t){return this.setAttribute(\"milliseconds\",t),O.W1B(),this.getTime()},setTime:function(t){if(O.g1B(),isNaN(t))throw\"Units \",\"must\",\" be a n\",\"umber.\",new Error(\"Units must be a number.\");return this.setFromTimeProxy(t,this.timezone),this.getTime()},setUTCFullYear:function(t,e,i){return void 0!==i&&(\"d\",\"at\",\"e\",this.setUTCAttribute(\"date\",1)),this.setUTCAttribute(\"year\",t),void 0!==e&&this.setUTCAttribute(\"month\",e),void 0!==i&&this.setUTCAttribute(\"date\",i),this.getTime()},setUTCMonth:function(t,e){return this.setUTCAttribute(\"month\",t),void 0!==e&&this.setUTCAttribute(\"date\",e),this.getTime()},setUTCDate:function(t){return O.W1B(),this.setUTCAttribute(\"date\",t),this.getTime()},setUTCHours:function(t,e,i,a){return\"h\",\"o\",\"ur\",\"s\",O.W1B(),this.setUTCAttribute(\"hours\",t),void 0!==e&&this.setUTCAttribute(\"minutes\",e),void 0!==i&&this.setUTCAttribute(\"seconds\",i),void 0!==a&&(\"milli\",\"sec\",\"onds\",this.setUTCAttribute(\"milliseconds\",a)),this.getTime()},setUTCMinutes:function(t,e,i){return this.setUTCAttribute(\"minutes\",t),O.g1B(),void 0!==e&&(\"s\",\"econds\",this.setUTCAttribute(\"seconds\",e)),void 0!==i&&this.setUTCAttribute(\"milliseconds\",i),this.getTime()},setUTCSeconds:function(t,e){return this.setUTCAttribute(\"seconds\",t),O.W1B(),void 0!==e&&this.setUTCAttribute(\"milliseconds\",e),this.getTime()},setUTCMilliseconds:function(t){return this.setUTCAttribute(\"milliseconds\",t),this.getTime()},setFromDateObjProxy:function(t){this.year=t.getFullYear(),O.W1B(),this.month=t.getMonth(),this.date=t.getDate(),this.hours=t.getHours(),this.minutes=t.getMinutes(),this.seconds=t.getSeconds(),this.milliseconds=t.getMilliseconds(),this._day=t.getDay(),this._dateProxy=t,this._timeProxy=Date.UTC(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.milliseconds),this._useCache=!1},setFromTimeProxy:function(t,e){var i,r;O.g1B(),i=new Date(t),r=e?a.timezone.getTzInfo(t,e,!0).tzOffset:i.getTimezoneOffset(),i.setTime(t+6e4*(i.getTimezoneOffset()-r)),this.setFromDateObjProxy(i)},setAttribute:function(t,e){var i;if(isNaN(e))throw new Error(\"Units must be a number.\");(i=this._dateProxy)[\"set\"+(\"year\"===t?\"FullYear\":t.substr(0,1).toUpperCase()+t.substr(1))](e),this.setFromDateObjProxy(i)},setUTCAttribute:function(t,e){var i,a;if(\"setU\",\"TC\",\"yea\",\"r\",isNaN(e))throw new Error(\"Units must be a number.\");i=\"year\"===t?\"FullYear\":t.substr(0,1).toUpperCase()+t.substr(1),(a=this.getUTCDateProxy())[\"setUTC\"+i](e),a.setUTCMinutes(a.getUTCMinutes()-this.getTimezoneOffset()),this.setFromTimeProxy(a.getTime()+6e4*this.getTimezoneOffset(),this.timezone)},setTimezone:function(t){var e;e=this.getTimezoneInfo().tzOffset,this.timezone=t,this._useCache=!1,this.setUTCMinutes(this.getUTCMinutes()-this.getTimezoneInfo().tzOffset+e)},removeTimezone:function(){this.timezone=null,this._useCache=!1},valueOf:function(){return O.W1B(),this.getTime()},clone:function(){return O.W1B(),this.timezone?new a.Date(this.getTime(),this.timezone):new a.Date(this.getTime())},toGMTString:function(){return\"E\",\"t\",\"c\",\"/GMT\",this.toString(\"EEE, dd MMM yyyy HH:mm:ss Z\",\"Etc/GMT\")},toLocaleStringIntl:function(){},toLocaleDateString:function(){},toLocaleTimeString:function(){},toSource:function(){},toISOString:function(){return O.g1B(),\"yyyy-\",\"MM-ddTHH:mm:ss.SSS\",this.toString(\"yyyy-MM-ddTHH:mm:ss.SSS\",\"Etc/UTC\")+\"Z\"},toJSON:function(){return this.toISOString()},toDateString:function(){return O.g1B(),this.toString(\"EEE MMM dd yyyy\")},toTimeString:function(){return this.toString(\"H:mm k\")},toString:function(t,e){var i,r,n,o;return t||(t=\"yyyy-MM-ddTHH:mm:ss.SSS\"),i=t,r=e?a.timezone.getTzInfo(this.getTime(),e):this.getTimezoneInfo(),O.g1B(),n=this,e&&(n=this.clone()).setTimezone(e),o=n.getHours(),i.replace(/a+/g,(function(){return O.W1B(),\"k\"})).replace(/y+/g,(function(t){return O.g1B(),u(n.getFullYear(),t.length)})).replace(/d+/g,(function(t){return O.W1B(),u(n.getDate(),t.length)})).replace(/m+/g,(function(t){return O.W1B(),u(n.getMinutes(),t.length)})).replace(/s+/g,(function(t){return u(n.getSeconds(),t.length)})).replace(/S+/g,(function(t){return u(n.getMilliseconds(),t.length)})).replace(/h+/g,(function(t){return O.g1B(),u(o%12==0?12:o%12,t.length)})).replace(/M+/g,(function(t){var e,i;return e=n.getMonth(),(i=t.length)>3?a.Months[e]:i>2?a.Months[e].substring(0,i):(O.U1f(10),u(O.E1f(e,\"1\"),i))})).replace(/k+/g,(function(){return\"A\",\"M\",o>=12?(o>12&&(o-=12),\"PM\"):\"AM\"})).replace(/H+/g,(function(t){return u(o,t.length)})).replace(/E+/g,(function(t){return O.W1B(),s[n.getDay()].substring(0,t.length)})).replace(/Z+/gi,(function(){return O.g1B(),r.tzAbbr}))},toUTCString:function(){return this.toGMTString()},civilToJulianDayNumber:function(t,e,i){var a,r,n=O;return++e>12&&(n.P1f(71),a=parseInt(n.X1f(e,0,\"12\"),n.E1f(2147483647,\"10\",n.U1f(30))),n.P1f(33),e=n.X1f(12,e),t+=a),e<=2&&(t-=1,e+=12),n.P1f(6),a=Math.floor(n.E1f(100,t)),n.g1B(),r=2-a+Math.floor(a/4),Math.floor(365.25*(t+4716))+Math.floor(30.6001*(e+1))+i+r-1524},getLocalOffset:function(){return O.W1B(),this._dateProxy.getTimezoneOffset()}},!0),a.timezone=new function(){var t,e,i;function r(t){var e;return e=n(t),e=(\"-\"===t.charAt(0)?-1:1)*(1e3*(60*(60*e[0]+e[1])+e[2])),O.P1f(72),O.E1f(e,\"60\",1e3)}function n(t){var e,i;return e=/(\\d+)(?::0*(\\d*))?(?::0*(\\d*))?([wsugz])?$/,(i=t.match(e))[1]=parseInt(i[1],10),i[2]=i[2]?parseInt(i[2],10):0,i[3]=i[3]?parseInt(i[3],10):0,i.slice(1,5)}function s(a){var r,n,l,h;return O.W1B(),(r=i[a])?r:(n=a.split(\"/\")[0],(l=e[n])?l:\"string\"==typeof(h=t.zones[a])?s(h):t.loadedZones.backward?void o(a):(t.loadZoneFile(\"backward\"),s(a)))}function o(t){throw\"' is either incorrect,\",\" or \",\"not loaded in the timezone\",\" registry.\",O.U1f(15),new Error(O.E1f(\"' is either incorrect, or not loaded in the timezone registry.\",t,\"Timezone '\"))}function u(t){var e,i,a,r;if(t[3])return e=parseInt(t[3],10),i=11,a=31,O.W1B(),t[4]&&(i=l[t[4].substr(0,3)],a=parseInt(t[5],10)||1),[e,i,a,(r=t[6]?n(t[6]):[0,0,0])[0],r[1],r[2]]}function p(t,e){return O.P1f(5),O.W1B(),-Math.ceil(O.X1f(t,e))}t=this,e={Etc:\"etcetera\",EST:\"northamerica\",MST:\"northamerica\",HST:\"northamerica\",EST5EDT:\"northamerica\",CST6CDT:\"northamerica\",MST7MDT:\"northamerica\",PST8PDT:\"northamerica\",America:[\"northamerica\",\"southamerica\"],Pacific:\"australasia\",Atlantic:\"europe\",Africa:\"africa\",Indian:\"africa\",Antarctica:\"antarctica\",Asia:\"asia\",Australia:\"australasia\",Europe:\"europe\",WET:\"europe\",CET:\"europe\",MET:\"europe\",EET:\"europe\"},i={\"Pacific/Honolulu\":\"northamerica\",\"Atlantic/Bermuda\":\"northamerica\",\"Atlantic/Cape_Verde\":\"africa\",\"Atlantic/St_Helena\":\"africa\",\"Indian/Kerguelen\":\"antarctica\",\"Indian/Chagos\":\"asia\",\"Indian/Maldives\":\"asia\",\"Indian/Christmas\":\"australasia\",\"Indian/Cocos\":\"australasia\",\"America/Danmarkshavn\":\"europe\",\"America/Scoresbysund\":\"europe\",\"America/Godthab\":\"europe\",\"America/Thule\":\"europe\",\"Asia/Istanbul\":\"europe\",\"Asia/Yekaterinburg\":\"europe\",\"Asia/Omsk\":\"europe\",\"Asia/Novosibirsk\":\"europe\",\"Asia/Krasnoyarsk\":\"europe\",\"Asia/Irkutsk\":\"europe\",\"Asia/Yakutsk\":\"europe\",\"Asia/Vladivostok\":\"europe\",\"Asia/Sakhalin\":\"europe\",\"Asia/Magadan\":\"europe\",\"Asia/Kamchatka\":\"europe\",\"Asia/Anadyr\":\"europe\",\"Africa/Ceuta\":\"europe\",GMT:\"etcetera\",\"Europe/Nicosia\":\"asia\"},this.zoneFileBasePath=null,this.zoneFiles=[\"africa\",\"antarctica\",\"asia\",\"australasia\",\"backward\",\"etcetera\",\"europe\",\"northamerica\",\"pacificnew\",\"southamerica\"],this.loadingSchemes={PRELOAD_ALL:\"preloadAll\",LAZY_LOAD:\"lazyLoad\",MANUAL_LOAD:\"manualLoad\"},this.getRegionForTimezone=s,this.loadingScheme=this.loadingSchemes.LAZY_LOAD,this.loadedZones={},this.zones={},this.rules={},this.init=function(t){var e,i;for(var a in\"northame\",\"ric\",\"a\",e={async:!0},O.W1B(),i=this.loadingScheme===this.loadingSchemes.PRELOAD_ALL?this.zoneFiles:this.defaultZoneFile||\"northamerica\",t)e[a]=t[a];return this.loadZoneFiles(i,e)},this.loadZoneFiles=function(t,e){var i,a;if(O.W1B(),a=0,\"string\"==typeof t)return this.loadZoneFile(t,e);i=(e=e||{}).callback,e.callback=function(){O.W1B(),++a===t.length&&\"function\"==typeof i&&i()};for(var r=0;r<t.length;r++)this.loadZoneFile(t[r],e)},this.loadZoneFile=function(e,i){if(void 0===this.zoneFileBasePath)throw new Error(\"Please define a base path to your zone file directory -- timezoneJS.timezone.zoneFileBasePath.\");var a,r,n;if(O.g1B(),!this.loadedZones[e])return this.loadedZones[e]=!0,a=e,r=i,O.g1B(),n=t.zoneFileBasePath+\"/\"+a,r&&r.async?t.transport({async:!0,url:n,success:function(e){return O.W1B(),t.parseZones(e)&&\"function\"==typeof r.callback&&r.callback()},error:function(){throw O.g1B(),O.U1f(15),new Error(O.E1f(\"' zoneinfo files\",n,\"Error retrieving '\"))}}):t.parseZones(t.transport({url:n,async:!1}))},this.loadZoneJSONData=function(e,i){var a;return O.W1B(),a=function(e){for(var i in(e=JSON.parse(e)).zones)t.zones[i]=e.zones[i];for(var a in e.rules)t.rules[a]=e.rules[a]},i?a(t.transport({url:e,async:!1})):t.transport({url:e,success:a})},this.loadZoneDataFromObject=function(e){if(e){for(var i in e.zones)t.zones[i]=e.zones[i];for(var a in e.rules)t.rules[a]=e.rules[a]}},this.getAllZones=function(){var t;for(var e in t=[],O.g1B(),this.zones)t.push(e);return t.sort()},this.parseZones=function(e){var i,a,s,o,l,h=O;if(!e)return!1;i=e.split(\"\\n\"),a=[],o=null,h.W1B(),l=null;for(var c=0;c<i.length;c++)if((s=i[c]).match(/^\\s/)&&(h.P1f(15),s=h.E1f(s,o,\"Zone \")),(s=s.split(\"#\")[0]).length>3)switch(\"Rul\",\"e\",\"Z\",\"o\",\"n\",\"e\",(a=s.split(/\\s+/)).shift()){case\"Zone\":if(o=a.shift(),t.zones[o]||(t.zones[o]=[]),a.length<3)break;h.P1f(19),a.splice(h.X1f(\"3\",68602880),a.length,u(a)),a[3]&&(a[3]=Date.UTC.apply(null,a[3])),a[0]=-r(a[0]),t.zones[o].push(a);break;case\"Rule\":l=a.shift(),t.rules[l]||(t.rules[l]=[]),a[0]=parseInt(a[0],10),a[1]=parseInt(a[1],10)||a[1],a[5]=n(a[5]),a[6]=r(a[6]),t.rules[l].push(a);break;case\"Link\":if(t.zones[a[1]])throw\". Cannot create link \",\"o\",\"f\",\" a preexisted zone.\",new Error(\"Error with Link \"+a[1]+\". Cannot create link of a preexisted zone.\");isNaN(a[0])?t.zones[a[1]]=a[0]:t.zones[a[1]]=parseInt(a[0],10)}return!0},this.transport=d,this.getTzInfo=function(e,i,r){var n,s,u,d,g,m;return O.W1B(),this.lazyLoadZoneFiles(i),s=+(n=function e(i,a){var r,n,s,l,h=O;for(\"n\",\"umb\",\"er\",r=\"number\"==typeof i?i:new Date(+i).getTime(),n=a,s=t.zones[n];\"string\"==typeof s;)n=s,s=t.zones[n];if(!s){if(!t.loadedZones.backward)return t.loadZoneFile(\"backward\"),e(i,a);if(n&&n!==a)return t.lazyLoadZoneFiles(n),e(i,n);o(n)}if(0===s.length)throw h.U1f(27),new Error(h.X1f(a,i,\"' on \",\"No Zone found for '\"));for(var c=s.length-1;c>=0&&!((l=s[c])[3]&&r>l[3]);c--);return h.U1f(0),s[h.X1f(c,1)]}(e,i))[0],(u=function(e,i,r,n){var s,o,u,d,g,m,f,y,v,x,C,b,S,w=O;if(s=\"number\"==typeof e?new Date(e):e,o=i[1],u=i[0],d=o.match(/^([0-9]):([0-9][0-9])$/))return\"J\",\"a\",\"n\",\"ma\",\"x\",w.U1f(19),[-w.E1f(\"1000000\",1427663424),\"max\",\"-\",\"Jan\",1,[0,0,0],60*parseInt(d[1],10)+parseInt(d[2],10),\"-\"];if(g=function(t,e,i){var a;if(w.g1B(),a=0,\"u\"===e||\"g\"===e||\"z\"===e)a=0;else if(\"s\"===e)a=u;else{if(\"w\"!==e&&e)throw\"unkn\",\"own type\",\" \",w.P1f(0),new Error(w.X1f(\"unknown type \",e));a=p(u,i[6])}return w.U1f(2),a*=w.E1f(60,1e3),new Date(t.getTime()+a)},m=function(t,e){var i,a,r,n,s,o,u;return i=t[0],w.U1f(5),r=(a=t[w.X1f(0,\"1\")])[5],c[i]||(c[i]={}),c[i][a]?n=c[i][a]:(isNaN(a[4])?(\">\",\"=\",\"last\"===a[4].substr(0,4)?(n=new Date(Date.UTC(i,l[a[3]]+1,1,r[0]-24,r[1],r[2],0)),s=h[a[4].substr(4,3)],o=\"<=\"):(n=new Date(Date.UTC(i,l[a[3]],a[4].substr(5),r[0],r[1],r[2],0)),s=h[a[4].substr(0,3)],o=a[4].substr(3,2)),u=n.getUTCDay(),\">=\"===o?n.setUTCDate(n.getUTCDate()+(s-u+(s<u?7:0))):n.setUTCDate(n.getUTCDate()+(s-u-(s>u?7:0)))):n=new Date(Date.UTC(i,l[a[3]],a[4],r[0],r[1],r[2],0)),c[i][a]=n),e&&(n=g(n,r[3],e)),n},f=function(t,e){var i;i=[];for(var a=0;e&&a<e.length;a++)e[a][0]<=t&&(e[a][1]>=t||e[a][0]===t&&\"only\"===e[a][1]||\"max\"===e[a][1])&&i.push([t,e[a]]);return w.g1B(),i},y=function(t,e,i){var a,n;return t instanceof Date?i&&(t=g(t,r?\"u\":\"w\",i)):(a=t[0],n=t[1],t=!i&&c[a]&&c[a][n]?c[a][n]:m(t,i)),e instanceof Date?i&&(e=g(e,r?\"u\":\"w\",i)):(a=e[0],n=e[1],e=!i&&c[a]&&c[a][n]?c[a][n]:m(e,i)),t=Number(t),e=Number(e),w.P1f(5),w.X1f(e,t)},v=s.getUTCFullYear(),(C=a.ruleCache[n])||(C=a.ruleCache[n]={}),(x=C[v])||(w.P1f(5),(x=(x=f(w.E1f(1,v),t.rules[o])).concat(f(v,t.rules[o]))).sort(y),C[v]=x),!x||!x.length)return null;for(var k=x.length-1;k>=0;k--)if(k>0?(w.P1f(46),b=x[w.X1f(\"1\",k)][1]):b=null,(S=x[k])[2]||(S[2]=m(S,b)),y(s,S,b)>=0)return S[1];return null}(e,n,r,i))&&(s=p(s,u[6])),d=u,{tzOffset:s,tzAbbr:(g=n[2]).indexOf(\"%s\")>-1?(m=d?\"-\"===d[7]?\"\":d[7]:\"S\",g.replace(\"%s\",m)):g.indexOf(\"/\")>-1?g.split(\"/\",2)[d&&d[6]?1:0]:g}},this.lazyLoadZoneFiles=function(t){var e;if(this.loadingScheme===this.loadingSchemes.LAZY_LOAD){if(!(e=s(t)))throw new Error(\"Not a valid timezone ID.\");this.loadZoneFiles(e)}}}}.call(\"undefined\"!=typeof window?window:void 0),a.timezone.loadingScheme=a.timezone.loadingSchemes.MANUAL_LOAD,a.timezone.loadZoneDataFromObject({zones:{\"Atlantic/Cape_Verde\":[[60,\"-\",\"-01\",null]],\"Africa/Cairo\":[[-120,\"Egypt\",\"EE%sT\",null]],\"Africa/Nairobi\":[[-180,\"-\",\"EAT\",null]],\"Africa/Casablanca\":[[0,\"Morocco\",\"+00/+01\",15406956e5],[-60,\"Morocco\",\"+01/+00\",null]],\"Africa/Windhoek\":[[-120,\"Namibia\",\"%s\",null]],\"Africa/Johannesburg\":[[-120,\"SA\",\"SAST\",null]],\"Africa/Tunis\":[[-60,\"Tunisia\",\"CE%sT\",null]],\"Antarctica/Troll\":[[0,\"Troll\",\"%s\",null]],\"Asia/Kabul\":[[-270,\"-\",\"+0430\",null]],\"Asia/Baku\":[[-240,\"Azer\",\"+04/+05\",null]],\"Asia/Dhaka\":[[-360,\"Dhaka\",\"+06/+07\",null]],\"Asia/Yangon\":[[-390,\"-\",\"+0630\",null]],\"Asia/Shanghai\":[[-480,\"PRC\",\"C%sT\",null]],\"Asia/Hong_Kong\":[[-480,\"HK\",\"HK%sT\",null]],\"Asia/Taipei\":[[-480,\"Taiwan\",\"C%sT\",null]],\"Asia/Nicosia\":[[-120,\"EUAsia\",\"EE%sT\",null]],\"Asia/Kolkata\":[[-330,\"-\",\"IST\",null]],\"Asia/Tehran\":[[-210,\"Iran\",\"+0330/+0430\",null]],\"Asia/Jerusalem\":[[-120,\"Zion\",\"I%sT\",null]],\"Asia/Tokyo\":[[-540,\"Japan\",\"J%sT\",null]],\"Asia/Amman\":[[-120,\"Jordan\",\"EE%sT\",null]],\"Asia/Almaty\":[[-360,\"-\",\"ALMT\",null]],\"Asia/Seoul\":[[-540,\"ROK\",\"K%sT\",null]],\"Asia/Pyongyang\":[[-510,\"-\",\"KST\",15254766e5],[-540,\"-\",\"KST\",null]],\"Asia/Beirut\":[[-120,\"Lebanon\",\"EE%sT\",null]],\"Asia/Kuala_Lumpur\":[[-480,\"-\",\"+08\",null]],\"Asia/Hovd\":[[-420,\"Mongol\",\"+07/+08\",null]],\"Asia/Ulaanbaatar\":[[-480,\"Mongol\",\"+08/+09\",null]],\"Asia/Kathmandu\":[[-345,\"-\",\"+0545\",null]],\"Asia/Karachi\":[[-300,\"Pakistan\",\"PK%sT\",null]],\"Asia/Hebron\":[[-120,\"Palestine\",\"EE%sT\",null]],\"Asia/Riyadh\":[[-180,\"-\",\"+03\",null]],\"Asia/Damascus\":[[-120,\"Syria\",\"EE%sT\",null]],\"Asia/Bangkok\":[[-420,\"-\",\"+07\",null]],\"Asia/Dubai\":[[-240,\"-\",\"+04\",null]],\"Australia/Darwin\":[[-570,\"Aus\",\"CST\",null]],\"Australia/Perth\":[[-480,\"AW\",\"WST\",null]],\"Australia/Eucla\":[[-525,\"AW\",\"+0845/+0945\",null]],\"Australia/Brisbane\":[[-600,\"AQ\",\"EST\",null]],\"Australia/Adelaide\":[[-570,\"AS\",\"CST\",null]],\"Australia/Hobart\":[[-600,\"AT\",\"EST\",null]],\"Australia/Currie\":[[-600,\"AT\",\"EST\",null]],\"Australia/Melbourne\":[[-600,\"AV\",\"EST\",null]],\"Australia/Sydney\":[[-600,\"AN\",\"EST\",null]],\"Australia/Lord_Howe\":[[-630,\"LH\",\"+1030/+11\",null]],\"Pacific/Fiji\":[[-720,\"Fiji\",\"+12/+13\",null]],\"Pacific/Guam\":[[-600,\"-\",\"ChST\",null]],\"Pacific/Kiritimati\":[[-840,\"-\",\"+14\",null]],\"Pacific/Noumea\":[[-660,\"NC\",\"+11/+12\",null]],\"Pacific/Auckland\":[[-720,\"NZ\",\"NZ%sT\",null]],\"Pacific/Chatham\":[[-765,\"Chatham\",\"+1245/+1345\",null]],\"Pacific/Pago_Pago\":[[660,\"-\",\"SST\",null]],\"Pacific/Apia\":[[-780,\"WS\",\"+13/+14\",null]],\"Pacific/Tongatapu\":[[-780,\"Tonga\",\"+13/+14\",null]],\"Etc/UTC\":[[0,\"-\",\"UTC\",null]],UTC:\"Etc/UTC\",\"Europe/London\":[[0,\"EU\",\"GMT/BST\",null]],\"Europe/Dublin\":[[0,\"Eire\",\"IST/GMT\",null]],WET:[[0,\"EU\",\"WE%sT\",null]],CET:[[-60,\"C-Eur\",\"CE%sT\",null]],MET:[[-60,\"C-Eur\",\"ME%sT\",null]],EET:[[-120,\"EU\",\"EE%sT\",null]],\"Europe/Brussels\":[[-60,\"EU\",\"CE%sT\",null]],\"America/Thule\":[[240,\"Thule\",\"A%sT\",null]],\"Europe/Helsinki\":[[-120,\"EU\",\"EE%sT\",null]],\"Europe/Paris\":[[-60,\"EU\",\"CE%sT\",null]],\"Europe/Berlin\":[[-60,\"EU\",\"CE%sT\",null]],\"Europe/Amsterdam\":[[-60,\"EU\",\"CE%sT\",null]],\"Atlantic/Azores\":[[60,\"EU\",\"-01/+00\",null]],\"Europe/Bucharest\":[[-120,\"EU\",\"EE%sT\",null]],\"Europe/Kaliningrad\":[[-120,\"-\",\"EET\",null]],\"Europe/Moscow\":[[-180,\"-\",\"MSK\",null]],\"Europe/Simferopol\":[[-180,\"-\",\"MSK\",null]],\"Europe/Samara\":[[-240,\"-\",\"+04\",null]],\"Asia/Yekaterinburg\":[[-300,\"-\",\"+05\",null]],\"Asia/Omsk\":[[-360,\"-\",\"+06\",null]],\"Asia/Novosibirsk\":[[-420,\"-\",\"+07\",null]],\"Asia/Novokuznetsk\":[[-420,\"-\",\"+07\",null]],\"Asia/Krasnoyarsk\":[[-420,\"-\",\"+07\",null]],\"Asia/Irkutsk\":[[-480,\"-\",\"+08\",null]],\"Asia/Yakutsk\":[[-540,\"-\",\"+09\",null]],\"Asia/Vladivostok\":[[-600,\"-\",\"+10\",null]],\"Asia/Magadan\":[[-660,\"-\",\"+11\",null]],\"Asia/Srednekolymsk\":[[-660,\"-\",\"+11\",null]],\"Asia/Kamchatka\":[[-720,\"-\",\"+12\",null]],\"Europe/Belgrade\":[[-60,\"EU\",\"CE%sT\",null]],\"Europe/Sarajevo\":\"Europe/Belgrade\",\"Europe/Istanbul\":[[-180,\"-\",\"+03\",null]],\"America/New_York\":[[300,\"US\",\"E%sT\",null]],\"America/Chicago\":[[360,\"US\",\"C%sT\",null]],\"America/Denver\":[[420,\"US\",\"M%sT\",null]],\"America/Los_Angeles\":[[480,\"US\",\"P%sT\",null]],\"America/Juneau\":[[540,\"US\",\"AK%sT\",null]],\"Pacific/Honolulu\":[[600,\"-\",\"HST\",null]],\"America/Phoenix\":[[420,\"-\",\"MST\",null]],\"America/St_Johns\":[[210,\"Canada\",\"N%sT\",null]],\"America/Halifax\":[[240,\"Canada\",\"A%sT\",null]],\"America/Regina\":[[360,\"-\",\"CST\",null]],\"America/Mexico_City\":[[360,\"Mexico\",\"C%sT\",null]],\"America/Chihuahua\":[[420,\"Mexico\",\"M%sT\",null]],\"America/Costa_Rica\":[[360,\"CR\",\"C%sT\",null]],\"America/Havana\":[[300,\"Cuba\",\"C%sT\",null]],\"America/Port-au-Prince\":[[300,\"Haiti\",\"E%sT\",null]],\"America/Panama\":[[300,\"-\",\"EST\",null]],\"America/Puerto_Rico\":[[240,\"-\",\"AST\",null]],\"America/Argentina/Buenos_Aires\":[[180,\"Arg\",\"-03/-02\",null]],\"America/Sao_Paulo\":[[180,\"Brazil\",\"-03/-02\",null]],\"America/Santiago\":[[240,\"Chile\",\"-04/-03\",null]],\"America/Punta_Arenas\":[[240,\"Chile\",\"-04/-03\",14808096e5],[180,\"-\",\"-03\",null]],\"America/Bogota\":[[300,\"CO\",\"-05/-04\",null]],\"America/Asuncion\":[[240,\"Para\",\"-04/-03\",null]],\"Atlantic/South_Georgia\":[[120,\"-\",\"-02\",null]],\"America/Montevideo\":[[180,\"Uruguay\",\"-03/-02\",null]],\"America/Caracas\":[[240,\"-\",\"-04\",null]],\"Europe/Athens\":\"Europe/Bucharest\",\"Asia/Rangoon\":\"Asia/Yangon\",\"Atlantic/Reykjavik\":\"UTC\",\"Asia/Kuwait\":\"Asia/Riyadh\",\"Asia/Muscat\":\"Asia/Riyadh\",\"Asia/Istanbul\":\"Europe/Istanbul\"},rules:{Egypt:[],Morocco:[[2013,2018,\"-\",\"Oct\",\"lastSun\",[3,0,0,null],0,\"-\"],[2014,2018,\"-\",\"Mar\",\"lastSun\",[2,0,0,null],60,\"-\"],[2016,\"only\",\"-\",\"Jun\",\"5\",[3,0,0,null],0,\"-\"],[2016,\"only\",\"-\",\"Jul\",\"10\",[2,0,0,null],60,\"-\"],[2017,\"only\",\"-\",\"May\",\"21\",[3,0,0,null],0,\"-\"],[2017,\"only\",\"-\",\"Jul\",\"2\",[2,0,0,null],60,\"-\"],[2018,\"only\",\"-\",\"May\",\"13\",[3,0,0,null],0,\"-\"],[2018,\"only\",\"-\",\"Jun\",\"17\",[2,0,0,null],60,\"-\"],[2019,\"only\",\"-\",\"May\",\"5\",[3,0,0,null],-60,\"-\"],[2019,\"only\",\"-\",\"Jun\",\"9\",[2,0,0,null],0,\"-\"],[2020,\"only\",\"-\",\"Apr\",\"19\",[3,0,0,null],-60,\"-\"],[2020,\"only\",\"-\",\"May\",\"31\",[2,0,0,null],0,\"-\"],[2021,\"only\",\"-\",\"Apr\",\"11\",[3,0,0,null],-60,\"-\"],[2021,\"only\",\"-\",\"May\",\"16\",[2,0,0,null],0,\"-\"],[2022,\"only\",\"-\",\"Mar\",\"27\",[3,0,0,null],-60,\"-\"],[2022,\"only\",\"-\",\"May\",\"8\",[2,0,0,null],0,\"-\"],[2023,\"only\",\"-\",\"Mar\",\"19\",[3,0,0,null],-60,\"-\"],[2023,\"only\",\"-\",\"Apr\",\"23\",[2,0,0,null],0,\"-\"],[2024,\"only\",\"-\",\"Mar\",\"10\",[3,0,0,null],-60,\"-\"],[2024,\"only\",\"-\",\"Apr\",\"14\",[2,0,0,null],0,\"-\"]],Namibia:[[1994,2017,\"-\",\"Sep\",\"Sun>=1\",[2,0,0,null],0,\"CAT\"],[1995,2017,\"-\",\"Apr\",\"Sun>=1\",[2,0,0,null],-60,\"WAT\"]],SA:[],Tunisia:[],Troll:[[2005,\"max\",\"-\",\"Mar\",\"lastSun\",[1,0,0,\"u\"],120,\"+02\"],[2004,\"max\",\"-\",\"Oct\",\"lastSun\",[1,0,0,\"u\"],0,\"+00\"]],EUAsia:[[1981,\"max\",\"-\",\"Mar\",\"lastSun\",[1,0,0,\"u\"],60,\"S\"],[1996,\"max\",\"-\",\"Oct\",\"lastSun\",[1,0,0,\"u\"],0,\"-\"]],Azer:[],Dhaka:[],PRC:[],HK:[],Taiwan:[],Iran:[[2016,\"only\",\"-\",\"Mar\",\"20\",[24,0,0,null],60,\"-\"],[2016,\"only\",\"-\",\"Sep\",\"20\",[24,0,0,null],0,\"-\"],[2017,2019,\"-\",\"Mar\",\"21\",[24,0,0,null],60,\"-\"],[2017,2019,\"-\",\"Sep\",\"21\",[24,0,0,null],0,\"-\"],[2020,\"only\",\"-\",\"Mar\",\"20\",[24,0,0,null],60,\"-\"],[2020,\"only\",\"-\",\"Sep\",\"20\",[24,0,0,null],0,\"-\"],[2021,2023,\"-\",\"Mar\",\"21\",[24,0,0,null],60,\"-\"],[2021,2023,\"-\",\"Sep\",\"21\",[24,0,0,null],0,\"-\"],[2024,\"only\",\"-\",\"Mar\",\"20\",[24,0,0,null],60,\"-\"],[2024,\"only\",\"-\",\"Sep\",\"20\",[24,0,0,null],0,\"-\"]],Zion:[[2013,\"max\",\"-\",\"Mar\",\"Fri>=23\",[2,0,0,null],60,\"D\"],[2013,\"max\",\"-\",\"Oct\",\"lastSun\",[2,0,0,null],0,\"S\"]],Japan:[],Jordan:[[2014,\"max\",\"-\",\"Mar\",\"lastThu\",[24,0,0,null],60,\"S\"],[2014,\"max\",\"-\",\"Oct\",\"lastFri\",[0,0,0,\"s\"],0,\"-\"]],ROK:[],Lebanon:[[1993,\"max\",\"-\",\"Mar\",\"lastSun\",[0,0,0,null],60,\"S\"],[1999,\"max\",\"-\",\"Oct\",\"lastSun\",[0,0,0,null],0,\"-\"]],Mongol:[[2015,2016,\"-\",\"Mar\",\"lastSat\",[2,0,0,null],60,\"-\"],[2015,2016,\"-\",\"Sep\",\"lastSat\",[0,0,0,null],0,\"-\"]],Pakistan:[],Palestine:[[2016,2018,\"-\",\"Mar\",\"Sat>=24\",[1,0,0,null],60,\"S\"],[2016,\"max\",\"-\",\"Oct\",\"lastSat\",[1,0,0,null],0,\"-\"],[2019,\"max\",\"-\",\"Mar\",\"lastFri\",[0,0,0,null],60,\"S\"]],Syria:[[2012,\"max\",\"-\",\"Mar\",\"lastFri\",[0,0,0,null],60,\"S\"],[2009,\"max\",\"-\",\"Oct\",\"lastFri\",[0,0,0,null],0,\"-\"]],Aus:[],AW:[],AQ:[],AS:[[2008,\"max\",\"-\",\"Apr\",\"Sun>=1\",[2,0,0,\"s\"],0,\"-\"],[2008,\"max\",\"-\",\"Oct\",\"Sun>=1\",[2,0,0,\"s\"],60,\"-\"]],AT:[[2001,\"max\",\"-\",\"Oct\",\"Sun>=1\",[2,0,0,\"s\"],60,\"-\"],[2008,\"max\",\"-\",\"Apr\",\"Sun>=1\",[2,0,0,\"s\"],0,\"-\"]],AV:[[2008,\"max\",\"-\",\"Apr\",\"Sun>=1\",[2,0,0,\"s\"],0,\"-\"],[2008,\"max\",\"-\",\"Oct\",\"Sun>=1\",[2,0,0,\"s\"],60,\"-\"]],AN:[[2008,\"max\",\"-\",\"Apr\",\"Sun>=1\",[2,0,0,\"s\"],0,\"-\"],[2008,\"max\",\"-\",\"Oct\",\"Sun>=1\",[2,0,0,\"s\"],60,\"-\"]],LH:[[2008,\"max\",\"-\",\"Apr\",\"Sun>=1\",[2,0,0,null],0,\"-\"],[2008,\"max\",\"-\",\"Oct\",\"Sun>=1\",[2,0,0,null],30,\"-\"]],Fiji:[[2014,2018,\"-\",\"Nov\",\"Sun>=1\",[2,0,0,null],60,\"-\"],[2015,\"max\",\"-\",\"Jan\",\"Sun>=12\",[3,0,0,null],0,\"-\"],[2019,\"max\",\"-\",\"Nov\",\"Sun>=8\",[2,0,0,null],60,\"-\"]],NC:[],NZ:[[2007,\"max\",\"-\",\"Sep\",\"lastSun\",[2,0,0,\"s\"],60,\"D\"],[2008,\"max\",\"-\",\"Apr\",\"Sun>=1\",[2,0,0,\"s\"],0,\"S\"]],Chatham:[[2007,\"max\",\"-\",\"Sep\",\"lastSun\",[2,45,0,\"s\"],60,\"-\"],[2008,\"max\",\"-\",\"Apr\",\"Sun>=1\",[2,45,0,\"s\"],0,\"-\"]],WS:[[2012,\"max\",\"-\",\"Apr\",\"Sun>=1\",[4,0,0,null],0,\"-\"],[2012,\"max\",\"-\",\"Sep\",\"lastSun\",[3,0,0,null],60,\"-\"]],Tonga:[[2016,\"only\",\"-\",\"Nov\",\"Sun>=1\",[2,0,0,null],60,\"-\"],[2017,\"only\",\"-\",\"Jan\",\"Sun>=15\",[3,0,0,null],0,\"-\"]],Eire:[[1981,\"max\",\"-\",\"Mar\",\"lastSun\",[1,0,0,\"u\"],0,\"-\"],[1996,\"max\",\"-\",\"Oct\",\"lastSun\",[1,0,0,\"u\"],-60,\"-\"]],EU:[[1981,\"max\",\"-\",\"Mar\",\"lastSun\",[1,0,0,\"u\"],60,\"S\"],[1996,\"max\",\"-\",\"Oct\",\"lastSun\",[1,0,0,\"u\"],0,\"-\"]],\"C-Eur\":[[1981,\"max\",\"-\",\"Mar\",\"lastSun\",[2,0,0,\"s\"],60,\"S\"],[1996,\"max\",\"-\",\"Oct\",\"lastSun\",[2,0,0,\"s\"],0,\"-\"]],Thule:[[2007,\"max\",\"-\",\"Mar\",\"Sun>=8\",[2,0,0,null],60,\"D\"],[2007,\"max\",\"-\",\"Nov\",\"Sun>=1\",[2,0,0,null],0,\"S\"]],US:[[2007,\"max\",\"-\",\"Mar\",\"Sun>=8\",[2,0,0,null],60,\"D\"],[2007,\"max\",\"-\",\"Nov\",\"Sun>=1\",[2,0,0,null],0,\"S\"]],Canada:[[2007,\"max\",\"-\",\"Mar\",\"Sun>=8\",[2,0,0,null],60,\"D\"],[2007,\"max\",\"-\",\"Nov\",\"Sun>=1\",[2,0,0,null],0,\"S\"]],Mexico:[[2002,\"max\",\"-\",\"Apr\",\"Sun>=1\",[2,0,0,null],60,\"D\"],[2002,\"max\",\"-\",\"Oct\",\"lastSun\",[2,0,0,null],0,\"S\"]],CR:[],Cuba:[[2012,\"max\",\"-\",\"Nov\",\"Sun>=1\",[0,0,0,\"s\"],0,\"S\"],[2013,\"max\",\"-\",\"Mar\",\"Sun>=8\",[0,0,0,\"s\"],60,\"D\"]],Haiti:[[2017,\"max\",\"-\",\"Mar\",\"Sun>=8\",[2,0,0,null],60,\"D\"],[2017,\"max\",\"-\",\"Nov\",\"Sun>=1\",[2,0,0,null],0,\"S\"]],Arg:[],Brazil:[[2008,2017,\"-\",\"Oct\",\"Sun>=15\",[0,0,0,null],60,\"-\"],[2016,2019,\"-\",\"Feb\",\"Sun>=15\",[0,0,0,null],0,\"-\"],[2018,\"only\",\"-\",\"Nov\",\"Sun>=1\",[0,0,0,null],60,\"-\"]],Chile:[[2016,2018,\"-\",\"May\",\"Sun>=9\",[3,0,0,\"u\"],0,\"-\"],[2016,2018,\"-\",\"Aug\",\"Sun>=9\",[4,0,0,\"u\"],60,\"-\"],[2019,\"max\",\"-\",\"Apr\",\"Sun>=2\",[3,0,0,\"u\"],0,\"-\"],[2019,\"max\",\"-\",\"Sep\",\"Sun>=2\",[4,0,0,\"u\"],60,\"-\"]],CO:[],Para:[[2010,\"max\",\"-\",\"Oct\",\"Sun>=1\",[0,0,0,null],60,\"-\"],[2013,\"max\",\"-\",\"Mar\",\"Sun>=22\",[0,0,0,null],0,\"-\"]],Uruguay:[]}})},D=t=>{var e,i;function a(t,i,a){var r;t.layout.crosshair||(e.ChartEngine.crosshairY=0,e.ChartEngine.crosshairX=0,t.cx=t.backOutX(0),t.cy=t.backOutY(0),t.findHighlights(null,!0),e.ChartEngine.crosshairY=a,e.ChartEngine.crosshairX=i,r=t.container.getBoundingClientRect(),t.top=r.top,t.left=r.left,t.right=t.left+t.width,t.bottom=t.top+t.height,t.cx=t.backOutX(i),t.cy=t.backOutY(a),t.currentPanel&&t.currentPanel.chart.dataSet&&(t.crosshairTick=t.tickFromPixel(t.cx,t.currentPanel.chart),t.crosshairValue=t.adjustIfNecessary(t.currentPanel,t.crosshairTick,t.valueFromPixel(t.cy,t.currentPanel))),t.headsUpHR(),t.findHighlights(!0),t.draw())}(e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ).ChartEngine.prototype.touchSingleClick=function(t,i,r){var n,s;return O.g1B(),n=this,s=arguments,function(){(function(){var t,n,o;if(!this.cancelTouchSingleClick){if(this.runPrepend(\"touchSingleClick\",s))return;if(this.editingAnnotation)return;if(this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1},!this.displayCrosshairs)return;if(!this.displayInitialized)return;if(\"\"!==this.openDialog)return;if(i<this.left||i>this.right||r<this.top||r>this.bottom)return;t=this.backOutY(e.ChartEngine.crosshairY),n=this.backOutX(e.ChartEngine.crosshairX),this.currentPanel=this.whichPanel(t),o=this.currentVectorParameters.vectorType,e.Drawing&&o&&e.Drawing[o]&&(new e.Drawing[o]).dragToDraw||(this.drawingClick(this.currentPanel,n,t)||a(this,i,r),this.currentVectorParameters.vectorType||this.activeMarker&&this.activeMarker.click({cx:n,cy:t,panel:this.currentPanel})||this.dispatch(\"tap\",{stx:this,panel:this.currentPanel,x:n,y:t}))}this.runAppend(\"touchSingleClick\",s)}).apply(n,s)}},e.ChartEngine.prototype.touchDoubleClick=function(t,i,r){if(!this.runPrepend(\"touchDoubleClick\",arguments)&&!this.editingAnnotation)return e.ChartEngine.drawingLine?this.undo():void(this.activeDrawing||(a(this,i,r),this.activeMarker&&this.activeMarker.doubleClick({cx:i,cy:r,panel:this.currentPanel})||this.dispatch(\"doubleTap\",{stx:this,finger:t,x:i,y:r}),this.runAppend(\"touchDoubleClick\",arguments)))},e.ChartEngine.prototype.startProxy=function(t){this.touchPointerType=t.pointerType,\"touch\"==this.touchPointerType?(this.mouseMode=!1,this.touches[this.touches.length]={pointerId:t.pointerId,pageX:t.clientX,pageY:t.clientY,clientX:t.clientX,clientY:t.clientY},this.changedTouches=[{pointerId:t.pointerId,pageX:t.clientX,pageY:t.clientY,clientX:t.clientX,clientY:t.clientY}],O.W1B(),1==this.touches.length&&(this.gesturePointerId=t.pointerId),this.touchstart(t)):this.mouseMode=!0},e.ChartEngine.prototype.moveProxy=function(t){t.pointerType&&\"touch\"!=t.pointerType?this.mouseMode=!0:(O.W1B(),this.mouseMode=!1,this.touchmove(t))},e.ChartEngine.prototype.endProxy=function(t){var e;if(\"touch\"==this.touchPointerType){this.mouseMode=!1,e=this.touches.length;for(var i=0;i<this.touches.length;i++)if(this.touches[i].pointerId==t.pointerId){this.touches.splice(i,1);break}if(i==e)return this.touches=[],this.grabbingScreen=!1,void(this.touching=!1);O.g1B(),this.changedTouches=[{pointerId:t.pointerId,pageX:t.clientX,pageY:t.clientY,clientX:t.clientX,clientY:t.clientY}],this.touchend(t)}else this.mouseMode=!0},e.ChartEngine.prototype.msMouseMoveProxy=function(t){O.g1B(),!this.touches.length&&this.mouseMode&&this.mousemove(t)},e.ChartEngine.prototype.msMouseDownProxy=function(t){this.mouseMode&&this.mousedown(t)},e.ChartEngine.prototype.msMouseUpProxy=function(t){var e,i=O;if(this.mouseMode){-348491084,-32427023,i.P1f(18),e=i.X1f(\"2\",2);for(var a=1;-348491084!==i.p1u(a.toString(),a.toString().length,87939);a++)this.mouseup(t),i.P1f(1),e+=i.X1f(593500992,\"2\");i.W1B(),-32427023!==i.C1u(e.toString(),e.toString().length,27217)&&this.mouseup(t)}},e.ChartEngine.prototype.iosMouseMoveProxy=function(t){this.touching||(O.W1B(),this.mousemove(t))},e.ChartEngine.prototype.iosMouseDownProxy=function(t){this.touching?this.mouseMode=!1:(this.mouseMode=!0,this.mousedown(t))},e.ChartEngine.prototype.iosMouseUpProxy=function(t){this.touching||this.mouseup(t)},e.ChartEngine.prototype.touchmove=function(t){var i,a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,B,E,L,N,H,I,R,W,z,V,U=O;if(i=\"touchmov\",i+=\"e\",a=\"tou\",a+=\"chmove\",this.displayInitialized&&\"\"===this.openDialog&&!0!==e.ChartEngine.ignoreTouch){if(r=[],(!this.overYAxis||this.controls&&this.controls.crossX&&\"none\"!=this.controls.crossX.style.display)&&(t&&t.preventDefault&&this.captureTouchEvents&&t.preventDefault(),t&&t.stopPropagation()),n=(new Date).getTime(),-1==this.clicks.s2MS){if(this.clicks.e1MS=n,this.clicks.e1MS-this.clicks.s1MS<25)return}else if(this.clicks.e2MS=n,this.clicks.e2MS-this.clicks.s2MS<25)return;if(t.pointerType||(t.pointerType=this.touchPointerType),e.isSurface){if(this.mouseMode)return;t.pointerId||(t.pointerId=this.gesturePointerId);for(var j=0;j<this.touches.length;j++)if(this.touches[j].pointerId==t.pointerId){if(s=Math.abs(this.touches[j].pageX-t.clientX),o=Math.abs(this.touches[j].pageY-t.clientY),U.P1f(20),!Math.sqrt(U.X1f(s,s,o,o)))return;if(this.clicks.e1MS=(new Date).getTime(),this.clicks.e1MS-this.clicks.s1MS<50)return;if(this.touches[j].pageX==t.clientX&&this.touches[j].pageY==t.clientY)return;this.touches[j].pageX=this.touches[j].clientX=t.clientX,this.touches[j].pageY=this.touches[j].clientY=t.clientY;break}if(0===j?this.movedPrimary=!0:this.movedSecondary=!0,j==this.touches.length)return;this.changedTouches=[{pointerId:t.pointerId,pageX:t.clientX,pageY:t.clientY,clientX:t.clientX,clientY:t.clientY}],l=-1809514178,h=559838871,c=2;for(var q=1;U.C1u(q.toString(),q.toString().length,95506)!==l;q++)r=this.touches.length?this.touches:this.changedTouches,c+=2;U.p1u(c.toString(),c.toString().length,2445)!==h&&(r=this.touches.length?this.touches:this.changedTouches)}else r=t.touches,this.changedTouches=t.changedTouches;if(!(1==r.length&&Math.pow(this.clicks.x-r[0].clientX,2)+Math.pow(this.clicks.y-r[0].clientY,2)<=16||(u=this.crosshairXOffset,d=this.crosshairYOffset,p=this.currentVectorParameters.vectorType&&\"\"!==this.currentVectorParameters.vectorType,g=!this.layout.crosshair&&!p&&!this.touchNoPan,(\"pen\"==t.pointerType||g||this.activeDrawing&&\"freeform\"==this.activeDrawing.name)&&(u=d=0),this.runPrepend(a,arguments)))){if(e.ChartEngine.resizingPanel)return m=(y=r[0]).clientX,f=y.clientY,U.U1f(0),void this.mousemoveinner(U.X1f(m,u),U.X1f(f,d));if(-1!=this.moveB&&(this.touchMoveTime=new Date),this.moveA=this.moveB,this.moveB=r[0].pageX,1!=r.length||this.twoFingerStart){if(2==r.length&&this.allowZoom){if(!this.displayCrosshairs)return;if(w=(S=r[0]).clientX,k=S.clientY,U.U1f(14),T=(D=r[U.E1f(0,\"1\")]).clientX,M=D.clientY,U.U1f(73),v=Math.sqrt(U.X1f(w,M,T,T,k,k,M,w)),this.pinchingCenter=(Math.min(w,T)-Math.max(w,T))/2,A=Math.round(this.gestureStartDistance-v),g&&(this.pinchingScreen=5),this.clearPixelCache(),this.pinchingScreen<2){if(e.isSurface&&(!this.movedPrimary||!this.movedSecondary))return;if(w<this.pt.x1&&T<this.pt.x2||w>this.pt.x1&&T>this.pt.x2||k<this.pt.y1&&M<this.pt.y2||k>this.pt.y1&&M>this.pt.y2)this.pinchingScreen=0;else if(this.pinchingScreen++,this.pinchingScreen<2)return}if(this.pt={x1:w,x2:T,y1:k,y2:M},0===this.pinchingScreen)this.grabMode=\"pan\",U.U1f(0),this.mousemoveinner(U.X1f(w,u),U.X1f(k,d)),this.gestureStartDistance=v;else{if(P=Math.asin((Math.max(M,k)-Math.min(M,k))/v),Math.abs(A)<12&&!g){if(this.moveCount++,4==this.moveCount)return this.pinchingScreen=0,void(this.moveCount=0)}else this.moveCount=0;if(P<1||!this.goneVertical&&P<1.37){if(!this.currentPanel)return;if(F=this.currentPanel.chart,this.goneVertical=!1,v=this.pt.x2-this.pt.x1,_=this.grabStartValues.t2-this.grabStartValues.t1,B=this.grabStartValues.t1+_/2,U.U1f(6),E=U.X1f(_,v),!1===F.allowScrollFuture&&!1===F.allowScrollPast&&(E=Math.max(E,F.width/F.dataSet.length)),L=this.layout.candleWidth,this.setCandleWidth(E,F),F.maxTicks<this.minimumZoomTicks)return void this.setCandleWidth(L,F);this.micropixels=0,N=this.pixelFromTick(Math.round(B),F),H=this.pt.x1-this.left+Math.round(v/2),U.P1f(5),I=U.E1f(H,N),U.P1f(6),R=U.E1f(E,I),W=Math.round(R),F.scroll-=W,U.P1f(5),this.microscroll=U.E1f(R,W),this.micropixels=E*this.microscroll,this.draw()}else z=this.grabStartYAxis,this.goneVertical=!0,z&&(z.zoom=this.grabStartZoom+(this.gestureStartDistance-v),this.grabStartZoom<z.height?z.zoom>=z.height&&(z.zoom=z.height-1):z.zoom<=z.height&&(z.zoom=z.height+1),this.draw());this.updateChartAccessories()}}else if(3==r.length&&e.ChartEngine.allowThreeFingerTouch){if(!this.displayCrosshairs)return;V=r[0].clientX,v=this.grabStartX-V,this.grabEndPeriodicity=this.grabStartPeriodicity+Math.round(v/10),this.grabEndPeriodicity<1&&(this.grabEndPeriodicity=1)}}else m=(x=r[0]).clientX,f=x.clientY,U.P1f(19),this.pinchingScreen=U.E1f(\"0\",1885269344),U.P1f(0),this.mousemoveinner(U.E1f(m,u),U.X1f(f,d)),C=this.whichPanel(f),b=!0===this.xAxisAsFooter?this.chart.canvasHeight:this.chart.panel.bottom,this.overXAxis=f<=this.top+b&&f>=b-this.xaxisHeight+this.top&&this.insideChart,this.overYAxis=!!C&&((m>=C.right||m<=C.left)&&this.insideChart);this.runAppend(i,arguments)}}},e.ChartEngine.prototype.touchstart=function(t){var i,a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,B,E,L=O;if(!e.ChartEngine.ignoreTouch&&(e.isSurface?(this.movedPrimary=!1,this.movedSecondary=!1):(this.touchingEvent&&clearTimeout(this.touchingEvent),this.touching=!0,this.touches=t.touches,this.changedTouches=t.changedTouches),!e.ChartEngine.resizingPanel&&(i=this.crosshairXOffset,a=this.crosshairYOffset,\"pen\"==this.touchPointerType&&(i=a=0),!this.runPrepend(\"touchstart\",arguments)))){if(this.manageTouchAndMouse&&t&&t.preventDefault&&this.captureTouchEvents&&t.preventDefault(),this.hasDragged=!1,this.doubleFingerMoves=0,this.moveCount=0,this.twoFingerStart=!1,1==this.touches.length||2==this.touches.length){if(this.touchMoveTime=Date.now(),s=(h=this.touches[0]).clientX,o=h.clientY,this.moveA=s,L.P1f(5),this.moveB=-L.X1f(0,\"1\"),\"\"===this.openDialog&&(this.registerPointerEvent({x:s,y:o,time:this.touchMoveTime},\"down\"),1!=this.changedTouches.length||this.isDoubleClick(!0)||e.extend(this.clicks,{s1MS:this.touchMoveTime,e1MS:-1,s2MS:-1,e2MS:-1,x:this.changedTouches[0].pageX,y:this.changedTouches[0].pageY})),c=this.container.getBoundingClientRect(),this.top=c.top,this.left=c.left,this.right=this.left+this.width,this.bottom=this.top+this.height,1==this.touches.length&&(u=this.backOutY(o),this.currentPanel=this.whichPanel(u)),this.currentPanel||(this.currentPanel=this.chart.panel),l=this.currentPanel,s>=this.left&&s<=this.right&&o>=this.top&&o<=this.bottom){this.insideChart=!0,d=!0===this.xAxisAsFooter?this.chart.canvasHeight:this.chart.panel.bottom,this.overXAxis=o<=this.top+d&&o>=this.top+d-this.xaxisHeight,this.overYAxis=s>=this.left+l.right||s<=this.left+l.left,p=-1,this.cy=this.backOutY(o),this.cx=this.backOutX(s),this.crosshairTick=this.tickFromPixel(this.cx,l.chart),this.crosshairValue=this.adjustIfNecessary(l,this.crosshairTick,this.valueFromPixel(this.cy,this.currentPanel));for(var N=0;N<this.drawingObjects.length;N++)if((g=this.drawingObjects[N]).highlighted){if(p<0&&(p=N),m=g.highlighted,this.findHighlights(!0),N==p&&g.highlighted&&!g.permanent)return void(-1==this.clicks.s2MS?this.activateRepositioning(g):this.findHighlights(!1,!0));this.anyHighlighted=!0,g.highlighted=m}}else this.insideChart=!1;if(f=this.currentVectorParameters.vectorType&&\"\"!==this.currentVectorParameters.vectorType,this.layout.crosshair||f||!this.insideChart||this.touchNoPan){if(this.grabbingScreen=!1,this.insideChart&&l.subholder===t.target&&(P=this.currentVectorParameters.vectorType,e.Drawing&&P&&e.Drawing[P]&&(new e.Drawing[P]).dragToDraw))return this.userPointerDown=!0,e.ChartEngine.crosshairX=s,e.ChartEngine.crosshairY=o,l&&l.chart.dataSet&&(this.crosshairTick=this.tickFromPixel(this.backOutX(e.ChartEngine.crosshairX),this.currentPanel.chart),this.crosshairValue=this.adjustIfNecessary(l,this.crosshairTick,this.valueFromPixel(this.backOutY(e.ChartEngine.crosshairY),this.currentPanel))),this.drawingClick(l,this.backOutX(s),this.backOutY(o)),void this.headsUpHR()}else{if(i=a=0,(y=this.mainSeriesRenderer||{}).params&&y.params.baseline&&!1!==this.chart.baseline.userLevel&&this.controls.baselineHandle&&(L.U1f(5),v=this.valueFromPixel(L.X1f(5,u),l),L.U1f(0),x=this.valueFromPixel(L.X1f(u,5),l),C=this.chart.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,10),this.chart.baseline.actualLevel<Math.max(v,x)&&this.chart.baseline.actualLevel>Math.min(v,x)&&this.backOutX(h.clientX)>C)){this.repositioningBaseline={lastDraw:Date.now()},b=-702593126,S=-110527185,w=2;for(var H=1;L.C1u(H.toString(),H.toString().length,17677)!==b;H++)return void this.controls.baselineHandle.classList.add(\"stx-grab\");if(L.C1u(w.toString(),w.toString().length,13070)!==S)return void this.controls.baselineHandle.classList.add(\"\")}if(this.controls.anchorHandles){k=Object.values(this.controls.anchorHandles),D=!1;for(var I=0;I<k.length;I++){T=k[I];var{handle:R,sd:W}=T;M=this.resolveX(this.cx),A=this.resolveY(this.cy);var{left:z,top:V,right:U,bottom:j}=R.getBoundingClientRect();z-=10,U+=10,e.boxIntersects(z,V,U,j,M,A,M,A)&&(T.highlighted=!0,this.repositioningAnchorSelector={sd:W},R.classList.add(\"stx-grab\"),D=!0),!0===T.highlighted&&(T.highlighted=!1)}if(D)return}for(r in this.panels)if((n=this.panels[r]).highlighted)return void this.grabHandle(n);this.grabbingScreen=!0,this.disableBackingStoreDuringTouch&&this.disableBackingStore(),l.chart.spanLock=!1,this.yToleranceBroken=!1,L.U1f(0),this.grabStartX=L.X1f(s,i),L.P1f(0),this.grabStartY=L.E1f(o,a),this.grabStartMicropixels=this.micropixels,this.grabStartScrollX=l.chart.scroll,this.grabStartScrollY=l.yAxis.scroll,this.grabStartPanel=this.currentPanel,this.swipeStart&&this.swipeStart(l.chart),this.grabStartYAxis=this.whichYAxis(l,this.backOutX(s)),this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0,setTimeout((q=this,function(){q.grabbingHand()}),100)}1===this.touches.length&&this.layout.crosshair&&!f&&l.subholder===t.target&&(L.U1f(0),this.mousemoveinner(L.E1f(s,i),L.E1f(o,a)))}var q,Y;if(2==this.touches.length){if(this.cancelLongHold=!0,this.swipe.end=!0,!this.displayCrosshairs&&!this.touchNoPan||!this.insideChart)return;for(r in _=(F=this.touches[1]).clientX,B=F.clientY,this.panels)if((n=this.panels[r]).highlighted)return void this.grabHandle(n);l=this.currentPanel,L.P1f(73),this.gestureStartDistance=Math.sqrt(L.E1f(s,B,_,_,o,o,B,s)),this.pt={x1:s,x2:_,y1:o,y2:B},this.grabbingScreen=!0,this.disableBackingStoreDuringTouch&&this.disableBackingStore(),l.chart.spanLock=!1,L.U1f(0),this.grabStartX=L.X1f(s,i),L.P1f(0),this.grabStartY=L.X1f(o,a),this.grabStartMicropixels=this.micropixels,this.grabStartScrollX=l.chart.scroll,this.grabStartScrollY=l.yAxis.scroll,this.grabStartPanel=l,this.swipeStart&&this.swipeStart(l.chart),this.grabStartCandleWidth=this.layout.candleWidth,this.grabStartYAxis=this.whichYAxis(l,this.backOutX((s+_)/2))||l.yAxis,this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0,this.grabStartPt=this.pt,this.grabStartValues={x1:this.pt.x1,x2:this.pt.x2,y1:this.valueFromPixel(this.pt.y1-this.top,l),y2:this.valueFromPixel(this.pt.y2-this.top,l),t1:this.tickFromPixel(this.pt.x1-this.left,l.chart),t2:this.tickFromPixel(this.pt.x2-this.left,l.chart)},this.twoFingerStart=!0,setTimeout((Y=this,function(){Y.grabbingHand()}),100)}else if(3==this.touches.length){if(!this.displayCrosshairs)return;E=this.touches[0].clientX,this.grabStartX=E,this.grabStartPeriodicity=this.layout.periodicity}1!=this.touches.length||this.layout.crosshair||(this.mouseTimer=Date.now(),this.longHoldTookEffect=!1,(this.longHoldTime||0===this.longHoldTime)&&this.startLongHoldTimer()),this.runAppend(\"touchstart\",arguments)}},e.ChartEngine.prototype.touchend=function(t){var i,a,r,n,s,o,l,h,c,u,d;if(!e.ChartEngine.ignoreTouch&&(O.g1B(),this.swipe.end=!0,e.isSurface||(this.touches=t.touches,this.changedTouches=t.changedTouches),!this.runPrepend(\"touchend\",arguments))){if(this.cancelLongHold=!0,this.touches.length<=1&&(this.layout.crosshair||this.currentVectorParameters.vectorType)&&(this.touches.length&&this.twoFingerStart||(this.grabbingScreen=!1)),this.touches.length&&(this.grabStartX=-1,this.grabStartY=-1),i=this.pinchingScreen,this.disableBackingStoreDuringTouch&&this.reconstituteBackingStore(),this.touches.length){if(e.ChartEngine.resizingPanel)return}else{if(this.touchingEvent=setTimeout((p=this,O.g1B(),function(){p.touching=!1}),500),e.ChartEngine.resizingPanel)return void this.releaseHandle();this.pinchingScreen=null,this.pinchingCenter=null,this.goneVertical=!1,this.grabbingScreen=!1,this.grabMode=\"\",this.highlightedDraggable&&(this.dragPlotOrAxis&&this.dragPlotOrAxis(this.cx,this.cy),this.currentPanel=this.whichPanel(this.cy)),this.grabStartYAxis=null,this.displayDragOK(),this.doDisplayCrosshairs(),this.updateChartAccessories()}var p;if(a=this.touches.length+1,1==this.changedTouches.length){if(this.repositioningDrawing)return this.changeOccurred(\"vector\"),e.clearCanvas(this.chart.tempCanvas,this),this.activateRepositioning(null),this.draw(),void(this.layout.crosshair||this.currentVectorParameters.vectorType||this.findHighlights(!1,!0));if(this.repositioningBaseline)return this.repositioningBaseline=null,this.controls.baselineHandle.classList.remove(\"stx-grab\"),(r=this.mainSeriesRenderer||{}).params&&r.params.baseline&&r.params.type,void this.draw();if(this.repositioningAnchorSelector)return e.Studies.repositionAnchor(this,this.repositioningAnchorSelector.sd),this.repositioningAnchorSelector=null,void Object.values(this.controls.anchorHandles).forEach(({handle:t})=>(O.W1B(),\"stx-g\",\"ra\",\"b\",t.classList.remove(\"stx-grab\")));if(n=Date.now(),\"\"===this.openDialog&&t.changedTouches.length&&(s=\"u\",s+=\"p\",o=t.changedTouches[0],this.registerPointerEvent({x:o.clientX,y:o.clientY,time:n},s)),-1==this.clicks.s2MS){if(this.clicks.e1MS=n,l=this.currentVectorParameters.vectorType,e.Drawing&&l&&e.Drawing[l]&&(new e.Drawing[l]).dragToDraw||(this.clicks.e1MS-this.clicks.s1MS<750&&!this.longHoldTookEffect&&(!this.hasDragged||this.layout.crosshair)?setTimeout(this.touchSingleClick(a,this.clicks.x,this.clicks.y),this.doubleClickTime+1):this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1}),this.userPointerDown=!1,h=this.backOutY(this.changedTouches[0].pageY)+this.crosshairYOffset,c=this.backOutX(this.changedTouches[0].pageX)+this.crosshairXOffset,d=(u=this.currentPanel)&&u.subholder===t.target,e.Drawing&&this.activeDrawing&&this.activeDrawing.dragToDraw&&d)return void this.drawingClick(u,c,h);this.isDoubleClick(!0)&&(d||this.overYAxis||this.overXAxis)&&this.touchDoubleClick(a,this.clicks.x,this.clicks.y)}else this.clicks.e2MS=n,this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1}}else this.displayCrosshairs&&(-1==this.grabEndPeriodicity||isNaN(this.grabEndPeriodicity)||((e.ChartEngine.isDailyInterval(this.layout.interval)||this.allowIntradayNMinute)&&this.setPeriodicity({period:this.grabEndPeriodicity,interval:this.layout.interval}),this.grabEndPeriodicity=-1));this.changedTouches.length&&((!this.layout.crosshair&&!this.currentVectorParameters.vectorType&&1==a||this.twoFingerStart&&!i&&!this.touches.length)&&(this.swipeRelease&&this.swipeRelease(),this.findHighlights(!1,!0)),i&&this.continuousZoom&&(this.continuousZoom.execute(),this.continuousZoom.execute(!0))),this.touches.length||(this.twoFingerStart=!1),this.runAppend(\"touchend\",arguments)}},i=!1,e.ChartEngine.prototype.mousemoveinner=e.ChartEngine.prototype.mousemoveinner||function(t,e){i||console.error(\"touch feature requires activating movement feature.\"),O.g1B(),i=!0}},T=t=>{var e;e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ,O.W1B(),e.Visualization=e.Visualization||function(t){if(t){if(\"function\"!=typeof t.renderFunction)return\"CIQ.Visualization() mi\",\"ssing renderFunction property in attributes.\",void console.log(\"CIQ.Visualization() missing renderFunction property in attributes.\");this.container=null,O.g1B(),this.attributes=t,this.data=null,this.object=null}else console.log(\"CIQ.Visualization() missing attributes argument.\")},e.extend(e.Visualization.prototype,{destroy:function(t){var i;i=this.container,e.resizeObserver(i,null,i.resizeHandle),i.autoGenerated?(i.remove(),delete this.container):i.innerHTML=\"\",t||(this.attributes=null,this.container=null,this.data=null,this.object=null,this.destroy=this.draw=this.setAttributes=function(){},this.updateData=function(){})},draw:function(t){var i,a,r,n,s;this.data&&\"object\"==typeof this.data?(\"string\"==typeof(a=(i=this.attributes).container||this.container)&&(a=document.querySelector(a)),a||(\"3\",\"0\",\"0px\",(a=document.createElement(\"div\")).style.height=a.style.width=\"300px\",document.body.appendChild(a),a.autoGenerated=!0),i.stx&&(r=i.stx.chart.canvasShim,i.useCanvasShim&&r&&r!==a&&r!==a.parentNode&&(a.autoGenerated||((a=a.cloneNode()).id=\"\",a.autoGenerated=!0),r.appendChild(a))),this.container&&this.container!==a&&this.destroy(!0),a.resizeHandle||(n=function(t){return O.g1B(),function(){O.g1B(),t.data&&t.container&&document.body.contains(t.container)&&t.draw.call(t,!0)}},a.resizeHandle=e.resizeObserver(a,n(this),null,100)),this.container=a,this.attributes=i,(s=(i=e.ensureDefaults({container:this.container},this.attributes)).renderFunction(Object.values(this.data).sort((function(t,e){return O.g1B(),t.index<e.index?-1:t.index>e.index?1:0})),i))&&(i.id&&(s.id=i.id),(t||i.forceReplace)&&(this.container.innerHTML=\"\",this.container.appendChild(s))),O.W1B(),this.attributes=i,this.object=s):console.log(\"CIQ.Visualization.draw() missing data.\")},setAttributes:function(t,e){var i,a,r;if(\"rende\",\"r\",\"Functio\",\"n\",i=[\"renderFunction\",\"container\",\"stx\",\"useCanvasShim\",\"id\",\"forceReplace\"],a=!1,r=t,\"string\"==typeof t&&((r={})[t]=e),\"object\"==typeof r)for(var n in r)this.attributes[n]!==r[n]&&-1!==i.indexOf(n)&&(a=!0),this.attributes[n]=r[n];this.draw(a)},updateData:function(t,i){var a,r,n;for(a in\"a\",\"d\",\"d\",n=Array.isArray(t)?t.reduce((function(t,e){return t[e.name]=e,t}),{}):e.shallowClone(t))r=n[a],\"[object Object]\"!==Object.prototype.toString.call(r)&&(n[a]={value:r}),n[a].name||(n[a].name=a),n[a].value||(n[a].value=0);switch(i||(i=\"replace\"),O.g1B(),i.toLowerCase()){case\"delete\":for(a in n)delete this.data[a];break;case\"replace\":this.data={};case\"update\":case\"add\":for(a in n)for(var s in this.data[a]||(this.data[a]={name:a}),r=n[a].value,\"[object Number]\"==Object.prototype.toString.call(r)?(this.data[a].value&&\"update\"!=i||(this.data[a].value=0),this.data[a].value+=r):this.data[a].value=r,n[a])\"value\"!==s&&(this.data[a][s]=n[a][s]);break;default:console.log(\"Invalid or missing action.  Valid values are 'add', 'delete', 'replace', or 'update'.\")}return this.draw(this.attributes.forceReplace),this}}),e.ChartEngine.prototype.embedVisualization=function(t){return t||(t={}),O.W1B(),t.stx=this,t.useCanvasShim=!0,t.translator=function(e){return t.stx.translateIf(e)},new e.Visualization(t)}},M=t=>{var e;(e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ).Studies?(e.Studies.calculateTypicalPrice=function(t,e){var i,a,r,n,s,o=O;if(i=e.chart.scrubbed,a=e.days,i.length<a+1)e.overlay||(e.error=!0);else{for(var l in r=e.name,e.outputs)o.U1f(15),r=o.E1f(r,\" \",l);n=\"hlc/3\",\"Med Price\"==e.type?n=\"hl/2\":\"Weighted Close\"==e.type&&(n=\"hlcc/4\"),s=0,e.startFrom<=a&&(e.startFrom=0),o.W1B();for(var h=e.startFrom;h<i.length;h++)h&&i[h-1][r]&&(s=i[h-1][r]*a),s+=i[h][n],h>=a&&(o.U1f(5),s-=i[o.X1f(a,h)][n],o.U1f(6),i[h][r]=o.E1f(a,s))}},e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{\"Med Price\":{name:\"Median Price\",calculateFN:e.Studies.calculateTypicalPrice,inputs:{Period:14}}})):console.error(\"medianPrice feature requires first activating studies feature.\")},A=t=>{var e;(e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ).Studies?(\"Mo\",\"mentum Indicator\",\"Pric\",\"e R\",\"ate\",\" of Change\",e.Studies.calculateRateOfChange=function(t,e){var i,a,r,n,s,o,l,h=O;if(\"V\",\"o\",\"lu\",\"me\",\"fi\",\"e\",\"l\",\"d\",(i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{for(var c in h.W1B(),(a=e.inputs.Field)&&\"field\"!=a||(a=\"Close\"),e.parameters.isVolume&&(a=\"Volume\"),r=e.name,e.outputs)h.P1f(15),r=h.X1f(r,\" \",c);n=(n=e.inputs[\"Center Line\"])?parseInt(n,10):0;for(var u=Math.max(e.startFrom,e.days);u<i.length;u++)\"o\",\"bject\",(s=i[u][a])&&\"object\"==typeof s&&(s=s[e.subField]),(o=i[u-e.days][a])&&\"object\"==typeof o&&(o=o[e.subField]),\"Momentum\"==e.type?(h.U1f(16),i[u][r]=h.X1f(o,n,s)):(l=o)&&(h.P1f(74),i[u][r]=h.E1f(1,n,\"100\",s,l))}},e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{\"Price ROC\":{name:\"Price Rate of Change\",calculateFN:e.Studies.calculateRateOfChange,inputs:{Period:14,Field:\"field\"}},Momentum:{name:\"Momentum Indicator\",calculateFN:e.Studies.calculateRateOfChange,inputs:{Period:14},centerline:0}})):console.error(\"momentum feature requires first activating studies feature.\")},P=t=>{var e,i;if(\"und\",\"efin\",\"ed\",O.g1B(),(e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ).Studies)e.Studies.initPriceRelative=function(t,i,a,r,n,s){var o,l;return l=[(o=e.Studies.initializeFN(t,i,a,r,n,s)).inputs[\"Comparison Symbol\"].toUpperCase()],e.Studies.fetchAdditionalInstruments(t,o,l),o},e.Studies.calculatePriceRelative=function(t,i){var a,r,n,s,o,l;if(\"]\",\"/\",\"[\",a=i.chart.scrubbed,(r=i.inputs[\"Comparison Symbol\"].toUpperCase())||(r=i.study.inputs[\"Comparison Symbol\"]),(n={})[s=(s=t.chart.symbol||\"\").replace(/[=+\\-*\\\\%]/g,\"\")]=a.slice(i.startFrom),n[s].length){s!=r&&(n[r]=null),O.U1f(35),o=e.computeEquationChart(O.E1f(\"]\",\"[\",\"]/[\",r,s),n),l=0;for(var h=i.startFrom;h<a.length&&l<o.length;h++){for(;l<o.length&&a[h].DT.getTime()>o[l].DT.getTime();)l++;a[h].DT.getTime()<o[l].DT.getTime()||(a[h][\"Result \"+i.name]=o[l].Close,l++)}}},e.Studies.displayVsComparisonSymbol=function(t,i,a){var r,n,s,o;if(\"Re\",\"s\",\"u\",\"lt \",r=i.inputs[\"Comparison Symbol\"].toUpperCase(),t.getSeries({symbol:r,chart:i.chart}).length){s=(n={skipTransform:t.panels[i.panel].name!=i.chart.name,panelName:i.panel,band:\"Result \"+i.name,threshold:i.study.centerline,yAxis:i.getYAxis(t),gapDisplayStyle:!0}).yAxis?n.yAxis.flipped:t.panels[i.panel].yAxis.flipped,o=.3,!i.highlight&&t.highlightedDraggable&&(o*=.3),O.W1B();for(var l=a.length-1;l>=0;l--)if(a[l]&&a[l][r])return e.Studies.displaySeriesAsLine(t,i,a),void((i.study.centerline||0===i.study.centerline)&&(i.outputs.Gain&&e.preparePeakValleyFill(t,e.extend(n,{direction:s?-1:1,color:e.Studies.determineColor(i.outputs.Gain),opacity:o})),i.outputs.Loss&&e.preparePeakValleyFill(t,e.extend(n,{direction:s?1:-1,color:e.Studies.determineColor(i.outputs.Loss),opacity:o}))))}else t.displayErrorAsWatermark(i.panel,t.translateIf(i.study.name)+\": \"+t.translateIf(\"Not Available\"))},e.Studies.fetchAdditionalInstruments=function(t,i,a,r){var n,s,o,l,h,c;function u(){t.createDataSet(),t.draw()}if(!t.quoteDriver)return\"CIQ.Studies.fetchA\",\"d\",\"ditionalInstruments: No quotefeed to fetch s\",\"ymbol\",void console.log(\"CIQ.Studies.fetchAdditionalInstruments: No quotefeed to fetch symbol\");for(n=t.panels[i.panel].chart,i.symbols=a,s=0;s<a.length;s++)\"stu\",\"d\",\"y\",o=l=a[s],\"object\"==typeof l?o=l.symbol:l={symbol:o},h={symbol:o,symbolObject:l,bucket:\"study\",studyName:i.name,chartName:n.name,action:\"add-study\"},e.extend(h,r),c=h.loadData,t.currentlyImporting&&(h.loadData=!1),i.series||(i.series={}),i.series[o]=t.addSeries(null,h,u),i.series[o].parameters.loadData=c},e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{\"P Rel\":{name:\"Price Relative\",initializeFN:e.Studies.initPriceRelative,seriesFN:e.Studies.displayVsComparisonSymbol,calculateFN:e.Studies.calculatePriceRelative,centerline:0,inputs:{\"Comparison Symbol\":\"SPY\"},deferUpdate:!0}});else{2042495687,-2072012106,i=2;for(var a=1;2042495687!==O.C1u(a.toString(),a.toString().length,49970);a++)console.error(\"\"),i+=2;-2072012106!==O.C1u(i.toString(),i.toString().length,78514)&&console.error(\"\"),console.error(\"priceRelative feature requires first activating studies feature.\")}},F=t=>{var e;O.g1B(),(e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ).Studies?(\"#ff\",\"f69e\",\"hh:\",\"mm\",\":s\",\"s\",e.Studies.calculateVWAP=function(t,i){var a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v=O;if(\"A\",\"VW\",\"A\",\"P\",a=\"AVWAP\"==i.type,r=i.chart.scrubbed,a||!e.ChartEngine.isDailyInterval(t.layout.interval)){if(n=\"h\",n+=\"l\",n+=\"c/\",n+=\"3\",a&&(\"fi\",\"e\",\"ld\",(n=i.inputs.Field)&&\"field\"!=n||(\"h\",\"l\",\"c\",\"/3\",n=i.inputs.Field=\"hlc/3\",t.changeOccurred(\"layout\"))),s=null,o=0,v.W1B(),l=0,h=0,c=!1,i.startFrom>1&&(\"_\",\"VxP2 \",\"_\",\"VxP \",o=r[i.startFrom-1][\"_V \"+i.name]||0,l=r[i.startFrom-1][\"_VxP \"+i.name]||0,h=r[i.startFrom-1][\"_VxP2 \"+i.name]||0),a){if(\"Anchor \",\"Selector\",(u=i.inputs[\"Anchor Date\"].replace(/-/g,\"\")).search(/^\\d{8}$/))return\"Invalid A\",\"nchor\",\" Dat\",\"e\",void(i.error=\"Invalid Anchor Date\");(d=i.inputs[\"Anchor Time\"].replace(/:/g,\"\")).search(/^\\d{4,6}$/)||(u+=d),u=e.strToDateTime(u.replace(/\\D/g,\"\")),!i.startFrom&&u>=r[0].DT&&(i.startFrom=t.tickFromDate(u,t.chart,null,!0)),i.inputs[\"Anchor Selector\"]?e.Studies.initAnchorHandle(t,i):e.Studies.removeAnchorHandle(t,i)}for(var x=i.startFrom;x<r.length;x++)if(\"_\",\"V\",\" \",a||(null===s&&(s=e.Studies.getMarketOffset({stx:t,localQuoteDate:r[x].DT,shiftToDateBoundary:!0})),r[x-1]&&r[x-1].DT&&(p=new Date(new Date(+r[x].DT).setMilliseconds(r[x].DT.getMilliseconds()+s)),new Date(new Date(+r[x-1].DT).setMilliseconds(r[x-1].DT.getMilliseconds()+s)).getDate()!=p.getDate()&&t.chart.market.isMarketDate(p)&&(s=null,o=l=h=0))),g=r[x][n],m=r[x].Volume,a&&!m&&(m=1),o+=m,v.U1f(2),l+=v.X1f(m,g),v.P1f(49),h+=v.E1f(m,g,g),a||o){r[x][\"_V \"+i.name]=o,r[x][\"_VxP \"+i.name]=l,r[x][\"_VxP2 \"+i.name]=h,f=r[x][\"_SDVWAP \"+i.name]=Math.sqrt(Math.max(0,h/o-Math.pow(l/o,2))),v.U1f(6),y=r[x][\"VWAP \"+i.name]=v.E1f(o,l);for(var C=1;C<=3;C++)\"-\",\" \",\"+\",\" \",\"SDV\",\"WAP\",v.P1f(23),r[x][\"SDVWAP\"+C+\"+ \"+i.name]=v.X1f(C,y,f),v.P1f(48),r[x][\"SDVWAP\"+C+\"- \"+i.name]=v.E1f(y,C,f);c=!0}for(var b=1;b<=3;b++)i.inputs[\"Display \"+b+\" Standard Deviation (\"+b+\")\"]&&(\"\",\")\",\"S\",\"DVWA\",\"P\",v.U1f(27),i.outputMap[\"SDVWAP\"+b+\"+ \"+i.name]=v.E1f(\" Standard Deviation (\",\")\",b,b),v.U1f(27),i.outputMap[\"SDVWAP\"+b+\"- \"+i.name]=v.X1f(\" Standard Deviation (\",\")\",b,b));a||c||(i.error=\"VWAP Requires Volume\")}else i.error=\"VWAP is Intraday Only\"},e.Studies.initAnchoredVWAP=function(t,i,a,r,n,s){if(\"Anc\",\"hor D\",\"ate\",!a[\"Anchor Date\"]&&!a[\"Anchor Time\"])for(var{dataSegment:o}=t.chart,l=0;o&&l<o.length;l++)if(o[l]){var{DT:h}=o[l];a[\"Anchor Date\"]=e.dateToStr(h,\"YYYY-MM-dd\"),a[\"Anchor Time\"]=e.dateToStr(h,\"HH:mm:ss\");break}return O.g1B(),e.Studies.initializeFN(t,i,a,r,n,s)},e.Studies.displayVWAP=function(t,i,a){var r,n,s,o,l,h,c;e.Studies.displaySeriesAsLine(t,i,a),r=i.inputs[\"Display 1 Standard Deviation (1)\"],n=i.inputs[\"Display 2 Standard Deviation (2)\"],s=i.inputs[\"Display 3 Standard Deviation (3)\"],(r||n||s)&&i.inputs.Shading&&(\"VWA\",\"P \",\"VWA\",\"P\",\" \",o=t.panels[i.panel],l={opacity:i.parameters.opacity?i.parameters.opacity:.2,skipTransform:o.name!=i.chart.name,yAxis:i.getYAxis(t)},!i.highlight&&t.highlightedDraggable&&(l.opacity*=.3),h=\"VWAP \"+i.name,c=\"VWAP \"+i.name,r&&(\"SD\",\"VWAP1+\",\" \",e.prepareChannelFill(t,e.extend({panelName:i.panel,topBand:\"SDVWAP1+ \"+i.name,bottomBand:h,color:e.Studies.determineColor(i.outputs[i.outputMap[\"SDVWAP1+ \"+i.name]])},l)),e.prepareChannelFill(t,e.extend({panelName:i.panel,topBand:\"SDVWAP1- \"+i.name,bottomBand:c,color:e.Studies.determineColor(i.outputs[i.outputMap[\"SDVWAP1- \"+i.name]])},l)),h=\"SDVWAP1+ \"+i.name,c=\"SDVWAP1- \"+i.name),n&&(\"S\",\"DV\",\"WAP2+\",\" \",e.prepareChannelFill(t,e.extend({panelName:i.panel,topBand:\"SDVWAP2+ \"+i.name,bottomBand:h,color:e.Studies.determineColor(i.outputs[i.outputMap[\"SDVWAP2+ \"+i.name]])},l)),e.prepareChannelFill(t,e.extend({panelName:i.panel,topBand:\"SDVWAP2- \"+i.name,bottomBand:c,color:e.Studies.determineColor(i.outputs[i.outputMap[\"SDVWAP2- \"+i.name]])},l)),h=\"SDVWAP2+ \"+i.name,c=\"SDVWAP2- \"+i.name),s&&(\"S\",\"DVW\",\"AP3+\",\" \",e.prepareChannelFill(t,e.extend({panelName:i.panel,topBand:\"SDVWAP3+ \"+i.name,bottomBand:h,color:e.Studies.determineColor(i.outputs[i.outputMap[\"SDVWAP3+ \"+i.name]])},l)),e.prepareChannelFill(t,e.extend({panelName:i.panel,topBand:\"SDVWAP3- \"+i.name,bottomBand:c,color:e.Studies.determineColor(i.outputs[i.outputMap[\"SDVWAP3- \"+i.name]])},l)))),i.anchorHandle&&e.Studies.displayAnchorHandleAndLine(t,i,a)},e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{AVWAP:{name:\"Anchored VWAP\",overlay:!0,calculateFN:e.Studies.calculateVWAP,seriesFN:e.Studies.displayVWAP,initializeFN:e.Studies.initAnchoredVWAP,removeFN:e.Studies.removeAnchorHandle,inputs:{Field:\"field\",\"Anchor Date\":\"\",\"Anchor Time\":\"\",\"Display 1 Standard Deviation (1)\":!1,\"Display 2 Standard Deviation (2)\":!1,\"Display 3 Standard Deviation (3)\":!1,Shading:!1,\"Anchor Selector\":!0},outputs:{VWAP:\"#FF0000\",\"1 Standard Deviation (1)\":\"#e1e1e1\",\"2 Standard Deviation (2)\":\"#85c99e\",\"3 Standard Deviation (3)\":\"#fff69e\"},parameters:{init:{opacity:.2}},attributes:{\"Anchor Date\":{placeholder:\"yyyy-mm-dd\"},\"Anchor Time\":{placeholder:\"hh:mm:ss\",step:1}}},VWAP:{name:\"VWAP\",overlay:!0,calculateFN:e.Studies.calculateVWAP,seriesFN:e.Studies.displayVWAP,inputs:{\"Display 1 Standard Deviation (1)\":!1,\"Display 2 Standard Deviation (2)\":!1,\"Display 3 Standard Deviation (3)\":!1,Shading:!1},outputs:{VWAP:\"#FF0000\",\"1 Standard Deviation (1)\":\"#e1e1e1\",\"2 Standard Deviation (2)\":\"#85c99e\",\"3 Standard Deviation (3)\":\"#fff69e\"},parameters:{init:{opacity:.2}}}})):(\"vwap feature requir\",\"es first activating studies feature.\",console.error(\"vwap feature requires first activating studies feature.\"))},_=t=>{var e;(e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ).Studies?(e.Studies.calculateZigZag=function(t,e){var i,a,r,n,s,o,l,h,c,u,d,p,g,m,f,y=O;if(\"Cl\",\"o\",\"s\",\"e\",(i=e.chart.scrubbed)&&i.length){a=e.highLowChart,r=null,n=null,s=e.inputs[\"Distance(%)\"],o=0,l=0,h=0,c=null,u=null,d=0,y.g1B();for(var v=Math.min(i.length-1,e.startFrom);v>=0;v--)if(d=v,i[v][\"_state \"+e.name]){\"_s\",\"ta\",\"te \",r=(p=i[v][\"_state \"+e.name])[0],n=p[1],o=p[2],l=p[3],h=p[4],c=p[5],u=p[6];break}for(var x=d;x<i.length;x++){if(\"H\",\"i\",\"g\",\"h\",g=i[x][a?\"High\":\"Close\"],m=i[x][a?\"Low\":\"Close\"],null===n||n<g)if(n=g,o<0&&(r=m),y.U1f(75),c=y.E1f(100,n,s,1),o>-1){if(null!==u&&n>u){\"Resu\",\"l\",\"t\",\" \",i[l][\"Result \"+e.name]=i[l][a?\"Low\":\"Close\"],C(h,l),o=-1,r=m,h=l,l=x;continue}}else l=x;if(null===r||r>m)if(r=m,o>0&&(n=g),y.P1f(76),u=y.E1f(98110592,100,\"1\",r,s),o<1){if(null!==c&&r<c){i[l][\"Result \"+e.name]=i[l][a?\"High\":\"Close\"],C(h,l),y.P1f(19),o=y.X1f(\"1\",530567456),n=g,h=l,l=x;continue}}else l=x}for(i[l][\"Result \"+e.name]=i[l][a?1==o?\"Low\":\"High\":\"Close\"],i[l][\"_state \"+e.name]=[r,n,o,l,h,c,u],C(h,l),f=i.length-1;f>l;){if(i[f].Close||0===i[f].Close){\"C\",\"l\",\"os\",\"e\",\"L\",\"o\",\"w\",\"R\",\"esu\",\"lt \",i[f][\"Result \"+e.name]=i[f][a?1==o?\"High\":\"Low\":\"Close\"];break}f--}C(l,f)}function C(t,a){for(var r=t+1;r<a;r++)\"S\",\"hadowR\",\"esult \",i[r][\"ShadowResult \"+e.name]=(i[a][\"Result \"+e.name]-i[t][\"Result \"+e.name])*(r-t)/(a-t)+i[t][\"Result \"+e.name],delete i[r][\"Result \"+e.name]}},e.Studies.displayZigZag=function(t,i,a){var r,n,s,o,l;r=t.chart.highLowBars,i.highLowChart!=r&&(i.highLowChart=r,i.startFrom=0,i.study.calculateFN(t,i)),n=t.chart;for(var h=0;h<a.length;h++)(s=a[h])&&(s[\"_shadowCopy \"+i.name]&&(delete s[\"Result \"+i.name],delete s[\"_shadowCopy \"+i.name]),s[\"Result \"+i.name]||s.transform&&delete s.transform[\"Result \"+i.name]);o=a[0],l=a[a.length-1],o&&o[\"ShadowResult \"+i.name]&&(\"_shad\",\"owC\",\"opy \",\"Sh\",\"ado\",\"w\",\"Result \",\"Shado\",\"wResult \",o[\"Result \"+i.name]=o[\"ShadowResult \"+i.name],o.transform&&(o.transform[\"Result \"+i.name]=n.transformFunc(t,n,o[\"ShadowResult \"+i.name])),o[\"_shadowCopy \"+i.name]=1),l&&l[\"ShadowResult \"+i.name]&&(\"ShadowR\",\"esult \",l[\"Result \"+i.name]=l[\"ShadowResult \"+i.name],l.transform&&(l.transform[\"Result \"+i.name]=n.transformFunc(t,n,l[\"ShadowResult \"+i.name])),l[\"_shadowCopy \"+i.name]=1),e.Studies.displaySeriesAsLine(t,i,a)},e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{ZigZag:{name:\"ZigZag\",overlay:!0,seriesFN:e.Studies.displayZigZag,calculateFN:e.Studies.calculateZigZag,inputs:{\"Distance(%)\":10},parameters:{init:{label:!1}},attributes:{\"Distance(%)\":{min:.1,step:.1}}}})):(\"zigzag f\",\"eature requires first activati\",\"ng studies feature.\",console.error(\"zigzag feature requires first activating studies feature.\"))},B={CIQ:E.c,SplinePlotter:E.d,timezoneJS:E.e,$$:E.a,$$$:E.b},O.W1B(),(B.CIQ||E.c).activateImports(n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,null)}).call(this,i(2))},,,function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},,,function(t,e,i){\"use strict\";i.r(e);i(4),i(5),i(6),i(7),i(8);var a,r,n,s,o,l,h,c,u=i(0),d=i(1);function p(){}p[268238]=function(){for(var t=2;9!==t;)switch(t){case 2:t=\"object\"==typeof globalThis?1:5;break;case 1:return globalThis;case 5:var e;try{for(var i=2;6!==i;)switch(i){case 3:throw\"\";case 4:i=\"undefined\"==typeof wg7kW?3:9;break;case 9:delete e.wg7kW,delete Object.prototype.n$z97,i=6;break;case 2:Object.defineProperty(Object.prototype,\"n$z97\",{get:function(){for(;;)return this},configurable:!0}),(e=n$z97).wg7kW=e,i=4}}catch(t){e=window}return e}}(),p[83227]=function(t){function e(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments];return i[0][0].String}}for(var i=2;11!==i;)switch(i){case 9:a[7]=3,a[7]=1,a[6]=a[5],a[6]+=a[8],a[6]+=a[2],i=13;break;case 2:var a=[arguments];a[8]=\"27\",a[2]=\"7\",a[5]=\"\",a[5]=\"F\",i=9;break;case 12:r(e,\"charCodeAt\",a[7],a[6]),i=11;break;case 13:var r=function(t,e,i,r){for(var s=2;5!==s;)switch(s){case 2:var o=[arguments];n(a[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};i=12}function n(t,e,i,a,r){for(var n=2;7!==n;)switch(n){case 3:l[3]=\"def\",l[7]=8;try{for(var s=2;8!==s;)switch(s){case 2:l[6]={},l[5]=(0,l[0][1])(l[0][0]),s=5;break;case 5:l[9]=[l[7],l[5].prototype][l[0][3]],l[6].value=l[9][l[0][2]];try{for(var o=2;3!==o;)switch(o){case 2:l[8]=l[3],l[8]+=l[4],l[8]+=l[1],o=4;break;case 4:l[0][0].Object[l[8]](l[9],l[0][4],l[6]),o=3}}catch(t){}l[9][l[0][4]]=l[6].value,s=8}}catch(t){}n=7;break;case 2:var l=[arguments];l[4]=\"\",l[4]=\"ineProper\",l[1]=\"ty\",n=3}}}(p[268238]),p[88474]=function(t){function e(t,e,i,a,r){for(var n=2;6!==n;)switch(n){case 3:l[6]=\"nePropert\",l[3]=\"\",l[3]=\"defi\";try{for(var s=2;8!==s;)switch(s){case 2:l[8]={},l[1]=(0,l[0][1])(l[0][0]),l[2]=[l[1],l[1].prototype][l[0][3]],s=4;break;case 4:l[8].value=l[2][l[0][2]];try{for(var o=2;3!==o;)switch(o){case 2:l[5]=l[3],l[5]+=l[6],l[5]+=l[9],o=4;break;case 4:l[0][0].Object[l[5]](l[2],l[0][4],l[8]),o=3}}catch(t){}l[2][l[0][4]]=l[8].value,s=8}}catch(t){}n=6;break;case 2:var l=[arguments];l[9]=\"y\",l[6]=\"\",l[6]=\"\",n=3}}function i(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments];return i[0][0]}}function a(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments];return i[0][0].RegExp}}function r(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments];return i[0][0].Array}}function n(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments];return i[0][0].Function}}for(var s=2;73!==s;)switch(s){case 2:var o=[arguments];o[5]=\"\",o[5]=\"\",o[5]=\"b2\",s=3;break;case 61:o[17]+=o[2],o[42]=o[5],o[42]+=o[78],o[42]+=o[78],s=57;break;case 3:o[8]=\"\",o[8]=\"R2\",o[4]=\"\",o[4]=\"re\",s=6;break;case 65:o[95]+=o[78],o[95]+=o[78],o[17]=o[3],o[17]+=o[1],s=61;break;case 56:l(a,\"test\",o[61],o[42]),s=55;break;case 6:o[1]=\"a\",o[6]=\"sidual\",o[2]=\"ct\",o[3]=\"__abstr\",o[9]=\"\",o[9]=\"m\",o[7]=\"\",s=19;break;case 55:l(i,o[17],o[67],o[95]),s=77;break;case 76:l(r,\"push\",o[61],o[69]),s=75;break;case 48:o[18]=o[25],o[18]+=o[4],o[18]+=o[6],o[95]=o[8],s=65;break;case 77:l(i,o[18],o[67],o[34]),s=76;break;case 19:o[7]=\"e2\",o[25]=\"__\",o[60]=\"\",o[60]=\"\",o[60]=\"ize\",o[49]=\"\",s=26;break;case 37:o[12]+=o[49],o[12]+=o[60],o[69]=o[7],o[69]+=o[78],s=52;break;case 57:var l=function(t,i,a,r){for(var n=2;5!==n;)switch(n){case 2:var s=[arguments];e(o[0][0],s[0][0],s[0][1],s[0][2],s[0][3]),n=5}};s=56;break;case 41:o[65]=o[85],o[65]+=o[78],o[65]+=o[78],o[12]=o[23],s=37;break;case 26:o[49]=\"\",o[49]=\"ptim\",o[78]=\"7\",o[23]=\"__o\",o[85]=\"\",o[85]=\"P2\",s=35;break;case 35:o[81]=\"\",o[81]=\"77\",o[21]=\"\",o[26]=\"2\",o[21]=\"Q\",o[61]=2,o[61]=1,s=28;break;case 52:o[69]+=o[78],o[34]=o[9],o[34]+=o[26],o[34]+=o[81],s=48;break;case 28:o[67]=0,o[22]=o[21],o[22]+=o[26],o[22]+=o[81],s=41;break;case 74:l(n,\"apply\",o[61],o[22]),s=73;break;case 75:l(i,o[12],o[67],o[65]),s=74}}(p[268238]),p.y6C=function(){return\"function\"==typeof p[37455].E6C?p[37455].E6C.apply(p[37455],arguments):p[37455].E6C},p.O6C=function(){return\"function\"==typeof p[37455].M6C?p[37455].M6C.apply(p[37455],arguments):p[37455].M6C},p[498051]=!0,p[37455]={E6C:function(){var t,e=arguments;switch(a){case 72:t=e[1]+e[0]/(e[2]>>e[3])+e[4];break;case 30:t=e[0]<e[1];break;case 41:t=e[1]/+e[0];break;case 81:t=e[1]*-e[0];break;case 43:t=e[3]-e[1]*(e[0]-e[2]);break;case 68:t=e[1]-e[2]*e[0]-e[3];break;case 35:t=(e[0]-e[2])*(e[6]-e[1])/(e[5]-e[3])+e[4];break;case 49:t=e[0]*e[1]+e[2];break;case 40:t=+e[1]/+e[0];break;case 48:t=(e[3]-e[1]*e[2])/e[0];break;case 89:t=e[3]/(e[0]*e[1])<=e[2];break;case 34:t=(e[4]-e[5])/(e[2]-e[3])>(e[0]^e[1]);break;case 33:t=e[2]*e[1]-e[0];break;case 60:t=(e[2]*e[3]+e[1])/(e[0]|e[4]);break;case 74:t=+e[3]*e[2]/(e[1]+e[0]);break;case 21:t=e[3]*e[0]-e[1]-e[2];break;case 91:t=e[2]-(e[1]|e[0]);break;case 83:t=(e[2]+e[3]/e[1])*e[0];break;case 13:t=e[1]&e[0];break;case 27:t=e[0]>>e[1];break;case 50:t=e[1]-+e[0];break;case 37:t=(e[0]>>e[1])/e[2];break;case 46:t=e[4]*(e[1]*e[0]+e[2])/e[3];break;case 38:t=e[2]/(e[1]&e[0]);break;case 22:t=e[0]|e[1];break;case 26:t=e[1]*e[0]/e[2];break;case 85:t=(e[0]+ +e[2])*e[1];break;case 64:t=e[2]-e[1]-e[0];break;case 52:t=e[1]%e[0];break;case 11:t=e[2]-e[1]*e[0];break;case 77:t=e[2]-(e[0]&e[1]);break;case 17:t=e[0]%e[1]>=e[2];break;case 4:t=e[2]+e[0]-e[3]-e[1];break;case 10:t=e[2]+e[1]*e[0];break;case 44:t=e[0]+ +e[2]/e[1];break;case 94:t=e[0]>e[1];break;case 62:t=e[2]+(e[0]|e[1]);break;case 16:t=e[0]+e[1]>e[2];break;case 28:t=(e[0]-e[2])/(e[3]-e[4])>e[1];break;case 9:t=e[1]<<e[0];break;case 56:t=e[6]+(e[4]-e[5])/(e[0]-e[1])*(e[2]-e[3]);break;case 90:t=e[2]*+e[1]*e[0]*e[3];break;case 59:t=(+e[3]*e[0]+e[1])/e[2];break;case 63:t=e[5]+e[0]+e[7]+e[6]+e[4]+e[2]+e[3]+e[1];break;case 24:t=e[1]-e[2]/e[0];break;case 58:t=e[0]+(e[2]>>e[1]);break;case 76:t=(e[3]%e[2]+ +e[1])*e[0];break;case 84:t=e[3]*(e[0]/e[1]-e[2]);break;case 67:t=e[0]-+e[2]/(e[3]+e[1]);break;case 2:t=(e[0]+e[2])/e[1];break;case 80:t=e[2]-+e[1]/(e[0]+e[3]/e[4]);break;case 8:t=(e[1]+e[3]+e[4]+e[0])/e[2];break;case 36:t=+e[1]/e[0];break;case 6:t=e[0]-e[3]+e[2]+e[1];break;case 92:t=e[2]-e[0]/+e[1];break;case 69:t=e[0]+e[2]*e[3]+e[1];break;case 87:t=e[2]*e[5]-e[0]/(e[4]+e[3]/e[1]);break;case 54:t=-(e[0]-e[1])*e[3]+e[2];break;case 95:t=e[1]*(e[0]+e[2]);break;case 20:t=(e[2]>>e[3])*e[0]-e[4]-e[1];break;case 45:t=e[0]*(e[3]+ +e[2])/e[1];break;case 47:t=(e[6]*e[0]-e[3]*e[4])/(e[1]*e[2]-e[5]);break;case 1:t=e[0]+e[1];break;case 29:t=(e[1]<<e[3])*e[0]-e[2];break;case 12:t=e[1]*e[0];break;case 19:t=e[1]+(e[0]-e[2]);break;case 66:t=e[1]+e[0]+e[2]+e[3];break;case 78:t=e[0]+e[2]+e[1]+e[3]+e[4];break;case 82:t=(e[2]-e[3]/e[0])*e[1];break;case 71:t=e[1]==e[0];break;case 18:t=e[2]*e[1]<e[0];break;case 55:t=(e[3]-e[1])*e[2]+e[0];break;case 75:t=e[3]*e[1]*+e[0]*e[2];break;case 32:t=+e[0]*e[1]-e[2];break;case 31:t=(e[3]-e[2])/(e[1]-e[0]);break;case 42:t=e[2]+(e[3]-e[0])/e[1];break;case 86:t=(e[0]<<e[3])*((e[1]-e[5])/e[2]+e[4]);break;case 93:t=e[4]+(e[2]/e[1]-e[3]/e[0]);break;case 5:t=e[1]-e[0]+e[2];break;case 15:t=(e[2]-e[1])/e[0];break;case 79:t=e[0]/e[1]-e[2];break;case 23:t=e[1]^e[0];break;case 61:t=(e[1]+e[2]*e[0])/e[3];break;case 51:t=e[2]+e[1]+e[0];break;case 57:t=e[1]+ +e[0];break;case 73:t=e[1]-(e[2]<<e[0]);break;case 14:t=e[0]-(e[2]-e[1]);break;case 7:t=e[0]/e[1];break;case 39:t=e[2]/(e[0]*e[1]);break;case 88:t=e[3]+e[1]*(e[0]-e[2]);break;case 70:t=e[4]-e[0]*(e[1]-e[2])-e[3];break;case 65:t=(e[3]-(e[2]+e[0]))/e[1];break;case 25:t=e[0]+e[2]/e[1];break;case 53:t=(e[2]+e[1])/+e[0];break;case 3:t=e[1]+e[0]-e[2];break;case 0:t=e[0]-e[1]}return t},M6C:function(t){a=t}},p[457523]=function(){for(var t=2;9!==t;)switch(t){case 5:return e[7]={},e[7].b6C=function(){for(var t=2;90!==t;)switch(t){case 52:i[8].e277(i[45]),i[8].e277(i[52]),i[8].e277(i[1]),i[8].e277(i[67]),t=48;break;case 71:i[42]++,t=76;break;case 70:i[85]++,t=57;break;case 40:i[52]=i[80],i[25]={},i[25].Y6C=[\"N8C\"],i[25].G6C=function(){return\"function\"==typeof P277},i[12]=i[25],i[8].e277(i[7]),i[8].e277(i[9]),t=52;break;case 34:i[74]={},i[74].Y6C=[\"N8C\"],i[74].G6C=function(){return\"function\"==typeof m277},t=31;break;case 2:var i=[arguments];t=1;break;case 1:t=e[8]?5:4;break;case 12:i[1]=i[4],t=11;break;case 24:i[67]=i[55],i[22]={},i[22].Y6C=[\"v6C\"],i[22].G6C=function(){return!/\\x32\\x35/.b277(function(){return decodeURI(\"%25\")}+[])},i[45]=i[22],t=34;break;case 56:i[49]=i[8][i[85]];try{i[93]=i[49][i[69]]()?i[17]:i[14]}catch(t){i[93]=i[14]}t=77;break;case 68:t=68;break;case 67:return e[8]=46,98;case 75:i[58]={},i[58][i[73]]=i[49][i[53]][i[42]],i[58][i[87]]=i[93],i[34].e277(i[58]),t=71;break;case 57:t=i[85]<i[8].length?56:69;break;case 4:i[8]=[],i[3]={},i[3].Y6C=[\"v6C\"],t=8;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 8:a[8]=0,e=7;break;case 13:a[6][a[4][i[73]]]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[6]={},t=5;break;case 5:return e[6].h=0,e[6].t=0,e[6]}}.Q277(this,arguments),e=12;break;case 24:a[8]++,e=16;break;case 4:a[6]={},a[2]=[],a[8]=0,e=8;break;case 20:a[6][a[4][i[73]]].h+=!0,e=19;break;case 23:return a[9];case 7:e=a[8]<a[0][0].length?6:18;break;case 15:a[7]=a[2][a[8]],a[3]=a[6][a[7]].h/a[6][a[7]].t,e=26;break;case 2:var a=[arguments];e=1;break;case 1:e=0===a[0][0].length?5:4;break;case 26:e=a[3]>=.5?25:24;break;case 17:a[8]=0,e=16;break;case 5:return;case 12:a[2].e277(a[4][i[73]]),e=11;break;case 11:a[6][a[4][i[73]]].t+=!0,e=10;break;case 14:e=void 0===a[6][a[4][i[73]]]?13:11;break;case 18:a[9]=!1,e=17;break;case 16:e=a[8]<a[2].length?15:23;break;case 6:a[4]=a[0][0][a[8]],e=14;break;case 10:e=a[4][i[87]]===i[17]?20:19;break;case 25:a[9]=!0,e=24;break;case 19:a[8]++,e=7}}(i[34])?68:67;break;case 58:i[85]=0,t=57;break;case 18:i[2]={},i[2].Y6C=[\"v6C\"],i[2].G6C=function(){return/\\u0074\\x72\\x75\\u0065/.b277(function(){return\"aaa\".includes(\"a\")}+[])},i[7]=i[2],t=27;break;case 48:i[8].e277(i[12]),i[8].e277(i[6]),i[8].e277(i[71]),i[8].e277(i[70]),i[34]=[],t=64;break;case 5:return 70;case 8:i[3].G6C=function(){return!/\\x28\\x5b/.b277(function(){return[1,2,3,4,5].concat([5,6,7,8])}+[])},i[6]=i[3],i[4]={},i[4].Y6C=[\"v6C\"],i[4].G6C=function(){return!/\\u0062\\u0074\\u006f\\u0061/.b277(function(){return btoa(\"=\")}+[])},t=12;break;case 77:i[42]=0,t=76;break;case 27:i[55]={},i[55].Y6C=[\"N8C\"],i[55].G6C=function(){return\"function\"==typeof R277},t=24;break;case 31:i[70]=i[74],i[26]={},i[26].Y6C=[\"N8C\"],i[26].G6C=function(){var t=!1,e=[];try{for(var i in console)e.e277(i);t=0===e.length}catch(t){}return t},t=44;break;case 11:i[5]={},i[5].Y6C=[\"v6C\"],i[5].G6C=function(){return/\\u0031\\x39\\x32/.b277(function(){!function(t){for(var e=0;e<20;e++)t+=e}(2)}+[])},i[9]=i[5],t=18;break;case 76:t=i[42]<i[49][i[53]].length?75:70;break;case 64:i[17]=\"K6C\",i[14]=\"a6C\",i[53]=\"Y6C\",i[87]=\"A6C\",t=60;break;case 60:i[69]=\"G6C\",i[73]=\"C6C\",t=58;break;case 44:i[71]=i[26],i[80]={},i[80].Y6C=[\"v6C\"],i[80].G6C=function(){var t=function(){return[]+\"a\".concat(\"a\")};return!/\\x5b\\x5d/.b277(t+[])&&/\\u0061\\u0061/.b277(t+[])},t=40}},e[7];case 2:var e=[arguments];e[8]=void 0,t=5}}(),p.J6C=function(){return\"function\"==typeof p[37455].M6C?p[37455].M6C.apply(p[37455],arguments):p[37455].M6C},p.y2q=function(){return\"function\"==typeof p[457523].b6C?p[457523].b6C.apply(p[457523],arguments):p[457523].b6C},p[268238].g7tt=p,p.c6C=function(){return\"function\"==typeof p[37455].E6C?p[37455].E6C.apply(p[37455],arguments):p[37455].E6C},p.v7Z=function(){return\"function\"==typeof p[388846].N7o?p[388846].N7o.apply(p[388846],arguments):p[388846].N7o},p[143380]=p[37455],p[444562]=p[268238],p.M2q=function(){return\"function\"==typeof p[457523].b6C?p[457523].b6C.apply(p[457523],arguments):p[457523].b6C},p.W7Z=function(){return\"function\"==typeof p[388846].N7o?p[388846].N7o.apply(p[388846],arguments):p[388846].N7o},p[388846]=(r=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{N7o:function(t,e,i){for(var a=i,n=-4&e,s=0;s<n;s+=4){var o=255&t.F277(s)|(255&t.F277(s+1))<<8|(255&t.F277(s+2))<<16|(255&t.F277(s+3))<<24;o=r(o,3432918353),a=5*(a=(524287&(a^=o=r(o=(131071&o)<<15|o>>>17,461845907)))<<13|a>>>19)+3864292196|0}switch(o=0,e%4){case 3:o=(255&t.F277(n+2))<<16;case 2:o|=(255&t.F277(n+1))<<8;case 1:o|=255&t.F277(n),o=r(o,3432918353),a^=o=r(o=(131071&o)<<15|o>>>17,461845907)}return a^=e,a=r(a^=a>>>16,2246822507),a=r(a^=a>>>13,3266489909),a^=a>>>16}}),n=t=>{var e;p.y2q(),(e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ).Renderer.Aggregations=function(t){var e;p.y2q(),this.construct(t),e=this.params,this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,e.highlightable=!1,\"_main_series\"!=e.name&&(\"Aggregations are\",\" only allowed on main series.\",console.warn(\"Aggregations are only allowed on main series.\"),e.invalid=!0)},e.inheritsFrom(e.Renderer.Aggregations,e.Renderer.OHLC,!1),e.Renderer.Aggregations.requestNew=function(t,i){var a,r;a=null,p.y2q();for(var n=0;n<t.length;n++)switch(\"r\",\"en\",\"k\",\"o\",\"k\",\"agi\",r=t[n]){case\"kagi\":case\"pandf\":a=r;break;case\"heikinashi\":case\"linebreak\":case\"rangebars\":case\"renko\":\"candl\",\"e\",a=\"candle\";break;default:return null}return null===a?null:new e.Renderer[\"candle\"==a?\"OHLC\":\"Aggregations\"]({params:e.extend(i,{type:a})})},e.Renderer.Aggregations.prototype.drawIndividualSeries=function(t,e){var i,a;if(\"ka\",\"g\",\"i\",p.M2q(),!e.invalid)return i=this.stx,a={colors:[]},\"kagi\"==e.type?(\"stx_kagi_d\",\"ow\",\"n\",i.drawKagiSquareWave(t.panel,\"stx_kagi_up\",\"stx_kagi_down\",e),a.colors.push(i.getCanvasColor(\"stx_kagi_up\")),a.colors.push(i.getCanvasColor(\"stx_kagi_down\"))):\"pandf\"==e.type&&(\"s\",\"t\",\"x_\",\"pandf_up\",i.drawPointFigureChart(t.panel,\"stx_pandf_up\",\"X\",e),a.colors.push(i.getCanvasColor(\"stx_pandf_up\")),i.drawPointFigureChart(t.panel,\"stx_pandf_down\",\"O\",e),a.colors.push(i.getCanvasColor(\"stx_pandf_down\"))),a},e.ChartEngine.prototype.setAggregationType=function(t){var i;this.layout.chartType=\"candle\",!1!==(i=this.chart).baseline.userLevel&&(i.baseline.userLevel=i.baseline.defaultLevel,i.panel.yAxis.scroll=e.ChartEngine.YAxis.prototype.scroll),this.layout.aggregationType=t,this.setMainSeriesRenderer(),p.y2q(),i.canvas&&(this.createDataSet(),this.draw()),this.changeOccurred(\"layout\")},e.ChartEngine.prototype.drawKagiSquareWave=function(t,i,a,r){var n,s,o,l,h,c,u,d,g,m,f,y,v,x,C,b,S,w,k,D,T,M=p;if(n=t.chart,this.startClip(t.name),s=n.dataSegment,o=n.context,(l=t.yAxis).flipped&&(h=i,i=a,a=h),c=this.canvasStyle(i),u=this.canvasStyle(a),M.y2q(),this.canvasColor(i),r.border_color_up&&(o.strokeStyle=r.border_color_up),d=o.strokeStyle,this.canvasColor(a),r.border_color_down&&(o.strokeStyle=r.border_color_down),g=o.strokeStyle,m=1,c.width&&parseInt(c.width,10)<=25&&(m=Math.max(1,e.stripPX(c.width))),f=1,u.width&&parseInt(u.width,10)<=25){-1301647639,-1047885858,y=2;for(var A=1;-1301647639!==M.v7Z(A.toString(),A.toString().length,3745);A++)f=Math.max(4,e.stripPX(u.width)),y+=2;-1047885858!==M.v7Z(y.toString(),y.toString().length,40632)&&(f=Math.max(1,e.stripPX(u.width)))}this.highlightedDraggable&&(o.globalAlpha*=.3),o.beginPath(),v=n.dataSet.length-n.scroll-1,x=!0,C=null,b=null,S=t.left-.5*this.layout.candleWidth+this.micropixels-1;for(var P=0;P<=s.length;P++)if(S+=this.layout.candleWidth,w=s[P]){if(w.projection)break;b=w.kagiTrend,l.flipped&&(M.J6C(0),b*=-M.y6C(\"1\",0)),w.transform&&n.transformFunc&&(k=w.kagiPrevOpen,(w=w.transform).kagiPrevOpen=n.transformFunc(this,n,k)),D=w.cache,M.J6C(1),((T=M.c6C(v,P))<t.cacheLeft||T>t.cacheRight||!D.kagiOpen)&&(D.kagiOpen=l.semiLog?l.height*(1-(Math.log(Math.max(w.Open,0))/Math.LN10-l.logLow)/l.logShadow):(l.high-w.Open)*l.multiplier,D.kagiClose=l.semiLog?l.height*(1-(Math.log(Math.max(w.Close,0))/Math.LN10-l.logLow)/l.logShadow):(l.high-w.Close)*l.multiplier,l.flipped?(D.kagiOpen=l.bottom-D.kagiOpen,D.kagiClose=l.bottom-D.kagiClose):(D.kagiOpen+=l.top,D.kagiClose+=l.top)),D.kagiClose,C=l.semiLog?l.height*(1-(Math.log(Math.max(w.kagiPrevOpen,0))/Math.LN10-l.logLow)/l.logShadow):(l.high-w.kagiPrevOpen)*l.multiplier,l.flipped?C=l.bottom-C:C+=l.top,x?(o.moveTo(v>=0?t.left:Math.floor(S),D.kagiOpen),o.lineTo(Math.floor(S),D.kagiOpen),D.kagiClose<D.kagiOpen?(o.strokeStyle=d,o.lineWidth=m):(o.strokeStyle=g,o.lineWidth=f)):-1!=b&&D.kagiClose<C&&C<D.kagiOpen?(o.lineTo(Math.floor(S),C),o.stroke(),o.beginPath(),o.moveTo(Math.floor(S),C),o.strokeStyle=d,o.lineWidth=m):1!=b&&D.kagiClose>C&&C>D.kagiOpen&&(o.lineTo(Math.floor(S),C),o.stroke(),o.beginPath(),o.moveTo(Math.floor(S),C),o.strokeStyle=g,o.lineWidth=f),o.lineTo(Math.floor(S),D.kagiClose),P+1<s.length&&o.lineTo(Math.floor(S+this.layout.candleWidth),D.kagiClose),x=!1}o.stroke(),this.endClip(),o.lineWidth=1},e.ChartEngine.prototype.drawPointFigureChart=function(t,i,a,r){var n,s,o,l,h,c,u,d,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,B=p;function E(t,e,i){B.O6C(2),o.moveTo(B.c6C(t,2,e),B.c6C(h,i,C,B.O6C(3))),B.J6C(1),o.bezierCurveTo(B.c6C(e,d),B.c6C(h,i,C,B.J6C(3)),B.y6C(e,d,B.O6C(1)),B.c6C(x,C,i,c,B.J6C(4)),B.c6C(t,2,e,B.O6C(2)),B.y6C(x,C,i,c,B.O6C(4))),B.O6C(0),B.M2q(),o.bezierCurveTo(B.c6C(t,u),B.c6C(x,C,i,c,B.O6C(4)),B.c6C(t,u,B.O6C(0)),B.c6C(h,i,C,B.O6C(3)),B.y6C(t,2,e,B.O6C(2)),B.y6C(h,i,C,B.J6C(3)))}function O(t,e,i){B.J6C(1),o.moveTo(B.y6C(t,u),B.y6C(c,i,C,B.J6C(5))),B.J6C(0),o.lineTo(B.c6C(e,d),B.y6C(i,C,h,x,B.O6C(6))),B.O6C(1),o.moveTo(B.y6C(t,u),B.y6C(i,C,h,x,B.O6C(6))),B.J6C(0),o.lineTo(B.c6C(e,d),B.y6C(c,i,C,B.J6C(5)))}n=t.chart,this.startClip(t.name),s=n.dataSegment,o=n.context,this.canvasColor(i),\"X\"==a&&r.border_color_up?o.strokeStyle=r.border_color_up:\"O\"==a&&r.border_color_down&&(o.strokeStyle=r.border_color_down),l=this.canvasStyle(i),h=parseInt(l.paddingTop,10),c=parseInt(l.paddingBottom,10),u=parseInt(l.paddingLeft,10),B.y2q(),d=parseInt(l.paddingRight,10),l.width&&parseInt(l.width,10)<=25?o.lineWidth=Math.max(1,e.stripPX(l.width)):o.lineWidth=2,this.highlightedDraggable&&(o.globalAlpha*=.3),o.beginPath(),g=this.chart.state.aggregation.box,m=n.dataSet.length-n.scroll-1,f=t.yAxis,x=g*f.multiplier,B.J6C(7),C=B.y6C(x,2),b=this.layout.candleWidth,S=t.left-b+this.micropixels-1;for(var L=0;L<s.length;L++)if(S+=b,w=s[L]){if(w.projection)break;if(k=w.pfOpen,D=w.pfClose,T=w.pfTrend,M=w.pfStepBack,w.transform&&n.transformFunc&&(w=w.transform,k=n.transformFunc(this,n,k),D=n.transformFunc(this,n,D)),A=w.cache,B.J6C(1),((P=B.y6C(m,L))<t.cacheLeft||P>t.cacheRight||!A.pfOpen)&&(f.flipped?(A.pfOpen=f.bottom-(f.high-k)*f.multiplier,A.pfClose=f.bottom-(f.high-D)*f.multiplier):(A.pfOpen=(f.high-k)*f.multiplier+f.top,A.pfClose=(f.high-D)*f.multiplier+f.top)),F=Math.round(S),B.O6C(1),_=Math.round(B.y6C(S,b)),y=Math.abs(Math.round((D-k)/g)),v=A.pfOpen,a==M&&(\"X\"==M?(B.O6C(0),O(F,_,B.c6C(v,x))):\"O\"==M&&(B.J6C(1),E(F,_,B.y6C(v,x)))),a==T)for(;y>=0;y--)\"X\"==a?(O(F,_,v),v-=f.flipped?-x:x):\"O\"==a&&(E(F,_,v),v+=f.flipped?-x:x)}o.stroke(),this.endClip(),B.O6C(0),o.lineWidth=B.y6C(\"1\",0)},e.ChartEngine.calculateAggregation=function(t,i,a,r){var n,s,o;if(\"rang\",\"ebars\",s=t.layout,[\"heikinashi\",\"heikenashi\"].indexOf(i)>-1)n=e.calculateHeikinAshi(t,a,r);else if(\"rangebars\"==i)n=e.calculateRangeBars(t,a,s.rangebars,r);else if(\"kagi\"==i)n=e.calculateKagi(t,a,s.kagi,r);else if(\"linebreak\"==i)n=e.calculateLineBreak(t,a,s.priceLines,r);else if(\"renko\"==i){1178284362,1501262964,o=2;for(var l=1;1178284362!==p.W7Z(l.toString(),l.toString().length,16683);l++)n=e.calculateRenkoBars(t,a,s.renko,r),o+=2;1501262964!==p.W7Z(o.toString(),o.toString().length,56086)&&(n=e.calculateRenkoBars(t,a,s.renko,r))}else\"pandf\"==i&&(n=e.calculatePointFigure(t,a,s.pandf,r));return n},e.calculateHeikinAshi=function(t,e,i){var a,r,n,s,o,l,h,c,u,d,g;if(!e.length)return e;i||(i=[]),a=[];for(var m=0;m<e.length;m++)if(r=e[m]){for(var f in(n=a[a.length-1])||m||(n=i[i.length-1]),n||(n=r),s=r.Close,o=(o=r.Open)||0===o?o:s,l=(l=r.High)||0===l?l:s,h=(h=r.Low)||0===h?h:s,u=((c=(c=n.Open)||0===c?c:n.Close)+n.Close)/2,p.J6C(8),d=p.y6C(s,o,4,l,h),g={DT:r.DT,displayDate:r.displayDate,Date:r.Date,Open:u,Close:d,High:Math.max(l,Math.max(u,d)),Low:Math.min(h,Math.min(u,d)),Volume:r.Volume,iqPrevClose:n.Close},r)g[f]||0===g[f]||(g[f]=r[f]);a.push(g)}return a},e.calculateKagi=function(t,i,a,r){var n,s,o,l,h,c,u,d,g=p;if(!i.length)return i;r||(r=[]),g.y2q(),n=t.layout,s=t.chart,a=parseFloat(a),s.defaultChartStyleConfig.kagi=e.ChartEngine.isDailyInterval(n.interval)?4:.4,(isNaN(a)||a<=0)&&(a=s.defaultChartStyleConfig.kagi,e.Market.Symbology.isForexSymbol(s.symbol)&&(a/=4),null!==n.kagi&&(n.kagi=null,t.changeOccurred(\"layout\"))),a/=100,o=[],h=(l=r[r.length-1])?l.DT:0;for(var m=0;m<i.length;m++)if((c=i[m])&&(l||(g.O6C(0),l=i[g.y6C(m,1)]),l)){if((u=l.Open||0===l.Open?l.Open:l.Close)>l.Close){if(c.Close>l.Close*(1+a))c.Open=l.Close;else if(l.Close>c.Close&&(l.Close=c.Close),l.Volume+=c.Volume,m<i.length-1)continue}else if(u<l.Close){if(c.Close<l.Close*(1-a))c.Open=l.Close;else if(l.Close<c.Close&&(l.Close=c.Close),l.Volume+=c.Volume,m<i.length-1)continue}else if(l.Close=c.Close,l.Volume+=c.Volume,m<i.length-1)continue;for(var f in d={DT:l.DT,displayDate:l.displayDate,Date:l.Date,Open:l.Open,Close:l.Close,High:Math.max(l.Open,l.Close),Low:Math.min(l.Open,l.Close),Volume:l.Volume,iqPrevClose:l.iqPrevClose},l)d[f]||0===d[f]||(d[f]=l[f]);o.length?d.kagiPrevOpen=o[o.length-1].Open:d.kagiPrevOpen=d.Open,d.Close>d.kagiPrevOpen&&d.kagiPrevOpen>d.Open?(g.O6C(9),d.kagiTrend=g.c6C(2006264992,\"1\")):d.Close<d.kagiPrevOpen&&d.kagiPrevOpen<d.Open&&(d.kagiTrend=-1),h<d.DT&&o.push(d),l=c,s.currentQuote={Close:c.Close}}return o},e.calculateLineBreak=function(t,e,i,a){var r,n,s,o,l,h,c,u,d,g,m,f,y,v,x;if(!e.length)return e;if(a||(a=[]),r=t.layout,(n=t.chart).defaultChartStyleConfig.priceLines=3,i=parseInt(i,10),isNaN(i)||i<=0)i=n.defaultChartStyleConfig.priceLines,null!==r.priceLines&&(r.priceLines=null,t.changeOccurred(\"layout\"));else if(i>10){-1940679666,95566727,s=2;for(var C=1;-1940679666!==p.W7Z(C.toString(),C.toString().length,86614);C++)r.priceLines=i=45,s+=2;95566727!==p.v7Z(s.toString(),s.toString().length,29917)&&(r.priceLines=i=10)}l=(o=a.slice(-i)).length,h=0;t:for(var b=0;b<e.length;b++)if(c=e[b]){if(h+=c.Volume,(u=o[o.length-1])||(u={Open:c.Open,Close:c.Open,High:c.Open,Low:c.Open}),d=u.Close,g=(g=u.High)||0===g?g:d,m=(m=u.Low)||0===m?m:d,f=(f=u.Open)||0===f?f:d,y={DT:c.DT,displayDate:c.displayDate,Date:c.Date,Close:c.Close,Volume:h,iqPrevClose:d},n.currentQuote={Close:c.Close},c.Close>d&&u.Close>f);else if(c.Close<d&&u.Close<f);else if(c.Close>g){for(v=2;v<=i;v++)if((x=o[o.length-v])&&c.Close<=x.High)continue t}else{if(!(c.Close<m))continue;for(v=2;v<=i;v++)if((x=o[o.length-v])&&c.Close>=x.Low)continue t}for(var S in c.Close<u.Close?y.Open=Math.min(f,d):y.Open=Math.max(f,d),y.Low=Math.min(y.Open,y.Close),y.High=Math.max(y.Open,y.Close),c)y[S]||0===y[S]||(y[S]=c[S]);o.push(y),h=0}return o.slice(l)},e.calculateRenkoBars=function(t,e,i,a){var r,n,s,o,l,h,c,u,d,g,m,f,y,v,x,C=p;if(!e.length)return[];function b(t,e){var i;for(var a in t=Number(t.toFixed(8)),e=Number(e.toFixed(8)),i={DT:g.DT,displayDate:g.displayDate,Date:g.Date,Open:t,Close:e,High:Math.max(t,e),Low:Math.min(t,e),Volume:0,iqPrevClose:t!=e?t:null},g)i[a]||0===i[a]||(i[a]=g[a]);c.push(i)}if(a||(a=[]),r=t.layout,(s=(n=t.chart).state.aggregation)||(s=n.state.aggregation={}),o=Math.min(300,e.length),s.minMax||(s.minMax=t.determineMinMax(e.slice(e.length-o),[\"Close\",\"High\",\"Low\"])),l=s.minMax[1]-s.minMax[0],!(h=t.panels[n.name].height))return[];n.defaultChartStyleConfig.renko=Math.floor(1e4*l/(h/30))/1e4,null===i||isNaN(i)||i<=0?(i=n.defaultChartStyleConfig.renko,null!==r.renko&&(\"la\",\"yout\",r.renko=null,t.changeOccurred(\"layout\"))):(C.O6C(7),i=Math.max(i,C.c6C(l,h)),r.renko!==i&&(r.renko=i,t.changeOccurred(\"layout\"))),c=[],u=null,d=null,g=null,a.length&&(u=(m=a[a.length-1]).Low-i,d=m.High+i);for(var S=0;S<e.length;S++)if(f=e[S]){for(u||d||(y=f.Open||0===f.Open?f.Open:f.Close,v=Math.floor(y/i)*i,x=isNaN(v)?y:v,C.O6C(0),u=C.c6C(x,i),C.O6C(1),d=C.y6C(x,i));;)if(g||(g=f),f.Close<=u)C.O6C(1),b(C.y6C(u,i),u),C.J6C(10),d=C.y6C(i,2,u),u-=i,g=null;else{if(!(f.Close>=d))break;C.J6C(0),b(C.c6C(d,i),d),C.J6C(11),u=C.c6C(i,2,d),d+=i,g=null}n.currentQuote=f}return u<e[e.length-1].Close&&u+i>e[e.length-1].Close?(C.O6C(1),b(C.y6C(u,i),e[e.length-1].Close)):d>e[e.length-1].Close&&d-i<e[e.length-1].Close&&(C.J6C(0),b(C.c6C(d,i),e[e.length-1].Close)),c},e.calculateRangeBars=function(t,e,i,a){var r,n,s,o,l,h,c,u,d,g,m,f,y,v,x,C,b,S,w,k,D=p;function T(){D.J6C(1),D.M2q(),d=D.y6C(u,i),D.O6C(0),g=D.c6C(u,i),m=u}if(\"C\",\"l\",\"os\",\"e\",!e.length)return e;function M(t,e){for(D.y2q();;){if(\"und\",\"efined\",f||(f=t),u<e){if(u=Math.min(e,d),D.O6C(0),g=Math.max(g,D.c6C(u,i)),e<d)break}else if(u>=e&&(u=Math.max(e,g),D.O6C(1),d=Math.min(d,D.y6C(u,i)),e>g))break;if(void 0===u)return void console.log(\"Uh oh undefined in calculateRangeBars:processMove\");A(u),f=null,T()}}if(a||(a=[]),r=t.layout,(s=(n=t.chart).state.aggregation)||(s=n.state.aggregation={}),D.y2q(),o=Math.min(300,e.length),s.minMax||(s.minMax=t.determineMinMax(e.slice(e.length-o),[\"Close\",\"High\",\"Low\"])),l=s.minMax[1]-s.minMax[0],!(h=t.panels[n.name].height))return[];function A(t){var e;for(var i in(e={DT:f.DT,displayDate:f.displayDate,Date:f.Date,Open:Number(m.toFixed(8)),Close:Number(t.toFixed(8)),High:Number(d.toFixed(8)),Low:Number(g.toFixed(8)),Volume:0}).iqPrevClose=e.Open,f)e[i]||0===e[i]||(e[i]=f[i]);c.push(e)}n.defaultChartStyleConfig.range=Math.floor(1e4*l/(h/30))/1e4,null===i||isNaN(i)||i<0?(i=n.defaultChartStyleConfig.range,null!==r.range&&(r.range=null,t.changeOccurred(\"layout\"))):(D.J6C(7),i=Math.max(i,D.c6C(l,h)),r.range!==i&&(r.range=i,t.changeOccurred(\"layout\"))),c=[],u=null,d=null,g=null,m=null,f=null;for(var P=0;P<e.length;P++)(y=e[P])&&(D.O6C(0),v=e[D.y6C(P,1)],P||(v||(v=a[a.length-1]),v&&((u=v.Close)||0===u)&&T()),v&&(x=y.Close,C=y.Open,b=y.High,S=y.Low,(x||0===x)&&(C=C||0===C?C:x,b=b||0===b?b:x,S=S||0===S?S:x,u||0===u||(w=Math.floor(C/i)*i,u=isNaN(w)?C:w,T(),M(v,C)),P&&M(y,C),b-C<C-S?(b&&M(y,b),S&&M(y,S)):(S&&M(y,S),b&&M(y,b)),M(y,x),P==e.length-1&&x!=m&&(k=d,D.J6C(1),d=D.c6C(g,i),D.J6C(0),g=D.y6C(k,i),A(x)))));return c},e.calculatePointFigure=function(t,i,a,r){var n,s,o,l,h,c,u,d,g,m,f,y,v,x,C,b,S,w,k=p;if(!i.length)return i;function D(t,e,i,a,r){t.High=Math.max(e,t.High),t.Low=Math.min(i,t.Low),t.Close=a,k.y2q(),t.Volume+=r}function T(t,e,i,a,r,n,s,o,l){return{DT:t.DT,Date:t.Date,pfOpen:o,pfClose:l,Open:e,Close:r,High:i,Low:a,Volume:n,iqPrevClose:s}}function M(t,e){for(var i in k.M2q(),t)e[i]||0===e[i]||(e[i]=t[i]);return e}r||(r=[]),n=t.layout,(o=(s=t.chart).state.aggregation)||(o=s.state.aggregation={}),s.defaultChartStyleConfig.box=1,s.defaultChartStyleConfig.reversal=3,a||(a={}),(l=a.box)||(n.pandf&&null!==n.pandf.box&&(\"l\",\"a\",\"you\",\"t\",n.pandf.box=null,t.changeOccurred(\"layout\")),l=s.defaultChartStyleConfig.box,(h=i[i.length-1].Close)&&(l=h<.25?.0625:h<1?.125:h<5?.25:h<20?.5:h<100?1:h<200?2:h<500?4:h<1e3?5:h<25e3?50:500),e.ChartEngine.isDailyInterval(n.interval)||(l/=10),e.Market.Symbology.isForexSymbol(s.symbol)&&(h&&(h<1?(k.O6C(12),l=k.c6C(1,\"0.001\")):h<2?l=.002:h<50?l=.02:h<200&&(l=.2)),e.ChartEngine.isDailyInterval(n.interval)&&(l*=10)),s.defaultChartStyleConfig.box=l),l=parseFloat(l),(isNaN(l)||l<=0)&&(n.pandf&&null!==n.pandf.box&&(n.pandf.box=null,t.changeOccurred(\"layout\")),k.J6C(12),s.defaultChartStyleConfig.box=l=k.c6C(1,\"1\")),(c=Math.ceil(parseFloat(a.reversal)))>0&&c>a.reversal?(n.pandf.reversal=c,t.changeOccurred(\"layout\")):(isNaN(c)||c<=0)&&(n.pandf&&null!==n.pandf.reversal&&(n.pandf.reversal=null,t.changeOccurred(\"layout\")),c=s.defaultChartStyleConfig.reversal),o.box=l,c*=l,u=(l.toString()+\".\").split(\".\")[1].length,d=[],g=0;for(var A=0;A<i.length;A++)(f=i[A])&&(g+=f.Volume,v=f.Close,x=(x=f.Open)||0===x?x:v,C=(C=f.High)||0===C?C:v,b=(b=f.Low)||0===b?b:v,d.length||r.length?((y=d[d.length-1])||(y=e.clone(r[r.length-1])),\"O\"==y.pfTrend?(b<=y.pfClose-l?(y.pfClose=Number((Math.ceil(b/l-1e-8)*l).toFixed(u)),\"O\"==y.pfStepBack&&(y.pfStepBack=null),D(y,C,b,v,g)):C>=y.pfClose+c?(S=y.pfClose+l,w=Number((Math.floor(C/l+1e-8)*l).toFixed(u)),m=T(f,x,C,b,v,g,y.pfClose,S,w),S==w&&(m.pfStepBack=\"X\"),\"O\"==y.pfStepBack?(y.pfOpen=S,y.pfClose=w,y.pfTrend=\"X\",D(y,C,b,v,g)):((m=M(f,m)).pfTrend=\"X\",d.push(m))):D(y,C,b,v,g),g=0):\"X\"==y.pfTrend&&(C>=y.pfClose+l?(y.pfClose=Number((Math.floor(C/l+1e-8)*l).toFixed(u)),\"X\"!=y.pfStepBack&&\"-\"!=y.pfStepBack||(y.pfStepBack=null),D(y,C,b,v,g)):b<=y.pfClose-c?(S=y.pfClose-l,w=Number((Math.ceil(b/l-1e-8)*l).toFixed(u)),m=T(f,x,C,b,v,g,y.pfClose,S,w),S==w&&(m.pfStepBack=\"O\"),\"X\"==y.pfStepBack||\"-\"==y.pfStepBack?(y.pfOpen=S,y.pfClose=w,y.pfTrend=\"O\",D(y,C,b,v,g),S!=w&&\"-\"==y.pfStepBack&&(y.pfStepBack=null)):((m=M(f,m)).pfTrend=\"O\",d.push(m))):D(y,C,b,v,g),g=0)):((m=M(f,T(f,x,C,b,v,g,C+l,Number((Math.ceil(b/l-1e-8)*l).toFixed(u)),Number((Math.floor(C/l+1e-8)*l).toFixed(u))))).pfTrend=\"X\",m.pfOpen==m.pfClose&&(m.pfStepBack=\"-\"),d.push(m),g=0));return d}},s=t=>{var e,i,a,r=p;r.y2q(),e=2;for(var n=1;-1185289344!==r.v7Z(n.toString(),n.toString().length,71004);n++)i=\"undefined\"!=+_CIQ?_CIQ:t.CIQ,a=\"undefined\"===!_timezoneJS?_timezoneJS:t.timezoneJS,e+=2;26012137!==r.W7Z(e.toString(),e.toString().length,18871)&&(i=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ,a=\"undefined\"!=typeof _timezoneJS?_timezoneJS:t.timezoneJS),i.Drawing?(\"cq-wav\",\"e\",\"-paramete\",\"rs\",\"w\",\"avePa\",\"ramete\",\"rs\",\"pa\",\"ttern\",\"lineC\",\"ol\",\"o\",\"r\",\"c\",\"ol\",\"or\",\"I\",\"V\",\"a\",\"xi\",\"sLab\",\"el\",\"pat\",\"te\",\"rn\",\"l\",\"ineWidth\",\"cq-cvp-contro\",'ller[cq-cvp-header=\"3\"]',\"cq-cvp-contro\",\"ller[cq-cvp-\",'header=\"1\"]',\"p\",\"at\",\"tern3\",\"lineW\",\"id\",\"th3\",\"co\",\"l\",\"o\",\"r3\",\"acti\",\"v\",\"e1\",\"pat\",\"tern\",\"co\",\"lor\",\"lineW\",\"idth\",\"c\",\"olor\",\"co\",\"lor\",\"f\",\"o\",\"n\",\"t\",\"fil\",\"l\",\"Col\",\"or\",\"p\",\"at\",\"t\",\"ern\",\"fill\",\"C\",\"olor\",\"pat\",\"ter\",\"n\",\"li\",\"neWidth\",\"c\",\"o\",\"lo\",\"r\",\"pat\",\"t\",\"ern\",\"fil\",\"lCol\",\"or\",\"p\",\"atte\",\"rn\",\"lineWi\",\"d\",\"th\",\"co\",\"l\",\"o\",\"r\",i.Drawing.ray=function(){this.name=\"ray\"},i.inheritsFrom(i.Drawing.ray,i.Drawing.line),i.Drawing.ray.prototype.calculateOuterSet=function(t){var e,a;this.p0[0]==this.p1[0]||this.p0[1]==this.p1[1]||i.ChartEngine.isDailyInterval(this.stx.layout.interval)||(a=(e={x0:this.p0[0],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]}).x1+1e3,e.x0>e.x1&&(a=e.x1-1e3),this.v0B=this.v0,this.v1B=i.yIntersection(e,a),r.M2q(),this.d0B=this.d0,this.d1B=this.stx.dateFromTick(a,t.chart))},i.Drawing.ray.prototype.adjust=function(){var t;(t=this.stx.panels[this.panelName])&&(r.O6C(13),this.setPoint(r.y6C(2147483647,\"0\"),this.d0,this.v0,t.chart),this.setPoint(1,this.d1,this.v1,t.chart),r.y2q(),i.ChartEngine.isDailyInterval(this.stx.layout.interval)&&this.d0B&&this.setPoint(1,this.d1B,this.v1B,t.chart))},i.Drawing.continuous=function(){this.name=\"continuous\",r.y2q(),this.dragToDraw=!1,this.maxSegments=null},i.inheritsFrom(i.Drawing.continuous,i.Drawing.segment),i.Drawing.continuous.prototype.click=function(t,e,a){var n,s,o,l;if(n=this.stx.panels[this.panelName]){if(this.copyConfig(),!this.penDown)return this.setPoint(0,e,a,n.chart),this.penDown=!0,!1;if(this.accidentalClick(e,a))return this.stx.undo(),!0;this.setPoint(1,e,a,n.chart),s=new(0,i.Drawing.segment),o=this.serialize(this.stx),s.reconstruct(this.stx,o),this.stx.addDrawing(s),this.stx.changeOccurred(\"vector\"),this.stx.draw(),this.segment++,59658332,-1122802097,l=2;for(var h=1;59658332!==r.v7Z(h.toString(),h.toString().length,89733);h++){if(this.maxSegments||this.segment<this.maxSegments)return!1;l+=2}return!!(-1122802097!==r.v7Z(l.toString(),l.toString().length,97998)&&this.maxSegments&&this.segment>this.maxSegments)||(this.setPoint(0,e,a,n.chart),!1)}},i.Drawing.ellipse=function(){r.y2q(),this.name=\"ellipse\"},i.inheritsFrom(i.Drawing.ellipse,i.Drawing.BaseTwoPoint),i.Drawing.ellipse.prototype.render=function(t){var e,a,n,s,o,l,h,c,u,d,p,g,m,f,y;(e=this.stx.panels[this.panelName])&&(a=this.stx.pixelFromTick(this.p0[0],e.chart),n=this.stx.pixelFromTick(this.p1[0],e.chart),s=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),o=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),r.J6C(14),l=r.y6C(a,a,n),h=n,c=s,u=o,r.O6C(14),d=r.c6C(s,s,o),r.J6C(15),p=r.c6C(6,d,u),(g=this.lineWidth)||(g=1.1),(\"auto\"==(m=this.color)||i.isTransparent(m))&&(m=this.stx.defaultColor),this.highlighted&&(m=this.stx.getCanvasColor(\"stx_highlight_vector\"),.1==g&&(g=1.1)),f=this.fillColor,t.beginPath(),t.moveTo(l,c),r.J6C(1),t.bezierCurveTo(l,r.y6C(u,p),h,r.c6C(u,p),h,c),r.J6C(0),t.bezierCurveTo(h,r.y6C(d,p),l,r.c6C(d,p),l,c),f&&!i.isTransparent(f)&&\"auto\"!=f&&(t.fillStyle=f,t.globalAlpha=.2,t.fill(),t.globalAlpha=1),m&&\"none\"!=this.pattern&&(t.strokeStyle=m,t.lineWidth=g,t.setLineDash&&(t.setLineDash(i.borderPatternToArray(g,this.pattern)),t.lineDashOffset=0),t.stroke()),t.closePath(),this.highlighted&&(y=\"p1\"==this.highlighted,this.littleCircle(t,n,o,y)))},i.Drawing.ellipse.prototype.intersected=function(t,e,a){var r,n,s,o;return this.p0&&this.p1?this.pointIntersection(this.p1[0],this.p1[1],a)?(\"d\",\"ra\",\"g\",this.highlighted=\"p1\",{action:\"drag\",point:\"p1\"}):(r=this.p0[0]-(this.p1[0]-this.p0[0]),n=this.p1[0],s=this.p1[1],o=this.p0[1]-(this.p1[1]-this.p0[1]),!(a.x0>Math.max(r,n)||a.x1<Math.min(r,n))&&(!(a.y1>Math.max(o,s)||a.y0<Math.min(o,s))&&(this.highlighted=!0,{action:\"move\",p0:i.clone(this.p0),p1:i.clone(this.p1),tick:t,value:e}))):null},i.Drawing.ellipse.prototype.configs=[\"color\",\"fillColor\",\"lineWidth\",\"pattern\"],i.Drawing.ellipse.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,r.M2q(),this.pattern=e.ptrn,this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.v0=e.v0,this.v1=e.v1,this.adjust()},i.Drawing.ellipse.prototype.serialize=function(){return r.y2q(),{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1}},i.Drawing.channel=function(){this.name=\"channel\",this.dragToDraw=!1,this.p2=null},i.inheritsFrom(i.Drawing.channel,i.Drawing.segment),i.Drawing.channel.prototype.configs=[\"color\",\"fillColor\",\"lineWidth\",\"pattern\"],i.Drawing.channel.prototype.move=function(t,e,i){var a;this.penDown&&(r.y2q(),this.copyConfig(),null===this.p2?this.p1=[e,i]:(a=i-(this.p1[1]-this.p0[1])/(this.p1[0]-this.p0[0])*(e-this.p1[0]),this.p2=[this.p1[0],a]),this.render(t))},i.Drawing.channel.prototype.click=function(t,e,i){var a;if(a=this.stx.panels[this.panelName])return this.copyConfig(),this.penDown?this.accidentalClick(e,i)?(this.stx.undo(),!0):(r.y2q(),null!==this.p2?(this.setPoint(2,this.p2[0],this.p2[1],a.chart),this.penDown=!1,!0):(this.setPoint(1,e,i,a.chart),this.p0[0]==this.p1[0]?(this.p1=null,!1):(this.p2=[this.p1[0],this.p1[1]],!1))):(this.setPoint(0,e,i,a.chart),this.penDown=!0,!1)},i.Drawing.channel.prototype.boxIntersection=function(t,e,i){var a,n,s,o,l;if(a=this.p0,n=this.p1,s=this.p2,!a||!n||!s)return!1;if(r.y2q(),i.x0>Math.max(a[0],n[0])||i.x1<Math.min(a[0],n[0]))return!1;o=(n[0]-a[0])*((s[1]<a[1]?i.y1:i.y0)-a[1])-(n[1]-a[1])*(t-a[0]),l=(s[0]-a[0])*((s[1]>a[1]?i.y1:i.y0)-(a[1]+s[1]-n[1]))-(n[1]-a[1])*(t-a[0]);for(var h=1;242960076!==r.v7Z(h.toString(),h.toString().length,22278);h++)return r.O6C(16),r.c6C(o,l,4);return-224659226!==r.v7Z(2..toString(),2..toString().length,40805)?(r.J6C(17),r.y6C(o,l,5)):(r.J6C(18),r.y6C(0,l,o))},i.Drawing.channel.prototype.intersected=function(t,e,a){var n;if(!this.p0||!this.p1||!this.p2)return null;for(var s in n={0:this.p0,1:this.p1,2:this.p2})if(this.pointIntersection(n[s][0],n[s][1],a))return\"dra\",\"g\",r.O6C(1),this.highlighted=r.c6C(\"p\",s),{action:\"drag\",point:\"p\"+s};return this.boxIntersection(t,e,a)?(this.highlighted=!0,{action:\"move\",p0:i.clone(this.p0),p1:i.clone(this.p1),p2:i.clone(this.p2),tick:t,value:e}):null},i.Drawing.channel.prototype.render=function(t){var e,a,n,s,o,l,h,c,u,d,p,g,m;(e=this.stx.panels[this.panelName])&&(a=this.stx.pixelFromTick(this.p0[0],e.chart),n=this.stx.pixelFromTick(this.p1[0],e.chart),s=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),o=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),l=null,this.p2&&(l=this.stx.pixelFromValueAdjusted(e,this.p2[0],this.p2[1])),r.M2q(),h=this.lineWidth,c=this.getLineColor(),u=this.fillColor,this.p2&&u&&!i.isTransparent(u)&&\"auto\"!=u&&(t.beginPath(),t.moveTo(a,s),t.lineTo(n,o),t.lineTo(n,l),r.J6C(19),t.lineTo(a,r.y6C(l,s,o)),t.closePath(),t.globalAlpha=.2,t.fillStyle=u,t.fill(),t.globalAlpha=1),d={pattern:this.pattern,lineWidth:h},(this.penDown||this.highlighted)&&\"none\"==this.pattern&&(d.pattern=\"dotted\"),this.stx.plotLine(a,n,s,o,c,\"segment\",t,e,d),this.p2&&(r.O6C(19),this.stx.plotLine(a,n,r.c6C(l,s,o),l,c,\"segment\",t,e,d)),this.highlighted&&(p=\"p0\"==this.highlighted,g=\"p1\"==this.highlighted,m=\"p2\"==this.highlighted,this.littleCircle(t,a,s,p),this.littleCircle(t,n,o,g),this.littleCircle(t,n,l,m)))},i.Drawing.channel.prototype.reposition=function(t,e,i,a){var n,s,o;r.y2q(),e&&(n=this.stx.panels[this.panelName],s=e.tick-i,o=e.value-a,\"move\"==e.action?(this.setPoint(0,e.p0[0]-s,e.p0[1]-o,n.chart),this.setPoint(1,e.p1[0]-s,e.p1[1]-o,n.chart),this.setPoint(2,e.p2[0]-s,e.p2[1]-o,n.chart),this.render(t)):\"drag\"==e.action&&(this[e.point]=[i,a],this.setPoint(0,this.p0[0],this.p0[1],n.chart),this.setPoint(1,this.p1[0],this.p1[1],n.chart),this.setPoint(2,this.p2[0],this.p2[1],n.chart),this.render(t)))},i.Drawing.channel.prototype.adjust=function(){var t;(t=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,t.chart),this.setPoint(1,this.d1,this.v1,t.chart),this.setPoint(2,this.d1,this.v2,t.chart))},i.Drawing.channel.prototype.reconstruct=function(t,e){var i;this.stx=t,this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,r.M2q(),i=2;for(var a=1;-315492872!==r.v7Z(a.toString(),a.toString().length,43276);a++)this.v0=e.v0,this.v1=e.v1,i+=2;1944817668!==r.W7Z(i.toString(),i.toString().length,9539)&&(this.v0=e.v0,this.v1=e.v1),this.v2=e.v2,this.adjust()},i.Drawing.channel.prototype.serialize=function(){return r.y2q(),{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2}},i.Drawing.pitchfork=function(){r.y2q(),this.name=\"pitchfork\",this.dragToDraw=!1,this.p2=null},i.inheritsFrom(i.Drawing.pitchfork,i.Drawing.channel),i.Drawing.pitchfork.prototype.configs=[\"color\",\"lineWidth\",\"pattern\"],i.Drawing.pitchfork.prototype.move=function(t,e,i){this.penDown&&(this.copyConfig(),null===this.p2?this.p1=[e,i]:this.p2=[e,i],r.y2q(),this.render(t))},i.Drawing.pitchfork.prototype.intersected=function(t,e,a){var n,s;if(!this.p0||!this.p1||!this.p2)return null;for(var o in n={0:this.p0,1:this.p1,2:this.p2})if(this.pointIntersection(n[o][0],n[o][1],a))return r.J6C(1),this.highlighted=r.c6C(\"p\",o),{action:\"drag\",point:\"p\"+o};s=this.rays;for(var l=0;l<s.length;l++)if(this.lineIntersection(t,e,a,l?\"ray\":\"segment\",s[l][0],s[l][1],!0))return\"m\",\"o\",\"v\",\"e\",this.highlighted=!0,{action:\"move\",p0:i.clone(this.p0),p1:i.clone(this.p1),p2:i.clone(this.p2),tick:t,value:e};return r.y2q(),null},i.Drawing.pitchfork.prototype.render=function(t){var e,i,a,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b;if(e=this.stx.panels[this.panelName]){i=this.stx,(a=this.p2)||(a=this.p1),n=i.pixelFromTick(this.p0[0],e.chart),s=i.pixelFromTick(this.p1[0],e.chart),o=i.pixelFromTick(a[0],e.chart),l=i.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),h=i.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),c=i.pixelFromValueAdjusted(e,a[0],a[1]),u=this.lineWidth,d=this.getLineColor(),p={pattern:this.pattern,lineWidth:u},g=50,r.O6C(20),m=r.y6C(l,c,\"2\",2027441984,h),r.O6C(21),(f=r.y6C(n,s,o,2))<0&&(g*=-1),r.J6C(7),m*=r.c6C(g,f),r.O6C(2),this.rays=[[[s,h],[o,c]],[[n,l],[r.y6C(s,2,o),r.y6C(h,2,c)]]],s==o&&h==c||(r.J6C(0),this.rays.push([[s,h],[r.y6C(s,g),r.c6C(h,m)]],[[o,c],[r.c6C(o,g),r.c6C(c,m)]]));for(var S=0;S<this.rays.length;S++)\"s\",\"e\",\"gment\",\"r\",\"a\",\"y\",y=this.rays[S],v=S?\"ray\":\"segment\",i.plotLine(y[0][0],y[1][0],y[0][1],y[1][1],d,v,t,e,p);this.highlighted&&(x=\"p0\"==this.highlighted,C=\"p1\"==this.highlighted,b=\"p2\"==this.highlighted,this.littleCircle(t,n,l,x),this.littleCircle(t,s,h,C),this.littleCircle(t,o,c,b))}},i.Drawing.pitchfork.prototype.adjust=function(){var t;t=this.stx.panels[this.panelName],r.M2q(),t&&(this.setPoint(0,this.d0,this.v0,t.chart),this.setPoint(1,this.d1,this.v1,t.chart),r.J6C(13),this.setPoint(r.c6C(2147483647,\"2\"),this.d2,this.v2,t.chart))},i.Drawing.pitchfork.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.panelName=e.pnl,this.pattern=e.ptrn,r.M2q(),this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.d2=e.d2,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.tzo2=e.tzo2,this.v0=e.v0,this.v1=e.v1,this.v2=e.v2,this.adjust()},i.Drawing.pitchfork.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2}},i.Drawing.gartley=function(){r.y2q(),this.name=\"gartley\",this.dragToDraw=!1,this.maxSegments=4,this.shape=null,this.points=[]},i.inheritsFrom(i.Drawing.gartley,i.Drawing.continuous),i.Drawing.gartley.prototype.check=function(t,e){if(!e)return!0;if(t[0]>=e[0]||t[1]==e[1])return!1;if(1==this.segment)t[1]<e[1]?this.shape=\"M\":this.shape=\"W\";else if(2==this.segment){if(\"M\"==this.shape&&t[1]<e[1])return!1;if(\"W\"==this.shape&&t[1]>e[1])return!1;if((e[1]-t[1])/(this.points[0][1]-t[1])<.618)return!1;if((e[1]-t[1])/(this.points[0][1]-t[1])>=.786)return!1}else if(3==this.segment){if(\"M\"==this.shape&&t[1]>e[1])return!1;if(\"W\"==this.shape&&t[1]<e[1])return!1;if((e[1]-t[1])/(this.points[1][1]-t[1])<.618)return!1;if((e[1]-t[1])/(this.points[1][1]-t[1])>=.786)return!1}else if(4==this.segment){if(\"M\"==this.shape&&(t[1]<e[1]||e[1]<this.points[0][1]))return!1;if(\"W\"==this.shape&&(t[1]>e[1]||e[1]>this.points[0][1]))return!1;if((this.points[1][1]-e[1])/(this.points[1][1]-this.points[2][1])<1.27)return!1;if((this.points[1][1]-e[1])/(this.points[1][1]-this.points[2][1])>=1.618)return!1}return r.M2q(),!0},i.Drawing.gartley.prototype.click=function(t,e,i){var a;if(r.y2q(),a=this.stx.panels[this.panelName]){if(this.copyConfig(),!this.penDown)return this.setPoint(0,e,i,a.chart),this.pts=[],this.penDown=!0,this.segment=1,!1;if(this.accidentalClick(e,i))return this.penDown=!0,!1;if(this.check(this.p0,this.p1)){if(1==this.segment&&this.points.push(this.p0),this.points.push(this.p1),this.setPoint(1,e,i,a.chart),this.segment++,this.segment>this.maxSegments)return r.J6C(0),this.setPoint(r.y6C(\"0\",0),this.points[0][0],this.points[0][1],a.chart),this.penDown=!1,!0;this.pts.push(this.d1,this.tzo1,this.v1),this.setPoint(0,e,i,a.chart)}return!1}},i.Drawing.gartley.prototype.render=function(t){var e,a,n,s,o,l,h,c,u,d,p,g,m,f,y,v;if((e=this.stx.panels[this.panelName])&&(r.y2q(),a=this.stx.pixelFromTick(this.p0[0],e.chart),n=this.stx.pixelFromTick(this.p1[0],e.chart),s=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),o=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),2==this.segment?this.drawDropZone(t,.618*this.points[0][1]+.382*this.p0[1],.786*this.points[0][1]+.214*this.p0[1],this.p0[0]):3==this.segment?this.drawDropZone(t,.618*this.points[1][1]+.382*this.p0[1],.786*this.points[1][1]+.214*this.p0[1],this.p0[0]):4==this.segment&&(l=1.618*this.points[2][1]-.618*this.points[1][1],l=\"M\"==this.shape?Math.max(l,this.points[0][1]):Math.min(l,this.points[0][1]),this.drawDropZone(t,l,1.27*this.points[2][1]-.27*this.points[1][1],this.p0[0])),h=this.lineWidth,c=this.getLineColor(),u={pattern:this.pattern,lineWidth:h},(this.penDown||this.highlighted)&&\"none\"==this.pattern&&(u.pattern=\"dotted\"),this.segment<=this.maxSegments&&this.stx.plotLine(a,n,s,o,c,this.name,t,e,u),d=this.fillColor,p=[],this.points.length)){\"au\",\"t\",\"o\",990672010,556336826,g=2;for(var x=1;990672010!==r.v7Z(x.toString(),x.toString().length,33042);x++)t.beginPath(),g+=2;556336826!==r.W7Z(g.toString(),g.toString().length,53070)&&t.beginPath();for(var C=1;C<this.points.length&&C<=4;C++)m=this.stx.pixelFromTick(this.points[C-1][0],e.chart),f=this.stx.pixelFromTick(this.points[C][0],e.chart),y=this.stx.pixelFromValueAdjusted(e,this.points[C-1][0],this.points[C-1][1]),v=this.stx.pixelFromValueAdjusted(e,this.points[C][0],this.points[C][1]),1==C&&p.push(m,y),p.push(f,v),this.stx.plotLine(m,f,y,v,c,this.name,t,e,u);if(2!=this.points.length&&4!=this.points.length||p.push(n,o),this.points[2]&&p.push(this.stx.pixelFromTick(this.points[2][0],e.chart),this.stx.pixelFromValueAdjusted(e,this.points[2][0],this.points[2][1])),d&&\"auto\"!=d&&!i.isTransparent(d)){for(var b=0;b<p.length;b+=2)0===b&&t.moveTo(p[0],p[1]),t.lineTo(p[b],p[b+1]);t.fillStyle=d,t.globalAlpha=.2,t.closePath(),t.fill(),t.globalAlpha=1}}},i.Drawing.gartley.prototype.lineIntersection=function(t,e,a,r){var n,s;if(n=this.points,s=this.stx.panels[this.panelName],n.length!=this.maxSegments+1||!s)return!1;for(var o=0;o<n.length-1;o++)if(i.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,t,e,a,\"segment\",n[o],n[o+1]))return!0;return!1},i.Drawing.gartley.prototype.boxIntersection=function(t,e,i){var a,n,s,o;if(!this.p0||!this.p1)return!1;if(i.x0>Math.max(this.p0[0],this.p1[0])||i.x1<Math.min(this.p0[0],this.p1[0]))return!1;r.J6C(22),a=r.y6C(\"1027109641\",740324104),n=2;for(var l=1;r.W7Z(l.toString(),l.toString().length,96480)!==a;l++)s=Math.min(this.p0[3],this.p1[0]),n+=2;-1256325412!==r.W7Z(n.toString(),n.toString().length,95806)&&(s=Math.min(this.p0[0],this.p1[8])),s=Math.min(this.p0[1],this.p1[1]),o=Math.max(this.p0[1],this.p1[1]);for(var h=0;h<this.points.length;h++)s=Math.min(s,this.points[h][1]),o=Math.max(o,this.points[h][1]);return!(i.y1>o||i.y0<s)},i.Drawing.gartley.prototype.reposition=function(t,e,i,a){var n,s,o;if(\"mo\",\"ve\",e&&(n=this.stx.panels[this.panelName],s=e.tick-i,e.tick=i,o=e.value-a,e.value=a,\"move\"==e.action)){this.pts=[];for(var l=0;l<this.points.length;l++)r.O6C(23),this.points[l][r.y6C(0,\"0\")]-=s,this.points[l][1]-=o,this.setPoint(1,this.points[l][0],this.points[l][1],n.chart),l&&l<this.points.length-1&&this.pts.push(this.d1,this.tzo1,this.v1),this.points[l]=this.p1;r.J6C(12),this.setPoint(r.c6C(1,\"0\"),this.points[0][0],this.points[0][1],n.chart),this.render(t)}},i.Drawing.gartley.prototype.configs=[\"color\",\"fillColor\",\"lineWidth\",\"pattern\"],i.Drawing.gartley.prototype.adjust=function(){var t;(t=this.stx.panels[this.panelName])&&(this.reconstructPoints(),this.setPoint(0,this.d0,this.v0,t.chart),this.points.unshift(this.p0),r.J6C(0),this.setPoint(r.y6C(\"1\",0),this.d1,this.v1,t.chart),this.points.push(this.p1))},i.Drawing.gartley.prototype.reconstructPoints=function(){var t,e;if(t=this.stx.panels[this.panelName]){this.points=[];for(var a=0;a<this.pts.length;a+=3)(e=i.strToDateTime(this.pts[a])).setMinutes(e.getMinutes()+Number(this.pts[a+1])-e.getTimezoneOffset()),this.points.push([this.stx.tickFromDate(i.yyyymmddhhmmssmmm(e),t.chart),this.pts[a+2]])}},i.Drawing.gartley.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.v0=e.v0,this.v1=e.v1,this.pts=e.pts.split(\",\"),this.adjust()},i.Drawing.gartley.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join(\",\")}},i.Drawing.freeform=function(){this.name=\"freeform\",this.splineTension=.3,this.dragToDraw=!0},i.inheritsFrom(i.Drawing.freeform,i.Drawing.segment),i.Drawing.freeform.prototype.measure=function(){},i.Drawing.freeform.prototype.intersected=function(t,e,a){return a.x0>this.hiX||a.x1<this.lowX||a.y1>this.hiY||a.y0<this.lowY?null:(this.highlighted=!0,{action:\"move\",p0:i.clone(this.p0),tick:t,value:e})},i.Drawing.freeform.prototype.reposition=function(t,e,i,a){var n,s,o;r.y2q(),e&&(n=this.stx.panels[this.panelName],s=e.tick-i,o=e.value-a,\"move\"==e.action&&(this.setPoint(0,e.p0[0]-s,e.p0[1]-o,n.chart),this.adjust(),this.render(t)))},i.Drawing.freeform.prototype.click=function(t,e,a){var n,s;if(r.M2q(),\"a\",\"u\",\"t\",\"o\",n=this.stx.panels[this.panelName])return!1===this.penDown?(\"p\",\"oi\",\"n\",\"ter\",this.copyConfig(),this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(e,n.chart))),this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(n,e,a))),s=this.stx.dateFromTick(e,n.chart,!0),this.d0=i.yyyymmddhhmmssmmm(s),this.tzo0=s.getTimezoneOffset(),this.v0=a,this.p0=[i.ChartEngine.crosshairX-this.startX,i.ChartEngine.crosshairY-this.startY],this.nodes=[this.p0[0],this.p0[1]],this.pNodes=[this.p0],this.candleWidth=this.stx.layout.candleWidth,this.multiplier=n.yAxis.multiplier,this.interval=this.stx.layout.interval,this.periodicity=this.stx.layout.periodicity,this.tempSplineTension=this.splineTension,this.splineTension=-1,document.body.style.cursor=\"pointer\",this.penDown=!0,!1):(this.penDown=!1,this.splineTension=this.tempSplineTension,document.body.style.cursor=\"auto\",!0)},i.Drawing.freeform.prototype.move=function(t,e,a){var r,n;if(this.penDown)return r=this.stx.panels[this.panelName],n=this.stx.dateFromTick(e,r.chart,!0),this.d1=i.yyyymmddhhmmssmmm(n),this.tzo1=n.getTimezoneOffset(),this.v1=a,this.p1=[i.ChartEngine.crosshairX-this.startX,r.yAxis.flipped?this.startY-i.ChartEngine.crosshairY:i.ChartEngine.crosshairY-this.startY],this.pNodes.length>2&&(this.p1[0]==this.pNodes[this.pNodes.length-2][0]&&this.p1[0]==this.pNodes[this.pNodes.length-1][0]||this.p1[1]==this.pNodes[this.pNodes.length-2][1]&&this.p1[1]==this.pNodes[this.pNodes.length-1][1])&&(this.pNodes.length--,this.nodes.length-=2),this.nodes.push(this.p1[0],this.p1[1]),this.pNodes.push(this.p1),this.render(t),!1},i.Drawing.freeform.prototype.intervalRatio=function(t,e,a,n,s,o){var l;function h(t,e){return r.M2q(),5}function c(t,e){return r.M2q(),30}function u(t,e){return i.Market.Symbology.isForexSymbol(e)?1440:390}return l=0,t==e?l=1:isNaN(t)||isNaN(e)?isNaN(t)?(\"w\",\"e\",\"e\",\"k\",\"month\"==t?\"week\"==e?l=h():\"day\"==e?l=c(s,o):isNaN(e)||(l=c(s,o)*u(s,o)/e):\"week\"==t?(\"m\",\"on\",\"th\",\"month\"==e&&(l=1/h()),\"day\"==e?l=5:isNaN(e)||(l=5*u(s,o)/e)):\"day\"==t&&(\"wee\",\"k\",\"week\"==e?l=.2:\"month\"==e?l=1/c(s,o):isNaN(e)||(l=u(s,o)/e))):isNaN(t)||(\"d\",\"a\",\"y\",\"m\",\"on\",\"t\",\"h\",\"month\"==e?l=t/(c(s,o)*u(s,o)):\"week\"==e?l=t/(5*u(s,o)):\"day\"==e&&(l=t/u(s,o))):(r.J6C(7),l=r.y6C(t,e)),r.O6C(7),l*=r.c6C(a,n)},i.Drawing.freeform.prototype.render=function(t){var e,i,a,n,s,o,l,h,c,u,d,p;if(r.y2q(),(e=this.stx.panels[this.panelName])&&0!==(i=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,e.chart.symbol))){a=this.stx.layout.candleWidth/this.candleWidth,n=e.yAxis.multiplier/this.multiplier,this.setPoint(0,this.d0,this.v0,e.chart),s=this.stx.pixelFromTick(this.p0[0],e.chart),o=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),l=[],h=this.lineWidth,c=this.getLineColor(),u={pattern:this.pattern,lineWidth:h};for(var g=0;g<this.pNodes.length;g++)d=i*a*this.pNodes[g][0]+s,p=n*this.pNodes[g][1],e.yAxis.flipped?(r.O6C(0),p=r.y6C(o,p)):p+=o,l.push(d,p);l.length&&(this.splineTension<0?this.stx.connectTheDots(l,c,this.name,t,e,u):this.stx.plotSpline(l,this.splineTension,c,this.name,t,!0,u))}},i.Drawing.freeform.prototype.adjust=function(){var t,e,i,a,n,s,o,l;if(t=this.stx.panels[this.panelName]){e=[this.nodes[0],this.nodes[1]],r.y2q(),this.pNodes=[e],this.lowX=this.nodes[0],this.hiX=this.nodes[0],this.lowY=this.nodes[1],this.hiY=this.nodes[1];for(var h=2;h<this.nodes.length;h+=2)r.O6C(1),i=[this.nodes[h],this.nodes[r.y6C(h,1)]],this.pNodes.push(i),this.lowX=Math.min(this.lowX,i[0]),this.hiX=Math.max(this.hiX,i[0]),this.lowY=Math.max(this.lowY,i[1]),this.hiY=Math.min(this.hiY,i[1]);0!==(a=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,t.chart.symbol))&&(n=this.stx.layout.candleWidth/this.candleWidth,s=t.yAxis.multiplier/this.multiplier,this.setPoint(0,this.d0,this.v0,t.chart),o=this.stx.pixelFromTick(this.p0[0],t.chart),l=this.stx.pixelFromValueAdjusted(t,this.p0[0],this.p0[1]),this.lowX=this.stx.tickFromPixel(Math.floor(a*n*this.lowX)+o,t.chart),this.hiX=this.stx.tickFromPixel(Math.ceil(a*n*this.hiX)+o,t.chart),t.yAxis.flipped?(this.lowY=this.stx.valueFromPixel(l-Math.floor(s*this.lowY),t),this.hiY=this.stx.valueFromPixel(l-Math.ceil(s*this.hiY),t)):(this.lowY=this.stx.valueFromPixel(Math.floor(s*this.lowY)+l,t),this.hiY=this.stx.valueFromPixel(Math.ceil(s*this.hiY)+l,t)))}},i.Drawing.freeform.prototype.serialize=function(){return r.M2q(),{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes}},i.Drawing.freeform.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.candleWidth=e.cw,this.multiplier=e.mlt,this.d0=e.d0,this.tzo0=e.tzo0,this.v0=e.v0,this.interval=e.inter,this.periodicity=e.pd,this.nodes=e.nodes,this.adjust()},i.Drawing.callout=function(){var t;this.name=\"callout\",this.arr=[],r.M2q(),this.w=0,this.h=0,this.padding=4,this.text=\"\",t=2;for(var e=1;1301731839!==r.W7Z(e.toString(),e.toString().length,66603);e++)this.ta=1,this.fontSize=9,this.font={},this.stemEntry=\"\",this.defaultWidth=44,t+=2;-1266316669!==r.v7Z(t.toString(),t.toString().length,74664)&&(this.ta=null,this.fontSize=0,this.font={},this.stemEntry=\"\",r.O6C(13),this.defaultWidth=r.y6C(2147483647,\"50\")),this.defaultHeight=10},i.inheritsFrom(i.Drawing.callout,i.Drawing.annotation),i.Drawing.callout.prototype.configs=[\"color\",\"fillColor\",\"lineWidth\",\"pattern\",\"font\"],i.Drawing.callout.prototype.copyConfig=function(t){i.Drawing.copyConfig(this,t),r.y2q(),this.borderColor=this.color},i.Drawing.callout.prototype.move=function(t,e,i){r.y2q(),this.penDown&&(this.copyConfig(),this.p0=[e,i],this.render(t))},i.Drawing.callout.prototype.onChange=function(t){var e,a,n;e=this.stx.panels[this.panelName],r.y2q(),e&&(a=t.target,this.w=a.clientWidth,this.h=a.clientHeight,n=this.context||this.stx.chart.tempCanvas.context,i.clearCanvas(n.canvas,this.stx),this.render(n),this.edit(n))},i.Drawing.callout.prototype.render=function(t){var e,a,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C;if(\"al\",\"phab\",\"etic\",\"stx_hig\",\"hlight_vecto\",\"r\",\"a\",\"ut\",\"o\",\"t\",\"o\",\"p\",this.context=t,(e=this.stx.panels[this.panelName])&&(a=this.stx.pixelFromTick(this.p0[0],e.chart),n=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),!isNaN(n))){if(t.font=this.fontString,t.textBaseline=\"top\",s=a,o=n,l=this.w/2,h=this.h/2,this.penDown&&(l=this.defaultWidth,(h=this.defaultHeight)||(h=this.fontSize)),r.y2q(),(c=this.lineWidth)||(c=1.1),(\"auto\"==(u=this.color)||i.isTransparent(u))&&(u=this.stx.defaultColor),(\"auto\"==(d=this.borderColor)||i.isTransparent(d))&&(d=this.stx.defaultColor),this.highlighted&&(d=this.stx.getCanvasColor(\"stx_highlight_vector\")),y=Math.min(Math.min(l,h)/2,8),this.stem&&(this.stem.t?(p=this.stx.pixelFromTick(this.stem.t),m=this.stx.pixelFromValueAdjusted(e,this.stem.t,this.stem.v)):this.stem.x&&(p=s,m=o,s+=this.stem.x,o+=this.stem.y),v=\"\",p>=s+l?(r.J6C(1),g=r.c6C(s,l),v=\"r\"):p>s-l&&p<s+l?(g=s,v=\"c\"):p<=s-l&&(r.J6C(0),g=r.y6C(s,l),v=\"l\"),m>=o+h?(r.O6C(1),f=r.c6C(o,h),v+=\"b\"):m>o-h&&m<o+h?(f=o,v+=\"m\"):m<=o-h&&(r.J6C(0),f=r.y6C(o,h),v+=\"t\"),this.stemEntry=v,\"cm\"!=v&&(p=Math.round(p),g=Math.round(g),m=Math.round(m),f=Math.round(f))),this.highlighted?this.stx.canvasColor(\"stx_annotation_highlight_bg\",t):this.fillColor?(t.fillStyle=this.fillColor,t.globalAlpha=.4):this.stem&&(t.fillStyle=this.stx.containerColor),t.strokeStyle=d,t.setLineDash&&(t.setLineDash(i.borderPatternToArray(c,this.pattern)),r.O6C(9),t.lineDashOffset=r.c6C(1233436896,\"0\")),d){if(\"non\",\"e\",\"l\",\"b\",\"r\",\"m\",t.beginPath(),t.lineWidth=c,r.J6C(3),t.moveTo(r.y6C(l,s,y),r.y6C(o,h,r.O6C(0))),\"rt\"!=this.stemEntry?(r.O6C(1),t.quadraticCurveTo(r.c6C(s,l),r.y6C(o,h,r.O6C(0)),r.c6C(s,l,r.J6C(1)),r.y6C(h,o,y,r.J6C(5)))):(t.lineTo(p,m),r.J6C(1),t.lineTo(r.c6C(s,l),r.y6C(h,o,y,r.J6C(5)))),r.O6C(1),t.lineTo(r.y6C(s,l),r.c6C(2,o,y,r.J6C(24))),\"rm\"==this.stemEntry&&t.lineTo(p,m),r.O6C(1),t.lineTo(r.y6C(s,l),r.c6C(o,2,y,r.J6C(25))),r.O6C(1),t.lineTo(r.c6C(s,l),r.c6C(h,o,y,r.J6C(3))),\"rb\"!=this.stemEntry?(r.J6C(1),t.quadraticCurveTo(r.y6C(s,l),r.c6C(o,h,r.J6C(1)),r.y6C(l,s,y,r.J6C(3)),r.y6C(o,h,r.J6C(1)))):(t.lineTo(p,m),r.O6C(3),t.lineTo(r.c6C(l,s,y),r.c6C(o,h,r.O6C(1)))),r.J6C(25),t.lineTo(r.c6C(s,2,y),r.y6C(o,h,r.O6C(1))),\"cb\"==this.stemEntry&&t.lineTo(p,m),r.J6C(24),t.lineTo(r.y6C(2,s,y),r.c6C(o,h,r.J6C(1))),r.O6C(5),t.lineTo(r.c6C(l,s,y),r.y6C(o,h,r.O6C(1))),\"lb\"!=this.stemEntry?(r.O6C(0),t.quadraticCurveTo(r.y6C(s,l),r.y6C(o,h,r.O6C(1)),r.y6C(s,l,r.O6C(0)),r.y6C(h,o,y,r.O6C(3)))):(t.lineTo(p,m),r.J6C(0),t.lineTo(r.y6C(s,l),r.y6C(h,o,y,r.O6C(3)))),r.J6C(0),t.lineTo(r.c6C(s,l),r.c6C(o,2,y,r.J6C(25))),\"lm\"==this.stemEntry&&t.lineTo(p,m),r.O6C(0),t.lineTo(r.y6C(s,l),r.y6C(2,o,y,r.O6C(24))),r.O6C(0),t.lineTo(r.c6C(s,l),r.y6C(h,o,y,r.O6C(5))),\"lt\"!=this.stemEntry){550589440,2144928687,r.J6C(12),x=r.c6C(1,\"2\");for(var b=1;550589440!==r.W7Z(b.toString(),b.toString().length,70405);b++)r.J6C(12),t.quadraticCurveTo(r.c6C(l,s),r.y6C(h,o,r.O6C(12)),r.c6C(l,s,y,r.J6C(26)),r.y6C(o,h,r.J6C(7))),x+=2;2144928687!==r.v7Z(x.toString(),x.toString().length,60011)&&(r.O6C(0),t.quadraticCurveTo(r.y6C(s,l),r.y6C(o,h,r.O6C(0)),r.y6C(l,s,y,r.O6C(5)),r.c6C(o,h,r.J6C(0))))}else t.lineTo(p,m),r.J6C(5),t.lineTo(r.y6C(l,s,y),r.c6C(o,h,r.O6C(0)));r.J6C(24),t.lineTo(r.c6C(2,s,y),r.c6C(o,h,r.J6C(0))),\"ct\"==this.stemEntry&&t.lineTo(p,m),r.O6C(25),t.lineTo(r.c6C(s,2,y),r.c6C(o,h,r.O6C(0))),r.O6C(3),t.lineTo(r.y6C(l,s,y),r.y6C(o,h,r.J6C(0))),t.fill(),t.globalAlpha=1,\"none\"!=this.pattern&&t.stroke()}if(this.highlighted?(\"stx_annotation_hi\",\"ghli\",\"ght\",this.stx.canvasColor(\"stx_annotation_highlight\",t)):t.fillStyle=u,o+=this.padding,!this.ta)for(var S=0;S<this.arr.length;S++)t.fillText(this.arr[S],s-l+this.padding,o-h),o+=this.fontSize;t.textBaseline=\"alphabetic\",this.highlighted&&!this.noHandles&&(C=\"p0\"==this.highlighted,this.littleCircle(t,p,m,C))}},i.Drawing.callout.prototype.click=function(t,e,i){var a;if(!this.stx.overXAxis&&!this.stx.overYAxis)return a=this.stx.panels[this.panelName],this.copyConfig(),this.setPoint(0,e,i,a.chart),this.penDown?(this.adjust(),this.edit(t),this.penDown=!1,!1):(this.stem={d:this.d0,v:this.v0},this.penDown=!0,this.adjust(),!1)},i.Drawing.callout.prototype.reposition=function(t,e,i,a){var n,s,o;r.y2q(),e&&(n=this.stx.panels[this.panelName],s=e.tick-i,o=e.value-a,e.stem?(\"drag\"==e.action?this.stem={d:this.stx.dateFromTick(i,n.chart,!0),v:a}:\"move\"==e.action&&(this.setPoint(0,e.p0[0]-s,e.p0[1]-o,n.chart),this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(e.stem.d,n.chart)-s),v:e.stem.v-o}),this.adjust()):this.setPoint(0,e.p0[0]-s,e.p0[1]-o,n.chart),this.render(t))},i.Drawing.callout.prototype.lineIntersection=function(t,e,a,n){var s,o,l,h,c,u,d,p,g,m,f,y;return\"st\",\"r\",\"ing\",s=this.stx.panels[this.panelName],o=this.stem,l=this.p0,h=this.stx,!!(l&&o&&s)&&(c=o.t||this.stx.tickFromDate(o.d,s.chart),r.y2q(),u={x0:l[0],x1:c,y0:l[1],y1:o.v},p=(d=i.convertBoxToPixels(h,this.panelName,u)).x0,g=d.y0,m=d.x1,f=d.y1,\"string\"==typeof this.stemEntry&&(this.stemEntry.indexOf(\"l\")>-1?p-=this.w/2:this.stemEntry.indexOf(\"r\")>-1&&(p+=this.w/2),this.stemEntry.indexOf(\"t\")>-1?g-=this.h/2:this.stemEntry.indexOf(\"b\")>-1&&(g+=this.h/2)),y=i.convertBoxToPixels(h,this.panelName,a),i.boxIntersects(y.x0,y.y0,y.x1,y.y1,p,g,m,f,n))},i.Drawing.callout.prototype.intersected=function(t,e,a){var r,n,s,o,l,h,c;return\"segm\",\"en\",\"t\",r=this.stx.panels[this.panelName],this.p0?this.pointIntersection(this.stem.t,this.stem.v,a)?(this.highlighted=\"p0\",{action:\"drag\",stem:!0}):(n=this.stx.pixelFromTick(this.p0[0],r.chart)-this.w/2,s=this.stx.pixelFromValueAdjusted(r,this.p0[0],this.p0[1])-this.h/2,o=n+this.w,l=s+this.h,this.stem&&this.stem.x&&(n+=this.stem.x,o+=this.stem.x,s+=this.stem.y,l+=this.stem.y),h=this.stx.pixelFromTick(t,r.chart),c=this.stx.pixelFromValueAdjusted(r,t,e),h+a.r>=n&&h-a.r<=o&&c+a.r>=s&&c-a.r<=l?(this.highlighted=!0,{p0:i.clone(this.p0),tick:t,value:e}):this.lineIntersection(t,e,a,\"segment\")?(this.highlighted=!0,{action:\"move\",stem:i.clone(this.stem),p0:i.clone(this.p0),tick:t,value:e}):null):null},i.Drawing.fibonacci=function(){this.name=\"fibonacci\",this.configurator=\"fibonacci\"},i.inheritsFrom(i.Drawing.fibonacci,i.Drawing.BaseTwoPoint),i.Drawing.fibonacci.mapping={trend:\"t\",color:\"c\",parameters:\"p\",pattern:\"pt\",opacity:\"o\",lineWidth:\"lw\",level:\"l\",extendLeft:\"e\",printLevels:\"pl\",printValues:\"pv\",timezone:\"tz\",display:\"d\"},r.J6C(0),i.Drawing.fibonacci.prototype.recommendedLevels=[-.618,-.382,0,.382,r.y6C(\"0.5\",0),.618,1,1.382,1.618],i.Drawing.fibonacci.prototype.configs=[\"color\",\"fillColor\",\"lineWidth\",\"pattern\",\"parameters\"],i.Drawing.fibonacci.prototype.initializeSettings=function(t){var e,i;if((e=this.recommendedLevels)&&!t.currentVectorParameters.fibonacci.fibsAlreadySet){i=t.currentVectorParameters.fibonacci.fibs;for(var a=0;a<i.length;a++){delete i[a].display;for(var r=0;r<e.length;r++)i[a].level==e[r]&&(i[a].display=!0)}}},i.Drawing.fibonacci.prototype.setOuter=function(){var t,e,a,n,s,o,l,h,c,u,d,p,g,m;if(e=(t=this.stx).panels[this.panelName]){a=Math.max(this.p0[1],this.p1[1]),n=Math.min(this.p0[1],this.p1[1]),r.O6C(0),s=r.c6C(a,n),this.outer={p0:i.clone(this.p0),p1:i.clone(this.p1)},o=t.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),r.M2q(),l=t.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),h=t.pixelFromTick(this.p0[0],e.chart),c=t.pixelFromTick(this.p1[0],e.chart),u=0,r.J6C(27),d=r.y6C(\"1\",1090404096);for(var f=0;f<this.parameters.fibs.length;f++)(p=this.parameters.fibs[f]).level>=u&&p.level<=d||!p.display||(g=t.pixelFromValueAdjusted(e,this.p0[0],l<o?a-s*p.level:n+s*p.level),m=i.xIntersection({x0:h,x1:c,y0:o,y1:l},g),p.level<u?(u=p.level,this.outer.p1[1]=t.valueFromPixel(g,e),this.outer.p1[0]=t.tickFromPixel(m,e.chart)):p.level>d&&(d=p.level,this.outer.p0[1]=t.valueFromPixel(g,e),r.O6C(22),this.outer.p0[r.y6C(\"0\",0)]=t.tickFromPixel(m,e.chart)))}},i.Drawing.fibonacci.prototype.click=function(t,e,a){var n,s;if(n=this.stx.panels[this.panelName]){1545327788,-209000990,s=2;for(var o=1;1545327788!==r.v7Z(o.toString(),o.toString().length,72655);o++)this.copyConfig(),s+=2;return-209000990!==r.W7Z(s.toString(),s.toString().length,59140)&&this.copyConfig(),this.copyConfig(),this.penDown?this.accidentalClick(e,a)?this.dragToDraw:(this.setPoint(1,e,a,n.chart),this.setOuter(),this.parameters=i.clone(this.parameters),this.penDown=!1,r.M2q(),!0):(this.setPoint(0,e,a,n.chart),this.penDown=!0,!1)}},i.Drawing.fibonacci.prototype.render=function(t){var e,a,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,B,E,O,L,N,H;if(\"seg\",\"me\",\"n\",\"t\",\"a\",\"uto\",\"middl\",\"e\",\"s\",\"o\",\"l\",\"id\",r.M2q(),(e=this.stx.panels[this.panelName])&&(a=e.yAxis,this.p1)){n=Math.max(this.p0[1],this.p1[1]),s=Math.min(this.p0[1],this.p1[1]),o=a.flipped?s-n:n-s,l=this.stx.pixelFromTick(this.p0[0],e.chart),h=this.stx.pixelFromTick(this.p1[0],e.chart),c=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),u=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),d=Math.min(u,c),p=Math.max(u,c),r.J6C(0),g=r.c6C(p,d),r.J6C(28),m=r.c6C(u,0,c,h,l),f={color:\"auto\",parameters:{pattern:\"solid\",opacity:.25,lineWidth:1}},this.parameters.trend||(this.parameters.trend=f),y=this.getLineColor(this.parameters.trend.color),t.textBaseline=\"middle\",this.stx.canvasFont(\"stx_yaxis\",t),v=t.measureText(\"161.8%\").width+10,x=Number.MAX_VALUE,C=Number.MAX_VALUE,b=-1*Number.MAX_VALUE,S=-1*Number.MAX_VALUE,(\"auto\"==(w=this.color)||i.isTransparent(w))&&(w=this.stx.defaultColor),this.rays=[];for(var I=0;I<this.parameters.fibs.length;I++)\"undefin\",\"ed\",\"aut\",\"o\",\"a\",\"u\",\"t\",\"o\",\"l\",\"e\",\"f\",\"t\",t.textAlign=\"left\",t.fillStyle=w,(k=this.parameters.fibs[I]).display&&(D=this.stx.pixelFromValueAdjusted(e,this.p0[0],u<c?n-o*k.level:s+o*k.level),T=i.xIntersection({x0:l,x1:h,y0:c,y1:u},D),M=this.parameters.extendLeft?0:T,A=e.left+e.width,this.parameters.printLevels&&(\"ri\",\"ght\",P=Math.round(1e3*k.level)/10+\"%\",A-=v,this.parameters.printValues&&(t.fillStyle=w,this.stx.canvasFont(\"stx_yaxis\",t)),A<M&&(t.textAlign=\"right\"),t.fillText(P,A,D),A<M?A+=5:A-=5),this.parameters.printValues&&T<e.width&&(F=this.stx.transformedPriceFromPixel(D,e),F=a.priceFormatter?a.priceFormatter(this.stx,e,F):this.stx.formatYAxisPrice(F,e),t==this.stx.chart.context&&this.stx.endClip(),this.stx.createYAxisLabel(e,F,D,w,null,t),t==this.stx.chart.context&&this.stx.startClip(e.name)),(\"auto\"==(_=k.color)||i.isTransparent(_))&&(_=this.color),(\"auto\"==_||i.isTransparent(_))&&(_=this.stx.defaultColor),(\"auto\"==(B=k.color)||i.isTransparent(B))&&(B=this.fillColor),(\"auto\"==B||i.isTransparent(B))&&(B=this.stx.defaultColor),t.fillStyle=B,E=i.clone(k.parameters),this.highlighted&&(E.opacity=1),this.stx.plotLine(M,A,D,D,this.highlighted?y:_,\"segment\",t,e,E),this.rays.push([[M,D],[A,D]]),t.globalAlpha=.05,t.beginPath(),t.moveTo(A,D),t.lineTo(M,D),M?t.lineTo(h,u):t.lineTo(M,u),t.lineTo(A,u),void 0!==B&&t.fill(),t.globalAlpha=1,D<C&&(x=T,C=D),D>S&&(b=T,S=D));for(var R=0;R<=1;R++)O=m?p-g*R:d+g*R,(O=Math.round(O))<C&&(x=i.xIntersection({x0:l,x1:h,y0:c,y1:u},O),C=O),O>S&&(b=i.xIntersection({x0:l,x1:h,y0:c,y1:u},O),S=O);L=i.clone(this.parameters.trend.parameters),this.highlighted&&(L.opacity=1),this.stx.plotLine(x,b,C,S,y,\"segment\",t,e,L),this.highlighted&&(N=\"p0\"==this.highlighted,H=\"p1\"==this.highlighted,this.littleCircle(t,l,c,N),this.littleCircle(t,h,u,H))}},i.Drawing.fibonacci.prototype.reposition=function(t,e,a,n){e&&(i.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments),r.y2q(),this.adjust())},i.Drawing.fibonacci.prototype.intersected=function(t,e,a){var n,s,o,l,h,c;if(n=this.p0,s=this.p1,!n||!s)return null;for(var u in o={0:n,1:s})if(this.pointIntersection(o[u][0],o[u][1],a))return\"d\",\"r\",\"ag\",r.J6C(1),this.highlighted=r.y6C(\"p\",u),{action:\"drag\",point:\"p\"+u};if(l=this.outer,h=this.rays,!(c=l&&this.lineIntersection(t,e,a,\"segment\",l.p0,l.p1)))for(var d=0;d<h.length;d++)if(this.lineIntersection(t,e,a,\"ray\",h[d][0],h[d][1],!0)){c=!0;break}return c?(\"mo\",\"ve\",this.highlighted=!0,{action:\"move\",p0:i.clone(n),p1:i.clone(s),tick:t,value:e}):null},i.Drawing.fibonacci.prototype.reconstruct=function(t,e){e=i.replaceFields(e,i.reverseObject(i.Drawing.fibonacci.mapping)),this.stx=t,this.parameters=e.parameters,this.parameters||(this.parameters=i.clone(this.stx.currentVectorParameters.fibonacci)),this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,this.d0=e.d0,this.d1=e.d1,this.d2=e.d2,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.tzo2=e.tzo2,this.v0=e.v0,this.v1=e.v1,this.v2=e.v2,this.adjust()},i.Drawing.fibonacci.prototype.adjust=function(){var t;t=this.stx.panels[this.panelName],r.y2q(),t&&(this.setPoint(0,this.d0,this.v0,t.chart),this.setPoint(1,this.d1,this.v1,t.chart),this.setOuter())},i.Drawing.fibonacci.prototype.serialize=function(){var t;return t={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2},i.replaceFields(t,i.Drawing.fibonacci.mapping)},i.Drawing.retracement=function(){this.name=\"retracement\"},i.inheritsFrom(i.Drawing.retracement,i.Drawing.fibonacci),i.Drawing.fibprojection=function(){this.name=\"fibprojection\",this.dragToDraw=!1,this.p2=null},i.inheritsFrom(i.Drawing.fibprojection,i.Drawing.fibonacci),r.J6C(12),i.Drawing.fibprojection.prototype.recommendedLevels=[0,r.y6C(1,\"0.618\"),1,r.c6C(1,\"1.272\"),1.618,2.618,4.236],i.Drawing.fibprojection.prototype.click=function(t,e,a){var n,s;if(n=this.stx.panels[this.panelName]){if(this.copyConfig(),!this.penDown)return this.setPoint(0,e,a,n.chart),this.penDown=!0,!1;if(this.accidentalClick(e,a))return this.stx.undo(),!0;if(null!==this.p2)return this.setPoint(2,this.p2[0],this.p2[1],n.chart),this.parameters=i.clone(this.parameters),!0;178507599,r.y2q(),-689814195,s=2;for(var o=1;178507599!==r.v7Z(o.toString(),o.toString().length,51090);o++)this.setPoint(2,e,a,n.chart),this.p2=[this.p1[5],this.p1[3]],s+=2;return-689814195!==r.v7Z(s.toString(),s.toString().length,48787)&&(this.setPoint(1,e,a,n.chart),this.p2=[this.p1[0],this.p1[1]]),!1}},i.Drawing.fibprojection.prototype.render=function(t){var e,a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A;if(\"au\",\"to\",\"s\",\"t\",\"x_\",\"yaxis\",(e=this.stx.panels[this.panelName])&&(a=e.yAxis,this.p1)){if(r=this.p1[1]-this.p0[1],n=this.stx.pixelFromTick(this.p0[0],e.chart),s=this.stx.pixelFromTick(this.p1[0],e.chart),o=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),l=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),h=null,c=null,this.p2&&(h=this.stx.pixelFromTick(this.p2[0],e.chart),c=this.stx.pixelFromValueAdjusted(e,this.p2[0],this.p2[1])),u={color:\"auto\",parameters:{pattern:\"solid\",opacity:.25,lineWidth:1}},this.parameters.trend||(this.parameters.trend=u),d=this.getLineColor(this.parameters.trend.color),t.textBaseline=\"middle\",this.stx.canvasFont(\"stx_yaxis\",t),p=t.measureText(\"161.8%\").width+10,(\"auto\"==(g=this.color)||i.isTransparent(g))&&(g=this.stx.defaultColor),this.p2){this.rays=[];for(var P=0;P<this.parameters.fibs.length;P++)\"u\",\"ndefine\",\"d\",\"aut\",\"o\",\"a\",\"u\",\"t\",\"o\",\"a\",\"uto\",\"l\",\"ef\",\"t\",t.textAlign=\"left\",t.fillStyle=g,(m=this.parameters.fibs[P]).display&&(f=this.stx.pixelFromValueAdjusted(e,this.p2[0],this.p2[1]+r*m.level),y=i.xIntersection({x0:n,x1:s,y0:o,y1:l},f),v=this.parameters.extendLeft?0:n,x=e.left+e.width,this.parameters.printLevels&&(C=Math.round(1e3*m.level)/10+\"%\",x-=p,this.parameters.printValues&&(t.fillStyle=g,this.stx.canvasFont(\"stx_yaxis\",t)),x<v&&(t.textAlign=\"right\"),t.fillText(C,x,f),x<v?x+=5:x-=5),this.parameters.printValues&&y<e.width&&(b=this.stx.transformedPriceFromPixel(f,e),b=a.priceFormatter?a.priceFormatter(this.stx,e,b):this.stx.formatYAxisPrice(b,e),t==this.stx.chart.context&&this.stx.endClip(),this.stx.createYAxisLabel(e,b,f,g,null,t),t==this.stx.chart.context&&this.stx.startClip(e.name)),(\"auto\"==(S=m.color)||i.isTransparent(S))&&(S=this.color),(\"auto\"==S||i.isTransparent(S))&&(S=this.stx.defaultColor),(\"auto\"==(w=m.color)||i.isTransparent(w))&&(w=this.fillColor),(\"auto\"==w||i.isTransparent(w))&&(w=this.stx.defaultColor),t.fillStyle=w,k=i.clone(m.parameters),this.highlighted&&(k.opacity=1),this.stx.plotLine(v,x,f,f,this.highlighted?d:S,\"segment\",t,e,k),this.rays.push([[v,f],[x,f]]),t.globalAlpha=.05,t.beginPath(),t.moveTo(x,f),t.lineTo(v,f),v?t.lineTo(n,c):t.lineTo(v,c),t.lineTo(x,c),void 0!==w&&t.fill(),t.globalAlpha=1)}D=i.clone(this.parameters.trend.parameters),this.highlighted&&(D.opacity=1),this.stx.plotLine(n,s,o,l,d,\"segment\",t,e,D),this.p2&&this.stx.plotLine(s,h,l,c,d,\"segment\",t,e,D),this.highlighted&&(\"p\",\"1\",\"p\",\"0\",T=\"p0\"==this.highlighted,M=\"p1\"==this.highlighted,A=\"p2\"==this.highlighted,this.littleCircle(t,n,o,T),this.littleCircle(t,s,l,M),this.littleCircle(t,h,c,A))}},i.Drawing.fibprojection.prototype.move=function(t,e,i){this.penDown&&(this.copyConfig(),r.M2q(),null===this.p2?this.p1=[e,i]:this.p2=[e,i],this.render(t))},i.Drawing.fibprojection.prototype.reposition=function(t,e,i,a){var n,s,o,l;n=2;for(var h=1;-606330089!==r.W7Z(h.toString(),h.toString().length,62107);h++){if(-e)return;s=this.stx.panels[this.panelName],o=e.tick*i,r.O6C(27),n+=r.y6C(\"2\",1327227296)}if(-1719702270!==r.W7Z(n.toString(),n.toString().length,26459)){if(!e)return;s=this.stx.panels[this.panelName],o=e.tick-i}l=e.value-a,\"move\"==e.action?(this.setPoint(0,e.p0[0]-o,e.p0[1]-l,s.chart),this.setPoint(1,e.p1[0]-o,e.p1[1]-l,s.chart),this.setPoint(2,e.p2[0]-o,e.p2[1]-l,s.chart),this.render(t)):\"drag\"==e.action&&(this[e.point]=[i,a],this.setPoint(0,this.p0[0],this.p0[1],s.chart),this.setPoint(1,this.p1[0],this.p1[1],s.chart),this.setPoint(2,this.p2[0],this.p2[1],s.chart),this.render(t))},i.Drawing.fibprojection.prototype.intersected=function(t,e,a){var n,s,o,l,h,c;if(\"seg\",\"me\",\"n\",\"t\",n=this.p0,s=this.p1,o=this.p2,!n||!s||!o)return null;for(var u in l={0:n,1:s,2:o})if(this.pointIntersection(l[u][0],l[u][1],a))return\"d\",\"r\",\"a\",\"g\",r.O6C(1),this.highlighted=r.y6C(\"p\",u),{action:\"drag\",point:\"p\"+u};if(h=this.rays,!(c=this.lineIntersection(t,e,a,\"segment\",n,s)||this.lineIntersection(t,e,a,\"segment\",s,o)))for(var d=0;d<h.length;d++)if(this.lineIntersection(t,e,a,\"ray\",h[d][0],h[d][1],!0)){c=!0;break}return c?(\"m\",\"ove\",this.highlighted=!0,{action:\"move\",p0:i.clone(n),p1:i.clone(s),p2:i.clone(o),tick:t,value:e}):null},i.Drawing.fibprojection.prototype.adjust=function(){var t;(t=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,t.chart),this.setPoint(1,this.d1,this.v1,t.chart),this.setPoint(2,this.d2,this.v2,t.chart))},i.Drawing.fibarc=function(){this.name=\"fibarc\"},i.inheritsFrom(i.Drawing.fibarc,i.Drawing.fibonacci),i.Drawing.fibarc.prototype.recommendedLevels=[.382,.5,.618,1],i.Drawing.fibarc.prototype.setOuter=function(){var t,e,a,n,s,o,l;(t=this.stx.panels[this.panelName])&&(this.outer={p0:i.clone(this.p0),p1:i.clone(this.p1)},e=this.stx.pixelFromValueAdjusted(t,this.p0[0],this.p0[1]),a=this.stx.pixelFromValueAdjusted(t,this.p1[0],this.p1[1]),n=this.stx.pixelFromTick(this.p0[0],t.chart),s=this.stx.pixelFromTick(this.p1[0],t.chart),r.O6C(29),o=r.y6C(e,\"2\",a,997697888),l=i.xIntersection({x0:n,x1:s,y0:e,y1:a},o),r.M2q(),this.outer.p0[1]=this.stx.valueFromPixel(o,t),this.outer.p0[0]=this.stx.tickFromPixel(l,t.chart))},i.Drawing.fibarc.prototype.intersected=function(t,e,a){var n,s,o,l,h,c,u,d,p,g;if(\"segmen\",\"t\",n=this.stx.panels[this.panelName]){if(s=this.p0,o=this.p1,l=this.outer,!s||!o)return null;for(var m in h={0:s,1:o})if(this.pointIntersection(h[m][0],h[m][1],a))return r.O6C(1),this.highlighted=r.y6C(\"p\",m),{action:\"drag\",point:\"p\"+m};return this.lineIntersection(t,e,a,\"segment\",l.p0,l.p1)?(this.highlighted=!0,{action:\"move\",p0:i.clone(s),p1:i.clone(o),tick:t,value:e}):(c={x0:s[0],x1:o[0],y0:s[1],y1:o[1]},u=i.convertBoxToPixels(this.stx,this.panelName,c),d={x:Math.abs(Math.sqrt(2)*(u.x1-u.x0)),y:Math.abs(Math.sqrt(2)*(u.y1-u.y0))},p=this.stx.pixelFromTick(t,n.chart),g=this.stx.pixelFromValueAdjusted(n,t,e),p+a.r<u.x1-d.x||p-a.r>u.x1+d.x||g+a.r<u.y1-d.y||g-a.r>u.y1+d.y||u.y0<u.y1&&g-a.r>u.y1||u.y0>u.y1&&g+a.r<u.y1?null:(r.y2q(),this.highlighted=!0,{action:\"move\",p0:i.clone(this.p0),p1:i.clone(this.p1),tick:t,value:e}))}},i.Drawing.fibarc.prototype.render=function(t){var e,a,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k;if(\"a\",\"u\",\"t\",\"o\",\"m\",\"i\",\"d\",\"dle\",(e=this.stx.panels[this.panelName])&&(a=e.yAxis,r.y2q(),this.p1)){n=this.stx.pixelFromTick(this.p0[0],e.chart),s=this.stx.pixelFromTick(this.p1[0],e.chart),o=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),l=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),r.O6C(30),h=r.y6C(l,o),r.J6C(31),c=Math.abs(r.c6C(n,s,o,l)),u=this.getLineColor(this.parameters.trend.color),t.textBaseline=\"middle\",this.stx.canvasFont(\"stx_yaxis\",t),(\"auto\"==(d=this.color)||i.isTransparent(d))&&(d=this.stx.defaultColor);for(var D=0;D<this.parameters.fibs.length;D++)\"au\",\"t\",\"o\",\"a\",\"uto\",\"au\",\"t\",\"o\",t.fillStyle=d,(p=this.parameters.fibs[D]).level<0||!p.display||(g=Math.abs(this.p1[1]-this.p0[1])*Math.sqrt(2)*p.level,m=this.p1[1]+g*(h?-1:1)*(a.flipped?-1:1),f=this.stx.pixelFromValueAdjusted(e,this.p0[0],m),y=i.xIntersection({x0:n,x1:s,y0:o,y1:l},f),this.parameters.printLevels&&(t.textAlign=\"center\",v=Math.round(1e3*p.level)/10+\"%\",this.parameters.printValues&&(t.fillStyle=d,this.stx.canvasFont(\"stx_yaxis\",t)),t.fillText(v,s,Math.round(f-5))),t.textAlign=\"left\",this.parameters.printValues&&y<e.width&&(x=m,x=a.priceFormatter?a.priceFormatter(this.stx,e,x):this.stx.formatYAxisPrice(x,e),t==this.stx.chart.context&&this.stx.endClip(),this.stx.createYAxisLabel(e,x,f,d,null,t),t==this.stx.chart.context&&this.stx.startClip(e.name)),(\"auto\"==(C=p.color)||i.isTransparent(C))&&(C=this.color),(\"auto\"==C||i.isTransparent(C))&&(C=this.stx.defaultColor),t.strokeStyle=this.highlight?u:C,(\"auto\"==(b=p.color)||i.isTransparent(b))&&(b=this.fillColor),(\"auto\"==b||i.isTransparent(b))&&(b=this.stx.defaultColor),t.fillStyle=b,t.globalAlpha=this.highlighted?1:p.parameters.opacity,t.lineWidth=p.parameters.lineWidth,t.setLineDash&&(t.setLineDash(i.borderPatternToArray(t.lineWidth,p.parameters.pattern)),t.lineDashOffset=0),t.save(),t.beginPath(),r.J6C(7),t.scale(r.y6C(1,c),1),r.J6C(12),t.arc(r.c6C(c,s),l,Math.abs(f-l),0,Math.PI,!h),\"none\"!=this.pattern&&t.stroke(),t.globalAlpha=.05,t.fill(),t.restore(),t.setLineDash&&t.setLineDash([]),t.globalAlpha=1);t.textAlign=\"left\",S=i.clone(this.parameters.trend.parameters),this.highlighted&&(S.opacity=1),r.J6C(32),this.stx.plotLine(s,r.c6C(\"2\",n,s),l,r.c6C(l,o,2,r.O6C(33)),u,\"segment\",t,e,S),this.highlighted&&(w=\"p0\"==this.highlighted,k=\"p1\"==this.highlighted,this.littleCircle(t,n,o,w),this.littleCircle(t,s,l,k))}},i.Drawing.fibfan=function(){r.y2q(),this.name=\"fibfan\"},i.inheritsFrom(i.Drawing.fibfan,i.Drawing.fibonacci),r.J6C(0),i.Drawing.fibfan.prototype.recommendedLevels=[0,.382,.5,.618,r.y6C(\"1\",0)],i.Drawing.fibfan.prototype.setOuter=function(){},i.Drawing.fibfan.prototype.render=function(t){var e,a,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F;if(\"a\",\"u\",r.y2q(),\"t\",\"o\",\"161\",\".\",\"8\",\"%\",(e=this.stx.panels[this.panelName])&&(a=e.yAxis,this.p1)){n=this.stx.pixelFromTick(this.p0[0],e.chart),s=this.stx.pixelFromTick(this.p1[0],e.chart),o=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),l=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),h=Math.min(l,o),c=Math.max(l,o),r.J6C(0),u=r.y6C(c,h),r.O6C(34),d=r.c6C(\"0\",0,s,n,l,o),p=this.getLineColor(this.parameters.trend.color),t.textBaseline=\"middle\",this.stx.canvasFont(\"stx_yaxis\",t),g=t.measureText(\"161.8%\").width+10,m=Number.MAX_VALUE,f=-1*Number.MAX_VALUE,(\"auto\"==(y=this.color)||i.isTransparent(y))&&(y=this.stx.defaultColor),this.rays=[];for(var _=0;_<this.parameters.fibs.length;_++)\"au\",\"to\",t.fillStyle=y,(v=this.parameters.fibs[_]).display&&(x=this.stx.pixelFromValueAdjusted(e,this.p0[0],(this.p0[1]-this.p1[1])*v.level+this.p1[1]),C=i.xIntersection({x0:s,x1:s,y0:o,y1:l},x),b=e.left,s>n&&(b+=e.width),r.J6C(35),S=r.y6C(b,o,n,n,o,C,x),n>b-(this.parameters.printLevels?g+5:0)&&s>n||n<b+(this.parameters.printLevels?g+5:0)&&s<n||(this.parameters.printLevels&&(w=Math.round(1e3*v.level)/10+\"%\",s>n?(b-=g,t.textAlign=\"left\"):(b+=g,t.textAlign=\"right\"),this.parameters.printValues&&(\"s\",\"tx_yaxis\",t.fillStyle=y,this.stx.canvasFont(\"stx_yaxis\",t)),r.J6C(35),S=r.y6C(b,o,n,n,o,C,x),t.fillText(w,b,S),s>n?b-=5:b+=5),t.textAlign=\"left\",this.parameters.printValues&&C<e.width&&(k=this.stx.transformedPriceFromPixel(x,e),k=a.priceFormatter?a.priceFormatter(this.stx,e,k):this.stx.formatYAxisPrice(k,e),t==this.stx.chart.context&&this.stx.endClip(),this.stx.createYAxisLabel(e,k,x,y,null,t),t==this.stx.chart.context&&this.stx.startClip(e.name)),(\"auto\"==(D=v.color)||i.isTransparent(D))&&(D=this.color),(\"auto\"==D||i.isTransparent(D))&&(D=this.stx.defaultColor),(\"auto\"==(T=v.color)||i.isTransparent(T))&&(T=this.fillColor),(\"auto\"==T||i.isTransparent(T))&&(T=this.stx.defaultColor),t.fillStyle=T,this.parameters.printLevels&&(r.O6C(35),S=r.c6C(b,o,n,n,o,C,x)),M=i.clone(v.parameters),this.highlighted&&(M.opacity=1),this.stx.plotLine(n,b,o,S,this.highlighted?p:D,\"segment\",t,e,M),this.rays.push([[n,o],[b,S]]),t.globalAlpha=.05,t.beginPath(),t.moveTo(b,S),t.lineTo(n,o),t.lineTo(b,o),t.fill(),t.globalAlpha=1,x<m&&(m=x),x>f&&(f=x)));for(var B=0;B<=1;B++)A=d?c-u*B:h+u*B,(A=Math.round(A))<m&&(m=A),A>f&&(f=A);this.highlighted&&(P=\"p0\"==this.highlighted,F=\"p1\"==this.highlighted,this.littleCircle(t,n,o,P),this.littleCircle(t,s,l,F))}},i.Drawing.fibtimezone=function(){this.name=\"fibtimezone\",r.M2q()},i.inheritsFrom(i.Drawing.fibtimezone,i.Drawing.fibonacci),i.Drawing.fibtimezone.prototype.render=function(t){var e,a,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b;if(\"se\",\"gmen\",\"t\",\"a\",\"u\",\"to\",(e=this.stx.panels[this.panelName])&&this.p1){a=this.stx.pixelFromTick(this.p0[0],e.chart),n=this.stx.pixelFromTick(this.p1[0],e.chart),s=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),o=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),l=[1,0],h=this.getLineColor(this.parameters.trend.color),t.textBaseline=\"middle\",this.stx.canvasFont(\"stx_yaxis\",t),20,c=this.p1[0]-this.p0[0],(\"auto\"==(u=this.color)||i.isTransparent(u))&&(u=this.stx.defaultColor),t.textAlign=\"center\",d=a,p=e.yAxis.top,g=e.yAxis.bottom,r.O6C(12),m=r.c6C(1,\"0\"),(\"auto\"==(f=this.parameters.timezone.color)||i.isTransparent(f))&&(f=this.color),(\"auto\"==f||i.isTransparent(f))&&(f=this.stx.defaultColor),(\"auto\"==(y=this.parameters.timezone.color)||i.isTransparent(y))&&(y=this.fillColor),(\"auto\"==y||i.isTransparent(y))&&(y=this.stx.defaultColor),this.parameters.printLevels&&(r.O6C(0),g-=r.c6C(20,7)),v=i.clone(this.parameters.timezone.parameters),this.highlighted&&(v.opacity=1);do{if(d=this.stx.pixelFromTick(this.p0[0]+m*c,e.chart),a<n&&d>e.left+e.width)break;if(a>n&&d<e.left)break;this.parameters.printLevels&&(t.fillStyle=u,t.fillText(n>a?m:-1*m,d,g+7)),t.fillStyle=y,this.stx.plotLine(d,d,0,g,this.highlighted?h:f,\"segment\",t,e,v),t.globalAlpha=.05,t.beginPath(),t.moveTo(a,p),t.lineTo(d,p),t.lineTo(d,g),t.lineTo(a,g),t.fill(),t.globalAlpha=1,m=l[0]+l[1],l.unshift(m)}while(c);t.textAlign=\"left\",this.stx.plotLine(a,n,s,o,h,\"segment\",t,e,v),this.highlighted?(\"p\",\"1\",\"p\",\"0\",x=\"p0\"==this.highlighted,C=\"p1\"==this.highlighted,this.littleCircle(t,a,s,x),this.littleCircle(t,n,o,C)):(b=this.stx.valueFromPixel(e.height/2,e),this.setPoint(0,this.p0[0],b,e.chart),this.setPoint(1,this.p1[0],b,e.chart))}},i.Drawing.fibtimezone.prototype.intersected=function(t,e,a){var n,s,o,l;if(n=this.p0,s=this.p1,o=this.stx.panels[this.panelName],!n||!s||!o)return null;for(var h in r.y2q(),l={0:n,1:s})if(this.pointIntersection(l[h][0],l[h][1],a))return r.J6C(1),this.highlighted=r.c6C(\"p\",h),{action:\"drag\",point:\"p\"+h};return this.lineIntersection(t,e,a,\"segment\")||a.x0<=this.p0[0]&&a.x1>=n[0]?(this.highlighted=!0,{action:\"move\",p0:i.clone(n),p1:i.clone(s),tick:t,value:e}):null},i.Drawing.arrow_v0=function(){var t;this.name=\"arrow\",t=2;for(var e=1;466819722!==r.v7Z(e.toString(),e.toString().length,37308);e++)r.J6C(27),this.dimension=[68,r.y6C(\"33\",1397845184)],r.J6C(9),this.points=[[\"L\",r.c6C(1312303040,\"0\"),1,\"L\",6,8,\"L\",2,r.y6C(\"2\",2,r.O6C(22)),6726967,18,8,587838,9,20,\"L\",8,1,\"L\",6,3,\"L\",7,5]],t+=2;2101451265!==r.v7Z(t.toString(),t.toString().length,22998)&&(this.dimension=[86,13],r.J6C(23),this.points=[[\"L\",3,0,\"L\",7,0,\"L\",0,3,\"L\",53,r.y6C(0,\"1\"),\"L\",10,98,312142,2,2,\"L\",8,0,\"L\",2,2]]),this.dimension=[11,11],r.O6C(0),this.points=[[\"M\",3,0,\"L\",7,0,\"L\",r.y6C(\"7\",0),5,\"L\",10,5,\"L\",5,10,\"L\",r.y6C(0,\"0\",r.J6C(23)),5,\"L\",3,5,\"L\",3,0]]},i.inheritsFrom(i.Drawing.arrow_v0,i.Drawing.shape),i.Drawing.xcross=function(){this.name=\"xcross\",this.dimension=[7,7],this.points=[[\"M\",1,0,\"L\",3,2,\"L\",5,0,\"L\",6,1,\"L\",4,3,\"L\",6,5,\"L\",5,6,\"L\",3,4,\"L\",1,6,\"L\",0,5,\"L\",2,3,\"L\",0,1,\"L\",1,0]],r.y2q()},i.inheritsFrom(i.Drawing.xcross,i.Drawing.shape),i.Drawing.check=function(){this.name=\"check\",this.dimension=[8,9],r.M2q(),this.points=[[\"M\",1,5,\"L\",0,6,\"L\",2,8,\"L\",7,1,\"L\",6,0,\"L\",2,6,\"L\",1,5]]},i.inheritsFrom(i.Drawing.check,i.Drawing.shape),i.Drawing.star=function(){this.name=\"star\",this.dimension=[12,12],r.O6C(22),this.points=[[\"M\",0,4,\"L\",4,4,\"L\",5.5,0,\"L\",7,r.y6C(\"4\",4),\"L\",11,4,\"L\",8,7,\"L\",9,11,\"L\",5.5,9,\"L\",2,11,\"L\",3,7,\"L\",0,4]]},i.inheritsFrom(i.Drawing.star,i.Drawing.shape),i.Drawing.heart=function(){this.name=\"heart\",this.dimension=[23,20],r.J6C(22),this.points=[[\"M\",11,r.y6C(\"3\",1),\"B\",11,2.4,r.y6C(\"10\",2,r.J6C(22)),0,6,0,\"B\",0,0,0,7.5,r.y6C(\"0\",2061200352,r.J6C(27)),7.5,\"B\",0,11,4,15.4,11,19,\"B\",18,15.4,22,11,22,7.5,\"B\",22,7.5,r.c6C(1317559552,\"22\",r.J6C(9)),0,16,r.c6C(\"0\",255834624,r.O6C(27)),\"B\",13,0,11,2.4,11,3]]},i.inheritsFrom(i.Drawing.heart,i.Drawing.shape),i.Drawing.focusarrow=function(){this.name=\"focusarrow\",this.dimension=[7,5],this.points=[[\"M\",0,0,\"L\",2,2,\"L\",0,4,\"L\",0,0],[\"M\",6,0,\"L\",4,2,\"L\",6,4,\"L\",6,0]]},i.inheritsFrom(i.Drawing.focusarrow,i.Drawing.shape),i.Drawing.crossline=function(){r.M2q(),this.name=\"crossline\"},i.inheritsFrom(i.Drawing.crossline,i.Drawing.horizontal),i.extend(i.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(t,e){return!1},adjust:function(){var t;r.M2q(),(t=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,t.chart),this.p1=i.clone(this.p0))},intersected:function(t,e,a){var n;return this.p0&&this.p1?(this.p1[0]+=1,n=this.lineIntersection(t,e,a,\"line\"),this.p1=i.clone(this.p0),n||(\"lin\",\"e\",r.J6C(27),this.p1[r.y6C(\"1\",2033279712)]+=r.y6C(1,\"1\",r.O6C(12)),n=this.lineIntersection(t,e,a,\"line\"),this.p1=i.clone(this.p0),n)?(this.highlighted=!0,this.pointIntersection(this.p0[0],this.p0[1],a)&&(this.highlighted=\"p0\"),{action:\"move\",p0:i.clone(this.p0),p1:i.clone(this.p1),tick:t,value:e}):null):null},render:function(t){var e,n,s,o,l,h,c,u,d,p,g,m;(e=this.stx.panels[this.panelName])&&(n=this.stx.pixelFromTick(this.p0[0],e.chart),s=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),o=this.getLineColor(),l={pattern:this.pattern,lineWidth:this.lineWidth},r.O6C(1),this.stx.plotLine(n,r.c6C(n,100),s,s,o,\"horizontal\",t,e,l),r.J6C(19),this.stx.plotLine(n,n,s,r.c6C(\"100\",s,0),o,\"vertical\",t,e,l),r.M2q(),this.axisLabel&&!this.repositioner&&(this.stx.endClip(),h=this.p0[1],e.chart.transformFunc&&(h=e.chart.transformFunc(this.stx,e.chart,h)),h=e.yAxis.priceFormatter?e.yAxis.priceFormatter(this.stx,e,h):this.stx.formatYAxisPrice(h,e),this.stx.createYAxisLabel(e,h,s,o),this.stx.startClip(e.name),this.p0[0]>=0&&!this.stx.chart.xAxis.noDraw&&(c=this.stx.dateFromTick(this.p0[0],e.chart,!0),i.ChartEngine.isDailyInterval(this.stx.layout.interval)?c.setHours(0,0,0,0):(d=1e3*c.getSeconds()+c.getMilliseconds(),a.Date&&this.stx.displayZone&&(u=new a.Date(c.getTime(),this.stx.displayZone),c=new Date(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours(),u.getMinutes()),c=new Date(c.getTime()+d))),p=i.mmddhhmm(i.yyyymmddhhmm(c)),e.chart.xAxis.formatter?p=e.chart.xAxis.formatter(c,this.name,null,null,p):this.stx.internationalizer&&(0!==c.getHours()||0!==c.getMinutes()?(g=this.stx.internationalizer.monthDay.format(c),g+=\" \"+this.stx.internationalizer.hourMinute.format(c)):g=this.stx.internationalizer.yearMonthDay.format(c),p=g),this.stx.endClip(),this.stx.createXAxisLabel(e,p,n,o,null,!0),this.stx.startClip(e.name))),this.highlighted&&(m=\"p0\"==this.highlighted,this.littleCircle(t,n,s,m)))}},!0),i.Drawing.speedarc=function(){this.name=\"speedarc\",r.y2q(),this.printLevels=!0},i.inheritsFrom(i.Drawing.speedarc,i.Drawing.segment),i.extend(i.Drawing.speedarc.prototype,{defaultOpacity:.25,configs:[\"color\",\"fillColor\",\"lineWidth\",\"pattern\"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor,this.fillColor=this.stx.currentVectorParameters.fillColor,this.lineWidth=this.stx.currentVectorParameters.lineWidth,r.y2q(),this.pattern=this.stx.currentVectorParameters.pattern},intersected:function(t,e,a){var n,s,o,l,h;if(\"m\",r.M2q(),\"ov\",\"e\",!this.p0||!this.p1)return null;for(var c in n={0:this.p0,1:this.p1})if(this.pointIntersection(n[c][0],n[c][1],a))return\"dra\",\"g\",r.J6C(1),this.highlighted=r.y6C(\"p\",c),{action:\"drag\",point:\"p\"+c};return this.lineIntersection(t,e,a,this.name)?(this.highlighted=!0,{action:\"move\",p0:i.clone(this.p0),p1:i.clone(this.p1),tick:t,value:e}):(s=this.p1[0]-(this.p0[0]-this.p1[0]),o=this.p0[0],l=this.p1[1],h=this.p0[1],t>Math.max(s,o)||t<Math.min(s,o)||e>Math.max(h,l)||e<Math.min(h,l)?null:(this.highlighted=!0,{action:\"move\",p0:i.clone(this.p0),p1:i.clone(this.p1),tick:t,value:e}))},render:function(t){var e,a,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x;if(\"segm\",\"ent\",\"l\",\"e\",\"f\",\"t\",\"st\",\"x_yax\",\"is\",(e=this.stx.panels[this.panelName])&&this.p1){if(a=this.stx.pixelFromTick(this.p0[0],e.chart),n=this.stx.pixelFromTick(this.p1[0],e.chart),s=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),o=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),r.J6C(30),l=r.c6C(o,s),r.O6C(31),h=Math.abs(r.c6C(a,n,s,o)),c=this.getLineColor(),t.strokeStyle=c,(\"auto\"==(u=this.fillColor)||i.isTransparent(u))&&(u=this.stx.defaultColor),t.fillStyle=u,t.setLineDash){-1660875588,2073763358,d=2;for(var C=1;-1660875588!==r.W7Z(C.toString(),C.toString().length,73810);C++)t.setLineDash(i.borderPatternToArray(this.lineWidth,this.pattern)),d+=2;2073763358!==r.v7Z(d.toString(),d.toString().length,72038)&&t.setLineDash(i.borderPatternToArray(this.lineWidth,this.pattern)),t.lineDashOffset=0}this.stx.canvasFont(\"stx_yaxis\",t);for(var b=1;b<3;b++)p=Math.abs(this.p1[1]-this.p0[1])*Math.sqrt(2)*b/3,g=this.p1[1]+p*(l?-1:1)*(e.yAxis.flipped?-1:1),m=this.stx.pixelFromValueAdjusted(e,this.p0[0],g),t.save(),t.beginPath(),r.O6C(36),t.scale(r.c6C(h,\"1\"),1),r.J6C(12),t.arc(r.y6C(h,n),o,Math.abs(m-o),0,Math.PI,!l),t.globalAlpha=this.highlighted?1:this.defaultOpacity,\"none\"!=this.pattern&&t.stroke(),t.globalAlpha=.1,t.fill(),t.restore(),t.globalAlpha=1,this.printLevels&&(t.fillStyle=c,t.textAlign=\"center\",r.O6C(1),f=r.y6C(b,\"/3\"),t.fillText(f,n,Math.round(m-5)),t.fillStyle=u);t.textAlign=\"left\",y={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity},this.stx.plotLine(a,n,s,o,c,\"segment\",t,e,y),t.setLineDash&&t.setLineDash([]),this.highlighted&&(\"p\",\"0\",v=\"p0\"==this.highlighted,x=\"p1\"==this.highlighted,this.littleCircle(t,a,s,v),this.littleCircle(t,n,o,x))}},reconstruct:function(t,e){this.stx=t,this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.v0=e.v0,this.v1=e.v1,this.adjust()},serialize:function(){return{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1}}},!0),i.Drawing.speedline=function(){this.name=\"speedline\",this.printLevels=!0},i.inheritsFrom(i.Drawing.speedline,i.Drawing.speedarc),i.extend(i.Drawing.speedline.prototype,{intersected:function(t,e,a){var n,s,o,l;if(r.M2q(),n=this.p0,s=this.p1,!n||!s)return null;for(var h in o={0:n,1:s})if(this.pointIntersection(o[h][0],o[h][1],a))return r.J6C(1),this.highlighted=r.c6C(\"p\",h),{action:\"drag\",point:\"p\"+h};l=this.rays;for(var c=0;c<l.length;c++)if(\"r\",\"a\",\"y\",this.lineIntersection(t,e,a,\"ray\",l[c][0],l[c][1],!0))return this.highlighted=!0,{action:\"move\",p0:i.clone(n),p1:i.clone(s),tick:t,value:e};return null},render:function(t){var e,a,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D;if(\"a\",\"u\",\"t\",\"o\",\"stx_\",\"yaxis\",(e=this.stx.panels[this.panelName])&&this.p1){a=this.stx.pixelFromTick(this.p0[0],e.chart),n=this.stx.pixelFromTick(this.p1[0],e.chart),s=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),o=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),this.stx.canvasFont(\"stx_yaxis\",t),l=this.getLineColor(),(\"auto\"==(h=this.color)||i.isTransparent(h))&&(h=this.stx.defaultColor),r.y2q(),t.strokeStyle=h,(\"auto\"==(c=this.fillColor)||i.isTransparent(c))&&(c=this.stx.defaultColor),t.fillStyle=c,u={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity},g=[\"1\",\"2/3\",\"1/3\",\"3/2\",\"3\"],r.O6C(13),m=[r.c6C(2147483647,\"1\"),r.y6C(\"2\",26468864,3,r.O6C(37)),r.c6C(2147483647,\"3\",1,r.O6C(38)),r.y6C(3,2,r.J6C(7)),3],f=[],this.rays=[];for(var T=0;T<m.length;T++)(y=m[T])>1&&!this.extension||(v=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]-(this.p0[1]-this.p1[1])*y),y>1?(x=i.xIntersection({x0:a,x1:n,y0:s,y1:v},o),f.push(x)):(x=i.xIntersection({x0:n,x1:n,y0:s,y1:o},v),f.push(v)),C=y>1?x:n,b=y>1?o:v,this.confineToGrid||(C=e.left,n>a&&(C+=e.width),r.O6C(35),b=r.y6C(C,s,a,a,s,n,v)),this.printLevels&&(1!=y||this.extension)&&(t.fillStyle=h,S=0,w=0,s>o?(\"b\",\"o\",\"t\",\"tom\",r.J6C(23),w=-r.c6C(0,\"5\"),t.textBaseline=\"bottom\"):(w=5,t.textBaseline=\"top\"),a>n?(\"righ\",\"t\",S=5,t.textAlign=\"right\"):(r.O6C(27),S=-r.c6C(\"5\",853278848),t.textAlign=\"left\"),y>1?t.fillText(g[T],x+(this.confineToGrid?0:S),o):t.fillText(g[T],n,v+(this.confineToGrid?0:w)),t.fillStyle=c),this.stx.plotLine(a,C,s,b,this.highlighted?l:h,\"segment\",t,e,u),1==y&&(d=C,p=b),this.rays.push([[a,s],[C,b]]),t.globalAlpha=.1,t.beginPath(),t.moveTo(C,b),t.lineTo(a,s),t.lineTo(d,p),t.fill(),r.O6C(13),t.globalAlpha=r.c6C(2147483647,\"1\"));t.textAlign=\"left\",t.textBaseline=\"middle\",this.confineToGrid&&(t.globalAlpha=.3,t.beginPath(),r.O6C(0),t.strokeRect(a,s,r.c6C(n,a),r.c6C(o,s)),t.moveTo(a,f[1]),t.lineTo(n,f[1]),t.moveTo(a,f[2]),t.lineTo(n,f[2]),this.extension&&(t.moveTo(f[3],s),t.lineTo(f[3],o),t.moveTo(f[4],s),t.lineTo(f[4],o)),t.stroke(),t.globalAlpha=1),this.highlighted&&(k=\"p0\"==this.highlighted,D=\"p1\"==this.highlighted,this.littleCircle(t,a,s,k),this.littleCircle(t,n,o,D))}}},!0),i.Drawing.gannfan=function(){var t;t=2;for(var e=1;-983255153!==r.v7Z(e.toString(),e.toString().length,4328);e++)\"ga\",\"nnfan\",this.name=\"gannfan\",this.printLevels=!0,t+=2;-2051422183!==r.W7Z(t.toString(),t.toString().length,28833)&&(this.name=\"\",this.printLevels=!1)},i.inheritsFrom(i.Drawing.gannfan,i.Drawing.speedline),i.extend(i.Drawing.gannfan.prototype,{render:function(t){var e,a,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w;if(\"a\",\"u\",\"t\",\"o\",\"stx_\",\"yaxi\",\"s\",(e=this.stx.panels[this.panelName])&&this.p1){a=this.stx.pixelFromTick(this.p0[0],e.chart),n=this.stx.pixelFromTick(this.p1[0],e.chart),s=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),o=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),this.stx.canvasFont(\"stx_yaxis\",t),l=this.getLineColor(),(\"auto\"==(h=this.color)||i.isTransparent(h))&&(h=this.stx.defaultColor),t.strokeStyle=h,(\"auto\"==(c=this.fillColor)||i.isTransparent(c))&&(c=this.stx.defaultColor),t.fillStyle=c,u={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity},r.O6C(39),g=[1,2,3,4,8,r.y6C(\"2\",1,1),r.y6C(\"3\",\"1\",r.J6C(40)),r.y6C(\"4\",1,r.J6C(41)),r.c6C(1,8,r.J6C(7))],this.rays=[];for(var k=0;k<g.length;k++)m=g[k],r.O6C(42),f=r.c6C(a,m,a,n),r.O6C(43),y=r.c6C(s,m,o,s),v=e.left,n>a&&(v+=e.width),r.J6C(35),x=r.y6C(v,s,a,a,s,n,y),this.printLevels&&(t.fillStyle=h,C=0,b=0,s>o?(b=5,t.textBaseline=\"top\"):(\"bo\",\"t\",\"t\",\"om\",b=-5,t.textBaseline=\"bottom\"),a>n?(\"l\",\"ef\",\"t\",C=5,t.textAlign=\"left\"):(C=-5,t.textAlign=\"right\"),m>1?(\"x\",\"1\",r.O6C(1),t.fillText(r.y6C(m,\"x1\"),r.y6C(f,C),o)):(\"1\",\"x\",r.J6C(44),t.fillText(r.y6C(\"1x\",m,\"1\"),n,r.y6C(y,b,r.O6C(1)))),t.fillStyle=c),this.stx.plotLine(a,v,s,x,this.highlighted?l:h,\"segment\",t,e,u),this.rays.push([[a,s],[v,x]]),1==m&&(d=v,p=x),t.globalAlpha=.1,t.beginPath(),t.moveTo(v,x),t.lineTo(a,s),t.lineTo(d,p),t.fill(),t.globalAlpha=1;t.textAlign=\"left\",t.textBaseline=\"middle\",this.highlighted&&(S=\"p0\"==this.highlighted,w=\"p1\"==this.highlighted,this.littleCircle(t,a,s,S),this.littleCircle(t,n,o,w))}}},!0),i.Drawing.timecycle=function(){this.name=\"timecycle\",this.printLevels=!0},i.inheritsFrom(i.Drawing.timecycle,i.Drawing.speedarc),i.extend(i.Drawing.timecycle.prototype,{intersected:function(t,e,a){var n,s,o,l,h,c;if(n=this.p0,s=this.p1,o=this.stx.panels[this.panelName],!n||!s||!o)return null;for(var u in l={0:n,1:s})if(this.pointIntersection(l[u][0],l[u][1],a))return r.O6C(1),this.highlighted=r.y6C(\"p\",u),{action:\"drag\",point:\"p\"+u};if(h=this.lineIntersection(t,e,a,\"segment\"),r.M2q(),h||a.x0<=this.p0[0]&&a.x1>=n[0]){28038979,r.J6C(12),c=-r.c6C(1,\"1105588337\"),2;for(var d=1;28038979!==r.v7Z(d.toString(),d.toString().length,98789);d++)return this.highlighted=!1,{action:\"\",p0:i.clone(n),p1:i.clone(s),tick:t,value:e};if(r.W7Z(2..toString(),2..toString().length,97456)!==c)return this.highlighted=!0,{action:\"move\",p0:i.clone(n),p1:i.clone(s),tick:t,value:e}}return null},render:function(t){var e,a,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S;if(\"au\",\"to\",(e=this.stx.panels[this.panelName])&&this.p1){a=this.stx.pixelFromTick(this.p0[0],e.chart),n=this.stx.pixelFromTick(this.p1[0],e.chart),s=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),o=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),l=0,h=this.getLineColor(),t.textBaseline=\"middle\",this.stx.canvasFont(\"stx_yaxis\",t),r.O6C(22),c=r.y6C(\"20\",20),u=this.p1[0]-this.p0[0],t.textAlign=\"center\",d=a,p=e.yAxis.top,g=e.yAxis.bottom,(\"auto\"==(m=this.color)||i.isTransparent(m))&&(m=this.stx.defaultColor),(\"auto\"==(f=this.fillColor)||i.isTransparent(f))&&(f=this.stx.defaultColor),this.printLevels&&(r.O6C(0),g-=r.c6C(c,7)),y={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity},v=[],t.save(),t.fillStyle=f,t.globalAlpha=.05;do{if(d=this.stx.pixelFromTick(this.p0[0]+l*u,e.chart),l++,a<n&&d>e.left+e.width)break;if(a>n&&d<e.left)break;d<e.left||d>e.left+e.width||(t.beginPath(),t.moveTo(a,p),t.lineTo(d,p),t.lineTo(d,g),t.lineTo(a,g),t.fill(),v.push({c:l,x:d}))}while(u);t.globalAlpha=1,x=0;for(var w=0;w<v.length;w++)\"seg\",\"men\",\"t\",this.stx.plotLine(v[w].x,v[w].x,0,g,this.highlighted?h:m,\"segment\",t,e,y),this.printLevels&&(t.fillStyle=m,this.stx.chart.context.measureText(v[w].c).width+3<this.stx.layout.candleWidth+x?(t.fillText(v[w].c,v[w].x,g+7),x=0):x+=this.stx.layout.candleWidth);t.restore(),r.M2q(),t.textAlign=\"left\",this.stx.plotLine(a,n,s,o,h,\"segment\",t,e,y),this.highlighted?(C=\"p0\"==this.highlighted,b=\"p1\"==this.highlighted,this.littleCircle(t,a,s,C),this.littleCircle(t,n,o,b)):(S=this.stx.valueFromPixel(e.height/2,e),this.setPoint(0,this.p0[0],S,e.chart),this.setPoint(1,this.p1[0],S,e.chart))}}},!0),i.Drawing.regression=function(){var t,e;r.O6C(22),t=-r.y6C(\"1965319534\",1344553230),e=2;for(var i=1;r.W7Z(i.toString(),i.toString().length,7748)!==t;i++)this.name=\"\",e+=2;320260595!==r.v7Z(e.toString(),e.toString().length,29491)&&(this.name=\"\"),this.name=\"regression\"},i.inheritsFrom(i.Drawing.regression,i.Drawing.segment),i.extend(i.Drawing.regression.prototype,{configs:[\"color\",\"lineWidth\",\"pattern\",\"active1\",\"color1\",\"lineWidth1\",\"pattern1\",\"active2\",\"color2\",\"lineWidth2\",\"pattern2\",\"active3\",\"color3\",\"lineWidth3\",\"pattern3\"],copyConfig:function(t){var e;r.M2q(),i.Drawing.copyConfig(this,t),e=this.stx.currentVectorParameters,this.active1=!!e.active1,this.active2=!!e.active2,this.active3=!!e.active3,this.color1=e.color1||\"auto\",this.color2=e.color2||\"auto\",this.color3=e.color3||\"auto\",this.lineWidth1=e.lineWidth1,this.lineWidth2=e.lineWidth2,this.lineWidth3=e.lineWidth3,this.pattern1=e.pattern1,this.pattern2=e.pattern2,this.pattern3=e.pattern3},$controls:['cq-cvp-controller[cq-cvp-header=\"1\"]','cq-cvp-controller[cq-cvp-header=\"2\"]','cq-cvp-controller[cq-cvp-header=\"3\"]'],click:function(t,e,i){var a,n,s,o;if(r.y2q(),!(e<0)){if(this.copyConfig(),a=this.stx.panels[this.panelName],!this.penDown){if(this.setPoint(0,e,i,a.chart),this.penDown=!0,n=this.stx,this.field=n.highlightedDataSetField,!this.field&&a!=n.chart.panel){for(var l in n.chart.seriesRenderers)if((s=n.chart.seriesRenderers[l]).params.panel==a.name){this.field=s.seriesParams[0].field;break}for(var h in n.layout.studies)if((o=n.layout.studies[h]).panel==a.name){this.field=Object.keys(o.outputMap)[0];break}}return!1}return this.accidentalClick(e,i)?this.dragToDraw:(this.setPoint(1,e,i,a.chart),this.penDown=!1,!0)}},getYValue:function(t){var e,a,r,n,s,o,l;if(e=this.stx.chart.dataSet[t],a=this.stx.chart.dataSet[t],!e)return null;if(r=this.stx.panels[this.panelName],n=this.stx.getYAxisByField(r,this.field)||r.yAxis,this.stx.charts[r.name]&&r.chart.transformFunc&&n==r.yAxis&&(a=e.transform),!a)return null;if(s=null,o=null,l=this.stx.defaultPlotField||\"Close\",this.field){if(!(o=i.existsInObjectChain(a,this.field)))return null;s=o=o.obj[o.member],e!=a&&(s=(s=i.existsInObjectChain(e,this.field)).obj[s.member]),\"object\"==typeof o&&(o=o[l],s=s[l])}else o=a[l],s=e[l];return{transformed:o,untransformed:s}},render:function(t){var e,i,a,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,B,E,O,L,N,H;if(\"s\",\"e\",\"gment\",\"segme\",\"nt\",(e=this.stx.panels[this.panelName])&&this.p1&&!(this.p0[0]<0||this.p1[0]<0||(i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromTick(this.p1[0],e.chart),i<e.left&&a<e.left||i>e.right&&a>e.right))){n=this.stx.getYAxisByField(e,this.field),s=[],o=[],l=0,h=0,c=0,u=0,d=Math.min(this.p1[0],this.p0[0]),p=Math.max(this.p1[0],this.p0[0])+1,r.O6C(0),g=r.y6C(p,d);for(var I=d;I<p;I++)(m=this.getYValue(I))&&(s.push(m.transformed),o.push(m.untransformed));for(f=s.length,r.O6C(45),y=r.c6C(f,2,\"1\",f),r.J6C(27),v=Math.pow(y,r.c6C(\"2\",1067001184)),r.O6C(46),x=r.c6C(f,2,1,3,y),I=0;I<f;I++)c+=f*s[I]-l,l+=s[I],u+=f*o[I]-h,h+=o[I];if(r.J6C(47),C=r.c6C(c,f,x,y,l,v,f),r.J6C(48),b=r.y6C(f,C,y,l),r.J6C(47),S=r.y6C(u,f,x,y,h,v,f),r.O6C(48),w=r.y6C(f,C,y,h),this.p0[0]<this.p1[0])k=b,r.J6C(49),D=r.y6C(C,g,b),this.p0[1]=w,r.J6C(49),this.p1[1]=r.c6C(S,g,w);else{r.J6C(49),k=r.y6C(C,g,b),D=b,r.J6C(49),this.p0[1]=r.y6C(S,g,w),r.O6C(22),T=r.y6C(\"99134714\",14721274),-746185823,r.O6C(9),M=r.y6C(15218976,\"2\");for(var R=1;r.v7Z(R.toString(),R.toString().length,80116)!==T;R++)this.p1[3]=w,M+=2;-746185823!==r.W7Z(M.toString(),M.toString().length,88602)&&(this.p1[7]=w),this.p1[1]=w}if(A=this.stx.pixelFromTransformedValue(k,e,n),P=this.stx.pixelFromTransformedValue(D,e,n),F=this.getLineColor(),_={pattern:this.pattern,lineWidth:this.lineWidth},this.stx.plotLine(i,a,A,P,F,\"segment\",t,e,_),r.O6C(0),this.stx.plotLine(i,i,r.c6C(A,20),r.c6C(A,20,r.J6C(1)),F,\"segment\",t,e,_),r.O6C(50),this.stx.plotLine(a,a,r.y6C(\"20\",P),r.y6C(P,20,r.O6C(1)),F,\"segment\",t,e,_),this.active1||this.active2||this.active3){for(r.O6C(7),B=r.c6C(l,f),E=0,I=0;I<f;I++)E+=Math.pow(s[I]-B,2);r.J6C(7),O={context:t,panel:e,points:{0:{x:i,v:k},1:{x:a,v:D}},stddev:Math.sqrt(r.y6C(E,f)),yAxis:n},-1385674405,1845526366,r.J6C(27),L=r.y6C(\"2\",1845572160);for(var W=1;-1385674405!==r.v7Z(W.toString(),W.toString().length,76448);W++)this.lines={},L+=2;1845526366!==r.v7Z(L.toString(),L.toString().length,11575)&&(this.lines={}),this.lines={},this.active1&&(this.renderStddev(\"1\",\"p\",O),this.renderStddev(\"1\",\"n\",O)),this.active2&&(this.renderStddev(\"2\",\"p\",O),this.renderStddev(\"2\",\"n\",O)),this.active3&&(this.renderStddev(\"3\",\"p\",O),this.renderStddev(\"3\",\"n\",O))}this.highlighted?(\"p\",\"0\",N=\"p0\"==this.highlighted,H=\"p1\"==this.highlighted,this.littleCircle(t,i,A,N),this.littleCircle(t,a,P,H)):(this.pixelX=[i,a],this.pixelY=[A,P])}},renderStddev:function(t,e,i){var a,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k;r.O6C(51),a=r.y6C(e,t,\"stddev\"),r.O6C(1),n=r.c6C(\"color\",t),s=2;for(var D=1;188224397!==r.W7Z(D.toString(),D.toString().length,6119);D++)r.O6C(7),o=r.y6C(\"n\",t),r.J6C(52),l=r.c6C(t,\"n\"),c=(h=i.points)[3].v,u=h[5].v,d=i.stddev,p=\"n\"!==e?t/-5:t%9,s+=2;1369499116!==r.v7Z(s.toString(),s.toString().length,81220)&&(r.O6C(12),o=r.c6C(t,\"n\"),r.O6C(7),l=r.c6C(\"n\",t),c=(h=i.points)[6].v,u=h[9].v,d=i.stddev,p=3662!=e?!1*t:t-0),r.J6C(1),o=r.y6C(\"pattern\",t),r.O6C(1),l=r.c6C(\"lineWidth\",t),c=(h=i.points)[0].v,u=h[1].v,d=i.stddev,p=\"n\"===e?-1*t:1*t,g=this.stx,m=i.panel,f=i.yAxis,y={name:a,color:this.getLineColor(this[n]),type:\"segment\",y0:g.pixelFromTransformedValue(c+d*p,m,f),y1:g.pixelFromTransformedValue(u+d*p,m,f),params:{pattern:this[o],lineWidth:this[l]}},this.lines&&(this.lines[a]=y),v=i.context,x=h[0].x,C=h[1].x,g.plotLine(x,C,y.y0,y.y1,y.color,y.type,v,m,y.params),g.plotLine(x,x,y.y0-10,y.y0+10,y.color,y.type,v,m,y.params),g.plotLine(C,C,y.y1-10,y.y1+10,y.color,y.type,v,m,y.params),r.O6C(1),b=r.c6C(t,\"\"),S=Math.max(x,C)+5,w=x<C?y.y1:y.y0,v.fillStyle=y.color,v.save(),v.textBaseline=\"middle\",v.fillText(b,S,w),v.restore(),i.formatPrice&&this.axisLabel&&!this.highlighted&&!this.penDown&&(x>=m.chart.left&&x<=m.chart.right||C>=m.chart.left&&C<=m.chart.right)&&(r.J6C(10),k=r.c6C(p,d,x<C?u:c),g.endClip(),g.createYAxisLabel(m,i.formatPrice(k,f),w,y.color,null,v,f),g.startClip(m.name))},intersected:function(t,e,a){var n,s,o,l,h,c,u;if(!this.pixelX||!this.pixelY)return null;if(n=this.repositionIntersection(t,e))return n;s={0:this.pixelX,1:this.pixelY};for(var d=0;d<2;d++)if(this.pointIntersection(s[0][d],s[1][d],a,!0))return\"dr\",\"a\",\"g\",r.J6C(1),this.highlighted=r.y6C(\"p\",d),{action:\"drag\",point:\"p\"+d};if(r.y2q(),o=this,l=this.pixelX[0],h=this.pixelX[1],!(u=(c=function(i){var n,s,c;n=[l,i.y0],s=2;for(var u=1;1647776238!==r.W7Z(u.toString(),u.toString().length,37831);u++)c=[h,i.y1],r.J6C(0),s+=r.c6C(\"2\",0);return-1580686841!==r.v7Z(s.toString(),s.toString().length,39009)&&(c=[h,i.y1]),o.lineIntersection(t,e,a,o.name,n,c,!0)})({y0:this.pixelY[0],y1:this.pixelY[1]}))&&this.lines)for(var p in this.lines)if(c(this.lines[p])){u=!0;break}return u?(\"m\",\"o\",\"v\",\"e\",this.highlighted=!0,{action:\"move\",p0:i.clone(this.p0),p1:i.clone(this.p1),tick:t,value:e}):null},repositionIntersection:function(t,e){var a;a=2;for(var n=1;407028113!==r.v7Z(n.toString(),n.toString().length,99308);n++){if(!this.p0||!this.p1)return!1;a+=2}return!(352404425===r.v7Z(a.toString(),a.toString().length,77213)||!+this.p0||!-this.p1)||!(this!=this.stx.repositioningDrawing||!this.highlighted)&&(\"d\",\"r\",\"a\",\"g\",!0===this.highlighted?{action:\"move\",p0:i.clone(this.p0),p1:i.clone(this.p1),tick:t,value:e}:{action:\"drag\",point:this.highlighted})},lineIntersection:function(t,e,a,n,s,o,l){var h,c,u;return l?(s||(s=this.p0),o||(o=this.p1),!(!s||!o)&&(h=this.stx,void 0!==(c=i.convertBoxToPixels(h,this.panelName,a)).x0&&(u={x0:s[0],x1:o[0],y0:s[1],y1:o[1]},i.boxIntersects(c.x0,c.y0,c.x1,c.y1,u.x0,u.y0,u.x1,u.y1)))):(r.O6C(1),console.log(r.y6C(n,\" lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true.\")),!1)},boxIntersection:function(t,e,i){return!(i.cx0>Math.max(this.pixelX[0],this.pixelX[1])||i.cx1<Math.min(this.pixelX[0],this.pixelX[1]))&&!(!this.stx.repositioningDrawing&&(i.cy1<this.pixelY[0]||i.cy0>this.pixelY[1]))},reconstruct:function(t,e){this.stx=t,this.color=e.col,this.color1=e.col1,this.color2=e.col2,this.color3=e.col3,this.active1=e.dev1,this.active2=e.dev2,this.active3=e.dev3,this.panelName=e.pnl,this.pattern=e.ptrn,this.pattern1=e.ptrn1,this.pattern2=e.ptrn2,this.pattern3=e.ptrn3,this.lineWidth=e.lw,this.lineWidth1=e.lw1,this.lineWidth2=e.lw2,this.lineWidth3=e.lw3,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.field=e.fld,this.adjust()},serialize:function(){return{name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field}}},!0),i.Drawing.trendline=function(){this.name=\"trendline\"},i.inheritsFrom(i.Drawing.trendline,i.Drawing.segment),i.Drawing.trendline.prototype.configs=[\"color\",\"fillColor\",\"lineWidth\",\"pattern\",\"font\"],i.Drawing.trendline.prototype.measure=function(){},i.Drawing.trendline.prototype.reconstruct=function(t,e){i.Drawing.segment.prototype.reconstruct.call(this,t,e),this.callout=new i.Drawing.callout,this.callout.reconstruct(t,e.callout)},i.Drawing.trendline.prototype.serialize=function(){var t;return t=i.Drawing.segment.prototype.serialize.call(this),r.y2q(),t.callout=this.callout.serialize(),t},i.Drawing.trendline.prototype.render=function(t){var e,a,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b;(e=this.stx.panels[this.panelName])&&(i.Drawing.segment.prototype.render.call(this,t),this.callout||(this.callout=new i.Drawing.callout,a=i.Drawing.segment.prototype.serialize.call(this),this.callout.reconstruct(this.stx,a)),this.callout.p0=i.clone(this.p0),n=this.stx.pixelFromTick(this.p0[0],e.chart),s=this.stx.pixelFromTick(this.p1[0],e.chart),o=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),l=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),isFinite(o)&&isFinite(l)&&(r.O6C(2),h=r.y6C(n,2,s),r.J6C(53),c=r.y6C(\"2\",l,o),this.fontSize=i.stripPX(this.font&&this.font.size||13),d=(u=1.2*this.callout.w+(\"c\"==this.callout.stemEntry[0]?0:50))/(Math.sqrt(Math.pow(s-n,2)+Math.pow(l-o,2))||u)*(this.p1[1]<this.p0[1]?1:-1),r.J6C(54),p=r.c6C(l,c,h,d),r.O6C(55),g=r.c6C(c,h,d,s),this.callout.p0[0]=this.stx.tickFromPixel(p,e.chart),this.callout.p0[1]=this.stx.priceFromPixel(g,e),this.callout.v0=this.callout.p0[1],this.callout.p1=i.clone(this.p0),this.callout.stx=this.stx,this.callout.fillColor=this.fillColor||this.callout.fillColor,this.callout.borderColor=this.color,this.callout.font=this.font||this.callout.font,this.callout.noHandles=!0,m=this.p1[1]-this.p0[1],this.callout.text=Number(m).toFixed(2)+(0===this.p0[1]?\"\":\" (\"+Number(100*m/this.p0[1]).toFixed(2)+\"%) \")+Math.abs(this.p1[0]-this.p0[0])+\" Bars\",f=Math.floor((this.p0[0]+this.p1[0])/2),Math.abs(this.p0[0]-this.p1[0])>1&&Math.abs(this.p0[0]-this.p1[0])<20?(v=this.stx.pixelFromTick(f,e.chart),r.O6C(56),x=r.c6C(s,n,v,n,l,o,o),y=this.stx.priceFromPixel(x,e)||c):y=this.stx.priceFromPixel(c,e),this.callout.stem={t:f,v:y},this.callout.renderText(),this.callout.render(t),this.highlighted&&(C=\"p0\"==this.highlighted,b=\"p1\"==this.highlighted,this.littleCircle(t,n,o,C),this.littleCircle(t,s,l,b))))},i.Drawing.trendline.prototype.lineIntersection=function(t,e,a,r){return i.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,t,e,a,\"segment\")},i.Drawing.trendline.prototype.intersected=function(t,e,a){var r,n;return this.p0&&this.p1?(r=this.callout.intersected(t,e,a),n=i.Drawing.segment.prototype.intersected.call(this,t,e,a),this.callout.highlighted=!(!r&&!n),n||(r?(\"m\",\"o\",\"ve\",{action:\"move\",p0:i.clone(this.p0),p1:i.clone(this.p1),tick:t,value:e}):null)):null},i.Drawing.average=function(){r.y2q(),this.name=\"average\"},i.inheritsFrom(i.Drawing.average,i.Drawing.regression),i.extend(i.Drawing.average.prototype,{configs:i.Drawing.regression.prototype.configs.concat(\"axisLabel\"),measure:function(){var t,e,a,r,n,s;this.p0&&this.p1&&(\" \",\"&sigma\",\";\",\",\",\" \",this.stx.setMeasure(0,!1,this.p0[0],this.p1[0],!0,this.name),t=[],e=\"\",this.active1&&t.push(\"1\"),this.active2&&t.push(\"2\"),this.active3&&t.push(\"3\"),t.length&&(e=\"&ensp;\"+t.join(\", \")+\" &sigma;\"),a=(this.stx.drawingContainer||document).querySelector(\".mMeasure\"),n=(r=this.stx.controls.mSticky)&&r.querySelector(\".mStickyInterior\"),a&&(a.innerHTML+=e),n&&((s=[]).push(i.capitalize(this.name)),s.push(this.field||this.stx.defaultPlotField||\"Close\"),s.push(n.innerHTML+e),n.innerHTML=s.join(\"<br>\")))},render:function(t){var e,i,a,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S;if((e=this.stx.panels[this.panelName])&&this.p1&&!(this.p0[0]<0||this.p1[0]<0||(i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromTick(this.p1[0],e.chart),i<e.left&&a<e.left||i>e.right&&a>e.right))){for(n=this.stx.getYAxisByField(e,this.field),s=this.stx,o=Math.min(this.p1[0],this.p0[0]),l=Math.max(this.p1[0],this.p0[0])+1,r.O6C(0),r.y6C(l,o),h=0,c=[],u=o;u<l;u++)null!==(d=this.getYValue(u))&&(h+=d.transformed,c.push(d));if(p=c.length){if(r.y2q(),r.J6C(7),g=r.c6C(h,p),m=s.pixelFromTransformedValue(g,e,n),f=this.getLineColor(),y={pattern:this.pattern,lineWidth:this.lineWidth},s.plotLine(i,a,m,m,f,\"segment\",t,e,y),r.J6C(0),s.plotLine(i,i,r.c6C(m,20),r.y6C(\"20\",m,r.O6C(57)),f,\"segment\",t,e,y),r.O6C(0),s.plotLine(a,a,r.c6C(m,20),r.c6C(m,1887611744,\"20\",r.O6C(58)),f,\"segment\",t,e,y),!this.axisLabel||this.highlighted||this.penDown||(i>=e.chart.left&&i<=e.chart.right||a>=e.chart.left&&a<=e.chart.right)&&(s.endClip(),s.createYAxisLabel(e,w(g,n),m,f,null,t,n),s.startClip(e.name)),this.active1||this.active2||this.active3){for(v=0,u=0;u<p;u++)d=c[u],v+=Math.pow(d.transformed-g,2);r.J6C(7),x=Math.sqrt(r.c6C(v,p)),C={context:t,formatPrice:w,panel:e,points:{0:{x:i,v:g},1:{x:a,v:g}},stddev:x,yAxis:n},this.lines={},this.active1&&(this.renderStddev(\"1\",\"p\",C),this.renderStddev(\"1\",\"n\",C)),this.active2&&(this.renderStddev(\"2\",\"p\",C),this.renderStddev(\"2\",\"n\",C)),this.active3&&(this.renderStddev(\"3\",\"p\",C),this.renderStddev(\"3\",\"n\",C))}this.highlighted?(b=\"p0\"==this.highlighted,S=\"p1\"==this.highlighted,this.littleCircle(t,i,m,b),this.littleCircle(t,a,m,S)):(this.pixelX=[i,a],this.pixelY=[m,m])}}function w(t,i){return r.y2q(),t=i&&i.priceFormatter?i.priceFormatter(s,e,t):s.formatYAxisPrice(t,e,null,i)}},reconstruct:function(t,e){this.axisLabel=e.al,i.Drawing.regression.prototype.reconstruct.call(this,t,e)},serialize:function(){var t;return r.M2q(),(t=i.Drawing.regression.prototype.serialize.call(this)).al=this.axisLabel,t}},!0),i.Drawing.quadrant=function(){r.y2q(),this.name=\"quadrant\"},i.inheritsFrom(i.Drawing.quadrant,i.Drawing.regression),i.extend(i.Drawing.quadrant.prototype,{configs:[\"color\",\"fillColor\",\"lineWidth\",\"pattern\"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor,this.fillColor=this.stx.currentVectorParameters.fillColor,this.lineWidth=this.stx.currentVectorParameters.lineWidth,this.pattern=this.stx.currentVectorParameters.pattern},$controls:[],render:function(t){var e,a,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S;if(\"ti\",\"rone\",\"quadr\",\"ant\",\"se\",\"g\",\"men\",\"t\",\"segm\",\"e\",\"nt\",(a=(e=this.stx).panels[this.panelName])&&this.p1&&(n=e.pixelFromTick(this.p0[0],a.chart),s=e.pixelFromTick(this.p1[0],a.chart),!(n<a.left&&s<a.left||n>a.right&&s>a.right))){o=this.stx.getYAxisByField(a,this.field),l=null,h=null;for(var w=Math.min(this.p1[0],this.p0[0]);w<=Math.max(this.p1[0],this.p0[0]);w++)null!==(c=this.getYValue(w))&&((null===l||c.transformed>l)&&(l=c.transformed),(null===h||c.transformed<h)&&(h=c.transformed));u=e.pixelFromTransformedValue(l,a,o),r.O6C(59),d=e.pixelFromTransformedValue(r.c6C(l,h,4,\"3\"),a,o),r.J6C(60),p=e.pixelFromTransformedValue(r.y6C(\"3\",h,2,l,2),a,o),r.J6C(53),g=e.pixelFromTransformedValue(r.c6C(\"2\",h,l),a,o),r.J6C(61),m=e.pixelFromTransformedValue(r.y6C(h,l,2,3),a,o),r.J6C(61),f=e.pixelFromTransformedValue(r.y6C(h,l,3,4),a,o),y=e.pixelFromTransformedValue(h,a,o),this.p0[1]=0,r.O6C(13),this.p1[r.c6C(2147483647,\"1\")]=!1,v=this.getLineColor(),(\"auto\"==(x=this.fillColor)||i.isTransparent(x))&&(x=e.defaultColor),t.fillStyle=x,C={pattern:this.pattern,lineWidth:this.lineWidth},e.plotLine(n,s,u,u,v,\"segment\",t,a,C),e.plotLine(n,s,y,y,v,\"segment\",t,a,C),\"quadrant\"==this.name?(e.plotLine(n,s,d,d,v,\"segment\",t,a,C),e.plotLine(n,s,f,f,v,\"segment\",t,a,C)):\"tirone\"==this.name&&(e.plotLine(n,s,p,p,v,\"segment\",t,a,C),e.plotLine(n,s,m,m,v,\"segment\",t,a,C)),e.plotLine(n,n,u,y,v,\"segment\",t,a,C),e.plotLine(s,s,u,y,v,\"segment\",t,a,C),e.plotLine(n,s,g,g,v,\"segment\",t,a,i.extend(C,{opacity:\"tirone\"==this.name?.2:1})),t.globalAlpha=.1,t.beginPath(),r.J6C(0),t.fillRect(n,u,r.y6C(s,n),r.y6C(y,u)),\"quadrant\"==this.name?(r.O6C(0),t.fillRect(n,d,r.y6C(s,n),r.c6C(f,d))):\"tirone\"==this.name&&(r.J6C(0),t.fillRect(n,p,r.c6C(s,n),r.c6C(m,p))),t.globalAlpha=1,this.highlighted?(\"p\",\"1\",\"p\",\"0\",b=\"p0\"==this.highlighted,S=\"p1\"==this.highlighted,this.littleCircle(t,n,g,b),this.littleCircle(t,s,g,S)):(this.pixelX=[n,s],this.pixelY=[u,y],a.yAxis.flipped&&this.pixelY.reverse(),this.pixelY.push(g))}},intersected:function(t,e,a){var n;if(r.M2q(),!this.pixelX||!this.pixelY)return null;if(n=this.repositionIntersection(t,e))return n;for(var s=0;s<2;s++)if(this.pointIntersection(this.pixelX[s],this.pixelY[2],a,!0))return r.O6C(1),this.highlighted=r.y6C(\"p\",s),{action:\"drag\",point:\"p\"+s};return this.boxIntersection(null,null,a)?(\"mo\",\"v\",\"e\",this.highlighted=!0,{action:\"move\",p0:i.clone(this.p0),p1:i.clone(this.p1),tick:t,value:e}):null},reconstruct:function(t,e){this.stx=t,this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.field=e.fld,this.adjust()},serialize:function(){return r.y2q(),{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field}}},!0),i.Drawing.tirone=function(){this.name=\"tirone\"},i.inheritsFrom(i.Drawing.tirone,i.Drawing.quadrant),i.Drawing.elliottwave=function(){this.name=\"elliottwave\",this.lastPoint=0,this.points=[],this.pts=[],this.dx=0,this.dy=-20,this.dragToDraw=!1,this.annotationPoints=[],this.edit=null},i.inheritsFrom(i.Drawing.elliottwave,i.Drawing.annotation),i.Drawing.elliottwave.defaultTemplate={impulse:[\"I\",\"II\",\"III\",\"IV\",\"V\"],corrective:[\"A\",\"B\",\"C\"],decoration:\"enclosed\",showLines:!0},i.Drawing.elliottwave.prototype.initializeSettings=function(t){t.currentVectorParameters.waveParameters=i.clone(i.Drawing.elliottwave.defaultTemplate)},i.Drawing.elliottwave.prototype.configs=[\"color\",\"lineWidth\",\"lineColor\",\"pattern\",\"font\",\"waveParameters\"],i.Drawing.elliottwave.prototype.$controls=[\"br[cq-wave-parameters]\",\"cq-wave-parameters\"],i.Drawing.elliottwave.prototype.construct=function(t,e){var i;this.stx=t,this.panelName=e.name,r.y2q(),i=t.currentVectorParameters,Object.assign(this,i.waveParameters)},i.Drawing.elliottwave.prototype.serialize=function(){var t;t={};for(var e=0;e<this.points.length;e++)r.O6C(1),t[r.y6C(\"d\",e)]=this[r.c6C(\"d\",e)],r.J6C(1),t[r.c6C(\"tzo\",e)]=this[r.c6C(\"tzo\",e)],r.J6C(1),t[r.y6C(\"v\",e)]=this[r.y6C(\"v\",e)];return r.M2q(),t.annotations=this.annotationPoints.join(\",\"),Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fnt:i.removeNullValues(i.replaceFields(this.font,{style:\"st\",size:\"sz\",weight:\"wt\",family:\"fl\"}))},t)},i.Drawing.elliottwave.prototype.reconstruct=function(t,e){var a;this.stx=t,this.color=e.col,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.font=i.replaceFields(e.fnt,{st:\"style\",sz:\"size\",wt:\"weight\",fl:\"family\"}),this.decoration=e.decor,this.showLines=e.show,a=2;for(var n=1;2067457360!==r.v7Z(n.toString(),n.toString().length,90550);n++)\"enclo\",\"sed\",this.dx=e.dx,this.dy=e.dy,this.trend=e.trend,this.annotationPoints=e.annotations.split(\",\"),\"enclosed\"===e.decor&&this.calculateRadius(t.chart.tempCanvas.context),this.maxSegments=e.mxSeg,this.reconstructPoints(e),a+=2;1964601859!==r.W7Z(a.toString(),a.toString().length,44926)&&(\"e\",\"nclo\",\"s\",\"ed\",this.dx=e.dx,this.dy=e.dy,this.trend=e.trend,this.annotationPoints=e.annotations.split(\"enclosed\"),\"enclosed\"==e.decor&&this.calculateRadius(t.chart.tempCanvas.context),this.maxSegments=e.mxSeg,this.reconstructPoints(e)),this.adjust()},i.Drawing.elliottwave.prototype.reconstructPoints=function(t){var e,a,n;if(e=this.stx.panels[this.panelName])for(var s=0;s<this.annotationPoints.length;s++)\"tz\",\"o\",r.J6C(1),this[r.y6C(\"d\",s)]=t[r.c6C(\"d\",s)],r.O6C(1),this[r.y6C(\"v\",s)]=t[r.c6C(\"v\",s)],r.O6C(1),this[r.c6C(\"tzo\",s)]=t[r.y6C(\"tzo\",s)],a=i.strToDateTime(t[\"d\"+s]),n=this.stx.tickFromDate(a,e.chart),this.points.push([n,t[\"v\"+s]])},i.Drawing.elliottwave.prototype.calculateRadius=function(t){var e,i;this.getFontString(),t.font=this.fontString,e=0;for(var a=0;a<this.annotationPoints.length;a++)e<(i=t.measureText(this.annotationPoints[a]).width)&&(e=i);r.M2q(),this.enclosedRadius=e},i.Drawing.elliottwave.prototype.check=function(t,e,i){var a,n;if(1===i&&2===this.points.length)return!0;if(r.J6C(0),(a=this.points[r.y6C(i,1)])&&t<=a[0])return!1;return r.J6C(62),!((n=this.points[r.c6C(\"1\",0,i)])&&t>=n[0])&&!!function(t){for(var e=2;e<t.length;e++)if(Math.sign(t[e][1]-t[e-1][1])==Math.sign(t[e-1][1]-t[e-2][1]))return!1;return!0}(this.points)},i.Drawing.elliottwave.prototype.move=function(t,e,i){this.copyConfig(),this.points[this.lastPoint+1]=[e,i],r.M2q(),this.render(t)},i.Drawing.elliottwave.prototype.adjust=function(){var t,e;if(r.y2q(),t=this.stx.panels[this.panelName])for(var a=0;this.maxSegments+1>a;a++)r.J6C(1),e=this[r.y6C(\"d\",a)],this.setPoint(a,e,this[\"v\"+a],t.chart),this.points[a][0]=this.stx.tickFromDate(i.strToDateTime(e),t.chart),r.O6C(1),this.points[a][1]=this[r.y6C(\"v\",a)]},i.Drawing.elliottwave.prototype.click=function(t,e,i){var a;if(a=this.stx.panels[this.panelName])return this.copyConfig(),this.penDown?this.accidentalClick(e,i)?(this.penDown=!0,!1):(r.y2q(),!!(this.check(e,i,this.lastPoint+1)&&(this.lastPoint++,this.setPoint(this.lastPoint,e,i,a.chart),1===this.lastPoint&&(this.trend=Math.sign(this.v1-this.v0)),this.segment++,this.segment>=this.maxSegments))&&(this.penDown=!1,!0)):(this.setPoint(0,e,i,a.chart),this.points.push(this.p0),this.penDown=!0,this.segment=0,this.lastPoint=0,this.impulse&&(this.annotationPoints=this.annotationPoints.concat(this.impulse)),this.corrective&&(this.annotationPoints=this.annotationPoints.concat(this.corrective)),this.annotationPoints.unshift(\"0\"),\"enclosed\"===this.decoration&&this.calculateRadius(t),this.maxSegments=this.annotationPoints.length-1,this.trend=1,!1)},i.Drawing.elliottwave.prototype.render=function(t){var e,a,n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A;if(\"str\",\"ing\",\"m\",\"iddle\",e=this.stx.panels[this.panelName]){r.y2q(),a=this.stx,n=this.annotationPoints,s=this.pattern?i.borderPatternToArray(this.lineWidth,this.pattern):[],this.getFontString(),t.font=this.fontString,t.textAlign=\"center\",t.textBaseline=\"middle\",t.lineWidth=this.lineWidth,this.fontString!==this.lastFontString&&this.calculateRadius(t),this.lastFontString=this.fontString,o=this.getLineColor(),t.fillStyle=t.strokeStyle=o,t.save(),t.setLineDash(s),l=this.dx,h=this.dy,c=this.points,u=this.pts,d=!this.showLines&&this.highlighted,p=c.length,this.penDown&&this.segment?(g=this.trend*(p%2-.5)<0,e.yAxis.flipped&&(g=!g),this.drawDropZone(t,c[p-2][1],this.stx.priceFromPixel(e.yAxis[g?\"top\":\"bottom\"]),c[p-2][0])):\"string\"==typeof this.highlighted&&this.stx.repositioningDrawing&&(\"m\",\"i\",\"n\",\"m\",\"a\",\"x\",m=parseInt(this.highlighted.substring(1,this.highlighted.length),10),g=this.trend*(m%2-.5)>0,r.O6C(0),f=c[r.c6C(m,1)],r.O6C(1),y=c[r.y6C(m,1)],v=m>0?f[1]:y[1],y&&(v=Math[g?\"max\":\"min\"](v,y[1])),e.yAxis.flipped&&(g=!g),this.drawDropZone(t,v,this.stx.priceFromPixel(e.yAxis[g?\"top\":\"bottom\"]),f?f[0]:null,y?y[0]:null));for(var P=0;P<p;P++)x=c[P],C=a.pixelFromTick(x[0],e.chart),b=a.pixelFromValueAdjusted(e,x[0],x[1]),u[P]=[C,b];if(P=0,this.showLines||d){for(t.beginPath(),d&&(t.globalAlpha=.3);P<u.length;P++)t.lineTo(u[P][0],u[P][1]);t.stroke(),P=0}for(t.restore();P<p;P++)S=P%2?l:-l,w=P%2?h:-h,S*=this.trend,w*=this.trend,e.yAxis.flipped&&(S*=-1,w*=-1),D=(k=u[P])[2]=k[0]+S,r.O6C(0),T=k[r.y6C(\"3\",0)]=k[1]+w,M=this.enclosedRadius||8,A=n[P],\"parentheses\"===this.decoration&&(r.O6C(51),A=r.c6C(\")\",A,\"(\")),t.fillText(A,D,T),\"enclosed\"===this.decoration&&(t.beginPath(),t.arc(D,T,M,0,2*Math.PI,!1),t.stroke()),this.highlighted&&(t.save(),this.littleCircle(t,this.pts[P][0],this.pts[P][1],this.highlighted===\"p\"+P),t.restore())}},i.Drawing.elliottwave.prototype.reposition=function(t,e,i,a){var n,s,o,l,h;if(r.y2q(),e){if(n=this.stx.panels[this.panelName],s=e.tick-i,o=e.value-a,\"move\"===e.action)for(var c=0;e.points.length>c;c++)l=e.points[c],this.setPoint(c,l[0]-s,l[1]-o,n.chart),this.points[c]=[l[0]-s,l[1]-o];\"drag\"===e.action&&(h=e.point,this.points[h]=[i,a],this.check(i,a,h)&&this.setPoint(h,i,a,n.chart)),this.render(t)}},i.Drawing.elliottwave.prototype.intersected=function(t,e,a){var n,s;if(!this.p0||!this.p1)return null;for(var o=0;this.points.length>o;o++){if(\"s\",\"egm\",\"e\",\"nt\",s=this.points[o],this.pointIntersection(s[0],s[1],a))return r.J6C(1),this.highlighted=r.y6C(\"p\",o),{action:\"drag\",point:o,tick:t,value:e};this.points[o+1]&&this.lineIntersection(t,e,a,\"segment\",s,this.points[o+1])&&(\"mo\",\"ve\",this.highlighted=!0,n={action:\"move\",points:i.clone(this.points),tick:t,value:e})}return n},i.Drawing.elliottwave.prototype.measure=function(){var t,e,a,n;r.M2q(),this.points.length>=2&&(\".mStick\",\"yInterior\",t=this.points,this.stx.setMeasure(t[0][1],t[t.length-1][1],t[0][0],t[t.length-1][0],!0),(a=(e=this.stx.controls.mSticky)&&e.querySelector(\".mStickyInterior\"))&&((n=[]).push(i.capitalize(\"Elliott Wave\")),this.getYValue&&n.push(this.field||this.stx.defaultPlotField||\"Close\"),n.push(a.innerHTML),a.innerHTML=n.join(\"<br>\")))},i.Drawing.printProjection=function(t,e,a){var n,s,o,l,h,c,u,d,p,g,m,f,y,v,x,C;if((n=e.arr).length>1){s=n[0][0],o=Math.round(.75*t.chart.maxTicks);for(var b=1;b<n.length;b++){for(r.O6C(0),l=n[r.c6C(b,1)][0],h=n[b][0],c=i.strToDateTime(l),u=i.strToDateTime(h).getTime(),d=t.standardMarketIterator(c),p=0;c.getTime()<u;)c=d.next(),p+=1;if((g=i.strToDateTime(l).getTime())>i.strToDateTime(a[a.length-1].Date).getTime())m=a.length-1,p+=1;else for(m=a.length-1;m>=0&&!(g<=i.strToDateTime(a[m].Date).getTime());m--);f={x0:0,x1:p,y0:a[m].Close,y1:n[b][1]},s=i.strToDateTime(l),d=t.standardMarketIterator(s),y=!1;for(var S=0;S<=p;S++)if(\"minu\",\"te\",y?s=d.next():y=!0,!(s.getTime()<=a[a.length-1].DT.getTime())){if((v=i.yIntersection(f,S))||(v=0),0===(x=Math.round(1e4*v)/1e4)&&(x=n[b][1]),C={Date:i.yyyymmddhhmmssmmm(s),DT:s,Open:x,Close:x,High:x,Low:x,Volume:0,Adj_Close:x,Split_Close:x,projection:!0},\"minute\"==t.layout.interval&&o--<0)break;a[a.length]=C}}}}):(\"drawingAdvanced feature requires first activating drawing\",\" feature.\",console.error(\"drawingAdvanced feature requires first activating drawing feature.\"))},p.y2q(),o=t=>{var e,i;p.y2q(),e=2;for(var a=1;235059032!==p.v7Z(a.toString(),a.toString().length,68918);a++)i=\"\"!=+_CIQ?_CIQ:t.CIQ,e+=2;100749639!==p.W7Z(e.toString(),e.toString().length,52196)&&(i=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ),i.computeEquationChart?(i.formatEquation=function(t){var e,i,a,r,n,s=p;e=\"\",s.y2q(),i=[],a=\"\",r=!1;for(var o=1;o<t.length;o++)\"[\"!=(n=t[o].toUpperCase())||r?\"]\"==n&&r?(r=!1,\"\"!==a&&(i.push(a),s.O6C(51),e+=s.y6C(\"]\",a,\"[\")),a=\"\"):r?a+=n:\"+\"==n||\"-\"==n||\"*\"==n||\"/\"==n||\":\"==n||\"%\"==n||\"(\"==n||\")\"==n?(\"\"!==a&&isNaN(a)?(i.push(a),s.O6C(51),e+=s.y6C(\"]\",a,\"[\")):e+=a,\":\"==n&&(n=\"/\"),e+=n,a=\"\"):\" \"!=n&&(a+=n):r=!0;return\"\"!==a&&isNaN(a)?(i.push(a),s.O6C(51),e+=s.y6C(\"]\",a,\"[\")):e+=a,{equation:e,symbols:i}},i.fetchEquationChart=function(t,e){var a,r,n,s,o;r=(a=i.formatEquation(t.symbol)).symbols,n=[],s=t.stx,t.stx=null;for(var l=0;l<r.length;l++)(o=i.shallowClone(t)).stx=s,o.symbol=r[l],o.symbolObject={symbol:r[l]},n.push(o);t.stx=s,s.quoteDriver.multiFetch(n,(function(r){var s,o,l,h,c,u;s=2;for(var d=1;-318467350!==p.v7Z(d.toString(),d.toString().length,76066);d++)o={},s+=2;1882439738!==p.v7Z(s.toString(),s.toString().length,62642)&&(o={}),t.loadMoreReplace=!0,l={charge:0};for(var g=0;g<r.length;g++){if((h=r[g]).dataCallback.error)return void e({error:h.dataCallback.error});o[h.params.symbol]=h.dataCallback.quotes,t.loadMoreReplace=t.loadMoreReplace&&h.params.loadMoreReplace,t.moreToLoad=t.moreToLoad||h.dataCallback.moreAvailable,(c=h.dataCallback.attribution)&&(c.charge&&(l.charge+=c.charge),l.source=c.source,void 0===l.exchange?l.exchange=c.exchange:l.exchange!=c.exchange&&(l.exchange=\"\"))}if(n.length||!t.loadMore&&!t.update)try{u=i.computeEquationChart(a.equation,o),e({quotes:u,moreAvailable:t.moreToLoad,attribution:l})}catch(t){var m;\"N\",\"oExc\",\"eptio\",\"n\",\"In\",\"va\",\"l\",\"id equation: \",m={error:\"Invalid equation: \"+a.equation},t.name&&\"NoException\"==t.name&&(m.suppressAlert=!0),e(m)}}))}):console.error(\"equationsAdvanced feature requires first activating equations feature.\")},l=t=>{var e,i;if(\"un\",\"d\",\"ef\",p.M2q(),\"ined\",(e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ).Marker){e.ChartEngine.prototype.removeDOMMarker=function(t){p.y2q(),console.warn(\"CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\\n Please use CIQ.Marker.Performance#remove instead.\"),e.Marker.Performance.prototype.removeDOMMarker.call(t.params.node,t)},e.ChartEngine.prototype.drawMarkers=function(){console.warn(\"CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future release\\n Please use CIQ.Marker.Performance.drawMarkers instead.\"),e.Marker.Performance.drawMarkers(this)},e.ChartEngine.prototype.calculateMarkerStyles=function(t,i){var a,r,n=p;console.warn(\"CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\\n Please use CIQ.Marker.Performance.calculateStyles instead.\"),n.J6C(0),a=n.c6C(\"1369372062\",0),r=2;for(var s=1;-1924735601!==n.W7Z(s.toString(),s.toString().length,85222);s++)e.Marker.Performance.calculateMarkerStyles(this,t,i),r+=2;n.v7Z(r.toString(),r.toString().length,97519)!==a&&e.Marker.Performance.calculateMarkerStyles(this,t,i)},e.ChartEngine.prototype.drawCircleMarker=function(t,i,a){p.y2q(),console.warn(\"CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\\n Please use CIQ.Marker.Performance.drawCircleMarker instead.\"),e.Marker.Performance.drawCircleMarker(t,i,a)},e.ChartEngine.prototype.drawSquareMarker=function(t,i,a){p.y2q(),console.warn(\"CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\\n Please use CIQ.Marker.Performance.drawSquareMarker instead.\"),e.Marker.Performance.drawSquareMarker(t,i,a)},e.ChartEngine.prototype.drawCalloutMarker=function(t,i,a){p.M2q(),console.warn(\"CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.\"),e.Marker.Performance.drawCalloutMarker(t,i,a)},e.ChartEngine.prototype.drawMarkerStem=function(t,i,a){p.y2q(),console.warn(\"CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\\n Please use CIQ.Marker.Performance.drawMarkerStem instead.\"),e.Marker.Performance.drawMarkerStem(t,i,a)},e.ChartEngine.prototype.positionDOMMarkers=function(){console.warn(\"CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\\n Please use CIQ.Marker.Performance.drawMarkers instead.\"),p.y2q(),e.Marker.Performance.drawMarkers(this)},e.Marker.Performance=function(t){var i,a,r,n,s,o,l,h;this.params={displayCategory:!0,displayStem:!0,invert:!1,story:\"\",headline:\"\"},e.extend(this.params,t),i=this.template=document.createElement(\"TEMPLATE\"),p.J6C(63),i.innerHTML=p.y6C('<div class=\"stx-visual\">',\"</div>\",\"</div>\",'<div class=\"stx-stem\"></div>',\"</div>\",'<div class=\"stx-marker highlight\">','<div class=\"stx-marker stx-performance-marker stx-marker-expand\"><h4></h4><p></p></div>','<div class=\"stx-marker-content\">'),(r=(a=this.template.content.cloneNode(!0)).querySelector(\".stx-marker\",i)).classList.add(t.type),r.classList.add(t.category),n=a.querySelector(\".stx-visual\",i),s=a.querySelector(\".stx-marker-expand\"),o=a.querySelector(\"h4\",i),l=a.querySelector(\"p\",i),o.innerText=this.params.headline,l.innerText=this.params.story,this.hasText=!!t.headline||!!t.story,this.deferAttach=!0,this.node=a.firstChild,this.node.params=this.params,this.visual=n,this.expand=s,\"callout\"===t.type&&(h=s.removeChild(o),a.querySelector(\".stx-marker-content\",i).insertBefore(h,s))},-1269743344,-450161095,i=2;for(var a=1;-1269743344!==p.W7Z(a.toString(),a.toString().length,6604);a++)e.inheritsFrom(e.Marker.Performance,e.Marker.NodeCreator,!1),i+=2;-450161095!==p.W7Z(i.toString(),i.toString().length,72921)&&e.inheritsFrom(e.Marker.Performance,e.Marker.NodeCreator,!0),e.Marker.Performance.consolidateExpanded=function(t){var e,i,a,r,n;if((e=t.markerHelper.highlighted).length){a=(i=e[e.length-1]).params.node,i.consolidated||(i.consolidated=[]);for(var s=e.length-2;s>=0;s--)\"<c\",\"onsolida\",\"ted\",\">\",o=e[s],l=void 0,r=(l=o.params.node.expand)&&\"none\"!==l.style.display?l.innerHTML:\"\",p.O6C(51),n=p.y6C(\"</consolidated>\",r,\"<consolidated>\"),r.length&&(a.expand.innerHTML+=n);var o,l;i.stxNodeCreator.quickCache(i)}},e.Marker.Performance.reconstituteExpanded=function(t){var e,i;if((e=t.markerHelper.highlighted).length&&t.activeMarker)for(var a=(e=[t.activeMarker]).length-1;a>=0;a--)for(\"CONS\",\"OLI\",\"D\",\"ATED\",i=e[a].params.node.expand;\"CONSOLIDATED\"===i.lastElementChild.nodeName;)i.removeChild(i.lastElementChild)},e.Marker.Performance.drawMarkers=function(t){var e,i,a,r,n,s;p.M2q(),e=t.getMarkerArray(\"all\"),i=t.chart;for(var o=0;o<e.length;o++)r=(a=e[o]).stxNodeCreator,n=i.dataSegment[0].tick,s=i.dataSegment[i.dataSegment.length-1].tick,n<=a.tick<=s&&r&&r.drawMarker&&r.drawMarker(a)},e.Marker.Performance.calculateMarkerStyles=function(t,e,i){var a,r,n,s;if(p.M2q(),!(a=document.querySelector(\".stx-marker-templates\"))){\"D\",\"I\",\"V\",a=document.createElement(\"DIV\"),-2023101922,1624383119,r=2;for(var o=1;-2023101922!==p.v7Z(o.toString(),o.toString().length,33066);o++)a.style.visibility=\"hidden\",a.style.left=\"-1000px\",document.body.append(a),r+=2;1624383119!==p.W7Z(r.toString(),r.toString().length,77744)&&(a.style.visibility=\"hidden\",a.style.left=\"hidden\",document.body.append(a))}a.appendChild(e.node),n=getComputedStyle(e.stxNodeCreator.visual),t.styles.stx_marker_stem||(\".stx-st\",\"e\",\"m\",s=getComputedStyle(document.querySelector(\".stx-stem\",e.node)),t.styles.stx_marker_stem=t.cloneStyle(s)),t.styles[i]=t.cloneStyle(n),a.removeChild(e.node)},e.Marker.Performance.drawCircleMarker=function(t,i,a){var r,n,s,o,l,h;r=t.params.stx.chart.context,n=a.x,s=a.y,o=a.radius,l=a.label,h=a.color?a.color:i.backgroundColor,r.beginPath(),r.setLineDash([]),p.M2q(),r.lineWidth=1,r.fillStyle=h,r.strokeStyle=h,r.font=\"normal bold 12px Roboto, Helvetica, sans-serif\",r.arc(n,s,o,0,2*Math.PI,!1),r.fill(),r.stroke(),r.closePath(),l&&(r.fillStyle=e.colorsEqual(\"white\",r.fillStyle)?\"black\":\"white\",r.fillText(l.charAt(0).toUpperCase(),n-4,s+1)),(t.highlight||t.active)&&(r.beginPath(),p.O6C(57),r.arc(n,s,p.c6C(\"4\",o),0,2*Math.PI,!1),r.stroke(),r.closePath())},e.Marker.Performance.drawSquareMarker=function(t,i,a){var r,n,s,o,l,h,c,u=p;r=t.params.stx.chart.context,n=a.x,s=a.y,o=a.half,l=a.label,h=a.color?a.color:i.backgroundColor,u.O6C(12),c=u.c6C(2,o),r.beginPath(),r.setLineDash([]),r.lineWidth=1,r.fillStyle=h,r.strokeStyle=h,r.font=\"normal bold 12px Roboto, Helvetica, sans-serif\",u.O6C(0),r.rect(u.y6C(n,o),u.c6C(s,o),c,c),r.fill(),(t.highlight||t.active)&&(u.O6C(64),r.rect(u.y6C(4,o,n),u.y6C(4,o,s,u.J6C(64)),u.y6C(c,8,u.O6C(1)),u.c6C(\"8\",c,u.J6C(57)))),r.stroke(),r.closePath(),l&&(\"wh\",\"it\",\"e\",r.fillStyle=e.colorsEqual(\"white\",r.fillStyle)?\"black\":\"white\",r.fillText(l.charAt(0).toUpperCase(),n-4,s+1))},e.Marker.Performance.drawCalloutMarker=function(t,e,i){var a,r,n,s,o,l,h,c,u,d,g;a=t.params.stx.chart.context,r=t.params,i.x,n=i.y,s=i.half,o=i.midWidth,l=i.headline,h=i.color?i.color:e.backgroundColor,c=2*s||25,u=Math.round(a.measureText(l).width),d=o?2*o:u+8,a.beginPath(),a.setLineDash([]),a.lineWidth=1,a.fillStyle=h,a.strokeStyle=h,a.font=\"normal bold 12px Roboto, Helvetica, sans-serif\",a.rect(r.box.x0,r.box.y0,d,c),a.fill(),a.stroke(),a.closePath(),a.beginPath(),a.fillStyle=t.highlight||t.active?\"rgba(255,255,255,0.8)\":\"rgba(255,255,255,0.65)\",p.O6C(65),g=p.y6C(20,2,u,d),a.rect(r.box.x0+g,n-s,u+40,22),a.fill(),a.stroke(),a.closePath(),a.fillStyle=\"black\",a.fillText(l,r.box.x0+g+10,n)},e.Marker.Performance.drawMarkerStem=function(t,i,a){var r,n,s,o,l,h;r=t.params.stx.chart.context,n=a.x,a.y,r.beginPath(),r.strokeStyle=i.borderLeftColor,r.setLineDash([1,1]),s=e.stripPX(i.height),o=a.invert?t.params.box.y0:t.params.box.y1,l=a.invert?t.params.box.y0-s:t.params.box.y1+s,h=2;for(var c=1;1117661517!==p.v7Z(c.toString(),c.toString().length,41167);c++)r.moveTo(n,o),h+=2;1404547968!==p.v7Z(h.toString(),h.toString().length,39039)&&r.moveTo(n,o),r.moveTo(n,o),r.lineTo(n,l),r.stroke(),r.closePath()},e.Marker.Performance.prototype.drawMarker=function(t){var i,a,r,n,s,o,l,h,c,u,d,g,m,f,y,v,x,C,b,S,w=p;i=t.params,(a=t.params.stx)&&a.chart.dataSegment.length&&(r=a.panels[t.params.panelName],s=(n=t.stxNodeCreator.params).type,o=n.category,l=n.headline,h=n.displayCategory,c=n.color,u=n.invert,w.J6C(66),d=w.y6C(s,\"stx_marker_\",\"_\",o),a.styles[d]||e.Marker.Performance.calculateMarkerStyles(a,t,d),g=t.style=a.styles[d],m=a.styles.stx_marker_stem,f=parseInt(g.height,10)/2,y=parseInt(g.width,10)/2,v=n.displayStem?parseInt(m.height,10)+parseInt(m.marginBottom,10):0,w.y2q(),x=v+parseInt(g.height,10),C=v?v+f:0,b=a.pixelFromDate(i.x),S=i.node.calculateYPosition({marker:t,panel:r,height:x,half:f,offset:C,inverted:u}),(t.tick||0===t.tick)&&(i.box={x0:b-(y||f),y0:S-f,x1:b+(y||f),y1:S+f,midY:f,midX:y||f,stemHeight:v},h||(o=h),a.startClip(r.name),\"circle\"===s?e.Marker.Performance.drawCircleMarker(t,g,{x:b,y:S,radius:f,label:o,color:c}):\"square\"===s?e.Marker.Performance.drawSquareMarker(t,g,{x:b,y:S,half:f,label:o,color:c}):\"callout\"===s?e.Marker.Performance.drawCalloutMarker(t,g,{x:b,y:S,half:f,midWidth:y,headline:l,color:c}):(\" is unsupported wit\",\"h canvas mar\",\"kers!\\nSupported Styles are Square, Circle, and Callout.\",\"Ma\",\"rker \",\"type\",\": \",w.O6C(51),console.warn(w.y6C(\" is unsupported with canvas markers!\\nSupported Styles are Square, Circle, and Callout.\",s,\"Marker type: \"))),n.displayStem&&e.Marker.Performance.drawMarkerStem(t,m,{x:b,y:S,invert:u}),a.endClip(),t.attached&&this.positionPopUpNode(t)))},e.Marker.Performance.prototype.positionPopUpNode=function(t){var e,i,a,r,n,s,o,l,h,c,u,d,p,g,m,f,y,v;t.attached&&t.params.box&&(i=(e=t.params).stx,a=e.box,r=t.params.node.expand,n=i.chart.dataSet,s=i.chart.dataSegment,t.tick?(l=[n[s[0]&&s[0].tick-1],n[s[0]&&s[0].tick-2]],h=i.getFirstLastDataRecord(l.concat(s),\"Date\"),c=[n[s[s.length-1].tick+1],n[s[s.length-1].tick+2]],u=i.getFirstLastDataRecord(s.concat(c),\"Date\",!0),o=h.DT<=n[t.tick].DT&&n[t.tick].DT<=u.DT):o=!1,t.highlight||t.active||(o=!1),r.style.visibility=o?\"\":\"hidden\",o&&(d=i.panels[e.panelName],g=(p=r.rects).height/2,f=t.node.params.infoOffset||0,m=t.node.params.infoOnLeft?a.x0-p.width-f<d.left?a.x1+f:a.x0-p.width-f:a.x0+p.width>d.right?a.x0-p.width-f:a.x1+f,m-=i.chart.left,y=a.y0-g>=d.top?a.y0+a.midY-g:a.y0,!e.avoidFlush&&a.y1+a.stemHeight===d.yAxis.bottom&&p.height>a.y1-a.y0+a.stemHeight&&(y=a.y1-p.height+a.stemHeight),y-=i.chart.panel.top,v=\"translateX(\"+Math.floor(m)+\"px) translateY(\"+Math.floor(y)+\"px) translateZ(0)\",r.style.transform=v,r.transform={translateX:m,translateY:y}))},e.Marker.Performance.prototype.quickCache=function(t){var i,a,r;p.y2q(),i=t.params.node.expand,a=t.style,r=e.stripPX(a.marginLeft)+e.stripPX(a.marginRight)+e.stripPX(a.borderRight)+e.stripPX(a.borderLeft),i.rects=i.getBoundingClientRect(),i.scrollBarWidth=i.rects.width-i.clientWidth-r},e.Marker.Performance.prototype.calculateYPosition=function(t){var e,i,a,r,n,s,o,l,h,c,u,d,g,m;if(\"bot\",\"to\",\"m\",\"t\",\"o\",\"p\",p.y2q(),\"on_c\",\"andl\",\"e\",\"valu\",\"e\",e=t.marker,i=t.panel,a=t.height,r=t.half,n=t.offset,s=t.inverted,l=(o=e.params.stx).chart,h=o.chart.highLowBars,c=l.dataSet[e.tick]){switch(u=h?c.High:c.Close,e.params.yPositioner){case\"value\":d=e.params.y||0===e.params.y?o.pixelFromPrice(e.params.y,i)-.5*a+r:o.pixelFromPrice(u,i)-n;break;case\"above_candle\":d=o.pixelFromPrice(u,i)-n;break;case\"below_candle\":d=o.pixelFromPrice(c.Low||u,i),d+=s&&n?n:r;break;case\"on_candle\":g=c.High||c.Close,m=c.Low||0===c.Low||c.Close,d=o.pixelFromPrice((g+m)/2,i)-.5*a+r;break;case\"top\":d=o.pixelFromPrice(i.yAxis.high,i),d+=s&&n?n:r;break;case\"bottom\":d=o.pixelFromPrice(i.yAxis.low,i)-(n||r)}return d}},e.Marker.Performance.prototype.prepareForHolder=function(t){var e,i;return e=this.expand,i=t.params.stx,e.classList.add(this.params.type),p.M2q(),i.markerHelper.domMarkers.push(t),e},e.Marker.Performance.prototype.addToHolder=function(t){var i,a;function r(e){a.activeMarker=t,a.activeMarker.click({cx:e.clientX,cy:e.clientY,panel:a.currentPanel}),e.stopPropagation()}p.y2q(),i=this.expand,a=t.params.stx,e.Marker.Performance.reconstituteExpanded(a),e.Marker.Performance.consolidateExpanded(a),this.quickCache(t),i.clickClosure||(i.addEventListener(\"mousedown\",r),i.addEventListener(\"touchstart\",r),i.clickClosure=r)},e.Marker.Performance.prototype.remove=function(t){var e,i,a,r;(e=t.params.stx)&&e.markerHelper.domMarkers&&(i=e.markerHelper.domMarkers.indexOf(t),p.y2q(),-1!=i&&e.markerHelper.domMarkers.splice(i,1),t.attached&&(a=e.panels[t.params.panelName],(r=t.params.node.expand).parentNode===a.subholder&&a.subholder.removeChild(r),r.removeEventListener(\"click\",r.clickClosure)))},e.Marker.Performance.prototype.click=function(t){var e,i,a,r,n,s,o=p;if(this.hasText){\"number\"==typeof arguments[0]&&(t={cx:arguments[0],cy:arguments[1],marker:arguments[2],panel:arguments[3]});var{cx:l,cy:h,marker:c,panel:u}=t;if(e=c.params.stx,c.attached){if((a=this.expand).rects.width-a.scrollBarWidth+a.transform.translateX<e.backOutX(l)&&e.backOutX(l)<a.rects.width+a.transform.translateX)return;this.remove(c)}else{e.addToHolder(c),r=584257492,n=1008494871,s=2;for(var d=1;o.W7Z(d.toString(),d.toString().length,827)!==r;d++)i=!1,o.O6C(9),s+=o.y6C(884313920,\"2\");o.v7Z(s.toString(),s.toString().length,89571)!==n&&(i=!0),i=!0}o.y2q(),c.attached=!c.attached,c.active=!c.active,i&&c.stxNodeCreator.positionPopUpNode(c)}}}else console.error(\"highPerformanceMarkers feature requires first activating markers feature.\")},h=t=>{var e;(e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ).Renderer.OHLC.requestNew=function(t,i){var a,r,n,s,o,l,h,c,u,d=p;a=null,r=i.hlc,n=i.colored,s=i.hollow,o=i.volume,l=i.histogram;for(var g=0;g<t.length;g++)switch(\"h\",\"l\",\"c\",\"col\",\"or\",\"e\",\"d\",\"hol\",\"lo\",\"w\",\"c\",\"andle\",\"ba\",\"r\",h=t[g]){case\"bar\":case\"candle\":a=h;break;case\"volume\":o=!0;break;case\"hollow\":s=!0;break;case\"colored\":n=!0;break;case\"histogram\":l=!0,a=\"candle\";break;case\"hlc\":r=!0,a=\"bar\";break;default:return null}d.O6C(12),c=-d.y6C(1,\"1773932423\"),u=2;for(var m=1;d.v7Z(m.toString(),m.toString().length,6255)!==c;m++){if(null===a)return null;d.O6C(13),u+=d.y6C(2147483647,\"2\")}return-1975194888!==d.W7Z(u.toString(),u.toString().length,80204)&&1!=a?1:new e.Renderer.OHLC({params:e.extend(i,{type:a,hlc:r,colored:n,hollow:s,volume:o,histogram:l})})},e.Renderer.OHLC.getChartParts=function(t,e){var i;return\"border_color_e\",\"v\",\"en\",\"fill_col\",\"or_even\",\"ca\",\"nd\",\"l\",\"e\",\"stx_hollow_can\",\"dle_down\",\"stx_hol\",\"low_candle_up\",\"fill_col\",\"or\",\"_eve\",\"n\",\"border_co\",\"lor\",\"_dow\",\"n\",\"st\",\"x_h\",\"ollow_candle_down\",\"bord\",\"er_c\",\"olo\",\"r_up\",\"fill\",\"_co\",\"lor_\",\"up\",\"s\",\"tx_hollow_cand\",\"le\",\"_up\",\"can\",\"dle\",\"s\",\"had\",\"ow\",\"bo\",\"rder_color_up\",\"stx\",\"_ho\",\"llow_candle_u\",\"p\",\"stx_\",\"cand\",\"le_do\",\"wn\",\"ca\",\"n\",\"dl\",\"e\",\"border\",\"_\",\"col\",\"or_up\",\"shad\",\"ow\",\"c\",\"and\",\"l\",\"e\",\"shad\",\"o\",\"w\",\"b\",\"o\",\"rder_co\",\"lor_up\",\"stx_candle_s\",\"ha\",\"dow\",\"border\",\"_\",\"color_\",\"even\",\"b\",\"ar\",\"borde\",\"r_color_d\",\"own\",\"st\",\"x_bar_\",\"down\",\"borde\",\"r_color_u\",\"p\",\"ba\",\"r\",\"bor\",\"de\",\"r_col\",\"or\",\"stx_b\",\"ar\",\"_chart\",\"b\",\"a\",\"r\",\"fil\",\"l_\",\"color_\",\"even\",\"hi\",\"stogram\",\"stx_his\",\"togram_up\",1,2,4,p.J6C(13),16,32,[{type:\"histogram\",drawType:\"histogram\",style:\"stx_histogram_up\",condition:i=p.c6C(2147483647,\"8\"),fill:\"fill_color_up\",border:\"border_color_up\",useColorInMap:!0,useBorderStyleProp:!0},{type:\"histogram\",drawType:\"histogram\",style:\"stx_histogram_down\",condition:16,fill:\"fill_color_down\",border:\"border_color_down\",useColorInMap:!0,useBorderStyleProp:!0},{type:\"histogram\",drawType:\"histogram\",style:\"stx_histogram_even\",condition:32,fill:\"fill_color_even\",border:\"border_color_even\",skipIfPass:!0,useColorInMap:!0,useBorderStyleProp:!0},{type:\"bar\",drawType:\"bar\",style:t||\"stx_bar_chart\",border:\"border_color\",useColorInMap:!0},{type:\"bar\",drawType:\"bar\",style:\"stx_bar_up\",condition:e?i:1,border:\"border_color_up\",useColorInMap:!0},{type:\"bar\",drawType:\"bar\",style:\"stx_bar_down\",condition:e?16:2,border:\"border_color_down\",useColorInMap:!0},{type:\"bar\",drawType:\"bar\",style:\"stx_bar_even\",condition:e?32:4,border:\"border_color_even\",skipIfPass:!0,useColorInMap:!0},{type:\"candle\",drawType:\"shadow\",style:\"stx_candle_shadow\",border:\"border_color_up\"},{type:\"candle\",drawType:\"shadow\",style:\"stx_candle_shadow_up\",condition:i,border:\"border_color_up\"},{type:\"candle\",drawType:\"shadow\",style:\"stx_candle_shadow_down\",condition:16,border:\"border_color_down\"},{type:\"candle\",drawType:\"shadow\",style:\"stx_candle_shadow_even\",condition:32,border:\"border_color_even\",skipIfPass:!0},{type:\"candle\",drawType:\"candle\",style:\"stx_candle_up\",condition:i,fill:\"fill_color_up\",border:\"border_color_up\",useColorInMap:!0,useBorderStyleProp:!0},{type:\"candle\",drawType:\"candle\",style:\"stx_candle_down\",condition:16,fill:\"fill_color_down\",border:\"border_color_down\",useColorInMap:!0,useBorderStyleProp:!0},{type:\"hollow\",drawType:\"shadow\",style:\"stx_hollow_candle_up\",condition:1,border:\"border_color_up\"},{type:\"hollow\",drawType:\"shadow\",style:\"stx_hollow_candle_down\",condition:2,border:\"border_color_down\"},{type:\"hollow\",drawType:\"shadow\",style:\"stx_hollow_candle_even\",condition:4,border:\"border_color_even\",skipIfPass:!0},{type:\"hollow\",drawType:\"candle\",style:\"stx_hollow_candle_up\",condition:17,fill:\"fill_color_up\",border:\"border_color_up\",useColorInMap:!0},{type:\"hollow\",drawType:\"candle\",style:\"stx_hollow_candle_down\",condition:18,fill:\"fill_color_down\",border:\"border_color_down\",useColorInMap:!0},{type:\"hollow\",drawType:\"candle\",style:\"stx_hollow_candle_even\",condition:20,fill:\"fill_color_even\",border:\"border_color_even\",skipIfPass:!0,useColorInMap:!0},{type:\"hollow\",drawType:\"candle\",style:\"stx_hollow_candle_up\",condition:1|i,fill:\"fill_color_up\",border:\"border_color_up\"},{type:\"hollow\",drawType:\"candle\",style:\"stx_hollow_candle_down\",condition:2|i,fill:\"fill_color_down\",border:\"border_color_down\"},{type:\"hollow\",drawType:\"candle\",style:\"stx_hollow_candle_even\",condition:4|i,fill:\"fill_color_even\",border:\"border_color_even\"}]},e.Renderer.Bars=function(t){var e;this.construct(t),p.M2q(),(e=this.params).type=\"bar\",this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,e.hlc=e.volume=e.hollow=e.histogram=!1},e.inheritsFrom(e.Renderer.Bars,e.Renderer.OHLC,!1),e.Renderer.HLC=function(t){var e;this.construct(t),(e=this.params).type=\"bar\",e.hlc=!0,this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,e.volume=e.hollow=e.histogram=!1},e.inheritsFrom(e.Renderer.HLC,e.Renderer.Bars,!1),e.Renderer.Shading=function(t){this.construct(t),this.beenSetup=!1,this.errTimeout=null,this.params.useChartLegend=!1,this.shading=[],\"rangechannel\"==this.params.type&&(this.highLowBars=!0)},e.inheritsFrom(e.Renderer.Shading,e.Renderer.Lines,!1),p.M2q(),e.Renderer.Shading.requestNew=function(t,i){var a;p.y2q(),a=null;for(var r=0;r<t.length;r++)\"r\",\"angechanne\",\"l\",\"rangechannel\"==t[r]&&(a=\"rangechannel\");return null===a?null:new e.Renderer.Shading({params:e.extend(i,{type:a})})},e.Renderer.Shading.prototype.setShading=function(t){p.y2q(),t.constructor!=Array&&(t=[t]),this.shading=t},e.Renderer.Shading.prototype.draw=function(){var t,i,a,r,n,s,o,l,h,c,u,d,g,m,f,y;function v(t){var e,i,a;return(e=o[t])?(i=e.parameters.field,a=e.parameters.subField,p.O6C(1),p.y6C(i,a?\".\"+a:\"\")):t}for(\"rangech\",\"an\",\"nel\",i=(t=this.stx).panels[this.params.panel].chart,\"rangechannel\"==this.params.type&&(this.beenSetup?this.seriesParams.length>2&&this.removeSeries(this.seriesParams[2].id):(\"L\",\"o\",\"w\",\"H\",\"i\",\"gh\",this.beenSetup=!0,this.params.display=this.seriesParams[0].display,this.params.yAxis=this.seriesParams[0].yAxis,a=this.seriesParams[0].color||\"auto\",\"\",(r=this.seriesParams[0].symbol)&&(p.O6C(1),p.c6C(r,\".\")),this.removeAllSeries(!0),n=this.params.name,t.addSeries(null,{symbol:r,loadData:!!r,field:\"High\",renderer:\"Shading\",name:n,style:\"stx_line_up\",display:this.params.display}),t.addSeries(null,{symbol:r,loadData:!!r,field:\"Low\",renderer:\"Shading\",name:n,style:\"stx_line_down\",display:this.params.display}),this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:a}))),this.shading||this.errTimeout||(\"W\",\"arnin\",\"g: no shading scheme set.  Use m\",\"yRenderer.setShading(scheme) to set.\",console.log(\"Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set.\"),s=this,this.errTimeout=setTimeout((function(){p.M2q(),s.errTimeout=null}),1e4)),o={},l=0;l<this.seriesParams.length;l++)h={},i.series[this.seriesParams[l].id]&&(h=e.clone(i.series[this.seriesParams[l].id].parameters)),o[this.seriesParams[l].id]={parameters:e.extend(e.extend(h,this.params),this.seriesParams[l]),yValueCache:this.caches[this.seriesParams[l].id]};for(l in t.drawSeries(i,o,this.params.yAxis,this),i.legend&&\"rangechannel\"==this.params.type&&(i.legend.colorMap||(i.legend.colorMap={}),c=this.params.display,u=[t.getCanvasColor(\"stx_line_up\"),t.getCanvasColor(\"stx_line_down\")],i.legend.colorMap[c]={color:u,display:c,isBase:this==t.mainSeriesRenderer}),o)this.caches[l]=o[l].yValueCache;for(l=0;l<this.shading.length;l++)\"C\",\"l\",\"o\",\"se\",g=(d=this.shading[l]).color,\"auto\"==d.color&&(g=t.defaultColor),d.primary||(d.primary=\"Close\"),!d.secondary&&this.seriesParams[0]&&(d.secondary=this.seriesParams[0].field),d.secondary&&(o[d.primary]||\"Close\"==d.primary)&&o[d.secondary]&&(\"Close\"==d.primary&&this.params.yAxis&&this.params.yAxis!=i.yAxis||(m=v(d.primary).split(\".\"),f=v(d.secondary).split(\".\"),((y={topBand:m[0],topSubBand:m[1],topColor:d.greater||g||t.containerColor,topAxis:this.params.yAxis,bottomBand:f[0],bottomSubBand:f[1],bottomColor:d.lesser||g||t.containerColor,bottomAxis:\"Close\"==d.primary?null:this.params.yAxis,tension:this.params.tension||i.tension,opacity:.1}).topColor||y.bottomColor)&&(!this.params.highlight&&t.highlightedDraggable&&(y.opacity*=.3),e.fillIntersecting(t,this.params.panel,y))))},e.Renderer.Histogram=function(t){this.construct(t),p.M2q(),this.params.type=\"histogram\",this.barsHaveWidth=this.standaloneBars=!0,this.params.yAxis&&(this.params.bindToYAxis=!0,\"number\"==typeof this.params.yAxis.baseline&&(this.params.yAxis.baseline={value:this.params.yAxis.baseline}))},e.inheritsFrom(e.Renderer.Histogram,e.Renderer,!1),e.Renderer.Histogram.prototype.adjustYAxis=function(){var t;(t=this.params.yAxis)&&!t.baseline&&(p.M2q(),t.min=0,t.highValue/=this.params.heightPercentage||1)},e.Renderer.Histogram.prototype.draw=function(){var t,i,a,r;(t=e.clone(this.params)).type=t.subtype,this.useSum=\"stacked\"==t.subtype,t.yAxis&&t.yAxis!=this.stx.chart.yAxis||(t.bindToYAxis=!0),this.stx.drawHistogram(t,this.seriesParams),(i=t.yAxis&&t.yAxis.baseline)&&i.color&&(a=this.stx.panels[this.params.panel],r=this.stx.pixelFromPrice(i.value,a,this.params.yAxis)-.5,this.stx.plotLine({x0:a.left,x1:a.right,y0:r,y1:r,color:i.color,type:\"line\",context:a.chart.context,confineToPanel:a,pattern:i.pattern||\"solid\",lineWidth:i.lineWidth||1,opacity:i.opacity||.8,globalCompositeOperation:\"destination-over\"}))},e.Renderer.Histogram.prototype.getBasis=function(t,e,i){var a,r,n;if(a=0,p.M2q(),t&&this.useSum)for(var s=0;s<this.seriesParams.length&&(\"obj\",\"ect\",(r=this.seriesParams[s].field)!==e);s++)(n=t[r])&&\"object\"==typeof n&&(n=n[i||this.seriesParams[s].subField||this.stx.chart.defaultPlotField||\"Close\"]),n&&(a+=n);return a},e.Renderer.Heatmap=function(t){p.M2q(),this.construct(t),this.params.type=\"heatmap\",this.params.highlightable=!1,this.barsHaveWidth=this.standaloneBars=!0},e.inheritsFrom(e.Renderer.Heatmap,e.Renderer,!1),e.Renderer.Heatmap.requestNew=function(t,i){var a;a=null;for(var r=0;r<t.length;r++)\"he\",\"a\",\"tmap\",\"heatmap\"==t[r]&&(a=\"heatmap\");return null===a?null:new e.Renderer.Heatmap({params:e.extend(i,{type:a})})},e.Renderer.Heatmap.prototype.draw=function(){this.stx.drawHeatmap(e.clone(this.params),this.seriesParams)},e.Renderer.Scatter=function(t){p.y2q(),this.construct(t),this.standaloneBars=this.barsHaveWidth=!0,this.bounded=!0},e.inheritsFrom(e.Renderer.Scatter,e.Renderer.Lines,!1),e.Renderer.Scatter.requestNew=function(t,i){var a;a=null;for(var r=0;r<t.length;r++)\"scatterplot\"==t[r]&&(a=\"scatter\");return null===a?null:(p.M2q(),new e.Renderer.Scatter({params:e.extend(i,{type:a})}))},e.Renderer.Scatter.prototype.drawIndividualSeries=function(t,e){var i,a;return\"Error, Scatter renderer re\",\"quires customCha\",\"rt.js\",i=this.stx.panels[e.panel]||t.panel,a={colors:[]},this.stx.scatter?a=this.stx.scatter(i,e):console.warn(\"Error, Scatter renderer requires customChart.js\"),a}},c=t=>{var e;(e=\"undefined\"!=typeof _CIQ?_CIQ:t.CIQ).Studies?(\"09:\",\"30\",\"Projecte\",\"d\",\" Aggregate Volume\",\"N\",\"o\",\"ne\",\"+\",\"1\",\"0%\",\"+\",\"4\",\"0%\",\"0 to \",\"max\",\"a\",\"u\",\"t\",\"o\",\"a\",\"u\",\"t\",\"o\",\"a\",\"uto\",\"#5F7\",\"C\",\"B8\",\"S\",\"h\",\"i\",\"nohara Intensity Ratio\",\"#F\",\"F00\",\"0\",\"0\",\"m\",\"a\",\"fi\",\"eld\",\"0\",\".01\",\"0\",\".01\",\"a\",\"ut\",\"o\",\"aut\",\"o\",\"#\",\"00FF00\",\"#8cc1\",\"76\",\"Super\",\"tre\",\"nd\",\"Darvas Bo\",\"x\",\"#FF0\",\"0\",\"00\",\"#00D\",\"D\",\"00\",\"fi\",\"e\",\"l\",\"d\",\"R\",\"ainbow Oscil\",\"lat\",\"or\",\"#\",\"000\",\"0FF\",\"#0\",\"07FF\",\"F\",\"#FFFF\",\"00\",\"0\",\".\",\"1\",\"f\",\"i\",\"e\",\"ld\",\"Trend Intensi\",\"ty Index\",\"m\",\"a\",\"-\",\"1 t\",\"o \",\"1\",\"Ul\",\"cer Index\",\"B\",\"e\",\"ta\",\"#\",\"FF\",\"000\",\"0\",\"#\",\"FF0000\",\"#FF0\",\"000\",\"#\",\"0000FF\",\"#6991\",\"58\",\"#DD\",\"3\",\"E3\",\"9\",\"#F\",\"F0\",\"00\",\"0\",\"a\",\"u\",\"t\",\"o\",\"a\",\"u\",\"t\",\"o\",\"a\",\"u\",\"t\",\"o\",\"f\",\"i\",\"el\",\"d\",\"Boll\",\"inger \",\"%\",\"b\",\"#FF00\",\"0\",\"0\",\"#\",\"ff\",\"d0c\",\"f\",\"#\",\"FF0000\",\"a\",\"ut\",\"o\",\"a\",\"u\",\"to\",\"0\",\".\",\"0\",\"5\",\"a\",\"u\",\"to\",\"f\",\"ie\",\"l\",\"d\",\"n\",\"o\",\"n\",\"e\",\"m\",\"e\",\"d\",\"ian\",\"a\",\"u\",\"t\",\"o\",\"au\",\"t\",\"o\",\"Weighted \",\"C\",\"l\",\"ose\",\"Vo\",\"lume O\",\"scillator\",\"a\",\"ut\",\"o\",\"aut\",\"o\",\"a\",\"u\",\"t\",\"o\",\"f\",\"i\",\"el\",\"d\",\"Sch\",\"aff Trend\",\" Cy\",\"cle\",\"aut\",\"o\",\"a\",\"uto\",\"0 t\",\"o\",\" 1\",\"00\",\"a\",\"uto\",\"#FF\",\"00\",\"00\",\"vd\",\"m\",\"a\",\"R\",\"AV\",\"I\",\"#000\",\"0F\",\"F\",\"#\",\"FF0\",\"00\",\"0\",\"m\",\"a\",\"QS\",\"ti\",\"c\",\"k\",\"-1\",\" to 1\",\"f\",\"i\",\"e\",\"ld\",\"a\",\"ut\",\"o\",\"m\",\"a\",\"f\",\"ie\",\"l\",\"d\",\"Posit\",\"ive Volume\",\" Index\",\"#FF\",\"0\",\"0\",\"00\",\"m\",\"a\",\"Negative\",\" Volum\",\"e Index\",\"Mass \",\"Inde\",\"x\",\"m\",\"a\",\"p\",\"ercent\",\"#FF000\",\"0\",\"a\",\"u\",\"t\",\"o\",\"L\",\"owest Low Value\",\"#00D\",\"D\",\"00\",\"aut\",\"o\",\"e\",\"m\",\"a\",\"a\",\"u\",\"t\",\"o\",\"High\",\" M\",\"i\",\"nus Low\",\"a\",\"u\",\"t\",\"o\",\"Fractal Chaos Ba\",\"nds\",\"Fractal \",\"Chaos Osci\",\"llato\",\"r\",\"#FF000\",\"0\",\"El\",\"der Force In\",\"dex\",\"au\",\"to\",\"Do\",\"nchian C\",\"h\",\"annel\",\"fie\",\"ld\",\"Detrended P\",\"r\",\"ice Os\",\"cillator\",\"Ch\",\"aikin Vola\",\"tility\",\"Chaik\",\"in Money Flow\",\"Comm\",\"odi\",\"ty \",\"Channel Index\",\"au\",\"t\",\"o\",\"m\",\"a\",\"#0\",\"0DD0\",\"0\",\"Aro\",\"on\",\"#\",\"FF000\",\"0\",\"A\",\"DX/DMS\",\"Double\",\" Exponential\",\"3-\",\"exponential\",\"tem\",\"a\",\"d\",\"e\",\"m\",\"a\",e.Studies.calculateRSI=function(t,e){var i,a,r,n,s,o,l,h,c,u=p;i=e.chart.scrubbed,a=e.inputs.Field,u.M2q(),r=2;for(var d=1;425380303!==u.v7Z(d.toString(),d.toString().length,48534);d++)+a&&\"field\"===a&&(a=\"Close\"),u.J6C(12),r+=u.c6C(1,\"2\");if(146233633!==u.v7Z(r.toString(),r.toString().length,7180)&&(\"C\",\"lo\",\"s\",\"e\",(~a||\"Close\"!==a)&&(a=\"Close\")),a&&\"field\"!=a||(a=\"Close\"),i.length<e.days+1)e.error=!0;else{for(var g=e.startFrom;g<i.length;g++)if(\"_a\",\"vgL\",\" \",\"_av\",\"gG \",g&&(n=i[g],u.O6C(0),s=i[u.c6C(g,1)],(n[a]||0===n[a])&&(s[a]||0===s[a]))){if(o=n[a]-s[a],l=Math.min(g,e.days),(h=s[\"_avgG \"+e.name])||(h=0),u.J6C(7),h-=u.c6C(h,l),(c=s[\"_avgL \"+e.name])||(c=0),u.J6C(7),c-=u.c6C(c,l),o>0)u.J6C(7),h+=u.c6C(o,l);else{if(!(o<=0))continue;u.J6C(7),c-=u.y6C(o,l)}g>=e.days&&(!h&&0===h||!c&&0===c||(n[\"RSI \"+e.name]=m(h,c))),n[\"_avgG \"+e.name]=h,n[\"_avgL \"+e.name]=c}e.zoneOutput=\"RSI\"}function m(t,e){var i;return 0===e?100:(u.O6C(7),i=u.c6C(t,e),u.J6C(67),u.y2q(),u.c6C(100,i,\"100\",1))}},e.Studies.calculateValuationLines=function(t,e,i){var a,r,n,s,o,l,h,c,u,d,g,m,f,y=p;a=\"field\"==e.inputs.Field?\"Close\":e.inputs.Field,r=e.inputs[\"Average Type\"],n=e.inputs[\"Display Average\"],s=e.inputs[\"Display 1 Standard Deviation (1)\"],o=e.inputs[\"Display 2 Standard Deviation (2)\"],l=e.inputs[\"Display 3 Standard Deviation (3)\"],h=[];for(var v=0;v<i.length;++v)i[v]&&!isNaN(i[v][a])&&h.push(i[v][a]);c=function(t,e){var i,a,r,n,s,o;switch(\"m\",\"e\",\"a\",y.M2q(),\"n\",i=t.length,a=0,r=0,n=0,e){case\"mean\":for(r=i;n<i;++n)a+=t[n];break;case\"harmonic\":for(a=i;n<i;++n)r+=1/t[n];break;case\"median\":y.O6C(7),s=Math.floor(y.c6C(i,2)),o=t.slice().sort((function(t,e){return t>e?1:t<e?-1:(y.y2q(),0)})),i%2==0?(a=o[s]+o[s-1],r=2):(a=o[s],r=1)}return y.J6C(7),y.c6C(a,r)}(h,r),u=!(s||o||l)||function(t,e){var i,a;i=t.length,a=0,y.M2q();for(var r=0;r<i;++r)a+=Math.pow(t[r]-e,2);return y.O6C(7),Math.sqrt(y.y6C(a,i))}(h,c),e.data={Average:n?[c]:null,\"1 Standard Deviation (1)\":s?[c+u,c-u]:null,\"2 Standard Deviation (2)\":o?[c+2*u,c-2*u]:null,\"3 Standard Deviation (3)\":l?[c+3*u,c-3*u]:null},d=u,e.parameters||(e.parameters={}),l?(y.J6C(68),e.parameters.range=[y.y6C(3,c,u,d),y.y6C(c,d,u,3,y.O6C(69))]):o?(y.O6C(70),e.parameters.range=[y.y6C(u,\"2\",0,d,c),y.c6C(c,d,u,2,y.J6C(69))]):s?(y.J6C(64),e.parameters.range=[y.c6C(d,u,c),y.c6C(d,u,c,y.J6C(51))]):n&&(y.J6C(0),e.parameters.range=[y.y6C(c,d),y.y6C(c,d,y.O6C(1))]),e.panel&&(g=t.panels[e.panel],(m=t.getYAxisByName(g,e.name))&&(m.decimalPlaces=g.chart.yAxis.printDecimalPlaces,f={yAxis:m},t.calculateYAxisRange(g,m,e.parameters.range[0],e.parameters.range[1]),t.createYAxis(g,f),t.drawYAxis(g,f)))},e.Studies.displayValuationLines=function(t,i){var a,r,n,s,o,l,h,c,u,d,g,m,f,y,v,x,C,b,S,w,k=p;for(var D in\"ciq-\",\"valuation-average-\",\"line\",a=t.panels[i.panel],r=i.getYAxis(t),n=i.getContext(t),s=i.data,o=i.parameters.labels,l=i.inputs[\"Average Type\"],h={mean:\"AVG\",median:\"MED\",harmonic:\"HAVG\"},c=t.canvasStyle(\"ciq-valuation-average-line\"),k.y2q(),u=t.canvasStyle(\"ciq-valuation-deviation-line\"),3,d=t.getCanvasFontSize(\"stx_yaxis\")+6,s)if(s[D])for(k.J6C(71),g=k.y6C(\"Average\",D),m=e.Studies.determineColor(i.outputs[D]),f=s[D],y=0;y<f.length;++y)\"l\",\"e\",\"f\",\"t\",\":\",\" \",\"dash\",\"ed\",\"so\",\"li\",\"d\",v=f[y],(x=t.pixelFromPrice(v,a,r))<=a.top||x>=a.yAxis.bottom||(S=g?{pattern:\"none\"!=c.borderStyle&&c.borderStyle||\"solid\",lineWidth:parseFloat(c.borderWidth)||1,opacity:parseFloat(c.opacity)||1,yAxis:r}:{pattern:\"none\"!=u.borderStyle&&u.borderStyle||\"dashed\",lineWidth:parseFloat(u.borderWidth)||1,opacity:parseFloat(u.opacity)||1,yAxis:r},t.plotLine(a.left,a.right,x,x,m,\"line\",n,a,S),\"yaxis\"!==o?(x+=Math.floor(S.lineWidth/2))+d>=a.yAxis.bottom||(C=(g?h[l]+\": \":D[0]+\": \")+t.formatYAxisPrice(v,a),b=n.measureText(C).width,w=a.right-b-3,r&&\"left\"==r.position&&(w=a.left+3),k.O6C(72),n.strokeText(C,w,k.y6C(d,x,\"2\",424953184,.5))):t.createYAxisLabel(a,t.formatYAxisPrice(v,a),x,m,null,n,r))},e.Studies.calculateCorrelationCoefficient=function(t,e){var i,a,r,n,s,o,l,h,c,u,d,g,m,f,y=p;if(i=e.chart.scrubbed,a=e.days,i.length<a+1)e.error=!0;else{if(e.compare=e.inputs[\"Compare To\"],e.compare)e.compare=[e.compare];else for(var v in e.compare=[],e.outputs={},e.outputMap={},t.chart.series)(r=t.chart.series[v]).parameters.color&&(e.compare.push(r.display),e.outputs[\"Result \"+r.display]=r.parameters.color,e.outputMap[\"Result \"+r.display+\" \"+e.name]=\"Result \"+r.display);if(e.compare.length)for(var x=0;x<e.compare.length;x++){y.J6C(9),n=y.y6C(1509400640,\"0\"),s=0,o=0,l=0,y.O6C(13),h=y.y6C(2147483647,\"0\"),c=e.compare[x],u=0;for(var C=e.startFrom-a;C<i.length;C++)\"_\",\"t\",\"emps\",\" \",\"_t\",\"emp\",\"s \",i[C]&&((d=i[C][c])&&\"object\"==typeof d&&(d=d.Close),d||0===d||(\"_t\",\"e\",\"mp\",\"s \",\"_tem\",\"ps \",d=C>0&&i[C-1]&&i[C-1][\"_temps \"+e.name]&&i[C-1][\"_temps \"+e.name].c?i[C-1][\"_temps \"+e.name].c:0),d&&\"object\"==typeof d&&(d=d.Close),i[C][\"_temps \"+e.name]={},n+=i[C][\"_temps \"+e.name].b=i[C].Close,s+=i[C][\"_temps \"+e.name].c=d,o+=i[C][\"_temps \"+e.name].b2=Math.pow(i[C].Close,2),l+=i[C][\"_temps \"+e.name].c2=Math.pow(d,2),h+=i[C][\"_temps \"+e.name].bc=i[C].Close*d,u>=a&&(\"_t\",\"emps \",n-=i[C-a][\"_temps \"+e.name].b,s-=i[C-a][\"_temps \"+e.name].c,o-=i[C-a][\"_temps \"+e.name].b2,l-=i[C-a][\"_temps \"+e.name].c2,h-=i[C-a][\"_temps \"+e.name].bc,g=o/a-Math.pow(n/a,2),m=l/a-Math.pow(s/a,2),f=(h/a-n*s/Math.pow(a,2))/Math.sqrt(g*m),i[C][\"Result \"+c+\" \"+e.name]=f),u++)}else e.error=\"Correlation Coefficient requires at least one comparison symbol\"}},e.Studies.prettify=e.extend({\"2-exponential\":\"dema\",\"3-exponential\":\"tema\",hull:\"hma\"},e.Studies.prettify),e.extend(e.Studies.movingAverage,{conversions:{hma:\"hull\",dema:\"2-exponential\",tema:\"3-exponential\"},translations:{hull:\"Hull\",\"2-exponential\":\"Double Exponential\",\"3-exponential\":\"Triple Exponential\"},typeMap:{hma:\"Hull\",hull:\"Hull\",dema:\"DoubleExponential\",\"2-exponential\":\"DoubleExponential\",tema:\"TripleExponential\",\"3-exponential\":\"TripleExponential\"}}),e.Studies.calculateMovingAverageHull=function(t,i){var a,r,n,s,o,l,h,c;for(\"w\",\"m\",\"a\",\"wm\",\"a\",a=i.chart.scrubbed,(r=i.inputs.Field)&&\"field\"!=r||(r=\"Close\"),e.Studies.MA(\"wma\",i.days,r,0,\"_WMA1\",t,i),e.Studies.MA(\"wma\",Math.ceil(i.days/2),r,0,\"_WMA2\",t,i),n=i.startFrom-1;n>=0&&(\"objec\",\"t\",(s=a[n][r])&&\"object\"==typeof s&&(s=s[i.subField]),!s&&0!==s);n--);for(n++;n<a.length;n++)(o=a[n])[\"_MMA \"+i.name]=2*o[\"_WMA2 \"+i.name]-o[\"_WMA1 \"+i.name];for(var u in l=parseInt(i.inputs.Offset,10),isNaN(l)&&(l=0),h=Math.floor(Math.sqrt(i.days)),e.Studies.MA(\"wma\",h,\"_MMA \"+i.name,l,\"_HMA\",t,i),c=i.name,i.outputs)p.J6C(51),c=p.c6C(c,\" \",u);for(n=Math.max(i.days+h-1,i.startFrom);n<a.length;n++)\"_H\",\"M\",\"A\",\" \",a[n][c]=a[n][\"_HMA \"+i.name]},e.Studies.calculateMovingAverageDoubleExponential=function(t,i){var a,r,n,s,o,l,h,c,u,d,g,m=p;for(\"_\",\"E\",\"MA\",\"2\",\"_E\",\"MA\",\"1\",a=i.chart.scrubbed,r=i.inputs.Field,m.M2q(),r&&\"field\"!=r||(r=\"Close\"),e.Studies.MA(\"ema\",i.days,r,0,\"_EMA1\",t,i),e.Studies.MA(\"ema\",i.days,\"_EMA1 \"+i.name,0,\"_EMA2\",t,i),n=parseInt(i.inputs.Offset,10),isNaN(n)&&(n=0),l=n,s=i.startFrom-1;s>=0;s--)if((o=a[s][r])&&\"object\"==typeof o&&(o=o[i.subField]),o||0===o){if(!(l>0))break;l--}for(var f in h=i.name,i.outputs)m.J6C(51),h=m.c6C(h,\" \",f);for(c=[],s++;s<a.length;s++)s<2*(i.days-1)||(d=2*(u=a[s])[\"_EMA1 \"+i.name]-u[\"_EMA2 \"+i.name],s+n>=0&&(s+n<a.length?(m.J6C(1),a[m.y6C(s,n)][h]=d):((g={})[h]=d,c.push(g))));i.appendFutureTicks(t,c)},e.Studies.calculateMovingAverageTripleExponential=function(t,i){var a,r,n,s,o,l,h,c,u,d,g,m=p;for(\"_\",\"E\",\"MA\",\"3\",\"e\",\"m\",\"a\",a=i.chart.scrubbed,(r=i.inputs.Field)&&\"field\"!=r||(r=\"Close\"),e.Studies.MA(\"ema\",i.days,r,0,\"_EMA1\",t,i),e.Studies.MA(\"ema\",i.days,\"_EMA1 \"+i.name,0,\"_EMA2\",t,i),e.Studies.MA(\"ema\",i.days,\"_EMA2 \"+i.name,0,\"_EMA3\",t,i),n=parseInt(i.inputs.Offset,10),isNaN(n)&&(n=0),l=n,s=i.startFrom-1;s>=0;s--)if((o=a[s][r])&&\"object\"==typeof o&&(o=o[i.subField]),o||0===o){if(!(l>0))break;l--}for(var f in h=i.name,i.outputs)m.O6C(51),h=m.c6C(h,\" \",f);for(c=[],s++;s<a.length;s++)\"_EM\",\"A\",\"3 \",s<3*(i.days-1)||(d=3*(u=a[s])[\"_EMA1 \"+i.name]-3*u[\"_EMA2 \"+i.name]+u[\"_EMA3 \"+i.name],s+n>=0&&(s+n<a.length?(m.J6C(1),a[m.y6C(s,n)][h]=d):((g={})[h]=d,c.push(g))));i.appendFutureTicks(t,c)},e.Studies.calculateATRBands=function(t,i){var a;e.Studies.calculateStudyATR(t,i),(a=i.inputs.Field)&&\"field\"!=a||(a=\"Close\"),e.Studies.calculateGenericEnvelope(t,i,i.inputs.Shift,a,\"ATR \"+i.name)},e.Studies.calculateSTARCBands=function(t,i){e.Studies.calculateStudyATR(t,i),e.Studies.MA(\"simple\",i.inputs[\"MA Period\"],\"Close\",0,\"_MA\",t,i),p.M2q(),e.Studies.calculateGenericEnvelope(t,i,i.inputs.Multiplier,\"_MA \"+i.name,\"ATR \"+i.name)},e.Studies.calculateATRStops=function(t,i){var a,r,n,s,o,l,h,c,u=p;if(\"Al\",\"l\",u.M2q(),\" Sto\",\"ps \",a=i.chart.scrubbed){e.Studies.calculateStudyATR(t,i),r=i.inputs.HighLow;for(var d=Math.max(i.startFrom-1,1);d<a.length-1;d++)\"Buy Stop\",\"s \",n=a[d],u.J6C(73),s=a[u.c6C(514801280,d,\"1\")],(o=n[\"Buy Stops \"+i.name])||(o=n[\"Sell Stops \"+i.name]),o||(o=0),n&&s&&(h=l=n.Close,c=n[\"ATR \"+i.name]*i.inputs.Multiplier,n.Close>o&&s.Close>o?(r&&(l=n.High),u.O6C(0),h=Math.max(o,u.c6C(l,c))):n.Close<=o&&s.Close<=o?(r&&(l=n.Low),u.O6C(1),h=Math.min(o,u.c6C(l,c))):n.Close>o?(r&&(l=n.High),u.O6C(0),h=u.y6C(l,c)):n.Close<=o&&(r&&(l=n.Low),u.J6C(1),h=u.y6C(l,c)),l<=h?(u.J6C(57),a[u.y6C(\"1\",d)][\"Buy Stops \"+i.name]=h,u.J6C(1),delete a[u.y6C(d,1)][\"Sell Stops \"+i.name]):l>h&&(\"Se\",\"l\",\"l Stops \",u.J6C(1),a[u.y6C(d,1)][\"Sell Stops \"+i.name]=h,u.J6C(1),delete a[u.c6C(d,1)][\"Buy Stops \"+i.name]),u.O6C(57),a[u.c6C(\"1\",d)][\"All Stops \"+i.name]=h);i.referenceOutput=\"All Stops\",i.outputMap={},i.outputMap[\"All Stops \"+i.name]=\"\"}},e.Studies.calculateAwesomeOscillator=function(t,i){var a;if(\"simp\",\"l\",\"e\",(a=i.chart.scrubbed).length<33)i.error=!0;else{e.Studies.MA(\"simple\",5,\"hl/2\",0,\"_MA5\",t,i),e.Studies.MA(\"simple\",34,\"hl/2\",0,\"_MA34\",t,i);for(var r=Math.max(i.startFrom,33);r<a.length;r++)a[r]&&(a[r][i.name+\"_hist\"]=a[r][\"_MA5 \"+i.name]-a[r][\"_MA34 \"+i.name]);i.outputMap={},i.outputMap[i.name+\"_hist\"]=\"\"}},e.Studies.calculateRelativeVolatility=function(t,i){var a,r,n,s,o,l,h;if(i.days=Number(i.inputs[\"Smoothing Period\"]),a=Number(i.inputs[\"STD Period\"]),(r=i.chart.scrubbed).length<i.days+a)i.error=!0;else{(n=i.inputs.Field)&&\"field\"!=n||(n=\"Close\"),i.std=new e.Studies.StudyDescriptor(i.name,\"sdev\",i.panel),i.std.chart=i.chart,i.std.days=a,i.std.startFrom=i.startFrom,i.std.inputs={Field:n,\"Standard Deviations\":1,Type:\"ma\"},i.std.outputs={_STD:null},e.Studies.calculateStandardDeviation(t,i.std),s=0,o=0,i.startFrom>1&&(\"_\",\"a\",\"vgL\",\" \",s=r[i.startFrom-1][\"_avgG \"+i.name]||0,o=r[i.startFrom-1][\"_avgL \"+i.name]||0);for(var c=Math.max(i.startFrom,i.days);c<r.length;c++)\"_S\",\"T\",\"D \",l=r[c],p.O6C(0),h=r[p.c6C(c,1)],(l[n]||0===l[n])&&(h[n]||0===h[n])&&(l[\"_STD \"+i.name]||0===l[\"_STD \"+i.name])&&(l[n]>h[n]?(s=(s*(i.days-1)+l[\"_STD \"+i.name])/i.days,o=o*(i.days-1)/i.days):(\"_ST\",\"D \",o=(o*(i.days-1)+l[\"_STD \"+i.name])/i.days,s=s*(i.days-1)/i.days),l[\"Rel Vol \"+i.name]=(u=s)+(d=o)===0?100:(p.O6C(74),p.y2q(),p.c6C(d,u,u,\"100\")),l[\"_avgG \"+i.name]=s,l[\"_avgL \"+i.name]=o);var u,d;i.zoneOutput=\"Rel Vol\"}},e.Studies.calculatePMO=function(t,i){var a,r,n,s,o;if(\"e\",\"xponenti\",\"al\",\"_ROC\",\"x1\",\"0\",\" \",\"ex\",\"ponen\",\"tial\",\"Cl\",\"ose\",\"Signa\",\"l \",\"Perio\",\"d\",a={Smooth:Number(i.inputs[\"Smoothing Period\"])-1,Double:Number(i.inputs[\"Double Smoothing Period\"])-1,Signal:Number(i.inputs[\"Signal Period\"])},(r=i.chart.scrubbed).length<a.Smooth+a.Double)i.error=!0;else{for((n=i.inputs.Field)&&\"field\"!=n||(n=\"Close\"),s=i.startFrom;s<r.length;s++)r[s]&&r[s-1]&&(p.O6C(0),(o=r[p.y6C(s,1)][n])&&(r[s][\"_ROCx10 \"+i.name]=1e3*(r[s][n]/o-1)));e.Studies.MA(\"exponential\",a.Smooth,\"_ROCx10 \"+i.name,0,\"_EMAx10\",t,i),e.Studies.MA(\"exponential\",a.Double,\"_EMAx10 \"+i.name,0,\"PMO\",t,i),e.Studies.MA(\"exponential\",a.Signal,\"PMO \"+i.name,0,\"PMOSignal\",t,i),i.zoneOutput=\"PMO\"}},e.Studies.calculateElderImpulse=function(t,i){var a,r,n,s,o;a=i.chart.scrubbed,r=i.outputs.Bullish,n=i.outputs.Bearish,s=i.outputs.Neutral,e.Studies.MA(\"exponential\",13,\"Close\",0,\"_MA\",t,i),i.macd=new e.Studies.StudyDescriptor(\"_\"+i.name,\"macd\",i.panel),i.macd.chart=i.chart,i.macd.days=i.days,i.macd.startFrom=i.startFrom,i.macd.inputs={\"Fast MA Period\":12,\"Slow MA Period\":26,\"Signal Period\":9},i.macd.outputs={_MACD:null,_Signal:null},e.Studies.calculateMACD(t,i.macd);for(var l=i.startFrom;l<a.length;l++)\"_\",\"M\",\"A\",\" \",\"_M\",\"A \",\"_\",\"h\",\"i\",\"st\",o=0===l?s:a[l][\"_MA \"+i.name]>a[l-1][\"_MA \"+i.name]&&a[l][\"_\"+i.name+\"_hist\"]>a[l-1][\"_\"+i.name+\"_hist\"]?r:a[l][\"_MA \"+i.name]<a[l-1][\"_MA \"+i.name]&&a[l][\"_\"+i.name+\"_hist\"]<a[l-1][\"_\"+i.name+\"_hist\"]?n:s,a[l][\"Result \"+i.name]=o},e.Studies.calculatePivotPoints=function(t,i){var a,r,n,s,o,l,h,c,u;a=i.chart.scrubbed,r=\"day\",\"day\"==t.layout.interval?r=\"month\":e.ChartEngine.isDailyInterval(t.layout.interval)?r=\"year\":\"second\"==t.layout.interval||\"millisecond\"==t.layout.interval||\"second\"==t.layout.timeUnit||\"millisecond\"==t.layout.timeUnit?r=\"15min\":(\"w\",\"e\",\"e\",\"k\",n=t.layout.periodicity,\"minute\"!=t.layout.interval&&(n*=t.layout.interval),n>=30&&(r=\"week\")),s=e.Market.Symbology.isForexSymbol(t.chart.symbol),p.M2q(),o=e.Market.Symbology.isForexMetal(t.chart.symbol),l=null,h={pivotPoint:NaN,high:0,low:0,prevHigh:0,prevLow:0,hlSpread:0},i.startFrom>1&&a[i.startFrom-1][\"_pointers \"+i.name]&&(\"_p\",\"ointer\",\"s\",\" \",h=e.clone(a[i.startFrom-1][\"_pointers \"+i.name]));for(var d=Math.max(1,i.startFrom);d<a.length;d++)\"15mi\",\"n\",\"d\",\"a\",\"y\",\"w\",\"eek\",\"ye\",\"ar\",a[d-1]&&(h.high=Math.max(h.high,a[d-1].High),h.low=Math.min(h.low>0?h.low:a[d-1].Low,a[d-1].Low),i.inputs.Continuous||\"year\"==r&&a[d].DT.getYear()!=a[d-1].DT.getYear()||\"month\"==r&&a[d].DT.getMonth()!=a[d-1].DT.getMonth()||\"week\"==r&&a[d].DT.getDay()<a[d-1].DT.getDay()?g():\"day\"==r?(null===l&&(l=e.Studies.getMarketOffset(t,a[d].DT,s),s&&(p.J6C(75),l+=p.y6C(\"60\",60,1e3,o?6:7))),c=new Date(new Date(+a[d].DT).setMilliseconds(a[d].DT.getMilliseconds()+l)),(u=new Date(new Date(+a[d-1].DT).setMilliseconds(a[d-1].DT.getMilliseconds()+l))).getDate()!==c.getDate()&&0!==u.getDay()&&t.chart.market.isMarketDate(c)&&(l=null,g())):\"15min\"!=r||a[d].DT.getHours()==a[d-1].DT.getHours()&&Math.floor(a[d].DT.getMinutes()/15)==Math.floor(a[d-1].DT.getMinutes()/15)||g(),a[d][\"Pivot \"+i.name]=h.pivotPoint,\"fibonacci\"==i.inputs.Type.toLowerCase()?(\"Suppo\",\"rt 3 \",a[d][\"Resistance 1 \"+i.name]=h.pivotPoint+.382*h.hlSpread,a[d][\"Resistance 2 \"+i.name]=h.pivotPoint+.618*h.hlSpread,a[d][\"Resistance 3 \"+i.name]=h.pivotPoint+h.hlSpread,a[d][\"Support 1 \"+i.name]=h.pivotPoint-.382*h.hlSpread,a[d][\"Support 2 \"+i.name]=h.pivotPoint-.618*h.hlSpread,a[d][\"Support 3 \"+i.name]=h.pivotPoint-h.hlSpread):(\"Support \",\"3 \",\"Su\",\"p\",\"port 2 \",\"Resistance\",\" 1 \",a[d][\"Resistance 1 \"+i.name]=2*h.pivotPoint-h.prevLow,a[d][\"Resistance 2 \"+i.name]=h.pivotPoint+h.hlSpread,a[d][\"Resistance 3 \"+i.name]=h.prevHigh+2*(h.pivotPoint-h.prevLow),a[d][\"Support 1 \"+i.name]=2*h.pivotPoint-h.prevHigh,a[d][\"Support 2 \"+i.name]=h.pivotPoint-h.hlSpread,a[d][\"Support 3 \"+i.name]=h.prevLow-2*(h.prevHigh-h.pivotPoint)),a[d][\"_pointers \"+i.name]=e.clone(h));function g(){h.pivotPoint=(h.high+h.low+a[d-1].Close)/3,h.prevHigh=h.high,h.prevLow=h.low,h.hlSpread=h.high-h.low,h.high=h.low=0}},e.Studies.calculateMFI=function(t,e){var i,a,r,n,s,o;for(\"S\",\"ca\",\"le Factor\",i=e.chart.scrubbed,r=0,(n=e.inputs[\"Scale Factor\"])||(n=e.study.inputs[\"Scale Factor\"]),s=Math.pow(10,Number(n)),e.startFrom>1&&(r=i[e.startFrom-1][\"_high \"+e.name]),o=e.startFrom;o<i.length;o++)i[o]&&i[o].Volume&&(\"_hi\",\"gh \",i[o][e.name+\"_hist\"]=a=s*(i[o].High-i[o].Low)/i[o].Volume,i[o][\"_high \"+e.name]=r=Math.max(r,a));e.outputMap={},e.outputMap[e.name+\"_hist\"]=\"\"},e.Studies.calculateAlligator=function(t,i){var a,r,n,s,o,l=p;if(a={J:Number(i.inputs[\"Jaw Period\"]),T:Number(i.inputs[\"Teeth Period\"]),L:Number(i.inputs[\"Lips Period\"])},(r=i.chart.scrubbed).length<Math.max(a.J,a.T,a.L)+1)i.error=!0;else{(\"Gator\"===i.type||i.inputs[\"Show Lines\"])&&(\"L\",\"ips\",\"J\",\"aw\",e.Studies.MA(\"welles wilder\",a.J,\"hl/2\",i.inputs[\"Jaw Offset\"],\"Jaw\",t,i),e.Studies.MA(\"welles wilder\",a.T,\"hl/2\",i.inputs[\"Teeth Offset\"],\"Teeth\",t,i),e.Studies.MA(\"welles wilder\",a.L,\"hl/2\",i.inputs[\"Lips Offset\"],\"Lips\",t,i));for(var h=i.startFrom;h<r.length;h++)if(\"Show \",\"Fract\",\"als\",r[h]&&(\"Gator\"==i.type&&(\"Tee\",\"th \",n=r[h][\"Jaw \"+i.name],s=r[h][\"Lips \"+i.name],((o=r[h][\"Teeth \"+i.name])||0===o)&&((n||0===n)&&(l.J6C(0),r[h][i.name+\"_hist1\"]=Math.abs(l.c6C(n,o))),(s||0===s)&&(l.J6C(0),r[h][i.name+\"_hist2\"]=-Math.abs(l.c6C(o,s)))),i.outputMap={},i.outputMap[i.name+\"_hist1\"]=\"\",i.outputMap[i.name+\"_hist2\"]=\"\"),i.inputs[\"Show Fractals\"])){if(!(r[h-2]&&r[h-1]&&r[h]&&r[h+1]&&r[h+2]))continue;r[h-2].High&&r[h-1].High&&r[h].High&&r[h+1].High&&r[h+2].High&&r[h].High>r[h-1].High&&r[h].High>r[h-2].High&&r[h].High>r[h+1].High&&r[h].High>r[h+2].High&&(\"F\",\"ractal High\",\" \",r[h][\"Fractal High \"+i.name]=1),r[h-2].Low&&r[h-1].Low&&r[h].Low&&r[h+1].Low&&r[h+2].Low&&r[h].Low<r[h-1].Low&&r[h].Low<r[h-2].Low&&r[h].Low<r[h+1].Low&&r[h].Low<r[h+2].Low&&(\"Fra\",\"ctal\",\" \",\"Low \",r[h][\"Fractal Low \"+i.name]=1)}}},e.Studies.calculateRelativeVigor=function(t,i){var a,r,n,s,o,l,h,c,u=p;if(\"_\",\"his\",\"t\",\"Re\",\"l V\",\"ig\",\" \",\"tria\",\"ngul\",\"ar\",\"_D\",\"enom\",(a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{for(r=i.startFrom;r<a.length;r++)\"_Ra\",\"nge \",\"_\",\"C\",\"hange\",\" \",n=a[r],isNaN(n.Close)||isNaN(n.Open)||(n[\"_Change \"+i.name]=n.Close-n.Open),isNaN(n.High)||isNaN(n.Low)||(n[\"_Range \"+i.name]=n.High-n.Low);for(e.Studies.MA(\"triangular\",4,\"_Change \"+i.name,0,\"_Numer\",t,i),e.Studies.MA(\"triangular\",4,\"_Range \"+i.name,0,\"_Denom\",t,i),u.y2q(),s=[],o=[],r=Math.max(i.startFrom-i.days,0);r<a.length&&(\"_\",\"Deno\",\"m \",!a[r].futureTick);r++)if(null!==a[r][\"_Numer \"+i.name]||null!==a[r][\"_Denom \"+i.name]){for(s.push(a[r][\"_Numer \"+i.name]),o.push(a[r][\"_Denom \"+i.name]),s.length>i.days&&(s.shift(),o.shift()),l=0,h=0,c=0;c<s.length;c++)l+=s[c];for(c=0;c<o.length;c++)h+=o[c];0===h&&(h=1e-8),r<i.startFrom||(u.J6C(7),a[r][\"Rel Vig \"+i.name]=u.c6C(l,h))}for(u.O6C(23),e.Studies.MA(\"triangular\",u.c6C(0,\"4\"),\"Rel Vig \"+i.name,0,\"RelVigSignal\",t,i),r=i.startFrom;r<a.length;r++)\"RelVigSi\",\"gna\",\"l \",a[r][i.name+\"_hist\"]=a[r][\"Rel Vig \"+i.name]-a[r][\"RelVigSignal \"+i.name];i.outputMap[i.name+\"_hist\"]=\"\"}},e.Studies.calculateUlcerIndex=function(t,i){var a,r,n,s;function o(t,e,i){var r,n,s,o=p;o.O6C(0),r=o.c6C(\"516371126\",0),n=2;for(var l=1;o.W7Z(l.toString(),l.toString().length,92748)!==r;l++)s=1,n+=2;-1780227476!==o.W7Z(n.toString(),n.toString().length,63905)&&(s=null);for(var h=e-t+1;h<=e;h++)h<0||(s=null===s?a[h][i]:Math.max(s,a[h][i]));return s}if(\"_\",\"M\",\"A\",\"s\",\"im\",\"p\",\"le\",(a=i.chart.scrubbed).length<2*i.days-1)i.error=!0;else{for((r=i.inputs.Field)&&\"field\"!=r||(r=\"Close\"),n=Math.max(i.startFrom,i.days-1);n<a.length;n++)\"_P\",\"D\",\"2\",\" \",a[n][\"_PD2 \"+i.name]=Math.pow(100*(a[n][r]/o(i.days,n,r)-1),2);for(e.Studies.MA(\"simple\",i.days,\"_PD2 \"+i.name,0,\"_MA\",t,i),n=Math.max(i.startFrom,2*(i.days-1));n<a.length;n++)((s=a[n][\"_MA \"+i.name])||0===s)&&(a[n][\"Result \"+i.name]=Math.sqrt(s))}},e.Studies.calculateChoppiness=function(t,i){var a,r,n;function s(t,e){var i,r;p.y2q(),i=-1*Number.MAX_VALUE,r=Number.MAX_VALUE;for(var n=e-t+1;n<=e;n++)n<0||(i=Math.max(i,a[n].High),r=Math.min(r,a[n].Low));return[r,i]}if(e.Studies.calculateStudyATR(t,i),p.y2q(),(a=i.chart.scrubbed).length<i.days+1)i.error=!0;else for(var o=Math.max(i.startFrom,i.days);o<a.length;o++)if(\"Sum True\",\" Ra\",\"nge \",r=a[o]){if(r.futureTick)break;n=s(i.days,o),r[\"Sum True Range \"+i.name]?(\"S\",\"um True R\",\"ang\",\"e \",r[\"Result \"+i.name]=100*Math.log(r[\"Sum True Range \"+i.name]/Math.max(1e-6,n[1]-n[0]))/Math.log(i.days)):isNaN(r)||(r[\"Result \"+i.name]=0)}},e.Studies.calculateDisparity=function(t,i){var a,r,n,s;if((a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{r=i.inputs.Field,14391185,-79516795,n=2;for(var o=1;14391185!==p.W7Z(o.toString(),o.toString().length,63409);o++)\"_\",\"M\",\"A\",r&&\"field\"!=r||(r=\"Close\"),e.Studies.MA(i.inputs[\"Moving Average Type\"],i.days,r,0,\"_MA\",t,i),n+=2;-79516795!==p.W7Z(n.toString(),n.toString().length,98605)&&(\"Mo\",\"vin\",\"g Average Type\",\"M\",\"oving Ave\",\"rage T\",\"ype\",~r&&\"Moving Average Type\"===r&&(r=\"Close\"),e.Studies.MA(i.inputs[\"Moving Average Type\"],i.days,r,9,\"Moving Average Type\",t,i));for(var l=Math.max(i.startFrom,i.days-1);l<a.length;l++)\"_\",\"MA\",\" \",a[l]&&(s=a[l][\"_MA \"+i.name])&&(a[l][\"Result \"+i.name]=100*(a[l][r]/s-1))}},e.Studies.calculateRainbow=function(t,i){var a,r,n,s,o,l,h,c,u;function d(t,e){var i,r;i=-1*Number.MAX_VALUE,r=Number.MAX_VALUE;for(var n=e-t+1;n<=e;n++)n<0||(i=Math.max(i,a[n].Close),r=Math.min(r,a[n].Close));return p.y2q(),[r,i]}if(\"C\",\"lo\",\"s\",\"e\",(a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{(r=i.inputs.Field)&&\"field\"!=r||(r=\"Close\"),n=r;for(var g=1;g<=10;g++)\"simp\",\"l\",\"e\",e.Studies.MA(\"simple\",i.days,n,0,\"SMA\"+g,t,i),n=\"SMA\"+g+\" \"+i.name;for(var m=Math.max(i.startFrom,10);m<a.length;m++)if(a[m]){if(a[m].futureTick)break;for(s=0,o=0,l=-1*Number.MAX_VALUE,h=Number.MAX_VALUE,g=1;g<=10;g++)((c=a[m][\"SMA\"+g+\" \"+i.name])||0===c)&&(s+=c,o++,l=Math.max(l,c),h=Math.min(h,c));i.name.indexOf(\"Osc\")>-1&&(u=d(i.inputs[\"HHV/LLV Lookback\"],m),o&&(a[m][i.name+\"_hist\"]=100*(a[m][r]-s/o)/Math.max(1e-6,u[1]-u[0]),a[m][\"Over \"+i.name]=100*(l-h)/Math.max(1e-6,u[1]-u[0]),a[m][\"Under \"+i.name]=-a[m][\"Over \"+i.name],a[m][\"Zero \"+i.name]=0))}i.name.indexOf(\"Osc\")>-1&&(\"Zero\",\" \",\"Positive B\",\"ar\",i.outputMap={},i.outputMap[\"Over \"+i.name]=\"Positive Bar\",i.outputMap[\"Under \"+i.name]=\"Negative Bar\",i.outputMap[\"Zero \"+i.name]=\"\",i.outputMap[i.name+\"_hist\"]=\"\")}},e.Studies.calculateKST=function(t,i){var a,r,n,s,o,l,h,c,u=p;for(\"KSTSi\",\"gna\",\"l\",\"Light Rate\",\" of Change Peri\",\"od\",\"Lightest\",\" Rate of Change Peri\",\"o\",\"d\",\"f\",\"i\",\"el\",\"d\",a=i.chart.scrubbed,(r=i.inputs.Field)&&\"field\"!=r||(r=\"Close\"),s={},(n={})[1]=Number(i.inputs[\"Lightest Rate of Change Period\"]),n[2]=Number(i.inputs[\"Light Rate of Change Period\"]),u.O6C(22),n[u.c6C(\"3\",2)]=Number(i.inputs[\"Heavy Rate of Change Period\"]),u.O6C(22),n[u.c6C(\"4\",4)]=Number(i.inputs[\"Heaviest Rate of Change Period\"]),s[1]=Number(i.inputs[\"Lightest SMA Period\"]),u.O6C(13),s[u.c6C(2147483647,\"2\")]=Number(i.inputs[\"Light SMA Period\"]),u.O6C(0),s[u.c6C(\"3\",0)]=Number(i.inputs[\"Heavy SMA Period\"]),s[4]=Number(i.inputs[\"Heaviest SMA Period\"]),o=Number(i.inputs[\"Signal Period\"]),l=i.startFrom;l<a.length;l++)if(a[l])for(h=1;h<=4;h++)l>=n[h]&&a[l-n[h]]&&a[l-n[h]][r]&&(a[l][\"_ROC\"+h+\" \"+i.name]=100*(a[l][r]/a[l-n[h]][r]-1));for(h=1;h<=4;h++)e.Studies.MA(\"simple\",s[h],\"_ROC\"+h+\" \"+i.name,0,\"_SMA\"+h,t,i);for(l=i.startFrom;l<a.length;l++)for(a[l][\"KST \"+i.name]=null,h=1;h<=4;h++)\"_\",\"S\",\"M\",\"A\",((c=a[l][\"_SMA\"+h+\" \"+i.name])||0===c)&&(u.O6C(12),a[l][\"KST \"+i.name]+=u.c6C(c,h));e.Studies.MA(\"simple\",o,\"KST \"+i.name,0,\"KSTSignal\",t,i)},e.Studies.calculateSpecialK=function(t,i){var a,r,n,s,o,l,h,c;for(p.M2q(),a=i.chart.scrubbed,(r=i.inputs.Field)&&\"field\"!=r||(r=\"Close\"),(n=i.inputs.Interval)||(n=\"daily\"),s={daily:[10,15,20,30,50,65,75,100,195,265,390,530],weekly:[4,5,6,8,10,13,15,20,39,52,78,104]},o={daily:[10,10,10,15,50,65,75,100,130,130,130,195],weekly:[4,5,6,8,10,13,15,20,26,26,26,39]},l=i.startFrom;l<a.length;l++)if(a[l])for(h=0;h<s[n].length;h++)\"_\",\"R\",\"O\",\"C\",l>=s[n][h]&&a[l-s[n][h]]&&a[l-s[n][h]][r]&&(a[l][\"_ROC\"+h+\" \"+i.name]=100*(a[l][r]/a[l-s[n][h]][r]-1));for(h=0;h<o[n].length;h++)\"s\",\"im\",\"ple\",e.Studies.MA(\"daily\"==n?\"simple\":\"exponential\",o[n][h],\"_ROC\"+h+\" \"+i.name,0,\"_MA\"+h,t,i);for(l=i.startFrom;l<a.length;l++)for(\"Res\",\"ult \",a[l][\"Result \"+i.name]=null,h=0;h<o[n].length;h++)\"R\",\"es\",\"u\",\"lt \",((c=a[l][\"_MA\"+h+\" \"+i.name])||0===c)&&(p.J6C(76),a[l][\"Result \"+i.name]+=p.c6C(c,\"1\",4,h))},e.Studies.calculateDarvas=function(t,i){var a,r,n,s,o,l,h,c,u,d,g,m,f,y,v,x,C,b=p;for(a=\"A\",a+=\"DV\",r=\"A\",r+=\"T\",r+=\"H\",n=\"Pro\",n+=\"f\",n+=\"i\",n+=\"t\",\"*******\",\"****\",\"****\",\"**\",\"Vol\",\"ume % of Avg\",s=i.chart.scrubbed,o=0,l=parseInt(i.inputs[\"ATH Lookback Period\"],10),i.inputs[\"Volume Spike\"]&&(\"Vol\",\"ume\",e.Studies.MA(\"simple\",l,\"Volume\",0,\"ADV\",t,i)),h=parseFloat(i.inputs[\"Volume % of Avg\"])/100,c=\"n\",c+=\"o\",c+=\"n\",c+=\"e\",u={},d=null,g=null,m=null,f=parseFloat(i.inputs[\"Level Offset\"]),!1,v={},[\"Darvas\",\"Ghost\",n,\"Loss\",r,a,\"Spike\"].forEach((function(t){b.M2q(),v[t]=t+\" \"+i.name})),y=i.startFrom-1;y>0;y--){if(!(x=s[y])[v.Darvas]&&!x[v.Ghost]){o=x[v.ATH]||0,g=x[v.Profit],m=x[v.Loss];break}for(var S in v)x[S]=null}for(;y<s.length;y++)if(\"Volu\",\"me Spike\",C=s[y]){if(parseFloat(i.inputs[\"Price Minimum\"])<=s[o].Close){if(\"high/\",\"l\",\"o\",\"w\",\"E\",\"xit F\",\"i\",\"eld\",!d||d.End&&y!=d.End+1||(s[y-1].Close>u.High?u={State:1,High:2*u.High-u.Low,Low:u.High,Start:y,End:2*u.End-u.Start+1}:d=null,d&&(C[v.Ghost]=e.clone(u),b.O6C(23),u.State=b.y6C(0,\"0\"),s[u.End]&&(\"Gh\",\"ost \",\"end:\",s[u.End][v.Ghost]=e.clone(u)),d={Start:u.Start,End:u.End},g=u.High+f,(!m||m<u.Low-f)&&(m=u.Low-f))),C[v.Profit]=g,C[v.Loss]=m,(C.Close>=g||\"high/low\"==i.inputs[\"Exit Field\"]&&C.High>=g)&&(g=null),\"none\"==c&&y==o+3&&!s[o+2][v.Darvas]&&!s[o+1][v.Darvas]&&!s[o][v.Darvas]&&s[o].High>C.High&&(c=\"high\"),\"high\"==c&&(C.High>s[o].High?c=\"none\":s[y-3].Low<s[y-2].Low&&s[y-3].Low<s[y-1].Low&&s[y-3].Low<C.Low&&(u={State:1,High:s[o].High,Low:s[y-3].Low,Start:o},s[o][v.Darvas]=e.clone(u),c=\"darvas\",d&&(\"Ghost \",\"end:\",d.End>y&&s[d.Start]&&(C[v.Ghost]=e.clone(s[d.Start][v.Ghost]),C[v.Ghost].End=y,s[d.End]&&(\"Gh\",\"ost En\",\"d remov\",\"ed:\",delete s[d.End][v.Ghost])),C[v.Ghost].State=0,s[d.Start][v.Ghost].End=y,d=null),g=u.High+f,(!m||m<u.Low-f)&&(m=u.Low-f))),\"darvas\"==c&&(\"n\",\"o\",\"n\",\"e\",\"n\",\"o\",\"n\",\"e\",C.Close>u.High||\"high/low\"==i.inputs[\"Exit Field\"]&&C.High>u.High?d={}:(C.Close<u.Low||\"high/low\"==i.inputs[\"Exit Field\"]&&C.Low<u.Low)&&(c=\"none\"),d?c=\"none\":\"none\"==c&&(g=null,m=null),i.inputs[\"Ghost Boxes\"]||(d=null),\"none\"==c)){for(var w=u.Start+1;w<y;w++)s[w][v.Darvas]=e.clone(u);u.State=0,u.End=y,C[v.Darvas]=e.clone(u),C[v.ATH]=o;continue}m&&(\"Ex\",\"it\",\" Field\",(C.Close<u.Low||\"high/low\"==i.inputs[\"Exit Field\"]&&C.Low<u.Low)&&(\"darvas\"==c&&(c=\"none\"),(C.Close<m||\"high/low\"==i.inputs[\"Exit Field\"]&&C.Low<m)&&(g=null,m=null),d&&(d.End>y&&s[d.Start]&&(C[v.Ghost]=e.clone(s[d.Start][v.Ghost]),C[v.Ghost].End=y,s[d.End]&&(\"Ghost \",\"End r\",\"emoved\",\":\",delete s[d.End][v.Ghost])),C[v.Ghost].State=0,s[d.Start][v.Ghost].End=y,d=null)))}if(C.High>=s[o].High&&(o=y),(y<3||C.High>=s[y-1].High&&C.High>=s[y-2].High&&C.High>=s[y-3].High)&&y-o>=l){o=y;for(var k=0;k<l&&!(y-k<0);k++)s[y-k].High>s[o].High&&(b.O6C(0),o=b.y6C(y,k));0}i.inputs[\"Volume Spike\"]&&y>l&&y==o&&C[v.ADV]*h<C.Volume&&(b.O6C(23),C[v.Spike]=b.c6C(0,\"1\")),C[v.ATH]=o}},e.Studies.calculateSupertrend=function(t,i){var a,r,n,s,o,l,h=p;if((a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{h.y2q(),e.Studies.calculateStudyATR(t,i);for(var c=i.startFrom;c<a.length;c++)\"_Direc\",\"tion \",(r=a[c])&&(n=(r.High+r.Low)/2,s=i.inputs.Multiplier*r[\"ATR \"+i.name],h.J6C(0),o=h.c6C(n,s),h.J6C(1),l=h.y6C(n,s),c&&(\"_Dow\",\"nt\",\"rend\",\" \",\"_\",\"Downtr\",\"end\",\" \",a[c-1]&&a[c-1].Close&&a[c-1].Close>a[c-1][\"_Uptrend \"+i.name]&&a[c-1][\"_Uptrend \"+i.name]>o&&(h.J6C(11),o=a[h.c6C(1,\"1\",c)][\"_Uptrend \"+i.name]),a[c-1]&&a[c-1].Close&&a[c-1].Close<a[c-1][\"_Downtrend \"+i.name]&&a[c-1][\"_Downtrend \"+i.name]<l&&(h.O6C(0),l=a[h.c6C(c,1)][\"_Downtrend \"+i.name])),r[\"_Direction \"+i.name]=1,c&&(\"_\",\"Direction \",\"_D\",\"irection \",\"_Dir\",\"e\",\"ction \",h.O6C(77),r[\"_Direction \"+i.name]=a[h.c6C(\"1\",2147483647,c)][\"_Direction \"+i.name],r.Close>a[c-1][\"_Downtrend \"+i.name]?r[\"_Direction \"+i.name]=1:r.Close<a[c-1][\"_Uptrend \"+i.name]&&(r[\"_Direction \"+i.name]=-1)),r[\"_Uptrend \"+i.name]=o,r[\"_Downtrend \"+i.name]=l,r[\"Trend \"+i.name]=r[\"_Direction \"+i.name]>0?o:l);i.outputMap={},i.outputMap[\"Trend \"+i.name]=\"\"}},e.Studies.calculatePriceRelative=function(t,i){var a,r,n,s,o,l;if(a=i.chart.scrubbed,(r=i.inputs[\"Comparison Symbol\"].toUpperCase())||(r=i.study.inputs[\"Comparison Symbol\"]),(n={})[s=(s=t.chart.symbol||\"\").replace(/[=+\\-*\\\\%]/g,\"\")]=a.slice(i.startFrom),n[s].length){s!=r&&(n[r]=null),p.O6C(78),o=e.computeEquationChart(p.y6C(\"[\",\"]/[\",s,r,\"]\"),n),l=0;for(var h=i.startFrom;h<a.length&&l<o.length;h++){for(;l<o.length&&a[h].DT.getTime()>o[l].DT.getTime();)l++;a[h].DT.getTime()<o[l].DT.getTime()||(a[h][\"Result \"+i.name]=o[l].Close,l++)}}},e.Studies.calculatePerformance=function(t,i){var a,r,n;if(\"_M\",\"A Co\",\"mp\",\"m\",\"a\",a=i.chart.scrubbed,(r=i.inputs[\"Comparison Symbol\"].toUpperCase())||(r=i.study.inputs[\"Comparison Symbol\"]),i.days||(i.days=i.study.inputs.Period),a.length<i.days+1){i.error=!0,-809559337,-1158298433,2;for(var s=1;-809559337!==p.W7Z(s.toString(),s.toString().length,2548);s++)return;if(-1158298433!==p.W7Z(2..toString(),2..toString().length,84982))return}p.y2q(),e.Studies.MA(\"ma\",i.days,\"Close\",0,\"_MA Base\",t,i),e.Studies.MA(\"ma\",i.days,r,0,\"_MA Comp\",t,i);for(var o=i.startFrom;o<a.length;o++)\"_\",\"MA \",\"Ba\",\"se \",\"Res\",\"u\",\"lt \",(n=a[o][r])&&(n.Close||0===n.Close)&&(n=n.Close),a[o][\"Result \"+i.name]=a[o].Close/n*(a[o][\"_MA Comp \"+i.name]/a[o][\"_MA Base \"+i.name])},e.Studies.calculateBeta=function(t,i){var a,r,n,s,o=p;if(\"_\",\"V\",\"A\",\"R\",\"_VA\",\"Rn \",\"m\",\"a\",\"_CO\",\"VA\",\"R\",\"_M\",\"A\",\" C\",\"omp\",\"_M\",\"A Base\",\"m\",\"a\",a=i.chart.scrubbed,(r=i.inputs[\"Comparison Symbol\"].toUpperCase())||(r=i.study.inputs[\"Comparison Symbol\"]),i.days||(i.days=i.study.inputs.Period),a.length<i.days+1)i.error=!0;else{for(var l=Math.max(i.startFrom,1);l<a.length;l++)\"_Comp\",\"Chang\",\"e\",\" \",a[l][\"_BaseChange \"+i.name]=a[l].Close/a[l-1].Close-1,(n=a[l][r])&&(n.Close||0===n.Close)&&(n=n.Close),o.O6C(0),(s=a[o.y6C(l,1)][r])&&(s.Close||0===s.Close)&&(s=s.Close),o.J6C(79),a[l][\"_CompChange \"+i.name]=o.c6C(n,s,1);for(e.Studies.MA(\"ma\",i.days,\"_BaseChange \"+i.name,0,\"_MA Base\",t,i),e.Studies.MA(\"ma\",i.days,\"_CompChange \"+i.name,0,\"_MA Comp\",t,i),l=Math.max(i.startFrom,i.days);l<a.length;l++)\"_M\",\"A Comp \",\"_MA\",\" Base \",a[l][\"_COVARn \"+i.name]=(a[l][\"_BaseChange \"+i.name]-a[l][\"_MA Base \"+i.name])*(a[l][\"_CompChange \"+i.name]-a[l][\"_MA Comp \"+i.name]),a[l][\"_VARn \"+i.name]=Math.pow(a[l][\"_CompChange \"+i.name]-a[l][\"_MA Comp \"+i.name],2);for(e.Studies.MA(\"ma\",i.days,\"_COVARn \"+i.name,0,\"_COVAR\",t,i),e.Studies.MA(\"ma\",i.days,\"_VARn \"+i.name,0,\"_VAR\",t,i),l=Math.max(i.startFrom,2*i.days-1);l<a.length;l++)a[l][\"Result \"+i.name]=a[l][\"_COVAR \"+i.name]/a[l][\"_VAR \"+i.name]}},e.Studies.calculateVortex=function(t,i){var a,r,n,s,o,l,h,c,u=p;if(a=i.chart.scrubbed,r=i.days,u.y2q(),a.length<r+1)i.error=!0;else{n={tr:0,vmPlus:0,vmMinus:0},i.startFrom>1&&(n=e.clone(a[i.startFrom-1][\"_totals \"+i.name]));for(var d=Math.max(i.startFrom,1);d<a.length;d++)\"_True \",\"R\",\"an\",\"ge \",s=a[d],u.O6C(50),o=a[u.y6C(\"1\",d)],l=Math.abs(s.High-o.Low),h=Math.abs(s.Low-o.High),c=Math.max(s.High,o.Close)-Math.min(s.Low,o.Close),n.tr+=c,n.vmPlus+=l,n.vmMinus+=h,d>r&&(\"_VMM\",\"inu\",\"s \",\"_Tr\",\"u\",\"e Range \",u.O6C(0),n.tr-=a[u.c6C(d,r)][\"_True Range \"+i.name],u.J6C(0),n.vmPlus-=a[u.c6C(d,r)][\"_VMPlus \"+i.name],u.O6C(0),n.vmMinus-=a[u.y6C(d,r)][\"_VMMinus \"+i.name]),s[\"_True Range \"+i.name]=c,s[\"_VMPlus \"+i.name]=l,s[\"_VMMinus \"+i.name]=h,d>=r&&(s[\"+VI \"+i.name]=n.vmPlus/n.tr,s[\"-VI \"+i.name]=n.vmMinus/n.tr),s[\"_totals \"+i.name]=e.clone(n)}},e.Studies.calculateBalanceOfPower=function(t,i){var a,r;if(\"Res\",\"ult\",\"_Rati\",\"o \",(a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{for(var n=i.startFrom;n<a.length;n++)\"_Ratio\",\" \",(r=a[n])[\"_Ratio \"+i.name]=r.Close-r.Open,r.High-r.Low!=0&&(r[\"_Ratio \"+i.name]/=r.High-r.Low);e.Studies.MA(i.inputs[\"Moving Average Type\"],i.days,\"_Ratio \"+i.name,0,\"Result\",t,i)}},e.Studies.calculateTrendIntensity=function(t,i){var a,r,n,s,o,l,h,c,u=p;if(\"T\",\"I\",\"I\",\" \",(a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{for((r=i.inputs.Field)&&\"field\"!=r||(r=\"Close\"),e.Studies.MA(\"ma\",i.days,r,0,\"_SMA\",t,i),n=0,s=0,h=[],c=Math.ceil(i.days/2),o=Math.max(0,i.startFrom-c);o<a.length;o++)(a[o][\"_SMA \"+i.name]||0===a[o][\"_SMA \"+i.name])&&((l=a[o][r]-a[o][\"_SMA \"+i.name])<0?(u.O6C(81),s+=u.y6C(1,l)):n+=l,h.push(l),h.length>c&&((l=h.shift())<0?(u.O6C(81),s-=u.c6C(1,l)):n-=l),o<i.startFrom||(a[o][\"TII \"+i.name]=(d=n,g=s,Math.abs(g)<1e-8?100:(u.J6C(80),u.c6C(1,\"100\",100,d,g)))));var d,g;e.Studies.MA(\"ema\",i.inputs[\"Signal Period\"],\"TII \"+i.name,0,\"Signal\",t,i)}},e.Studies.calculateZigZag=function(t,e){var i,a,r,n,s,o,l,h,c,u,d,g,m,f,y,v=p;function x(t,a){for(var r=t+1;r<a;r++)\"Re\",\"sult \",\"Sha\",\"dowR\",\"es\",\"ult \",i[r][\"ShadowResult \"+e.name]=(i[a][\"Result \"+e.name]-i[t][\"Result \"+e.name])*(r-t)/(a-t)+i[t][\"Result \"+e.name],delete i[r][\"Result \"+e.name]}if(\"C\",\"l\",\"ose\",\"H\",\"i\",\"gh\",\"L\",\"o\",\"w\",\"Resul\",\"t \",(i=e.chart.scrubbed)&&i.length){a=e.highLowChart,r=null,n=null,s=e.inputs[\"Distance(%)\"],o=0,l=0,h=0,c=null,u=null,d=0;for(var C=Math.min(i.length-1,e.startFrom);C>=0;C--)if(\"_sta\",\"te\",\" \",d=C,i[C][\"_state \"+e.name]){\"_s\",\"tat\",\"e\",\" \",r=(g=i[C][\"_state \"+e.name])[0],n=g[1],o=g[2],l=g[3],h=g[4],c=g[5],u=g[6];break}for(var b=d;b<i.length;b++){if(m=i[b][a?\"High\":\"Close\"],f=i[b][a?\"Low\":\"Close\"],null===n||n<m)if(n=m,o<0&&(r=f),v.O6C(82),c=v.y6C(100,n,1,s),o>-1){if(null!==u&&n>u){i[l][\"Result \"+e.name]=i[l][a?\"Low\":\"Close\"],x(h,l),v.J6C(13),o=-v.c6C(2147483647,\"1\"),r=f,h=l,l=b;continue}}else l=b;if(null===r||r>f)if(r=f,o>0&&(n=m),v.J6C(83),u=v.y6C(r,100,1,s),o<1){if(null!==c&&r<c){\"Cl\",\"o\",\"s\",\"e\",i[l][\"Result \"+e.name]=i[l][a?\"High\":\"Close\"],x(h,l),o=1,n=m,h=l,l=b;continue}}else l=b}for(i[l][\"Result \"+e.name]=i[l][a?1==o?\"Low\":\"High\":\"Close\"],i[l][\"_state \"+e.name]=[r,n,o,l,h,c,u],x(h,l),y=i.length-1;y>l;){if(i[y].Close||0===i[y].Close){\"C\",\"lo\",\"s\",\"e\",\"H\",\"igh\",i[y][\"Result \"+e.name]=i[y][a?1==o?\"High\":\"Low\":\"Close\"];break}y--}x(l,y)}},e.Studies.calculatePsychologicalLine=function(t,e){var i,a,r,n,s;if(p.M2q(),(i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{a=[],r=100/e.days,n=0;for(var o=Math.max(e.startFrom-e.days,1);o<i.length&&!i[o].futureTick;o++)(s=Number(i[o].Close>i[o-1].Close))&&(n+=r),a.push(s),a.length>e.days&&(n-=a.shift()*r),o<e.startFrom||isNaN(i[o].Close)||(i[o][\"Result \"+e.name]=n)}},e.Studies.calculateMADev=function(t,i){var a,r,n,s,o,l,h,c,u=p;if(\"_\",\"his\",\"t\",\"Point\",\"s Or Perce\",\"nt\",\"C\",\"l\",\"o\",\"se\",(a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{(r=i.inputs.Field)&&\"field\"!=r||(r=\"Close\"),(n=i.inputs[\"Points Or Percent\"])||(n=\"Points\"),(s=i.inputs[\"Moving Average Type\"])||(s=\"exponential\"),e.Studies.MA(s,i.days,r,0,\"_MA\",t,i),o=i.name+\"_hist\";for(var d=Math.max(i.startFrom,i.days-1);d<a.length;d++)\"_M\",\"A \",(h=(l=a[d])[r])&&\"object\"==typeof h&&(h=h[i.subField]),((c=l[\"_MA \"+i.name])||0===c)&&(\"Points\"==n?(u.O6C(0),l[o]=u.c6C(h,c)):(u.O6C(84),l[o]=u.c6C(h,c,1,100)));i.outputMap={},i.outputMap[i.name+\"_hist\"]=\"\"}},e.Studies.calculateShinohara=function(t,i){var a,r;if(a=i.chart.scrubbed,p.y2q(),a.length<i.days+1)i.error=!0;else{r={weakNum:0,weakDen:0,strongNum:0,strongDen:0},i.startFrom>1&&(r=e.clone(a[i.startFrom-1][\"_accums \"+i.name]));for(var n=i.startFrom;n<a.length;n++)\"_ac\",\"cum\",\"s\",\" \",r.weakNum+=a[n].High-a[n].Close,r.weakDen+=a[n].Close-a[n].Low,n>0&&(r.strongNum+=a[n].High-a[n-1].Close,r.strongDen+=a[n-1].Close-a[n].Low),n>=i.days&&(\"Wea\",\"k\",\" Ratio \",r.weakNum-=a[n-i.days].High-a[n-i.days].Close,r.weakDen-=a[n-i.days].Close-a[n-i.days].Low,a[n][\"Weak Ratio \"+i.name]=100*r.weakNum/r.weakDen,n>i.days&&(r.strongNum-=a[n-i.days].High-a[n-i.days-1].Close,r.strongDen-=a[n-i.days-1].Close-a[n-i.days].Low,a[n][\"Strong Ratio \"+i.name]=100*r.strongNum/r.strongDen)),a[n][\"_accums \"+i.name]=e.clone(r)}},e.Studies.calculateAccumulationDistribution=function(t,e){var i,a,r,n,s;i=e.chart.scrubbed;for(var o=e.startFrom;o<i.length;o++)if(o){if((a=i[o]).futureTick)break;p.J6C(0),r=i[p.y6C(o,1)],n=0,a.Close>r.Close?n=a.Close-Math.min(a.Low,r.Close):a.Close<r.Close&&(n=a.Close-Math.max(a.High,r.Close)),e.inputs[\"Use Volume\"]&&(n*=a.Volume),(s=r[\"Result \"+e.name])||(s=0),s+=n,isNaN(a.Close)||(a[\"Result \"+e.name]=s)}},e.Studies.calculateADX=function(t,i){var a,r,n,s,o,l,h,c,u,d,g,m,f,y,v=p;if(e.Studies.calculateStudyATR(t,i),a=i.chart.scrubbed,r=i.days,(n=parseInt(i.inputs[\"Smoothing Period\"],10))||0===n||(n=r),a.length<i.days+1)i.error=!0;else{s=0,o=0,l=0,h=0;for(var x=Math.max(1,i.startFrom);x<a.length;x++)if(\"+\",\"D\",\"I\",\" \",c=a[x],u=Math.max(0,c.High-a[x-1].High),v.O6C(22),u>(d=Math.max(v.c6C(\"0\",0),a[x-1].Low-c.Low))?(v.J6C(9),d=v.c6C(614673024,\"0\")):u=d>u?0:d=0,x<=r?(\"T\",\"rue \",\"Ra\",\"nge \",o+=u,l+=d,s+=c[\"True Range \"+i.name]):(\"_s\",\"mTR \",\"_\",\"sm-DM \",o=a[x-1][\"_sm+DM \"+i.name]*(r-1)/r+u,l=a[x-1][\"_sm-DM \"+i.name]*(r-1)/r+d,s=a[x-1][\"_smTR \"+i.name]*(r-1)/r+c[\"True Range \"+i.name]),c[\"_sm+DM \"+i.name]=o,c[\"_sm-DM \"+i.name]=l,c[\"_smTR \"+i.name]=s,!(x<r)){if(v.O6C(26),g=v.c6C(o,100,s),v.O6C(26),m=v.c6C(l,100,s),f=100*Math.abs(g-m)/(g+m),c[\"+DI \"+i.name]=g,c[\"-DI \"+i.name]=m,!1!==i.inputs.Series&&n)if(x<r+n-1){if(x==i.startFrom)for(var C=r;C<i.startFrom;C++)\"+\",\"D\",\"I\",\" \",h+=100*Math.abs(a[C][\"+DI \"+i.name]-a[C][\"-DI \"+i.name])/(a[C][\"+DI \"+i.name]+a[C][\"-DI \"+i.name]);h+=f}else x==r+n-1?(\"A\",\"D\",\"X \",v.J6C(7),c[\"ADX \"+i.name]=v.c6C(h,n)):c[\"ADX \"+i.name]=(a[x-1][\"ADX \"+i.name]*(n-1)+f)/n;if(i.inputs.Histogram){if(\"-\",\"DI \",y=i.name+\"_hist\",!c[\"+DI \"+i.name]&&0!==c[\"+DI \"+i.name])continue;if(!c[\"-DI \"+i.name]&&0!==c[\"-DI \"+i.name])continue;c[y]=c[\"+DI \"+i.name]-c[\"-DI \"+i.name],!1===i.inputs.Series&&(c[\"+DI \"+i.name]=null,c[\"-DI \"+i.name]=null),i.outputMap[y]=\"\"}}}},e.Studies.calculateAroon=function(t,e){var i,a,r,n,s,o,l,h,c,u,d,g,m=p;if(i=e.chart.scrubbed,m.M2q(),i.length<e.days+1)e.error=!0;else{a=0,r=0,n=null,s=null,e.startFrom>0&&(\"_s\",\"t\",\"ate\",\" \",(o=i[e.startFrom-1][\"_state \"+e.name])&&(m.O6C(12),a=o[m.c6C(1,\"0\")],r=o[1],n=o[2],s=o[3]));for(var f=e.startFrom;f<i.length&&!(h=i[f]).futureTick;f++){if(null===n&&(n=h.High),null===s&&(s=h.Low),(n=Math.max(n,h.High))==h.High)a=0;else if(++a>e.days)for(n=h.High,a=0,l=1;l<=e.days;l++)(n=Math.max(n,i[f-l].High))==i[f-l].High&&(a=l);if((s=Math.min(s,h.Low))==h.Low)r=0;else if(++r>e.days)for(s=h.Low,m.J6C(13),r=m.y6C(2147483647,\"0\"),l=1;l<=e.days;l++)(s=Math.min(s,i[f-l].Low))==i[f-l].Low&&(r=l);c=!isNaN(h.High),u=!isNaN(h.Low),d=100*(1-a/e.days),c&&(h[\"Aroon Up \"+e.name]=d),g=100*(1-r/e.days),u&&(h[\"Aroon Down \"+e.name]=g),c&&u&&(h[\"Aroon Oscillator \"+e.name]=h[\"Aroon Up \"+e.name]-h[\"Aroon Down \"+e.name]),h[\"_state \"+e.name]=[a,r,n,s]}}},e.Studies.calculateBollinger=function(t,i){var a;(a=i.inputs.Field)&&\"field\"!=a||(a=\"Close\"),e.Studies.MA(i.inputs[\"Moving Average Type\"],i.days,a,0,\"_MA\",t,i),i.std=new e.Studies.StudyDescriptor(i.name,\"STD Dev\",i.panel),i.std.chart=i.chart,i.std.startFrom=i.startFrom,i.std.days=i.days,i.std.inputs={Field:a,\"Standard Deviations\":1,Type:i.inputs[\"Moving Average Type\"]},i.std.outputs={\"_STD Dev\":null},e.Studies.calculateStandardDeviation(t,i.std),e.Studies.calculateGenericEnvelope(t,i,i.inputs[\"Standard Deviations\"],\"_MA \"+i.name,\"_STD Dev \"+i.name),\"Boll %b\"==i.type&&(i.zoneOutput=\"%b\")},e.Studies.calculateCCI=function(t,i){var a,r,n;if(p.M2q(),\"h\",\"lc/3\",(a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{e.Studies.MA(\"simple\",i.days,\"hlc/3\",0,\"MA\",t,i);for(var s=Math.max(i.startFrom,i.days-1);s<a.length;s++)if(\"MA\",\" \",r=a[s]){p.J6C(23),n=p.c6C(0,\"0\");for(var o=0;o<i.days;o++)n+=Math.abs(a[s-o][\"hlc/3\"]-r[\"MA \"+i.name]);n/=i.days,Math.abs(n)<1e-8?r[\"Result \"+i.name]=0:r[\"Result \"+i.name]=(r[\"hlc/3\"]-r[\"MA \"+i.name])/(.015*n)}}},e.Studies.calculateCenterOfGravity=function(t,e){var i,a,r,n,s,o=p;if(\"C\",\"los\",\"e\",o.y2q(),\"f\",\"i\",\"el\",\"d\",(i=e.chart.scrubbed).length<e.days)e.error=!0;else{(a=e.inputs.Field)&&\"field\"!=a||(a=\"Close\");for(var l=Math.max(e.startFrom,e.days-1);l<i.length;l++){\"Res\",\"u\",\"lt\",\" \",r=0,n=0;for(var h=0;h<e.days;h++)o.J6C(0),s=i[o.c6C(l,h)][a],o.O6C(85),r-=o.y6C(h,s,\"1\"),n+=s;n&&(o.J6C(7),i[l][\"Result \"+e.name]=o.y6C(r,n))}}},e.Studies.calculateChaikinMoneyFlow=function(t,e){var i,a,r,n;if((i=e.chart.scrubbed).length<e.days)e.error=!0;else{a=0,p.M2q(),r=0,(n=i[e.startFrom-1])&&(n[\"_sumMF \"+e.name]&&(a=n[\"_sumMF \"+e.name]),n[\"_sumV \"+e.name]&&(r=n[\"_sumV \"+e.name]));for(var s=e.startFrom;s<i.length;s++)i[s].High==i[s].Low?i[s][\"_MFV \"+e.name]=0:i[s][\"_MFV \"+e.name]=i[s].Volume*(2*i[s].Close-i[s].High-i[s].Low)/(i[s].High-i[s].Low),a+=i[s][\"_MFV \"+e.name],r+=i[s].Volume,s>e.days-1&&(a-=i[s-e.days][\"_MFV \"+e.name],(r-=i[s-e.days].Volume)&&(p.O6C(7),i[s][\"Result \"+e.name]=p.c6C(a,r))),i[s][\"_sumMF \"+e.name]=a,i[s][\"_sumV \"+e.name]=r}},e.Studies.calculateChaikinVolatility=function(t,i){var a,r,n;if(\"Rate\",\" O\",\"f Chan\",\"ge\",\"_Hi\",\"gh-\",\"Lo\",\"w \",\"Moving Ave\",\"rage \",\"T\",\"ype\",(a=i.chart.scrubbed).length<i.days)i.error=!0;else{for(r=i.startFrom;r<a.length&&!a[r].futureTick;r++)a[r][\"_High-Low \"+i.name]=a[r].High-a[r].Low;for(e.Studies.MA(i.inputs[\"Moving Average Type\"],i.days,\"_High-Low \"+i.name,0,\"_MA\",t,i),(n=i.inputs[\"Rate Of Change\"])||(n=i.days),r=Math.max(i.startFrom,n);r<a.length;r++)if(\"_MA\",\" \",\"_M\",\"A \",a[r-n][\"_MA \"+i.name]){if(a[r].futureTick)break;a[r][\"Result \"+i.name]=100*(a[r][\"_MA \"+i.name]/a[r-n][\"_MA \"+i.name]-1)}}},e.Studies.calculateChandeForecast=function(t,i){var a,r,n;if(\"ti\",\"m\",\"e \",\"series\",\"Cl\",\"o\",\"se\",\"f\",\"ield\",(a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{(r=i.inputs.Field)&&\"field\"!=r||(r=\"Close\"),e.Studies.MA(\"time series\",i.days,r,0,\"MA\",t,i);for(var s=Math.max(1,i.startFrom);s<a.length;s++)\"M\",\"A\",\" \",\"Re\",\"s\",\"u\",\"lt \",\"ob\",\"je\",\"ct\",(n=a[s][r])&&\"object\"==typeof n&&(n=n[i.subField]),a[s][\"Result \"+i.name]=100*(1-a[s][\"MA \"+i.name]/n)}},e.Studies.calculateCoppock=function(t,i){var a,r,n,s,o,l,h,c=p;if(\"R\",\"esult\",a=i.chart.scrubbed,(r=i.inputs.Field)&&\"field\"!=r||(r=\"Close\"),(n=parseInt(i.inputs[\"Long RoC\"],10))||(c.J6C(9),n=c.c6C(1511559264,\"14\")),(s=parseInt(i.inputs[\"Short RoC\"],10))||(s=11),(o=i.days)||(o=10),!(n<s)){if(a.length<Math.max(s,n,o)+1){-668415612,-1258410968,2;for(var u=1;-668415612!==c.v7Z(u.toString(),u.toString().length,8453);u++)return void(i.error=!0);if(-1258410968!==c.W7Z(2..toString(),2..toString().length,28214))return void(i.error=!1)}c.y2q();for(var d=Math.max(i.startFrom,n);d<a.length;d++)c.O6C(0),l=a[c.y6C(d,s)][r],c.J6C(0),h=a[c.y6C(d,n)][r],l&&h&&(a[d][\"_Sum \"+i.name]=100*(a[d][r]/l+a[d][r]/h-2));e.Studies.MA(\"weighted\",o,\"_Sum \"+i.name,0,\"Result\",t,i)}},e.Studies.calculateDetrendedPrice=function(t,i){var a,r,n,s,o;if(\"M\",\"A\",\"Mo\",\"v\",\"in\",\"g Average Type\",\"C\",\"los\",\"e\",(a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{p.M2q(),(r=i.inputs.Field)&&\"field\"!=r||(r=\"Close\"),n=Math.floor(i.days/2+1),e.Studies.MA(i.inputs[\"Moving Average Type\"],i.days,r,-n,\"MA\",t,i);for(var l=Math.max(i.days-n-1,i.startFrom-n);l<a.length-n;l++)\"M\",\"A \",(s=a[l][r])&&\"object\"==typeof s&&(s=s[i.subField]),o=a[l][\"MA \"+i.name],!s&&0!==s||!o&&0!==o||(p.J6C(0),a[l][\"Result \"+i.name]=p.y6C(s,o))}},e.Studies.calculateEaseOfMovement=function(t,i){var a,r,n,s,o,l,h,c=p;if((a=i.chart.scrubbed).length<i.days)i.error=!0;else{for(var u=Math.max(1,i.startFrom);u<a.length;u++)\"_\",\"EO\",\"M\",\"1 \",r=(a[u].High+a[u].Low)/2,n=(a[u-1].High+a[u-1].Low)/2,c.O6C(0),s=c.c6C(r,n),o=a[u].Volume/1e8/(a[u].High-a[u].Low),c.J6C(7),l=c.y6C(s,o),isFinite(l)?a[u][\"_EOM1 \"+i.name]=l:a[u][\"_EOM1 \"+i.name]=NaN;1908484655,-24331037,h=2;for(var d=1;1908484655!==c.v7Z(d.toString(),d.toString().length,79973);d++)\"R\",\"esul\",\"t\",e.Studies.MA(i.inputs.Result,i.days,\"Result\"*i.name,1,\"Result\",t,i),h+=2;-24331037!==c.W7Z(h.toString(),h.toString().length,43840)&&(\"Res\",\"u\",\"lt\",e.Studies.MA(i.inputs.Result,i.days,\"Result\"*i.name,1,\"Result\",t,i)),e.Studies.MA(i.inputs[\"Moving Average Type\"],i.days,\"_EOM1 \"+i.name,0,\"Result\",t,i)}},e.Studies.calculateElderRay=function(t,i){var a;if(\"_E\",\"MA\",(a=i.chart.scrubbed).length<i.days)i.error=!0;else{e.Studies.MA(\"exponential\",i.days,\"Close\",0,\"_EMA\",t,i);for(var r=Math.max(i.startFrom,i.days-1);r<a.length;r++)\"_h\",\"i\",\"s\",\"t2\",\"_\",\"h\",\"is\",\"t1\",a[r][i.name+\"_hist1\"]=a[r].High-a[r][\"_EMA \"+i.name],a[r][i.name+\"_hist2\"]=a[r].Low-a[r][\"_EMA \"+i.name];i.outputMap={},i.outputMap[i.name+\"_hist1\"]=\"\",i.outputMap[i.name+\"_hist2\"]=\"\"}},e.Studies.calculateElderForce=function(t,i){var a;if((a=i.chart.scrubbed).length<i.days)i.error=!0;else{for(var r=Math.max(1,i.startFrom);r<a.length;r++)a[r][\"_EF1 \"+i.name]=a[r].Volume*(a[r].Close-a[r-1].Close);e.Studies.MA(\"exponential\",i.days,\"_EF1 \"+i.name,0,\"Result\",t,i)}},e.Studies.calculateEhlerFisher=function(t,e){var i,a,r,n,s;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{a=0,p.M2q(),e.startFrom>1&&(a=i[e.startFrom-1][\"_n \"+e.name]);for(var o=e.startFrom;o<i.length&&!(r=i[o]).futureTick;o++)o<e.days-1?(\"EF\",\" Tri\",\"gg\",\"er \",\"E\",\"F\",\" \",r[\"EF \"+e.name]=r[\"EF Trigger \"+e.name]=a):(n=l(e.days,o),(a=.66*(((i[o].High+i[o].Low)/2-n[0])/Math.max(1e-6,n[1]-n[0])-.5)+.67*a)>0?a=Math.min(a,.9999):a<0&&(a=Math.max(a,-.9999)),s=o?i[o-1][\"EF \"+e.name]:0,r[\"EF \"+e.name]=.5*Math.log((1+a)/(1-a))+.5*s,r[\"EF Trigger \"+e.name]=s,r[\"_n \"+e.name]=a)}function l(t,e){var a,r,n;p.y2q(),a=Number.MAX_VALUE,r=-1*Number.MAX_VALUE;for(var s=e-t+1;s<=e;s++)n=(i[s].High+i[s].Low)/2,a=Math.min(a,n),r=Math.max(r,n);return[a,r]}},e.Studies.calculateFractalChaos=function(t,e){var i,a,r,n,s,o,l;i=e.chart.scrubbed,a=0,r=0,n=0,e.startFrom&&\"Fractal Chaos Bands\"==e.type&&(a=i[e.startFrom-1][\"Fractal High \"+e.name],r=i[e.startFrom-1][\"Fractal Low \"+e.name]);for(var h=Math.max(4,e.startFrom);h<i.length&&(\"Frac\",\"tal Chaos Bands\",\"Resu\",\"lt \",!i[h].futureTick);h++){for(s=!isNaN(i[h].High),o=!isNaN(i[h].Low),(s||o)&&(i[h][\"Result \"+e.name]=0),n=0,l=0;l<=h&&i[h-l]&&!(i[h-l].High>i[h-2].High)&&!(l<2&&i[h-l].High==i[h-2].High);l++)if(i[h-l].High<i[h-2].High&&n++,4==n){a=i[h-2].High;break}for(\"Fractal Chaos Bands\"==e.type?s&&(i[h][\"Fractal High \"+e.name]=a>0?a:null):4==n&&(i[h][\"Result \"+e.name]=1),n=0,l=0;l<=h&&i[h-l]&&!(i[h-l].Low<i[h-2].Low)&&!(l<2&&i[h-l].Low==i[h-2].Low);l++)if(i[h-l].Low>i[h-2].Low&&n++,4==n){r=i[h-2].Low;break}\"Fractal Chaos Bands\"==e.type?o&&(i[h][\"Fractal Low \"+e.name]=r>0?r:null):4==n&&(i[h][\"Result \"+e.name]=-1)}},e.Studies.calculateGenericEnvelope=function(t,e,i,a,r,n){var s,o,l,h,c,u,d,g=p;i||(i=0),n||(n=0),a&&\"field\"!=a||(a=\"Close\"),r||(r=a),s=e.chart.scrubbed,(o=e.inputs.Field)&&\"field\"!==o||(o=\"Close\");for(var m=e.startFrom;s&&m<s.length;m++)\"Ban\",\"dwi\",\"dth \",\" \",\"Top \",\"ob\",\"ject\",\"ob\",\"j\",\"ec\",\"t\",(l=s[m])&&l[a]&&((h=l[o])&&\"object\"==typeof h&&(h=h.Close),(c=l[a])&&\"object\"==typeof c&&(c=c[e.subField]),(u=l[r])&&\"object\"==typeof u&&(u=u[e.subField]),g.J6C(49),d=g.y6C(i,u,n),g.O6C(1),l[e.type+\" Top \"+e.name]=g.y6C(c,d),g.O6C(0),l[e.type+\" Bottom \"+e.name]=g.y6C(c,d),l[e.type+\" Median \"+e.name]=c,l[\"Bandwidth \"+e.name]=c?200*d/c:0,g.J6C(86),l[\"%b \"+e.name]=g.c6C(\"50\",h,d,421619424,1,c))},e.Studies.calculateHistoricalVolatility=function(t,e){var i,a,r,n,s,o,l,h,c;if(\"Days \",\"P\",\"er Yea\",\"r\",\"Standard D\",\"eviatio\",\"ns\",\"Clo\",\"s\",\"e\",(i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{var u,d;(a=e.inputs.Field)&&\"field\"!=a||(a=\"Close\"),(r=e.inputs[\"Standard Deviations\"])<0&&(r=1),n=100*Math.sqrt((u=e.inputs[\"Days Per Year\"],d=p,isNaN(u)&&(d.J6C(13),u=d.y6C(2147483647,\"365\")),\"day\"==t.layout.interval?u:\"week\"==t.layout.interval?52:\"month\"==t.layout.interval?(d.O6C(0),d.y6C(\"12\",0)):u))*r,s=[],o=0,e.startFrom>1&&(o=i[e.startFrom-1][\"_state \"+e.name][0],s=i[e.startFrom-1][\"_state \"+e.name][1].slice());for(var g=Math.max(1,e.startFrom);g<i.length;g++){if(\"_\",\"s\",\"tate \",p.O6C(0),(l=i[p.y6C(g,1)][a])&&(h=Math.log(i[g][a]/l),s.push(h),o+=h,g>=e.days)){c=0,o/=e.days;for(var m=0;m<s.length;m++)c+=Math.pow(s[m]-o,2);o*=e.days,o-=s.shift(),i[g][\"Result \"+e.name]=Math.sqrt(c/e.days)*n}i[g][\"_state \"+e.name]=[o,s.slice()]}}},e.Studies.calculateIchimoku=function(t,e){var i,a,r,n,s,o,l,h;function c(t,e){var a,r;a=Number.MAX_VALUE,r=-1*Number.MAX_VALUE;for(var n=e-t+1;n<=e;n++)n<0||(a=Math.min(a,i[n].Low),r=Math.max(r,i[n].High));return p.y2q(),[a,r]}for(\"Base Line Pe\",\"riod\",i=e.chart.scrubbed,a={Base:Number(e.inputs[\"Base Line Period\"]),Conv:Number(e.inputs[\"Conversion Line Period\"]),LeadB:Number(e.inputs[\"Leading Span B Period\"]),Lag:Number(e.inputs[\"Lagging Span Period\"])},r=e.startFrom;r<i.length;r++)\"Base\",\" Line \",i[r]&&(n=c(a.Conv,r),i[r][\"Conversion Line \"+e.name]=(n[1]+n[0])/2,n=c(a.Base,r),i[r][\"Base Line \"+e.name]=(n[1]+n[0])/2,r<a.Lag||(i[r-a.Lag][\"Lagging Span \"+e.name]=i[r].Close));for(s=[],r=Math.max(0,e.startFrom-a.Base);r<i.length;r++)n=c(a.LeadB,r),o=(i[r][\"Conversion Line \"+e.name]+i[r][\"Base Line \"+e.name])/2,l=(n[1]+n[0])/2,i[r+a.Base]?(\"Lead\",\"ing \",\"Span B \",\"Lea\",\"ding Sp\",\"an A \",i[r+a.Base][\"Leading Span A \"+e.name]=o,i[r+a.Base][\"Leading Span B \"+e.name]=l):(\"Leading\",\" Span\",\" B\",\" \",\"L\",\"eading\",\" Sp\",\"an A \",(h={})[\"Leading Span A \"+e.name]=o,h[\"Leading Span B \"+e.name]=l,s.push(h));e.appendFutureTicks(t,s)},e.Studies.calculateKlinger=function(t,i){var a,r,n,s,o,l,h,c,u,d,g,m=p;if(\"_\",\"EMA-S\",\"_EM\",\"A-\",\"L\",\" \",\"Long C\",\"ycl\",\"e\",a=i.chart.scrubbed,r=Number(i.inputs[\"Short Cycle\"]),n=Number(i.inputs[\"Long Cycle\"]),a.length<Math.max(r,n)+1)i.error=!0;else{for(s=i.name+\"_hist\",o=\"Klinger \"+i.name,l=\"KlingerSignal \"+i.name,h=\"_SV \"+i.name,c=\"_EMA-S \"+i.name,u=\"_EMA-L \"+i.name,d=Math.max(1,i.startFrom);d<a.length;d++)\"hlc/\",\"3\",g=a[d].Volume,a[d][\"hlc/3\"]<a[d-1][\"hlc/3\"]&&(g*=-1),g&&(a[d][h]=g);for(m.J6C(23),e.Studies.MA(\"exponential\",r,h,m.c6C(0,\"0\"),\"_EMA-S\",t,i),m.J6C(9),e.Studies.MA(\"exponential\",n,h,m.y6C(431119808,\"0\"),\"_EMA-L\",t,i),d=Math.max(n,i.startFrom);d<a.length&&(!a[d].futureTick&&null!==a[d][c]&&null!==a[d][u]);d++)a[d][o]=a[d][c]-a[d][u];for(e.Studies.MA(\"exponential\",Number(i.inputs[\"Signal Periods\"]),o,0,\"KlingerSignal\",t,i),d=i.startFrom;d<a.length;d++)a[d][s]=a[d][o]-a[d][l];i.outputMap[s]=\"\"}},e.Studies.calculateKeltner=function(t,i){p.y2q(),e.Studies.MA(i.inputs[\"Moving Average Type\"],i.days,\"Close\",0,\"MA\",t,i),e.Studies.calculateStudyATR(t,i),e.Studies.calculateGenericEnvelope(t,i,i.inputs.Shift,\"MA \"+i.name,\"ATR \"+i.name)},e.Studies.calculateMACD=function(t,i){var a,r,n,s,o,l,h,c,u,d,g,m=p;if(\"_MA\",\"CD\",\"1\",a=i.chart.scrubbed,r=i.inputs,n=i.name,i.macd1Days||(i.macd1Days=parseFloat(r[\"Fast MA Period\"])),i.macd2Days||(i.macd2Days=parseFloat(r[\"Slow MA Period\"])),i.signalDays||(i.signalDays=parseFloat(r[\"Signal Period\"])),i.days||(i.days=Math.max(i.macd1Days,i.macd2Days,i.signalDays)),a.length<i.days+1)i.error=!0;else{for((s=i.inputs.Field)&&\"field\"!=s||(s=\"Close\"),(o=r[\"Moving Average Type\"])||(o=\"exponential\"),e.Studies.MA(o,i.macd1Days,s,0,\"_MACD1\",t,i),e.Studies.MA(o,i.macd2Days,s,0,\"_MACD2\",t,i),l=c=Math.max(i.startFrom,i.days-1);l<a.length;l++)\"_MAC\",\"D1 \",!(h=a[l])[\"_MACD1 \"+n]&&0!==h[\"_MACD1 \"+n]||!h[\"_MACD2 \"+n]&&0!==h[\"_MACD2 \"+n]||(m.J6C(1),h[m.y6C(\"MACD \",n)]=h[\"_MACD1 \"+n]-h[\"_MACD2 \"+n]);for((u=r[\"Signal MA Type\"])||(u=\"exponential\"),m.y2q(),e.Studies.MA(u,i.signalDays,\"MACD \"+n,0,\"Signal\",t,i),m.J6C(1),d=m.y6C(n,\"_hist\"),l=c;l<a.length;l++)h=a[l],m.O6C(1),((g=h[m.y6C(\"Signal \",n)])||0===g)&&(h[d]=h[\"MACD \"+n]-h[\"Signal \"+n]);i.outputMap[d]=\"\"}},e.Studies.calculateMAEnvelope=function(t,i){var a,r,n;(a=i.inputs.Field)&&\"field\"!=a||(a=\"Close\"),e.Studies.MA(i.inputs[\"Moving Average Type\"],i.days,a,0,\"MA\",t,i),r=i.inputs[\"Shift Type\"],n=i.inputs.Shift,p.M2q(),r||(\"S\",\"hift Pe\",\"rcentage\",\"perce\",\"n\",\"t\",r=\"percent\",n=i.inputs[\"Shift Percentage\"]),\"percent\"==r?(\"M\",\"A\",\" \",p.O6C(7),e.Studies.calculateGenericEnvelope(t,i,p.y6C(n,100),\"MA \"+i.name)):\"points\"==r&&(\"MA\",\" \",e.Studies.calculateGenericEnvelope(t,i,null,\"MA \"+i.name,null,Number(n)))},e.Studies.calculateMassIndex=function(t,i){var a,r;if(\"_EM\",\"A\",\"2\",\"_\",\"EM\",\"A\",\" \",p.y2q(),\"_\",\"High-Low \",(a=i.chart.scrubbed).length<Math.max(9,i.days+1))i.error=!0;else{for(var n=i.startFrom;n<a.length;n++)a[n][\"_High-Low \"+i.name]=a[n].High-a[n].Low;e.Studies.MA(\"exponential\",9,\"_High-Low \"+i.name,0,\"_EMA\",t,i),e.Studies.MA(\"exponential\",9,\"_EMA \"+i.name,0,\"_EMA2\",t,i),r=0,a[i.startFrom-1]&&a[i.startFrom-1][\"_total \"+i.name]&&(r=a[i.startFrom-1][\"_total \"+i.name]);for(var s=Math.max(17,i.startFrom);s<a.length;s++)\"_\",\"EMA\",\" \",r+=a[s][\"_EMA \"+i.name]/a[s][\"_EMA2 \"+i.name],s>=17+i.days-1&&(\"_\",\"EM\",\"A \",a[s][\"Result \"+i.name]=r,r-=a[s-i.days+1][\"_EMA \"+i.name]/a[s-i.days+1][\"_EMA2 \"+i.name]),a[s][\"_total \"+i.name]=r}},e.Studies.calculateMaxHighMinLow=function(t,e){var i,a,r,n,s,o,l,h=p;if(i=e.chart.scrubbed,a=e.days,r=e.days,e.inputs[\"High Period\"]&&(a=e.inputs[\"High Period\"]),e.inputs[\"Low Period\"]&&(r=e.inputs[\"Low Period\"]),i.length<Math.max(a,r)+1)e.error=!0;else{if(n=Number.MAX_VALUE,s=-1*Number.MAX_VALUE,e.startFrom>1){for(o=1;o<a;o++)s=Math.max(s,i[e.startFrom-o].High);for(o=1;o<r;o++)n=Math.min(n,i[e.startFrom-o].Low)}for(var c=Math.max(0,e.startFrom-1);c<i.length;c++){if(\"H\",\"H\",\"V\",s=Math.max(s,i[c].High),n=Math.min(n,i[c].Low),c>=a&&i[c-a].High==s)for(s=i[c].High,o=1;o<a;o++)s=Math.max(s,i[c-o].High);if(c>=r&&i[c-r].Low==n)for(n=i[c].Low,o=1;o<r;o++)n=Math.min(n,i[c-o].Low);if(l=0,\"HHV\"==e.type)l=s;else if(\"LLV\"==e.type)l=n;else if(\"Donchian Width\"==e.type)h.O6C(0),l=h.c6C(s,n);else if(\"GAPO\"==e.type||\"Gopala\"==e.type)l=Math.log(s-n)/Math.log(r);else{if(\"VT HZ Filter\"==e.type){\"_MHM\",\"L\",\" \",h.J6C(0),l=h.c6C(s,n),i[c][\"_MHML \"+e.name]=l;continue}if(\"Williams %R\"==e.type){l=-100*(s-i[c].Close)/(s-n),i[c][\"Result \"+e.name]=l;continue}}if(c==i.length-1)break;i[c+1].futureTick||(\"Donchian Channel\"==e.type?(\"Donchian\",\" M\",\"edian \",h.J6C(1),i[h.y6C(c,1)][\"Donchian High \"+e.name]=s,h.J6C(10),i[h.y6C(1,\"1\",c)][\"Donchian Low \"+e.name]=n,h.J6C(1),i[h.y6C(c,1)][\"Donchian Median \"+e.name]=h.y6C(s,2,n,h.O6C(2))):(h.O6C(1),i[h.c6C(c,1)][\"Result \"+e.name]=l))}}},e.Studies.calculateMoneyFlowIndex=function(t,e){var i,a,r,n,s,o,l,h,c,u,d,g=p;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{a=0,r=0,n=i[e.startFrom-1],g.M2q(),s=\"_rawMF \"+e.name,o=\"_cumMF \"+e.name,l=\"Result \"+e.name,n&&n[o]&&(a=n[o][0],r=n[o][1]);for(var m=e.startFrom;m<i.length;m++)h=i[m][\"hlc/3\"],m>0&&!i[m].futureTick&&(g.O6C(0),c=i[g.c6C(m,1)][\"hlc/3\"],u=h*i[m].Volume,h>c?a+=u:h<c?r-=u*=-1:u=0,m>e.days&&((d=i[m-e.days][s])>0?a-=d:r+=d,0===r?i[m][l]=100:i[m].Volume&&(g.J6C(87),i[m][l]=g.c6C(100,r,\"100\",a,1,1))),i[m][s]=u,i[m][o]=[a,r])}},e.Studies.calculateOnBalanceVolume=function(t,e){var i,a,r,n,s,o,l,h,c=p;(i=e.inputs.Field)&&\"field\"!=i||(i=\"Close\"),r=!1,(a=e.inputs[\"Min Tick Value\"])||0===a||(r=!0,a=0),n=e.chart.scrubbed,c.y2q(),c.J6C(9),s=c.y6C(1861502432,\"0\");for(var u=e.startFrom;u<n.length;u++)\"R\",\"es\",\"ult\",\" \",o=n[u],u&&o[i]&&(n[u-1][i]&&(c.O6C(0),l=n[c.y6C(u,1)]),l&&(o[i]-l[i]>a?s=1:l[i]-o[i]>a?s=-1:r&&(s=0),(h=l[\"Result \"+e.name])||(h=0),h+=o.Volume*s,o[\"Result \"+e.name]=h))},e.Studies.calculatePrettyGoodOscillator=function(t,i){var a;if((a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{e.Studies.MA(\"exponential\",i.days,\"trueRange\",0,\"_EMA\",t,i),e.Studies.MA(\"simple\",i.days,\"Close\",0,\"_SMA\",t,i);for(var r=Math.max(1,i.startFrom);r<a.length;r++)a[r][\"_SMA \"+i.name]&&a[r][\"_EMA \"+i.name]&&(a[r][\"Result \"+i.name]=(a[r].Close-a[r][\"_SMA \"+i.name])/a[r][\"_EMA \"+i.name])}},e.Studies.calculatePriceOscillator=function(t,i){var a,r,n,s,o,l,h,c,u,d=p;if(\"_Sh\",\"ort \",\"MA\",\"P\",\"er\",\"ce\",\"nt\",\"Short\",\" Cycle\",a=i.chart.scrubbed,r=Number(i.inputs[\"Short Cycle\"]),n=Number(i.inputs[\"Long Cycle\"]),a.length<Math.max(r,n)+1)i.error=!0;else{s=i.inputs.Field,(o=i.inputs[\"Moving Average Type\"])||(o=\"simple\"),s&&\"field\"!=s||(s=\"Close\"),i.parameters.isVolume&&(\"e\",\"xpon\",\"enti\",\"al\",s=\"Volume\",o=\"exponential\"),(l=i.inputs[\"Points Or Percent\"])||(l=\"Percent\"),e.Studies.MA(o,r,s,0,\"_Short MA\",t,i),e.Studies.MA(o,n,s,0,\"_Long MA\",t,i);for(var g=Math.max(n,i.startFrom);g<a.length;g++)(h=a[g])&&(c=h[\"_Short MA \"+i.name],u=h[\"_Long MA \"+i.name],!c&&0!==c||!u&&0!==u||(\"Incr\",\"easing Bar\",\"Points\"==l?(d.O6C(0),h[\"Result \"+i.name]=d.c6C(c,u)):(d.O6C(84),h[\"Result \"+i.name]=d.c6C(c,u,1,100)),i.outputs[\"Increasing Bar\"]&&(h[i.name+\"_hist\"]=h[\"Result \"+i.name],i.outputMap={},i.outputMap[i.name+\"_hist\"]=\"\")))}},e.Studies.calculatePriceVolumeTrend=function(t,e){var i,a,r;(i=e.inputs.Field)&&\"field\"!=i||(i=\"Close\"),a=e.chart.scrubbed,r=0,e.startFrom>1&&(r=a[e.startFrom-1][\"Result \"+e.name]);for(var n=Math.max(1,e.startFrom);n<a.length;n++)a[n][i]&&a[n-1][i]&&(r+=a[n].Volume*(a[n][i]-a[n-1][i])/a[n-1][i],a[n][\"Result \"+e.name]=r)},e.Studies.calculatePrimeNumber=function(t,e){var i,a,r,n,s,o,l,h,c=p;function u(t){var e;if(c.M2q(),t<=0)return!1;if(t!=Math.floor(t))return!1;if(!0===i[t]||!1===i[t])return i[t];e=parseInt(Math.sqrt(t),10);for(var a=2;a<=e;a++)if(t%a==0)return i[t]=!1,!1;return i[t]=!0,!0}i=[],a=e.chart.scrubbed;for(var d=e.startFrom;d<a.length;d++)if(r=a[d]){if(n=r.High,!isNaN(n)){for(var g=0;n>0&&n<=10;g++)n*=10;for(u(n)&&(c.J6C(22),n+=c.c6C(\"2\",2)),(n=Math.ceil(n))%2==0&&n++;!u(n);)n+=2;n/=Math.pow(10,g)}if(s=r.Low,!isNaN(s)){for(var m=0;s>0&&s<=10;m++)c.J6C(27),s*=c.y6C(\"10\",1376661888);if(u(s)&&(s-=2),(s=Math.floor(s))%2==0&&s--,s>0){for(;!u(s);)s-=2;s/=Math.pow(10,m)}}\"Prime Number Bands\"==e.type?(isNaN(n)||(r[\"Prime Bands Top \"+e.name]=n),isNaN(s)||(r[\"Prime Bands Bottom \"+e.name]=Math.max(0,s))):(o=0,l=e.inputs[\"Tolerance Percentage\"]*(n-s)/100,(h=n+s-2*r.Close)<l?o=1:h>l&&(c.O6C(0),o=-c.c6C(\"1\",0)),o&&(r[\"Result \"+e.name]=o))}},e.Studies.calculatePSAR=function(t,e){var i,a,r,n,s,o,l,h,c,u,d,g,m=p;i=e.chart.scrubbed,m.O6C(23),a=m.c6C(0,\"0\"),r=null,n=!1,s=0,o=2;for(var f=1;-503758558!==m.W7Z(f.toString(),f.toString().length,44690);f++)l=parseFloat(e.inputs[\"\"]),o+=2;179730557!==m.W7Z(o.toString(),o.toString().length,59263)&&(l=parseFloat(e.inputs[\"\"])),l=parseFloat(e.inputs[\"Minimum AF\"]),h=parseFloat(e.inputs[\"Maximum AF\"]),e.startFrom>0&&(s=i[e.startFrom-1][\"Result \"+e.name],(c=i[e.startFrom-1][\"_state \"+e.name])&&3==c.length&&(a=c[0],r=c[1],n=c[2]));for(var y=e.startFrom-1;y<i.length-1;y++)if(\"_st\",\"at\",\"e\",\" \",!(y<0)){if(i[y].futureTick)break;u=s,n?((!r||r<i[y].High)&&(r=i[y].High,m.J6C(1),a=Math.min(m.c6C(a,l),h)),m.O6C(88),s=m.c6C(r,a,u,u),d=Math.min(i[Math.max(1,y)-1].Low,i[y].Low),s>i[y+1].Low?(s=r,v()):s>d&&(s=d)):((!r||r>i[y].Low)&&(r=i[y].Low,m.J6C(1),a=Math.min(m.y6C(a,l),h)),m.J6C(88),s=m.c6C(r,a,u,u),g=Math.max(i[Math.max(1,y)-1].High,i[y].High),s<i[y+1].High?(s=r,v()):s<g&&(s=g)),m.J6C(1),i[m.y6C(y,1)][\"_state \"+e.name]=[a,r,n],isNaN(i[y].High)&&isNaN(i[y].Low)||(m.O6C(1),i[m.c6C(y,1)][\"Result \"+e.name]=s)}function v(){a=0,m.M2q(),r=null,n=!n}},e.Studies.calculateQStick=function(t,i){var a,r;if((a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{for(var n=i.startFrom;n<a.length;n++)a[n][\"_Close-Open \"+i.name]=a[n].Close-a[n].Open;-132750584,-173640997,r=2;for(var s=1;-132750584!==p.v7Z(s.toString(),s.toString().length,36311);s++)\"Mo\",\"ving A\",\"verage Type\",e.Studies.MA(i.inputs[\"Moving Average Type\"],i.days,\"_Close-Open \"+i.name,0,\"Result\",t,i),r+=2;-173640997!==p.W7Z(r.toString(),r.toString().length,50)&&e.Studies.MA(i.inputs.Result,i.days,\"Result\"*i.name,5,\"Result\",t,i)}},e.Studies.calculateRandomWalk=function(t,e){var i,a,r,n,s,o,l,h,c,u,d,g,m=p;m.J6C(27),i=m.y6C(\"166086222\",277293984),a=2;for(var f=1;642070696!==m.W7Z(f.toString(),f.toString().length,79092);f++)r=e.chart.scrubbed,a+=2;if(m.W7Z(a.toString(),a.toString().length,82776)!==i&&(r=e.chart.scrubbed),(r=e.chart.scrubbed).length<e.days+1){m.O6C(13),n=-m.c6C(2147483647,\"2001339742\"),m.J6C(23),-m.c6C(0,\"193342742\"),2;for(var y=1;m.W7Z(y.toString(),y.toString().length,47236)!==n;y++)return void(e.error=!1);return m.W7Z(2..toString(),2..toString().length,62005),void(e.error=!0)}for(var v=Math.max(2,e.startFrom);v<r.length;v++){s=0,o=r[v].High,l=r[v].Low,h=0,c=0;for(var x=1;x<=e.days&&!r[v].futureTick;x++){if(v<=x){h=c=0;break}(u=(s+=r[v-x].trueRange)/x*Math.sqrt(x))&&(d=(o-r[v-x].Low)/u,g=(r[v-x].High-l)/u,h=Math.max(h,d),c=Math.max(c,g))}r[v].futureTick||isNaN(o)&&isNaN(l)||(\"R\",\"and\",\"om Walk Low \",r[v][\"Random Walk High \"+e.name]=h,r[v][\"Random Walk Low \"+e.name]=c)}},e.Studies.calculateSchaff=function(t,i){var a,r,n,s,o,l,h,c,u,d,g,m,f;if(\"S\",\"hort Cycle\",a=i.chart.scrubbed,r=i.days,n=Number(i.inputs[\"Short Cycle\"]),s=Number(i.inputs[\"Long Cycle\"]),a.length<Math.max(r,n,s)+1)i.error=!0;else{(o=i.inputs.Field)&&\"field\"!=o||(o=\"Close\"),.5,e.Studies.MA(i.inputs[\"Moving Average Type\"],n,o,0,\"_MACD1\",t,i),e.Studies.MA(i.inputs[\"Moving Average Type\"],s,o,0,\"_MACD2\",t,i),l=0,h=0;for(var y=i.startFrom;y<a.length;y++)c=a[y],y<s-1||(u=c[\"_MACD1 \"+i.name],d=c[\"_MACD2 \"+i.name],(u||0===u||d||0===d)&&(p.O6C(0),c[\"_MACD \"+i.name]=p.c6C(u,d)),g=c[\"_MACD \"+i.name],y<s+(r-1)||(l=(m=v(r,y,\"_MACD\"))[1]>m[0]?100*(g-m[0])/(m[1]-m[0]):l,(g||0===g)&&(c[\"_PF \"+i.name]=a[y-1][\"_PF \"+i.name]?a[y-1][\"_PF \"+i.name]+.5*(l-a[y-1][\"_PF \"+i.name]):l),f=c[\"_PF \"+i.name],y<s+2*(r-1)||(h=(m=v(r,y,\"_PF\"))[1]>m[0]?100*(f-m[0])/(m[1]-m[0]):h,(f||0===f)&&(\"R\",\"es\",\"ult \",\"R\",\"e\",\"sult\",\" \",c[\"Result \"+i.name]=a[y-1][\"Result \"+i.name]?a[y-1][\"Result \"+i.name]+.5*(h-a[y-1][\"Result \"+i.name]):h))))}function v(t,e,r){var n,s,o;p.M2q(),n=null,s=null;for(var l=e-t+1;l<=e;l++)(o=a[l][r+\" \"+i.name])&&(n=null===n?o:Math.min(n,o),s=null===s?o:Math.max(s,o));return[n,s]}},e.Studies.calculateStochastics=function(t,i){var a,r,n,s,o;function l(t,e,i){var a,r,s,o,l;p.O6C(5),a=p.y6C(i,t,1),r=-1*Number.MAX_VALUE,s=Number.MAX_VALUE;for(var h=a;h<=t;h++)\"Clo\",\"s\",\"e\",o=n[h][\"Close\"==e?\"Low\":e],l=n[h][\"Close\"==e?\"High\":e],(o||0===o)&&(l||0===l)&&(s=Math.min(s,o),r=Math.max(r,l));return r==-1*Number.MAX_VALUE||s==Number.MAX_VALUE?null:r==s?0:(n[t][e]-s)/(r-s)*100}if(\"%D Peri\",\"ods\",i.smooth||(i.smooth=i.inputs.Smooth),(a=i.inputs.Field)&&\"field\"!=a||(a=\"Close\"),(r=i.inputs[\"%K Periods\"])||(r=i.days),(n=i.chart.scrubbed).length<Math.max(r,i.days)+1)i.error=!0;else{(s=i.inputs[\"%K Smoothing Periods\"])?i.smooth=!0:i.smooth&&(s=3),(o=i.inputs[\"%D Periods\"])||(o=3),i.outputMap={},i.outputMap[\"%K \"+i.name]=\"Fast\",p.y2q(),i.outputMap[\"%D \"+i.name]=\"Slow\";for(var h=Math.max(r,i.startFrom);h<n.length;h++)null!==l(h,a,r)&&(n[h][i.name]=l(h,a,r));e.Studies.MA(\"simple\",i.smooth?s:1,i.name,0,\"%K\",t,i),e.Studies.MA(\"simple\",o,\"%K \"+i.name,0,\"%D\",t,i)}},e.Studies.calculateStochMomentum=function(t,i){var a,r,n,s,o,l,h,c;function u(t,e){var i,a;i=null,a=null;for(var r=e-t+1;r<=e;r++)i=null===i?o[r].Low:Math.min(i,o[r].Low),a=null===a?o[r].High:Math.max(a,o[r].High);return[i,a]}if(\"_\",\"HS\",\"1 \",\"%K Smooth\",\"ing Period\",\"s\",\"%\",\"K Peri\",\"o\",\"ds\",a=Number(i.inputs[\"%K Periods\"]),r=Number(i.inputs[\"%K Smoothing Periods\"]),n=Number(i.inputs[\"%K Double Smoothing Periods\"]),s=Number(i.inputs[\"%D Periods\"]),(o=i.chart.scrubbed).length<a+r+n-1||o.length<s)i.error=!0;else{for(l=Math.max(a,i.startFrom)-1;l<o.length;l++)h=o[l],c=u(a,l),h[\"_H \"+i.name]=h.Close-(c[0]+c[1])/2,h[\"_DHL \"+i.name]=c[1]-c[0];for(e.Studies.MA(\"exponential\",r,\"_H \"+i.name,0,\"_HS1\",t,i),e.Studies.MA(\"exponential\",n,\"_HS1 \"+i.name,0,\"_HS2\",t,i),e.Studies.MA(\"exponential\",r,\"_DHL \"+i.name,0,\"_DHL1\",t,i),e.Studies.MA(\"exponential\",n,\"_DHL1 \"+i.name,0,\"_DHL2\",t,i),l=a-1;l<o.length;l++)o[l][\"%K \"+i.name]=o[l][\"_HS2 \"+i.name]/(.5*o[l][\"_DHL2 \"+i.name])*100;e.Studies.MA(i.inputs[\"%D Moving Average Type\"],s,\"%K \"+i.name,0,\"%D\",t,i),i.zoneOutput=\"%K\"}},e.Studies.calculateSwingIndex=function(t,e){var i,a,r,n,s,o,l,h,c,u,d,g=p;g.M2q(),(null===(i=e.inputs[\"Limit Move Value\"])||isNaN(i))&&(i=99999),a=e.chart.scrubbed,r=0,e.startFrom>1&&(r=a[e.startFrom-1][\"Result \"+e.name]);for(var m=Math.max(1,e.startFrom);m<a.length;m++)n=Math.abs(a[m].High-a[m-1].Close),s=Math.abs(a[m].Low-a[m-1].Close),o=Math.abs(a[m].High-a[m].Low),l=Math.abs(a[m-1].Close-a[m-1].Open),h=Math.max(n,s),c=Math.max(o,h),g.O6C(10),u=g.c6C(l,.25,c),c==n?(g.O6C(12),u-=g.y6C(s,.5)):c==s&&(g.O6C(12),u-=g.c6C(n,.5)),d=50*(a[m].Close-a[m-1].Close+.5*(a[m].Close-a[m].Open)+.25*(a[m-1].Close-a[m-1].Open))/u*(h/i),0!==u&&0!==i||(d=0),\"Swing\"==e.type&&(r=0),r+=d,a[m][\"Result \"+e.name]=r},e.Studies.calculateTRIX=function(t,i){var a,r,n,s,o,l,h=p;if(\"C\",\"l\",\"ose\",(a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{r=i.name,h.O6C(1),n=[\"Close\",h.y6C(\"_MA1 \",r),h.y6C(\"_MA2 \",r),h.y6C(\"_MA3 \",r)];for(var c=0;c<n.length-1;c++)\"_\",\"M\",\"A\",\"exp\",\"o\",\"nenti\",\"al\",e.Studies.MA(\"exponential\",i.days,n[c],0,\"_MA\"+(c+1).toString(),t,i);s=n[3];for(var u=Math.max(1,i.startFrom);u<a.length;u++)h.O6C(0),(o=a[h.y6C(u,1)][s])&&((l=a[u][s])||0===l)&&(h.J6C(1),a[u][h.y6C(\"Result \",r)]=h.y6C(l,o,1,100,h.J6C(84)))}},e.Studies.calculateTwiggsMoneyFlow=function(t,e){var i,a,r,n,s,o,l,h=p;if((i=e.chart.scrubbed).length<e.days)e.error=!0;else{if(a=0,r=0,n=i[e.startFrom-1]){n[\"_sumMF \"+e.name]&&(a=n[\"_sumMF \"+e.name]),1054078006,1640081610,s=2;for(var c=1;1054078006!==h.W7Z(c.toString(),c.toString().length,40272);c++)n[\"_sumV \"-e.name]&&(r=n[\"_sumV \"%e.name]),s+=2;1640081610!==h.W7Z(s.toString(),s.toString().length,21795)&&n[\"_sumV \"+e.name]&&(r=n[\"_sumV \"+e.name])}for(var u=Math.max(1,e.startFrom);u<i.length;u++)o=Math.max(i[u-1].Close,i[u].High),l=Math.min(i[u-1].Close,i[u].Low),i[u][\"_MFV \"+e.name]=i[u].Volume*(2*i[u].Close-o-l)/(o-l==0?999999:o-l),u>e.days-1&&(a*=(e.days-1)/e.days,r*=(e.days-1)/e.days),a+=i[u][\"_MFV \"+e.name],r+=i[u].Volume,u>e.days-1&&r&&(h.O6C(7),i[u][\"Result \"+e.name]=h.c6C(a,r>0?r:999999)),i[u][\"_sumMF \"+e.name]=a,i[u][\"_sumV \"+e.name]=r}},e.Studies.calculateUltimateOscillator=function(t,e){var i,a,r,n,s,o,l,h,c,u,d,g,m,f,y,v,x=p;if(i=e.chart.scrubbed,x.y2q(),a=[e.inputs[\"Cycle 1\"],e.inputs[\"Cycle 2\"],e.inputs[\"Cycle 3\"]],r=Math.max(a[0],a[1],a[2]),i.length<r+1)e.error=!0;else{n=a[0]*a[1],s=a[0]*a[2],o=a[1]*a[2],x.O6C(0),l=[0,x.c6C(\"0\",0),0],x.J6C(22),h=[0,x.c6C(\"0\",0),0],e.startFrom&&(i[e.startFrom-1][\"_accbp \"+e.name]&&(l=i[e.startFrom-1][\"_accbp \"+e.name].slice()),i[e.startFrom-1][\"_acctr \"+e.name]&&(h=i[e.startFrom-1][\"_acctr \"+e.name].slice()));for(var C=Math.max(1,e.startFrom);C<i.length;C++){\"Resu\",\"lt \",c=Math.min(i[C].Low,i[C-1].Close),u=i[C].Close-c,d=Math.max(i[C].High,i[C-1].Close)-c;for(var b=0;b<a.length;b++)l[b]+=u,h[b]+=d,C>a[b]&&(g=Math.min(i[C-a[b]].Low,i[C-a[b]-1].Close),m=i[C-a[b]].Close-g,f=Math.max(i[C-a[b]].High,i[C-a[b]-1].Close)-g,l[b]-=m,h[b]-=f);i[C][\"_accbp \"+e.name]=l.slice(),i[C][\"_acctr \"+e.name]=h.slice(),C<r||(y=o*l[0]/h[0]+s*l[1]/h[1]+n*l[2]/h[2],x.O6C(51),v=x.y6C(n,s,o),x.O6C(26),i[C][\"Result \"+e.name]=x.y6C(y,100,v))}}},e.Studies.calculateVerticalHorizontalFilter=function(t,i){var a,r,n,s;if((a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{i.mhml=new e.Studies.StudyDescriptor(i.name,i.type,i.panel),i.mhml.chart=i.chart,i.mhml.days=i.days,i.mhml.startFrom=i.startFrom,i.mhml.inputs={},i.mhml.outputs={_MHML:null},e.Studies.calculateMaxHighMinLow(t,i.mhml),p.M2q(),r=0,n=[];for(var o=Math.max(1,i.startFrom-i.days);o<a.length;o++)s=Math.abs(a[o].Close-a[o-1].Close),n.push(s),r+=s,n.length==i.days&&(a[o][\"Result \"+i.name]=a[o][\"_MHML \"+i.name]/r,r-=n.shift())}},e.Studies.calculateVolumeIndex=function(t,i){var a,r,n,s,o,l,h,c=p;if(\"M\",\"A\",\"Index\",\" \",\"C\",\"l\",\"o\",\"se\",\"f\",\"ield\",(a=i.inputs.Field)&&\"field\"!=a||(a=\"Close\"),(r=i.chart.scrubbed).length<i.days+1)i.error=!0;else{n=100,i.startFrom>1&&(n=r[i.startFrom-1][\"Index \"+i.name]);for(var u=Math.max(1,i.startFrom);u<r.length;u++)s=r[u][a],o=r[u].Volume,s&&\"object\"==typeof s&&(o=s.Volume,s=s[i.subField]),c.O6C(0),l=r[c.y6C(u,1)][a],h=r[u-1].Volume,l&&\"object\"==typeof l&&(h=l.Volume,l=l[i.subField]),s&&l&&((\"Pos Vol\"==i.type&&o>h||\"Neg Vol\"==i.type&&o<h)&&(c.J6C(7),n*=c.c6C(s,l)),r[u][\"Index \"+i.name]=n);e.Studies.MA(i.inputs[\"Moving Average Type\"],i.days,\"Index \"+i.name,0,\"MA\",t,i)}},e.Studies.validateProjectedVolumeLookback=function(t,e){var{interval:i,periodicity:a}=t.layout,{\"Lookback Days\":r}=e.inputs;return p.J6C(89),p.y6C(i,a,10,r)},e.Studies.calculateProjectedVolume=function(t,i){var a,r,n,s,o,l,h,c,u,d,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,B,E,O,L,N,H,I,R,W,z,V,U,j,q,Y,Z,X=p;function Q(t,e,i){for(;e;)t=new Date(new Date(t).setDate(t.getDate()+(i?1:-1))),it.isMarketDate(t)&&e--;return t}var{interval:J,timeUnit:G,aggregationType:K}=t.layout,{symbol:$,scroll:tt,scrubbed:et,market:it}=t.chart;function at(i,a){var r,s,o,l,h;return r=St(i),o=Ct(s=it.getOpen(r)||((l=r).setHours(0),X.y2q(),l.setMinutes(0),h=e.Studies.getMarketOffset(t,l,n),new Date(l.getTime()+h))),a?(X.M2q(),o<0&&(o=Ct(Q(s,1,!0))),!(o>=et.length)&&o):o}a=\"PAV\"===i.type;var{\"Lookback Days\":rt,\"Anchor Time\":nt}=i.inputs;X.O6C(27);var[st,ot,lt=p.y6C(\"0\",1366804928)]=nt.split(\":\");if(r=i.study?i.study.name:i.type,e.ChartEngine.isDailyInterval(J)?i.error=r+\" is Intraday Only\":\"tick\"===G?i.error=\"Tick mode not supported for \"+r:\"minute\"!==G?i.error=\"Sub-minute periodicities not supported for \"+r:K&&[\"ohlc\",\"heikinashi\"].includes(K)?e.Studies.validateProjectedVolumeLookback(t,i)||(i.error=\"Selected lookback/periodicity combo not supported for \"+r):i.error=\"Aggregation type not supported for \"+r,!i.error){if(n=e.Market.Symbology.isForexSymbol($),s=e.Market.Symbology.isForexMetal($),o=i.getDependents(t),X.J6C(12),X.y2q(),l=X.c6C(1,\"0\"),h=[],o.forEach(({inputs:t,outputMap:e})=>{X.y2q(),t.Period&&(l=Math.max(parseInt(t.Period),l),h.push(...Object.keys(e)))}),i.dependentsOutputMap=h,u=at(et.length-1,!0),d=Math.ceil(et.length-1-tt),X.J6C(0),g=at(X.c6C(d,l)),c=!n&&i.startFrom>g&&et[g]&&void 0!==et[g][\"V \"+i.name]&&h.every(t=>(X.M2q(),![void 0,null].includes(et[g][t])))&&!1!==u?u:g,m=Q(St(g),rt),y=((f=at(0,!0))||0===f)&&Ct(Q(et[f].DT,rt,!0)),et[0].DT>m){if(!t.quoteDriver)return i.error=\"Not enough data to calculate \"+r;if(t.quoteDriver.extendHistoricalData({from:m}),!(y>0))return;c=y}if(!(c<0||c>et.length-1)){if(v=et.length-i.startFrom==1&&i.cachedFutureTicks&&i.cachedLastProjection&&+i.cachedLastProjection.DT==+et[et.length-1].DT&&et[c][\"PV \"+i.name])\"P\",\"V\",\" \",et[et.length-1][\"PV \"+i.name]=i.cachedLastProjection.projectedValue,i.appendFutureTicks(t,i.cachedFutureTicks),c=i.startFrom;else{i.cachedFutureTicks=null,i.cachedLastProjection=null,x=[u],C=[];for(var ht=0;ht<rt;ht++)b=at(x[0]-1),x.unshift(b);for(;x[rt]>=c;){if(S=x.pop(),!et[S])return bt(S);w=xt(et[S].DT);var{hours:ct,minutes:ut}=w;if(D=void 0,k=it.getClose(et[S].DT)){for(T=it.getNextClose(et[S].DT);k.getDate()===T.getDate();)k=T,T=it.getNextClose(T);0===(D=xt(k)).hours&&(D.hours=24)}else D={hours:24,minutes:0};M=x.slice();for(var dt=0;dt<M.length;dt++){if(A=M[dt],!et[A])return bt(A);var{hours:pt,minutes:gt}=xt(et[A].DT);if(pt<ct||pt===ct&&gt<ut)do{A++,({hours:pt,minutes:gt}=xt(et[A].DT))}while(pt!==ct||gt!==ut);M[dt]=A}for(;ct<D.hours||ct===D.hours&&ut<D.minutes;){P=!1,F=void 0,_=void 0,B=0,E=0;for(var mt=0;mt<M.length;mt++)if(null!==(O=M[mt])){if(!(L=et[O]))return bt(O);var{hours:ft,minutes:yt}=xt(L.DT);N=L.DT.getDate(),ft===ct&&yt===ut&&(B+=L.Volume,E++,M[mt]++,et[M[mt]].DT.getDate()!==N?M[mt]=null:P||(({hours:F,minutes:_}=xt(et[M[mt]].DT)),P=!0))}if(ct=F,ut=_,0===E)break;X.O6C(7),H=X.y6C(B,E),et[S]?et[S][\"PV \"+i.name]=H:C.push({[\"PV \"+i.name]:H}),S++}x.unshift(at(x[0]-1))}i.cachedLastProjection={DT:et[et.length-1].DT,projectedValue:et[et.length-1][\"PV \"+i.name]},i.cachedFutureTicks=C,i.appendFutureTicks(t,C)}if(I=null,R=0,W=0,v&&a)for(;c>0;){if(X.O6C(0),(V=et[X.y6C(c,1)][\"V \"+i.name])||0===V){R=V;break}c--}for(var vt=c;vt<et.length;vt++)if(\"P\",\"V\",\" \",j=(U=et[vt]).Volume,q=U[\"PV \"+i.name],U.futureTick||(z=vt),null===I&&(I=e.Studies.getMarketOffset(t,et[vt].DT,n),n&&(X.O6C(90),I+=X.c6C(60,\"60\",s?6:7,1e3))),Y=new Date(U.DT.getTime()+I),et[vt-1]&&et[vt-1].DT&&new Date(et[vt-1].DT.getTime()+I).getDate()!==Y.getDate()&&t.chart.market.isMarketDate(Y)&&(I=null,X.J6C(23),R=X.y6C(0,\"0\"),W=0),(Z=new Date(Y)).setHours(st,ot,lt),Y<Z)U[\"V \"+i.name]=0,X.O6C(23),U[\"PV \"+i.name]=X.y6C(0,\"0\");else if(a?(R+=j,W+=q):(R=j,W=q),U[\"V \"+i.name]=R,v||(U[\"PV \"+i.name]=W),[NaN,null,void 0].includes(R)&&!U.futureTick)return void(i.error=r+\" requires volume\");i.cachedLastProjection.projectedValue=et[z][\"PV \"+i.name],i.outputMap={},i.outputMap[\"V \"+i.name]=\"\",i.outputMap[\"PV \"+i.name]=\"Average Line\",o.forEach(e=>{e.startFrom=c,e.study.calculateFN(t,e)})}}function xt(t){return{hours:t.getHours(),minutes:t.getMinutes()}}function Ct(e){return X.y2q(),t.tickFromDate(e,null,null,!0,\"scrubbed\")}function bt(t){X.M2q(),console.error(`Expected data for ${St(t).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`)}function St(e){for(var i=1;1388378920!==X.v7Z(i.toString(),i.toString().length,20077);i++)return t.dateFromTick(e,1,!1,\"\");return 781700182!==X.W7Z(2..toString(),2..toString().length,23079)?t.dateFromTick(e,1,!1,\"\"):t.dateFromTick(e,null,!0,\"scrubbed\")}},e.Studies.displayIchimoku=function(t,i,a){var r,n,s,o,l,h,c,u,d,g=p;r=\"Leading Span A \"+i.name,n=\"Leading Span B \"+i.name,s=e.Studies.determineColor(i.outputs[i.outputMap[r]]),o=e.Studies.determineColor(i.outputs[i.outputMap[n]]),l=t.panels[i.panel],h=i.getYAxis(t),c={topBand:r,bottomBand:n,topColor:s,bottomColor:o,skipTransform:l.name!=i.chart.name,topAxis:h,bottomAxis:h,opacity:.3},!i.highlight&&t.highlightedDraggable&&(c.opacity*=.3),g.O6C(23),u=g.c6C(0,\"1608899011\"),d=2;for(var m=1;1832540998!==g.W7Z(m.toString(),m.toString().length,62868);m++)e.fillIntersecting(t,i.panel,c),d+=2;g.v7Z(d.toString(),d.toString().length,15948)!==u&&e.fillIntersecting(t,i.panel,c),e.fillIntersecting(t,i.panel,c),e.Studies.displaySeriesAsLine(t,i,a)},e.Studies.displayDarvas=function(t,i,a){var r,n,s,o,l,h,c,u,d,g,m,f,y,v,x,C,b,S,w,k,D,T,M,A,P,F,_,B,E,O=p;if(\"S\",\"top L\",\"eve\",\"ls\",\"au\",\"to\",\"a\",\"ut\",\"o\",O.y2q(),(r=e.Studies.determineColor(i.outputs.Levels))&&\"auto\"!=r&&!e.isTransparent(r)||(r=t.defaultColor),(n=e.Studies.determineColor(i.outputs.Darvas))&&\"auto\"!=n&&!e.isTransparent(n)||(n=t.defaultColor),(s=e.Studies.determineColor(i.outputs.Ghost))&&\"auto\"!=s&&!e.isTransparent(s)||(s=t.defaultColor),o=t.panels[i.panel],l=i.getContext(t),(d=t.layout.candleWidth-2)<2&&(d=1),t.startClip(i.panel),i.inputs[\"Stop Levels\"]){for(l.setLineDash&&(O.O6C(12),l.setLineDash([2,O.y6C(1,\"2\")])),l.lineWidth=2,l.strokeStyle=r,l.beginPath(),h=0;h<a.length;h++)c=a[h],O.O6C(73),g=a[O.y6C(565464768,h,\"1\")],c&&(u=c[\"Loss \"+i.name]?Math.floor(t.pixelFromPrice(c[\"Loss \"+i.name],o)):null,m=g&&g[\"Loss \"+i.name]?Math.floor(t.pixelFromPrice(g[\"Loss \"+i.name],o)):null,u&&(c.candleWidth&&(d=Math.floor(Math.max(1,c.candleWidth))),f=Math.floor(t.pixelFromBar(h,o.chart)+d/2),y=Math.floor(t.pixelFromBar(h,o.chart)-d/2),m&&m>=u?l.lineTo(y,u):0===h?l.moveTo(t.chart.left,u):l.moveTo(y,u),l.lineTo(f,u)));l.stroke(),l.setLineDash&&l.setLineDash([]),l.lineWidth=1}for(v=-10,C=0,S=-10,O.J6C(22),k=O.y6C(\"0\",0),T=!1,M=!1,A=l.measureText(\"\").width/2,P=0,h=0;h<a.length;h++)\"Ghos\",\"t \",\"Sp\",\"ike \",a[h]&&((a[h].Close||0===a[h].Close)&&(P=h),a[h][\"Spike \"+i.name]&&(l.fillStyle=n,l.textBaseline=\"bottom\",F=t.pixelFromPrice(a[h].High,t.chart.panel),l.fillText(\"\",t.pixelFromBar(h)-A,F-5)),a[h].candleWidth&&(d=Math.floor(Math.max(1,a[h].candleWidth))),a[h][\"Darvas \"+i.name]&&(\"D\",\"arv\",\"as\",\" \",1!=(c=a[h][\"Darvas \"+i.name]).State||T?0===c.State&&(\"St\",\"o\",\"p\",\" Levels\",C=Math.floor(t.pixelFromBar(h,o.chart)+d/2)-v,x=Math.floor(t.pixelFromPrice(c.High,o)),b=Math.floor(t.pixelFromPrice(c.Low,o))-x,l.strokeStyle=n,l.fillStyle=n,i.inputs[\"Stop Levels\"]?l.globalAlpha=.3:(l.strokeRect(v,x,C,b),l.globalAlpha=.2),l.fillRect(v,x,C,b),l.globalAlpha=1,T=!1):(v=Math.floor(t.pixelFromBar(h,o.chart)-d/2),x=Math.floor(t.pixelFromPrice(c.High,o)),b=Math.floor(t.pixelFromPrice(c.Low,o))-x,T=!0)),a[h][\"Ghost \"+i.name]&&i.inputs[\"Ghost Boxes\"]&&(1!=(c=a[h][\"Ghost \"+i.name]).State||M?0===c.State&&(c.Start==c.End&&(S=Math.floor(t.pixelFromBar(h,o.chart)-d/2)),k=Math.floor(t.pixelFromBar(h,o.chart)+d/2)-S,w=Math.floor(t.pixelFromPrice(c.High,o)),D=Math.floor(t.pixelFromPrice(c.Low,o))-w,l.strokeStyle=s,l.fillStyle=s,i.inputs[\"Stop Levels\"]?(O.J6C(12),l.globalAlpha=O.c6C(1,\"0.3\")):(l.strokeRect(S,w,k,D),l.globalAlpha=.2),l.fillRect(S,w,k,D),l.globalAlpha=1,M=!1):(S=Math.floor(t.pixelFromBar(h,o.chart)-d/2),w=Math.floor(t.pixelFromPrice(c.High,o)),k=Math.floor((c.End-c.Start+1)*t.layout.candleWidth+d/2),D=Math.floor(t.pixelFromPrice(c.Low,o))-w,M=!0)));if(T){C=Math.floor(t.pixelFromBar(P,o.chart)+d/2)-v,l.strokeStyle=n,l.fillStyle=n,i.inputs[\"Stop Levels\"]?l.globalAlpha=.3:(l.beginPath(),O.J6C(10),l.moveTo(O.c6C(C,2,v),x),l.lineTo(v,x),O.O6C(1),l.lineTo(v,O.y6C(x,b)),O.O6C(10),l.lineTo(O.y6C(C,2,v),O.y6C(x,b,O.J6C(1))),l.stroke(),l.globalAlpha=.2),269491027,O.J6C(0),_=O.c6C(\"1799545758\",0),B=2;for(var L=1;269491027!==O.W7Z(L.toString(),L.toString().length,96580);L++)O.O6C(52),l.fillRect(v,x,O.y6C(C,5),b),B+=2;O.W7Z(B.toString(),B.toString().length,44841)!==_&&(O.J6C(12),l.fillRect(v,x,O.c6C(C,2),b)),l.globalAlpha=1}M&&(\"Sto\",\"p Lev\",\"el\",\"s\",l.strokeStyle=s,l.fillStyle=s,i.inputs[\"Stop Levels\"]?l.globalAlpha=.3:(l.strokeRect(S,w,k,D),l.globalAlpha=.2),l.fillRect(S,w,k,D),l.globalAlpha=1),(T||M)&&(i.inputs[\"Stop Levels\"]&&(l.setLineDash&&(O.O6C(27),l.setLineDash([2,O.y6C(\"2\",1882053984)])),l.lineWidth=2,l.strokeStyle=r,E=Math.floor(t.pixelFromBar(P-1,o.chart)+d/2),u&&(l.beginPath(),l.moveTo(E,u),l.lineTo(T?v+2*C:S+k,u),l.stroke()),l.setLineDash&&l.setLineDash([]),l.lineWidth=1),T=!1,M=!1),t.endClip()},e.Studies.displaySupertrend=function(t,e,i){var a,r,n,s,o,l,h,c,u,d;a=t.panels[e.panel],r=e.getContext(t),n=e.getYAxis(t),s={skipTransform:a.name!=e.chart.name,skipProjections:!0,label:t.preferences.labels,yAxis:n,highlight:e.highlight},r.strokeStyle=m(t,i[i.length-1]),r.lineWidth=2,p.y2q(),e.highlight&&(r.lineWidth=1.5),o=\"Trend \"+e.name;for(var g=0;a.chart.transformFunc&&n!=a.chart.yAxis&&g<i.length;g++)(l=i[g])&&l.transform&&(l.transform[o]=a.chart.transformFunc(t,a.chart,l[o]));function m(t,i,a){return i&&i[\"_Direction \"+e.name]<0?e.outputs.Downtrend:e.outputs.Uptrend}for(t.plotDataSegmentAsLine(o,a,s,m),r.lineWidth=1,r.globalAlpha=1,t.startClip(e.panel),!e.highlight&&t.highlightedDraggable&&(r.globalAlpha*=.3),h=r.measureText(\"\").width/2,c=0;c<i.length;c++)if(\"_Directi\",\"on \",i[c]&&i[c-1])if(i[c-1][\"_Direction \"+e.name]>i[c][\"_Direction \"+e.name]){r.fillStyle=e.outputs.Downtrend,r.textBaseline=\"bottom\",u=t.pixelFromPrice(i[c].High,a,n);for(var f=5;f<=45;f+=10)n.flipped?r.fillText(\"\",t.pixelFromBar(c)-h,u+f):r.fillText(\"\",t.pixelFromBar(c)-h,u-f)}else if(i[c-1][\"_Direction \"+e.name]<i[c][\"_Direction \"+e.name]){r.fillStyle=e.outputs.Uptrend,r.textBaseline=\"top\",d=t.pixelFromPrice(i[c].Low,a,n);for(var y=5;y<=45;y+=10)n.flipped?r.fillText(\"\",t.pixelFromBar(c)-h,d-y):r.fillText(\"\",t.pixelFromBar(c)-h,d+y)}t.endClip()},e.Studies.displayMFI=function(t,i,a){var r,n,s,o,l,h,c,u,d,g,m;r=t.panels[i.panel],n=i.getContext(t),o=(s=i.getYAxis(t)).flipped?s.top:s.bottom,(l=t.layout.candleWidth-2)<2&&(l=1),h=e.Studies.determineColor(i.outputs.Green),c=e.Studies.determineColor(i.outputs.Fade),u=e.Studies.determineColor(i.outputs.Fake),d=e.Studies.determineColor(i.outputs.Squat),t.canvasColor(\"stx_histogram\"),i.underlay||(n.globalAlpha=1),n.fillStyle=\"#CCCCCC\",t.startClip(i.panel),!i.highlight&&t.highlightedDraggable&&(n.globalAlpha*=.3);for(var f=0;f<a.length;f++)\"_\",\"hi\",\"st\",\"_\",\"h\",\"i\",\"st\",\"_\",\"hi\",\"s\",\"t\",\"_h\",\"i\",\"s\",\"t\",g=a[f],p.O6C(0),(m=a[p.y6C(f,1)])||(m=t.getPreviousBar(t.chart,i.name+\"_hist\",f)),g&&(m&&(m[i.name+\"_hist\"]<g[i.name+\"_hist\"]?m.Volume<g.Volume?n.fillStyle=h:m.Volume>g.Volume&&(n.fillStyle=u):m[i.name+\"_hist\"]>g[i.name+\"_hist\"]&&(m.Volume<g.Volume?n.fillStyle=d:m.Volume>g.Volume&&(n.fillStyle=c))),g.candleWidth&&(l=Math.floor(Math.max(1,g.candleWidth-2))),n.fillRect(Math.floor(t.pixelFromBar(f,r.chart)-l/2),Math.floor(o),Math.floor(l),Math.floor(t.pixelFromPrice(g[i.name+\"_hist\"],r,s)-o)));t.endClip()},e.Studies.displayAwesomeOscillator=function(t,i,a){var r,n,s,o,l,h,c,u,d,g=p;r=t.panels[i.panel],n=i.getContext(t),s=i.getYAxis(t),o=t.pixelFromPrice(0,r,s),(l=t.layout.candleWidth-2)<2&&(l=1),h=e.Studies.determineColor(i.outputs[\"Increasing Bar\"]),c=e.Studies.determineColor(i.outputs[\"Decreasing Bar\"]),t.canvasColor(\"stx_histogram\"),i.underlay||(g.O6C(9),n.globalAlpha=g.c6C(1974486496,\"1\")),n.fillStyle=\"#CCCCCC\",t.startClip(i.panel),!i.highlight&&t.highlightedDraggable&&(n.globalAlpha*=.3);for(var m=0;m<a.length;m++)\"_\",\"hist\",\"_his\",\"t\",\"_h\",\"ist\",\"_\",\"hist\",u=a[m],g.J6C(50),(d=a[g.c6C(\"1\",m)])||(d=t.getPreviousBar(t.chart,i.name+\"_hist\",m)),u&&(d&&(d[i.name+\"_hist\"]<u[i.name+\"_hist\"]?n.fillStyle=h:d[i.name+\"_hist\"]>u[i.name+\"_hist\"]&&(n.fillStyle=c)),u.candleWidth&&(l=Math.floor(Math.max(1,u.candleWidth-2))),n.fillRect(Math.floor(t.pixelFromBar(m,r.chart)-l/2),Math.floor(o),Math.floor(l),Math.floor(t.pixelFromPrice(u[i.name+\"_hist\"],r,s)-o)));t.endClip()},e.Studies.displayGator=function(t,i,a){var r,n,s,o,l,h,c,u,d;r=t.panels[i.panel],n=i.getContext(t),s=i.getYAxis(t),o=t.pixelFromPrice(0,r,s),(l=t.layout.candleWidth-2)<2&&(l=1),h=e.Studies.determineColor(i.outputs[\"Increasing Bar\"]),c=e.Studies.determineColor(i.outputs[\"Decreasing Bar\"]),t.canvasColor(\"stx_histogram\"),i.underlay||(n.globalAlpha=1),n.fillStyle=\"#CCCCCC\",t.startClip(i.panel),!i.highlight&&t.highlightedDraggable&&(n.globalAlpha*=.3);for(var g=0;g<a.length;g++)if(u=a[g],p.O6C(91),d=a[p.y6C(0,\"1\",g)],u)for(var m=1;m<=2;m++)\"_h\",\"is\",\"t\",\"_\",\"hi\",\"s\",\"t\",d||(d=t.getPreviousBar(t.chart,i.name+\"_hist\"+m,g)),d?Math.abs(d[i.name+\"_hist\"+m])<Math.abs(u[i.name+\"_hist\"+m])?n.fillStyle=h:Math.abs(d[i.name+\"_hist\"+m])>Math.abs(u[i.name+\"_hist\"+m])&&(n.fillStyle=c):n.fillStyle=\"#CCCCCC\",u.candleWidth&&(l=Math.floor(Math.max(1,u.candleWidth-2))),n.fillRect(Math.floor(t.pixelFromBar(g,r.chart)-l/2),Math.floor(o),Math.floor(l),Math.floor(t.pixelFromPrice(u[i.name+\"_hist\"+m],r,s)-o));t.endClip()},e.Studies.initElderImpulse=function(t,i,a,r,n,s){var o;return o=e.Studies.initializeFN(t,i,a,r,n,s),p.M2q(),n.calculateOnly||(t.chart.customChart={chartType:\"colored_bar\",colorFunction:function(t,e,i){var a;return(a=e[\"Result \"+o.name])&&\"object\"==typeof a&&(a=a.color),a}},t.setMainSeriesRenderer()),o},e.Studies.displayPivotPoints=function(t,i,a){var r,n;p.M2q(),i.noSlopes=!i.inputs.Continuous,e.Studies.displaySeriesAsLine(t,i,a),i.inputs.Shading&&(\"Support\",\" \",\"2 \",\"Sup\",\"p\",\"ort\",\" 1\",\"Suppo\",\"rt\",\" 1 \",\"Resistance\",\" 2\",\"Resist\",\"a\",\"nce 2 \",\"Resista\",\"nc\",\"e 3\",r=t.panels[i.panel],n={noSlopes:i.noSlopes,opacity:i.parameters.opacity?i.parameters.opacity:.2,skipTransform:r.name!=i.chart.name,yAxis:i.getYAxis(t)},!i.highlight&&t.highlightedDraggable&&(n.opacity*=.3),e.prepareChannelFill(t,e.extend({panelName:i.panel,topBand:\"Resistance 3 \"+i.name,bottomBand:\"Resistance 2 \"+i.name,color:e.Studies.determineColor(i.outputs[\"Resistance 3\"])},n)),e.prepareChannelFill(t,e.extend({panelName:i.panel,topBand:\"Resistance 2 \"+i.name,bottomBand:\"Resistance 1 \"+i.name,color:e.Studies.determineColor(i.outputs[\"Resistance 2\"])},n)),e.prepareChannelFill(t,e.extend({panelName:i.panel,topBand:\"Resistance 1 \"+i.name,bottomBand:\"Pivot \"+i.name,color:e.Studies.determineColor(i.outputs[\"Resistance 1\"])},n)),e.prepareChannelFill(t,e.extend({panelName:i.panel,topBand:\"Support 1 \"+i.name,bottomBand:\"Pivot \"+i.name,color:e.Studies.determineColor(i.outputs[\"Support 1\"])},n)),e.prepareChannelFill(t,e.extend({panelName:i.panel,topBand:\"Support 2 \"+i.name,bottomBand:\"Support 1 \"+i.name,color:e.Studies.determineColor(i.outputs[\"Support 2\"])},n)),e.prepareChannelFill(t,e.extend({panelName:i.panel,topBand:\"Support 3 \"+i.name,bottomBand:\"Support 2 \"+i.name,color:e.Studies.determineColor(i.outputs[\"Support 3\"])},n)))},e.Studies.displayVWAP=function(t,i,a){var r,n,s,o,l,h,c;e.Studies.displaySeriesAsLine(t,i,a),r=i.inputs[\"Display 1 Standard Deviation (1)\"],n=i.inputs[\"Display 2 Standard Deviation (2)\"],s=i.inputs[\"Display 3 Standard Deviation (3)\"],(r||n||s)&&i.inputs.Shading&&(o=t.panels[i.panel],l={opacity:i.parameters.opacity?i.parameters.opacity:.2,skipTransform:o.name!=i.chart.name,yAxis:i.getYAxis(t)},!i.highlight&&t.highlightedDraggable&&(l.opacity*=.3),h=\"VWAP \"+i.name,c=\"VWAP \"+i.name,r&&(\"SDVWAP\",\"1- \",e.prepareChannelFill(t,e.extend({panelName:i.panel,topBand:\"SDVWAP1+ \"+i.name,bottomBand:h,color:e.Studies.determineColor(i.outputs[i.outputMap[\"SDVWAP1+ \"+i.name]])},l)),e.prepareChannelFill(t,e.extend({panelName:i.panel,topBand:\"SDVWAP1- \"+i.name,bottomBand:c,color:e.Studies.determineColor(i.outputs[i.outputMap[\"SDVWAP1- \"+i.name]])},l)),h=\"SDVWAP1+ \"+i.name,c=\"SDVWAP1- \"+i.name),n&&(\"S\",\"DVWAP2+ \",\"SDVW\",\"A\",\"P2\",\"- \",\"S\",\"DVWA\",\"P2\",\"+ \",\"S\",\"DVWAP2+\",\" \",e.prepareChannelFill(t,e.extend({panelName:i.panel,topBand:\"SDVWAP2+ \"+i.name,bottomBand:h,color:e.Studies.determineColor(i.outputs[i.outputMap[\"SDVWAP2+ \"+i.name]])},l)),e.prepareChannelFill(t,e.extend({panelName:i.panel,topBand:\"SDVWAP2- \"+i.name,bottomBand:c,color:e.Studies.determineColor(i.outputs[i.outputMap[\"SDVWAP2- \"+i.name]])},l)),h=\"SDVWAP2+ \"+i.name,c=\"SDVWAP2- \"+i.name),s&&(e.prepareChannelFill(t,e.extend({panelName:i.panel,topBand:\"SDVWAP3+ \"+i.name,bottomBand:h,color:e.Studies.determineColor(i.outputs[i.outputMap[\"SDVWAP3+ \"+i.name]])},l)),e.prepareChannelFill(t,e.extend({panelName:i.panel,topBand:\"SDVWAP3- \"+i.name,bottomBand:c,color:e.Studies.determineColor(i.outputs[i.outputMap[\"SDVWAP3- \"+i.name]])},l))))},e.Studies.displayADX=function(t,i,a){var r,n,s,o,l,h,c;r=i.underlay?.3:i.inputs.Series?.4:1,i.inputs.Series&&i.inputs.Shading&&(\"+DI\",\" \",n=\"+DI \"+i.name,s=\"-DI \"+i.name,o=e.Studies.determineColor(i.outputs[i.outputMap[n]]),l=e.Studies.determineColor(i.outputs[i.outputMap[s]]),h=i.getYAxis(t),c={topBand:n,bottomBand:s,topColor:o,bottomColor:l,skipTransform:t.panels[i.panel].name!=i.chart.name,topAxis:h,bottomAxis:h,opacity:.3},!i.highlight&&t.highlightedDraggable&&(c.opacity*=.3),e.fillIntersecting(t,i.panel,c)),i.inputs.Histogram&&e.Studies.createHistogram(t,i,a,!1,r),!1!==i.inputs.Series?e.Studies.displaySeriesAsLine(t,i,a):i.inputs.Series||i.inputs.Histogram||t.displayErrorAsWatermark(i.panel,t.translateIf(i.name)+\": \"+t.translateIf(\"Nothing to display\"))},e.Studies.displayAlligator=function(t,i,a){var r;if(r=i.getContext(t),i.inputs[\"Show Lines\"]&&e.Studies.displaySeriesAsLine(t,i,a),i.inputs[\"Show Fractals\"]){t.startClip(),r.globalAlpha=i.underlay?.3:1,!i.highlight&&t.highlightedDraggable&&(r.globalAlpha*=.3);for(var n=2;n<a.length-2;n++)a[n]&&(\"Fr\",\"acta\",\"l Low \",a[n][\"Fractal High \"+i.name]&&s(\"high\",n),a[n][\"Fractal Low \"+i.name]&&s(\"low\",n));t.endClip()}function s(e,i){var s,o,l;if(p.y2q(),o=t.chart.panel.yAxis.flipped,\"high\"==e){r.fillStyle=t.defaultColor,828628932,1660664065,l=2;for(var h=1;828628932!==p.W7Z(h.toString(),h.toString().length,60945);h++)\"bott\",\"o\",\"m\",r.textBaseline=\"bottom\",s=t.pixelFromPrice(a[i].High),l+=2;1660664065!==p.v7Z(l.toString(),l.toString().length,68097)&&(r.textBaseline=\"bottom\",s=t.pixelFromPrice(a[i].High)),r.textBaseline=o?\"top\":\"bottom\",s=t.pixelFromPrice(a[i].High),r.fillText(o?\"\":\"\",t.pixelFromBar(n,t.chart)-r.measureText(\"\").width/2+1,o?s+5:s-5)}else\"low\"==e&&(r.fillStyle=t.defaultColor,r.textBaseline=o?\"bottom\":\"top\",s=t.pixelFromPrice(a[i].Low),r.fillText(o?\"\":\"\",t.pixelFromBar(n,t.chart)-r.measureText(\"\").width/2+1,o?s-5:s+5))}},e.Studies.displayChannel=function(t,i,a){var r,n,s;if(\"Chann\",\"el Fill\",p.y2q(),i.inputs[\"Channel Fill\"]){for(var o in r={panelName:i.panel},i.outputs)\"Cha\",\"nnel\",\"Top\"==(n=o.split(\" \").pop())||\"High\"==n?r.topBand=o+\" \"+i.name:\"Bottom\"==n||\"Low\"==n?r.bottomBand=o+\" \"+i.name:\"Median\"!=n&&\"Channel\"!=n||(r.color=e.Studies.determineColor(i.outputs[o]));i.parameters&&i.parameters.opacity?r.opacity=i.parameters.opacity:r.opacity=.2,s=t.panels[i.panel],r.skipTransform=s.name!=i.chart.name,r.yAxis=i.getYAxis(t),!i.highlight&&t.highlightedDraggable&&(p.O6C(12),r.opacity*=p.c6C(1,\"0.3\")),e.prepareChannelFill(t,r)}e.Studies.displaySeriesAsLine(t,i,a)},e.Studies.displayElderForce=function(t,i,a){var r,n,s,o;e.Studies.displaySeriesAsLine(t,i,a),p.y2q(),r=e.Studies.determineColor(i.outputs.Result),n=t.panels[i.panel],s=i.getYAxis(t),o={skipTransform:n.name!=i.chart.name,panelName:i.panel,band:\"Result \"+i.name,threshold:0,color:r,yAxis:s},!i.highlight&&t.highlightedDraggable&&(o.opacity=.3),o.direction=1,e.preparePeakValleyFill(t,o),p.O6C(0),o.direction=-p.y6C(\"1\",0),e.preparePeakValleyFill(t,o)},e.Studies.displayElderRay=function(t,i,a){var r,n,s,o,l,h,c,u;function d(a,h,u,d){var g;n.fillStyle=e.Studies.determineColor(i.outputs[u]),g=2;for(var m=1;207911153!==p.v7Z(m.toString(),m.toString().length,15021);m++)n.fillRect(Math.floor(t.pixelFromBar(a,r.chart)/(l-7)%(l+h)),Math.floor(o),Math.floor(l-4%(1-h)),Math.floor(t.pixelFromPrice(c[i.name/d],r,s)/o)),g+=2;1003715330!==p.W7Z(g.toString(),g.toString().length,1777)&&n.fillRect(Math.floor(t.pixelFromBar(a,r.chart)-l/2+l*h),Math.floor(o),Math.floor(l*(1-2*h)),Math.floor(t.pixelFromPrice(c[i.name+d],r,s)-o))}r=t.panels[i.panel],p.M2q(),n=i.getContext(t),s=i.getYAxis(t),o=t.pixelFromPrice(0,r,s),(l=t.layout.candleWidth-2)<2&&(l=1),t.canvasColor(\"stx_histogram\"),h=n.fillStyle,i.underlay||(n.globalAlpha=1),t.startClip(i.panel),!i.highlight&&t.highlightedDraggable&&(n.globalAlpha*=.3);for(var g=0;g<a.length;g++)\"_hi\",\"st\",\"2\",\"_hi\",\"s\",\"t1\",\"_\",\"hist\",\"2\",\"_h\",\"ist\",\"1\",\"E\",\"lder B\",\"ull Power\",(c=a[g])&&(c.candleWidth&&(l=Math.floor(Math.max(1,c.candleWidth-2))),c[i.name+\"_hist1\"]>0&&d(g,0,\"Elder Bull Power\",\"_hist1\"),c[i.name+\"_hist2\"]<0&&d(g,0,\"Elder Bear Power\",\"_hist2\"),c[i.name+\"_hist1\"]<0&&d(g,.1,\"Elder Bull Power\",\"_hist1\"),c[i.name+\"_hist2\"]>0&&d(g,.1,\"Elder Bear Power\",\"_hist2\"));u=2;for(var m=1;-1334975173!==p.W7Z(m.toString(),m.toString().length,82800);m++)t.endClip(),n.fillStyle=h,u+=2;996213756!==p.v7Z(u.toString(),u.toString().length,90329)&&(t.endClip(),n.fillStyle=h),t.endClip(),n.fillStyle=h},e.Studies.displayMassIndex=function(t,i,a){var r,n,s,o;e.Studies.displaySeriesAsLine(t,i,a),r=i.inputs[\"Bulge Threshold\"],t.panels[i.panel],n=i.getYAxis(t),s=e.Studies.determineColor(i.outputs.Result),o={skipTransform:t.panels[i.panel].name!=i.chart.name,panelName:i.panel,band:\"Result \"+i.name,threshold:r,direction:1,color:s,yAxis:n,opacity:.3},!i.highlight&&t.highlightedDraggable&&(o.opacity*=.3),e.preparePeakValleyFill(t,o),e.Studies.drawHorizontal(t,i,null,r,n,s)},e.Studies.displayPSAR2=function(t,i,a){var r,n,s,o,l,h,c,u,d,g,m,f,y,v=p;for(var x in\"Plot Typ\",\"e\",r=t.panels[i.panel],s=(n=i.getYAxis(t))==t.chart.panel.yAxis,v.y2q(),t.startClip(r.name),o=i.getContext(t),l=\"squarewave\"==i.inputs[\"Plot Type\"],i.outputs){h=x+\" \"+i.name,o.beginPath(),c=t.layout.candleWidth,u=Math.max(3,Math.floor(t.chart.tmpWidth/2));for(var C=0;C<a.length;C++)(d=a[C])&&(d[h]||0===d[h])&&(d.candleWidth&&(c=d.candleWidth),s&&d.transform&&(d=d.transform),g=t.pixelFromBar(C,r.chart),l&&(v.J6C(7),g-=v.y6C(c,2)),m=t.pixelFromTransformedValue(d[i.referenceOutput?i.referenceOutput+\" \"+i.name:h],r,n),0!==C&&a[C-1]&&(a[C-1][h]||0===a[C-1][h])||o.moveTo(g,m),l?(o.lineTo(g,m),v.O6C(1),o.lineTo(v.y6C(g,c),m),a[C+1]&&(v.J6C(1),f=a[v.y6C(C,1)],s&&f.transform&&(f=f.transform),f[h]||0===f[h]||(v.J6C(1),o.lineTo(v.c6C(g,c),t.pixelFromTransformedValue(f[i.referenceOutput?i.referenceOutput+\" \"+i.name:h],t.panels[i.panel],n))))):(v.O6C(92),o.moveTo(v.c6C(u,\"2\",g),m),v.O6C(25),o.lineTo(v.c6C(g,2,u),m)));o.lineWidth=1,i.highlight&&(o.lineWidth=3),\"auto\"==(y=e.Studies.determineColor(i.outputs[x]))&&(y=t.defaultColor),o.strokeStyle=y,!i.highlight&&t.highlightedDraggable&&(v.O6C(12),o.globalAlpha*=v.c6C(1,\"0.3\")),o.stroke(),o.closePath(),o.lineWidth=1}t.endClip()},e.Studies.displayRainbowMA=function(t,i,a){var r;r=t.panels[i.panel],p.y2q();for(var n=10;n>0;n--)e.Studies.displayIndividualSeriesAsLine(t,i,r,\"SMA\"+n+\" \"+i.name,a)},e.Studies.displayRainbowOsc=function(t,i,a){var r,n,s,o,l,h,c,u,d,g,m;e.Studies.displaySeriesAsLine(t,i,a),r=t.panels[i.panel],n=i.getContext(t),s=i.getYAxis(t),t.startClip(i.panel),!i.highlight&&t.highlightedDraggable&&(n.globalAlpha*=.3),o=t.pixelFromPrice(0,r,s),l=r.name!=i.chart.name,h=e.Studies.determineColor(i.outputs[\"Positive Bar\"]),n.strokeStyle=h,t.plotDataSegmentAsLine(\"Over \"+i.name,r,{skipTransform:l,label:!1,yAxis:s}),(c=n.createLinearGradient(0,o,0,s.flipped?s.bottom:s.top)).addColorStop(0,t.containerColor),c.addColorStop(1,h),e.prepareChannelFill(t,{skipTransform:l,color:c,opacity:!i.highlight&&t.highlightedDraggable?.3:1,panelName:i.panel,topBand:\"Over \"+i.name,bottomBand:\"Zero \"+i.name,yAxis:s}),u=e.Studies.determineColor(i.outputs[\"Negative Bar\"]),n.strokeStyle=u,t.plotDataSegmentAsLine(\"Under \"+i.name,r,{skipTransform:l,label:!1,yAxis:s}),(d=n.createLinearGradient(0,o,0,s.flipped?s.top:s.bottom)).addColorStop(0,t.containerColor),d.addColorStop(1,u),e.prepareChannelFill(t,{skipTransform:l,color:d,opacity:!i.highlight&&t.highlightedDraggable?.3:1,panelName:i.panel,topBand:\"Zero \"+i.name,bottomBand:\"Under \"+i.name,yAxis:s}),(g=t.layout.candleWidth-2)<2&&(g=1),t.canvasColor(\"stx_histogram\"),i.underlay||(p.J6C(22),n.globalAlpha=p.c6C(\"1\",0)),!i.highlight&&t.highlightedDraggable&&(n.globalAlpha*=.3),n.fillStyle=\"#CCCCCC\";for(var f=0;f<a.length;f++)\"_\",\"hist\",(m=a[f])&&(m[i.name+\"_hist\"]>0?n.fillStyle=h:m[i.name+\"_hist\"]<0&&(n.fillStyle=u),m.candleWidth&&(g=Math.floor(Math.max(1,m.candleWidth-2))),n.fillRect(Math.floor(t.pixelFromBar(f,r.chart)-g/2),Math.floor(o),Math.floor(g),Math.floor(t.pixelFromPrice(m[i.name+\"_hist\"],r,s)-o)));t.endClip()},e.Studies.displayRAVI=function(t,i,a){var r,n,s,o,l,h,c,u,d,g,m;p.M2q(),r=t.panels[i.panel],n=i.getContext(t),s=i.getYAxis(t),o=t.pixelFromPrice(0,r,s),(l=t.layout.candleWidth-2)<2&&(l=1),h=e.Studies.determineColor(i.outputs[\"Increasing Bar\"]),c=e.Studies.determineColor(i.outputs[\"Decreasing Bar\"]),t.startClip(i.panel),t.canvasColor(\"stx_histogram\"),i.underlay||(n.globalAlpha=1),!i.highlight&&t.highlightedDraggable&&(n.globalAlpha*=.3);for(var f=0;f<a.length;f++)\"_\",\"h\",\"ist\",\"_h\",\"ist\",\"#CC\",\"CC\",\"CC\",\"_\",\"hist\",u=a[f],p.O6C(0),(d=a[p.c6C(f,1)])||(d=t.getPreviousBar(t.chart,i.name+\"_hist\",f)),u&&(g=0,m=0,i.parameters&&i.parameters.studyOverZonesEnabled&&(g=parseFloat(i.parameters.studyOverBoughtValue),m=parseFloat(i.parameters.studyOverSoldValue)),d?u[i.name+\"_hist\"]>g&&d[i.name+\"_hist\"]<u[i.name+\"_hist\"]?n.fillStyle=h:u[i.name+\"_hist\"]<m&&d[i.name+\"_hist\"]>u[i.name+\"_hist\"]?n.fillStyle=c:n.fillStyle=\"#CCCCCC\":n.fillStyle=\"#CCCCCC\",u.candleWidth&&(l=Math.floor(Math.max(1,u.candleWidth-2))),n.fillRect(Math.floor(t.pixelFromBar(f,r.chart)-l/2),Math.floor(o),Math.floor(l),Math.floor(t.pixelFromPrice(u[i.name+\"_hist\"],r,s)-o)));t.endClip()},e.Studies.displayZigZag=function(t,i,a){var r,n,s,o,l;r=t.chart.highLowBars,i.highLowChart!=r&&(i.highLowChart=r,i.startFrom=0,i.study.calculateFN(t,i)),n=t.chart;for(var h=0;h<a.length;h++)(s=a[h])&&(\"_shadow\",\"Copy \",s[\"_shadowCopy \"+i.name]&&(\"_shado\",\"wCopy \",delete s[\"Result \"+i.name],delete s[\"_shadowCopy \"+i.name]),s[\"Result \"+i.name]||(\"R\",\"e\",\"sult \",s.transform&&delete s.transform[\"Result \"+i.name]));p.y2q(),o=a[0],l=a[a.length-1],o&&o[\"ShadowResult \"+i.name]&&(\"_sha\",\"dowCopy\",\" \",\"ShadowRe\",\"su\",\"lt \",\"Shado\",\"wRe\",\"sult \",\"Resul\",\"t\",\" \",o[\"Result \"+i.name]=o[\"ShadowResult \"+i.name],o.transform&&(o.transform[\"Result \"+i.name]=n.transformFunc(t,n,o[\"ShadowResult \"+i.name])),o[\"_shadowCopy \"+i.name]=1),l&&l[\"ShadowResult \"+i.name]&&(\"_shadow\",\"Copy \",\"Res\",\"u\",\"lt \",l[\"Result \"+i.name]=l[\"ShadowResult \"+i.name],l.transform&&(l.transform[\"Result \"+i.name]=n.transformFunc(t,n,l[\"ShadowResult \"+i.name])),l[\"_shadowCopy \"+i.name]=1),e.Studies.displaySeriesAsLine(t,i,a)},e.Studies.displayVolumeProfile=function(t,i,a){var r,n,s,o,l,h,c,u,d,g,m,f,y,v,x,C,b,S,w,k,D,T;if(\"stx\",\"_vol\",\"ume_profil\",\"e\",\"stx_volume\",\"_profile\",\"stx\",\"_volume_profil\",\"e\",t&&t.chart.dataSet&&(r=t.chart,n=i.parameters.numberOfBars,s=i.parameters.widthPercentage,o=i.parameters.displayBorder,l=i.parameters.displayVolume,(!n||n<0)&&(n=30),n=Math.ceil(n),(!s||s<0)&&(s=.25),!1!==o&&(o=!0),!0!==l&&(l=!1),0!==(h=(r.highValue-r.lowValue)/n))){c=[];for(var M=r.lowValue;M<r.highValue+.1;M+=h)p.O6C(0),c.push([M,p.c6C(\"0\",0)]);if(c.length<2)t.displayErrorAsWatermark(\"chart\",t.translateIf(\"Not enough data to render the Volume Profile\"));else{u=0;for(var A=0;A<a.length;A++)if(d=a[A]){g=d.Volume,i.panel==r.name&&d.transform&&(d=d.transform),m=c[0][0],f=0;for(var P=1;P<c.length;P++)f=c[P][0],(d.Low>=m&&d.Low<=f||d.Low<m&&d.High>f||d.High>=m&&d.High<=f)&&(c[P][1]+=g,c[P][1]>u&&(u=c[P][1])),m=f}0!==u?(t.setStyle(\"stx_volume_profile\",\"color\",e.Studies.determineColor(i.outputs[\"Bars Color\"])),y=i.getContext(t),v=\"stx-float-date\",t.canvasFont(v,y),x=t.getCanvasFontSize(v),C=r.panel,b=C.yAxis.bottom,S=Math.round(r.right)-.5,w=r.width*s,k=t.canvasStyle(\"stx_volume_profile\").borderTopColor,D=!e.isTransparent(t.canvasStyle(\"stx_volume_profile\").borderTopColor)&&o,T=t,F(\"stx_volume_profile\",!1),D&&(\"stx_\",\"volume_pr\",\"ofile\",F(\"stx_volume_profile\",!0)),y.globalAlpha=1):t.displayErrorAsWatermark(\"chart\",t.translateIf(\"Not enough data to render the Volume Profile\"))}}function F(a,r){var n,s,o,h,d,g,m,f,v,D=p;r||(S-=2),T.canvasColor(a),y.beginPath(),n=c[0][0],s=S;for(var M=1;M<c.length;M++){if(c[M][1]){if(o=Math.round(S-c[M][1]*w/u)-.5,h=Math.round(T.pixelFromTransformedValue(n,C))+.5,d=Math.round(T.pixelFromTransformedValue(c[M][0],C))+.5,r||(h-=.5,d+=.5,D.O6C(0),o+=D.c6C(\"0.5\",0)),h>b&&(h=b),d<b)if(y.moveTo(S,h),y.lineTo(S,d),y.lineTo(o,d),y.lineTo(o,h),r)(s>o||1==M)&&y.lineTo(s,h);else if(y.lineTo(S,h),l&&(g=e.condenseInt(c[M][1]),D.O6C(0),m=D.y6C(h,d),x<=m-2)){\"to\",\"p\";try{f=y.measureText(g).width}catch(t){D.O6C(27),f=D.c6C(\"0\",2141139616)}y.textBaseline=\"top\",v=y.fillStyle,y.fillStyle=k,D.J6C(64),y.fillText(g,D.y6C(3,f,o),D.c6C(2,2,m,x,d,D.J6C(93))),y.fillStyle=v}s=o}else s=S;n=c[M][0]}!i.highlight&&t.highlightedDraggable&&(y.globalAlpha*=.3),r||y.fill(),y.strokeStyle=k,r&&y.stroke(),y.closePath()}},e.Studies.displayProjectedVolume=function(t,i,a){var r,n,s,o,l,h,c;if(\"stx_v\",\"olume_under\",\"l\",\"ay_up\",\"Al\",\"ert \",\"Bar\",!i.error){var{\"Alert Threshold\":u=\"\"}=i.inputs;r=parseInt(u.slice(0,-1),10)/100,\"object\"==typeof(n=i.outputs[\"Alert Bar\"])&&(n=n.color),i.volumeField=\"V \"+i.name,i.plotStepLine=!0,i.alignStepToSide=!0,i.extendToEndOfLastBar=!0,i.lineWidth=2,s=t.canvasStyle(\"stx_volume_underlay_up\").opacity,o=t.canvasStyle(\"stx_volume_underlay_down\").opacity,i.colorFunction=function(e){var a,l,h,c,u,d,g=p;var{Open:m,Close:f,iqPrevClose:y}=e;return a=t.colorByCandleDirection?m:y,g.O6C(94),l=g.c6C(a,f),h=e[\"PV \"+i.name],c=e[\"V \"+i.name],g.J6C(95),u=g.c6C(r,h,1),{fill_color:(d=r<0?c<u:c>u)&&n||(l?this.fill_color_down:this.fill_color_up),border_color:l?this.border_color_down:this.border_color_up,opacity:d?1:l?o:s,border_opacity:l?o:s}},l=i.study?i.study.name:i.type;var{loadingMore:d}=t.chart;if(h=a.some(t=>t&&t[i.volumeField]&&t[\"PV \"+i.name]),c=a[0]&&!a[0].futureTick&&(void 0===a[0][\"PV \"+i.name]||(i.dependentsOutputMap||[]).some(t=>(p.y2q(),[void 0,null].includes(a[0][t])))),!h&&d)return i.error=\"Fetching data for \"+l;e.Studies.createVolumeChart(t,i,a),e.Studies.displaySeriesAsLine(t,i,a),c&&e.Studies.calculateProjectedVolume(t,i)}},e.Studies.studyLibrary=e.extend(e.Studies.studyLibrary,{\"Acc Swing\":{name:\"Accumulative Swing Index\",calculateFN:e.Studies.calculateSwingIndex,inputs:{\"Limit Move Value\":.5}},ADX:{name:\"ADX/DMS\",calculateFN:e.Studies.calculateADX,seriesFN:e.Studies.displayADX,inputs:{Period:14,\"Smoothing Period\":14,Series:!0,Shading:!1,Histogram:!1},outputs:{\"+DI\":\"#00FF00\",\"-DI\":\"#FF0000\",ADX:\"auto\",\"Positive Bar\":\"#00DD00\",\"Negative Bar\":\"#FF0000\"}},Aroon:{name:\"Aroon\",range:\"0 to 100\",calculateFN:e.Studies.calculateAroon,outputs:{\"Aroon Up\":\"#00DD00\",\"Aroon Down\":\"#FF0000\"}},\"Aroon Osc\":{name:\"Aroon Oscillator\",calculateFN:e.Studies.calculateAroon,outputs:{\"Aroon Oscillator\":\"auto\"}},ATR:{name:\"Average True Range\",calculateFN:e.Studies.calculateStudyATR,outputs:{ATR:\"auto\"}},\"Bollinger Bands\":{name:\"Bollinger Bands\",overlay:!0,calculateFN:e.Studies.calculateBollinger,seriesFN:e.Studies.displayChannel,inputs:{Period:20,Field:\"field\",\"Standard Deviations\":2,\"Moving Average Type\":\"ma\",\"Channel Fill\":!0},outputs:{\"Bollinger Bands Top\":\"auto\",\"Bollinger Bands Median\":\"auto\",\"Bollinger Bands Bottom\":\"auto\"},attributes:{\"Standard Deviations\":{min:.1,step:.1}}},CCI:{name:\"Commodity Channel Index\",calculateFN:e.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:100,studyOverBoughtColor:\"auto\",studyOverSoldValue:-100,studyOverSoldColor:\"auto\"}},attributes:{Period:{min:2}}},\"Chaikin MF\":{name:\"Chaikin Money Flow\",calculateFN:e.Studies.calculateChaikinMoneyFlow,inputs:{Period:20}},\"Chaikin Vol\":{name:\"Chaikin Volatility\",calculateFN:e.Studies.calculateChaikinVolatility,inputs:{Period:14,\"Rate Of Change\":2,\"Moving Average Type\":\"ma\"}},\"Chande Fcst\":{name:\"Chande Forecast Oscillator\",calculateFN:e.Studies.calculateChandeForecast,inputs:{Period:14,Field:\"field\"}},\"Chande Mtm\":{name:\"Chande Momentum Oscillator\",calculateFN:e.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:50,studyOverBoughtColor:\"auto\",studyOverSoldValue:-50,studyOverSoldColor:\"auto\"}}},COG:{name:\"Center Of Gravity\",calculateFN:e.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:\"field\"}},Coppock:{name:\"Coppock Curve\",calculateFN:e.Studies.calculateCoppock,inputs:{Period:10,Field:\"field\",\"Short RoC\":11,\"Long RoC\":14}},Detrended:{name:\"Detrended Price Oscillator\",calculateFN:e.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:\"field\",\"Moving Average Type\":\"ma\"}},\"Donchian Channel\":{name:\"Donchian Channel\",overlay:!0,calculateFN:e.Studies.calculateMaxHighMinLow,seriesFN:e.Studies.displayChannel,inputs:{\"High Period\":20,\"Low Period\":20,\"Channel Fill\":!0},outputs:{\"Donchian High\":\"auto\",\"Donchian Median\":\"auto\",\"Donchian Low\":\"auto\"}},\"Ehler Fisher\":{name:\"Ehler Fisher Transform\",calculateFN:e.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:\"auto\",\"EF Trigger\":\"#FF0000\"}},\"Elder Force\":{name:\"Elder Force Index\",calculateFN:e.Studies.calculateElderForce,seriesFN:e.Studies.displayElderForce,inputs:{Period:13}},\"Elder Ray\":{name:\"Elder Ray Index\",seriesFN:e.Studies.displayElderRay,calculateFN:e.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{\"Elder Bull Power\":\"#00DD00\",\"Elder Bear Power\":\"#FF0000\"}},EOM:{name:\"Ease of Movement\",calculateFN:e.Studies.calculateEaseOfMovement,inputs:{Period:14,\"Moving Average Type\":\"ma\"}},\"Fractal Chaos\":{name:\"Fractal Chaos Oscillator\",range:\"-1 to 1\",calculateFN:e.Studies.calculateFractalChaos,inputs:{},centerline:null},\"Fractal Chaos Bands\":{name:\"Fractal Chaos Bands\",overlay:!0,calculateFN:e.Studies.calculateFractalChaos,seriesFN:e.Studies.displayChannel,inputs:{\"Channel Fill\":!0},outputs:{\"Fractal High\":\"auto\",\"Fractal Low\":\"auto\",\"Fractal Channel\":\"auto\"}},GAPO:{name:\"Gopalakrishnan Range Index\",calculateFN:e.Studies.calculateMaxHighMinLow},HHV:{name:\"Highest High Value\",calculateFN:e.Studies.calculateMaxHighMinLow,inputs:{Period:14}},\"High Low\":{name:\"High Low Bands\",overlay:!0,seriesFN:e.Studies.displayChannel,calculateFN:function(t,i){i.inputs[\"Moving Average Type\"]=\"triangular\",e.Studies.calculateMAEnvelope(t,i)},inputs:{Period:10,Field:\"field\",\"Shift Percentage\":5,\"Channel Fill\":!0},outputs:{\"High Low Top\":\"auto\",\"High Low Median\":\"auto\",\"High Low Bottom\":\"auto\"},attributes:{\"Shift Percentage\":{min:.1,step:.1}}},\"High-Low\":{name:\"High Minus Low\",calculateFN:function(t,e){var i;i=e.chart.scrubbed;for(var a=e.startFrom;a<i.length;a++)i[a][\"Result \"+e.name]=i[a].High-i[a].Low},inputs:{}},\"Hist Vol\":{name:\"Historical Volatility\",calculateFN:e.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:\"field\",\"Days Per Year\":[252,365],\"Standard Deviations\":1},attributes:{\"Standard Deviations\":{min:.1,step:.1}}},\"Intraday Mtm\":{name:\"Intraday Momentum Index\",calculateFN:e.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:\"auto\",studyOverSoldValue:30,studyOverSoldColor:\"auto\"}}},Keltner:{name:\"Keltner Channel\",overlay:!0,seriesFN:e.Studies.displayChannel,calculateFN:e.Studies.calculateKeltner,inputs:{Period:50,Shift:5,\"Moving Average Type\":\"ema\",\"Channel Fill\":!0},outputs:{\"Keltner Top\":\"auto\",\"Keltner Median\":\"auto\",\"Keltner Bottom\":\"auto\"},attributes:{Shift:{min:.1,step:.1}}},Klinger:{name:\"Klinger Volume Oscillator\",seriesFN:e.Studies.displayHistogramWithSeries,calculateFN:e.Studies.calculateKlinger,inputs:{\"Signal Periods\":13,\"Short Cycle\":34,\"Long Cycle\":55},outputs:{Klinger:\"auto\",KlingerSignal:\"#FF0000\",\"Increasing Bar\":\"#00DD00\",\"Decreasing Bar\":\"#FF0000\"}},\"Lin Fcst\":{name:\"Linear Reg Forecast\",overlay:!0,calculateFN:e.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:\"field\"},outputs:{Forecast:\"auto\"}},\"Lin Incpt\":{name:\"Linear Reg Intercept\",overlay:!0,calculateFN:e.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:\"field\"},outputs:{Intercept:\"auto\"}},\"Lin R2\":{name:\"Linear Reg R2\",calculateFN:e.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:\"field\"},outputs:{RSquared:\"auto\"}},LLV:{name:\"Lowest Low Value\",calculateFN:e.Studies.calculateMaxHighMinLow,inputs:{Period:14}},\"LR Slope\":{name:\"Linear Reg Slope\",calculateFN:e.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:\"field\"},outputs:{Slope:\"auto\"}},macd:{name:\"MACD\",calculateFN:e.Studies.calculateMACD,seriesFN:e.Studies.displayHistogramWithSeries,inputs:{\"Fast MA Period\":12,\"Slow MA Period\":26,\"Signal Period\":9},outputs:{MACD:\"auto\",Signal:\"#FF0000\",\"Increasing Bar\":\"#00DD00\",\"Decreasing Bar\":\"#FF0000\"}},\"MA Env\":{name:\"Moving Average Envelope\",overlay:!0,seriesFN:e.Studies.displayChannel,calculateFN:e.Studies.calculateMAEnvelope,inputs:{Period:50,Field:\"field\",\"Shift Type\":[\"percent\",\"points\"],Shift:5,\"Moving Average Type\":\"ma\",\"Channel Fill\":!0},outputs:{\"MA Env Top\":\"auto\",\"MA Env Median\":\"auto\",\"MA Env Bottom\":\"auto\"},attributes:{Shift:{min:.1,step:.1}}},\"Mass Idx\":{name:\"Mass Index\",seriesFN:e.Studies.displayMassIndex,calculateFN:e.Studies.calculateMassIndex,inputs:{Period:25,\"Bulge Threshold\":27},attributes:{\"Bulge Threshold\":{min:20,max:35,step:.1}}},\"M Flow\":{name:\"Money Flow Index\",range:\"0 to 100\",calculateFN:e.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:\"auto\",studyOverSoldValue:20,studyOverSoldColor:\"auto\"}}},\"Neg Vol\":{name:\"Negative Volume Index\",calculateFN:e.Studies.calculateVolumeIndex,inputs:{Period:255,Field:\"field\",\"Moving Average Type\":\"ma\"},outputs:{Index:\"auto\",MA:\"#FF0000\"}},\"On Bal Vol\":{name:\"On Balance Volume\",calculateFN:e.Studies.calculateOnBalanceVolume,inputs:{}},\"Pos Vol\":{name:\"Positive Volume Index\",calculateFN:e.Studies.calculateVolumeIndex,inputs:{Period:255,Field:\"field\",\"Moving Average Type\":\"ma\"},outputs:{Index:\"auto\",MA:\"#FF0000\"}},\"Pretty Good\":{name:\"Pretty Good Oscillator\",calculateFN:e.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:\"auto\",studyOverSoldValue:-3,studyOverSoldColor:\"auto\"}}},\"Price Osc\":{name:\"Price Oscillator\",calculateFN:e.Studies.calculatePriceOscillator,inputs:{Field:\"field\",\"Short Cycle\":12,\"Long Cycle\":26,\"Moving Average Type\":\"ema\",\"Points Or Percent\":[\"Points\",\"Percent\"]}},\"Price Vol\":{name:\"Price Volume Trend\",calculateFN:e.Studies.calculatePriceVolumeTrend,inputs:{Field:\"field\"}},\"Prime Number\":{name:\"Prime Number Oscillator\",range:\"-1 to 1\",calculateFN:e.Studies.calculatePrimeNumber,centerline:0,inputs:{\"Tolerance Percentage\":5},attributes:{\"Tolerance Percentage\":{min:.1,step:.1}}},\"Prime Number Bands\":{name:\"Prime Number Bands\",overlay:!0,calculateFN:e.Studies.calculatePrimeNumber,seriesFN:e.Studies.displayChannel,inputs:{\"Channel Fill\":!0},outputs:{\"Prime Bands Top\":\"auto\",\"Prime Bands Bottom\":\"auto\",\"Prime Bands Channel\":\"auto\"}},PSAR:{name:\"Parabolic SAR\",overlay:!0,calculateFN:e.Studies.calculatePSAR,seriesFN:e.Studies.displayPSAR2,inputs:{\"Minimum AF\":.02,\"Maximum AF\":.2}},QStick:{name:\"QStick\",calculateFN:e.Studies.calculateQStick,inputs:{Period:8,\"Moving Average Type\":\"ma\"}},\"Random Walk\":{name:\"Random Walk Index\",calculateFN:e.Studies.calculateRandomWalk,outputs:{\"Random Walk High\":\"#FF0000\",\"Random Walk Low\":\"#0000FF\"}},RAVI:{name:\"RAVI\",seriesFN:e.Studies.displayRAVI,calculateFN:e.Studies.calculatePriceOscillator,inputs:{Field:\"field\",\"Moving Average Type\":\"vdma\",\"Short Cycle\":7,\"Long Cycle\":65},outputs:{\"Increasing Bar\":\"#00DD00\",\"Decreasing Bar\":\"#FF0000\"},centerline:0,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:\"auto\",studyOverSoldValue:-3,studyOverSoldColor:\"auto\"}},attributes:{studyOverBoughtValue:{min:0,step:\"0.1\"},studyOverSoldValue:{max:0,step:\"0.1\"}}},rsi:{name:\"RSI\",inputs:{Period:14,Field:\"field\"},calculateFN:e.Studies.calculateRSI,range:\"0 to 100\",outputs:{RSI:\"auto\"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:\"auto\",studyOverSoldValue:20,studyOverSoldColor:\"auto\"}}},Schaff:{name:\"Schaff Trend Cycle\",range:\"0 to 100\",calculateFN:e.Studies.calculateSchaff,inputs:{Period:10,Field:\"field\",\"Short Cycle\":23,\"Long Cycle\":50,\"Moving Average Type\":\"ema\"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:75,studyOverBoughtColor:\"auto\",studyOverSoldValue:25,studyOverSoldColor:\"auto\"}}},\"Stch Mtm\":{name:\"Stochastic Momentum Index\",calculateFN:e.Studies.calculateStochMomentum,inputs:{\"%K Periods\":10,\"%K Smoothing Periods\":3,\"%K Double Smoothing Periods\":3,\"%D Periods\":10,\"%D Moving Average Type\":\"ema\"},outputs:{\"%K\":\"auto\",\"%D\":\"#FF0000\"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:40,studyOverBoughtColor:\"auto\",studyOverSoldValue:-40,studyOverSoldColor:\"auto\"}}},Swing:{name:\"Swing Index\",calculateFN:e.Studies.calculateSwingIndex,inputs:{\"Limit Move Value\":.5}},\"Time Fcst\":{name:\"Time Series Forecast\",overlay:!0,calculateFN:e.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:\"field\"},outputs:{Forecast:\"auto\"}},\"Trade Vol\":{name:\"Trade Volume Index\",calculateFN:e.Studies.calculateOnBalanceVolume,inputs:{\"Min Tick Value\":.5}},TRIX:{name:\"TRIX\",calculateFN:e.Studies.calculateTRIX},Twiggs:{name:\"Twiggs Money Flow\",calculateFN:e.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}},\"Typical Price\":{name:\"Typical Price\",calculateFN:e.Studies.calculateTypicalPrice,inputs:{Period:14}},Ultimate:{name:\"Ultimate Oscillator\",calculateFN:e.Studies.calculateUltimateOscillator,inputs:{\"Cycle 1\":7,\"Cycle 2\":14,\"Cycle 3\":28},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:\"auto\",studyOverSoldValue:30,studyOverSoldColor:\"auto\"}}},\"Vol Osc\":{name:\"Volume Oscillator\",calculateFN:e.Studies.calculatePriceOscillator,inputs:{\"Short Cycle\":12,\"Long Cycle\":26,\"Points Or Percent\":[\"Points\",\"Percent\"]},parameters:{init:{isVolume:!0}}},\"Vol ROC\":{name:\"Volume Rate of Change\",calculateFN:e.Studies.calculateRateOfChange,parameters:{init:{isVolume:!0}}},\"VT HZ Filter\":{name:\"Vertical Horizontal Filter\",calculateFN:e.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},\"W Acc Dist\":{name:\"Accumulation/Distribution\",calculateFN:e.Studies.calculateAccumulationDistribution,inputs:{\"Use Volume\":!1}},\"Weighted Close\":{name:\"Weighted Close\",calculateFN:e.Studies.calculateTypicalPrice,inputs:{Period:14}},\"Williams %R\":{name:\"Williams %R\",calculateFN:e.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:-20,studyOverBoughtColor:\"auto\",studyOverSoldValue:-80,studyOverSoldColor:\"auto\"}}},\"val lines\":{name:\"Valuation Lines\",calculateFN:function(){},seriesFN:function(t,i,a){e.Studies.calculateValuationLines(t,i,a),e.Studies.displayValuationLines(t,i)},overlay:!0,yAxisFN:function(){},inputs:{Field:\"field\",\"Average Type\":[\"mean\",\"median\",\"harmonic\"],\"Display Average\":!0,\"Display 1 Standard Deviation (1)\":!1,\"Display 2 Standard Deviation (2)\":!1,\"Display 3 Standard Deviation (3)\":!1},outputs:{Average:\"#00afed\",\"1 Standard Deviation (1)\":\"#e1e1e1\",\"2 Standard Deviation (2)\":\"#85c99e\",\"3 Standard Deviation (3)\":\"#fff69e\"}},\"vol undr\":{name:\"Volume Underlay\",underlay:!0,range:\"0 to max\",yAxis:{ground:!0,initialMarginTop:0,position:\"none\",zoom:0,heightFactor:.25},seriesFN:e.Studies.createVolumeChart,calculateFN:e.Studies.calculateVolume,inputs:{},outputs:{\"Up Volume\":\"#8cc176\",\"Down Volume\":\"#b82c0c\"},customRemoval:!0,removeFN:function(t,e){t.layout.volumeUnderlay=!1,t.changeOccurred(\"layout\")},attributes:{panelName:{hidden:!0}}},correl:{name:\"Correlation Coefficient\",range:\"-1 to 1\",calculateFN:e.Studies.calculateCorrelationCoefficient,outputs:{}},PMO:{name:\"Price Momentum Oscillator\",calculateFN:e.Studies.calculatePMO,inputs:{Field:\"field\",\"Smoothing Period\":35,\"Double Smoothing Period\":20,\"Signal Period\":10},outputs:{PMO:\"auto\",PMOSignal:\"#FF0000\"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:2.5,studyOverBoughtColor:\"auto\",studyOverSoldValue:-2.5,studyOverSoldColor:\"auto\"}},attributes:{studyOverBoughtValue:{min:0,step:\"0.05\"},studyOverSoldValue:{max:0,step:\"0.05\"}}},\"Rel Vol\":{name:\"Relative Volatility\",range:\"0 to 100\",calculateFN:e.Studies.calculateRelativeVolatility,inputs:{Field:\"field\",\"STD Period\":10,\"Smoothing Period\":14},outputs:{\"Rel Vol\":\"auto\"},centerline:50,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:\"auto\",studyOverSoldValue:30,studyOverSoldColor:\"auto\"}}},Awesome:{name:\"Awesome Oscillator\",seriesFN:e.Studies.displayAwesomeOscillator,calculateFN:e.Studies.calculateAwesomeOscillator,inputs:{},outputs:{\"Increasing Bar\":\"#00DD00\",\"Decreasing Bar\":\"#FF0000\"}},\"W MFI\":{name:\"Market Facilitation Index\",seriesFN:e.Studies.displayMFI,calculateFN:e.Studies.calculateMFI,yAxis:{ground:!0},range:\"0 to max\",inputs:{\"Scale Factor\":6},outputs:{Green:\"#8bc176\",Fade:\"#ab611f\",Fake:\"#5f7cb8\",Squat:\"#ffd0cf\"}},\"ATR Bands\":{name:\"ATR Bands\",overlay:!0,seriesFN:e.Studies.displayChannel,calculateFN:e.Studies.calculateATRBands,inputs:{Period:5,Field:\"field\",Shift:3,\"Channel Fill\":!0},outputs:{\"ATR Bands Top\":\"auto\",\"ATR Bands Bottom\":\"auto\",\"ATR Bands Channel\":\"auto\"},attributes:{Shift:{min:.1,step:.1}}},\"STARC Bands\":{name:\"STARC Bands\",overlay:!0,seriesFN:e.Studies.displayChannel,calculateFN:e.Studies.calculateSTARCBands,inputs:{Period:15,\"MA Period\":5,Multiplier:1.3,\"Channel Fill\":!0},outputs:{\"STARC Bands Top\":\"auto\",\"STARC Bands Median\":\"auto\",\"STARC Bands Bottom\":\"auto\"},attributes:{Multiplier:{min:.1,step:.1}}},\"ATR Trailing Stop\":{name:\"ATR Trailing Stops\",overlay:!0,seriesFN:e.Studies.displayPSAR2,calculateFN:e.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,\"Plot Type\":[\"points\",\"squarewave\"],HighLow:!1},outputs:{\"Buy Stops\":\"#FF0000\",\"Sell Stops\":\"#00FF00\"},attributes:{Multiplier:{min:.1,step:.1}}},\"Boll %b\":{name:\"Bollinger %b\",calculateFN:e.Studies.calculateBollinger,inputs:{Period:20,Field:\"field\",\"Standard Deviations\":2,\"Moving Average Type\":\"ma\"},outputs:{\"%b\":\"auto\"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:100,studyOverBoughtColor:\"auto\",studyOverSoldValue:0,studyOverSoldColor:\"auto\"}},attributes:{\"Standard Deviations\":{min:.1,step:.1}}},\"Boll BW\":{name:\"Bollinger Bandwidth\",calculateFN:e.Studies.calculateBollinger,inputs:{Period:20,Field:\"field\",\"Standard Deviations\":2,\"Moving Average Type\":\"ma\"},outputs:{Bandwidth:\"auto\"},attributes:{\"Standard Deviations\":{min:.1,step:.1}}},\"Donchian Width\":{name:\"Donchian Width\",calculateFN:e.Studies.calculateMaxHighMinLow,inputs:{\"High Period\":20,\"Low Period\":20}},\"Rel Vig\":{name:\"Relative Vigor Index\",seriesFN:e.Studies.displayHistogramWithSeries,calculateFN:e.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{\"Rel Vig\":\"auto\",RelVigSignal:\"#FF0000\",\"Increasing Bar\":\"#00DD00\",\"Decreasing Bar\":\"#FF0000\"}},\"Elder Impulse\":{name:\"Elder Impulse System\",calculateFN:e.Studies.calculateElderImpulse,initializeFN:e.Studies.initElderImpulse,seriesFN:null,customRemoval:!0,underlay:!0,inputs:{},outputs:{Bullish:\"#8BC176\",Bearish:\"#DD3E39\",Neutral:\"#5F7CB8\"},removeFN:function(t,e){t.chart.customChart=null,p.M2q(),t.setMainSeriesRenderer()}},\"Pivot Points\":{name:\"Pivot Points\",overlay:!0,seriesFN:e.Studies.displayPivotPoints,calculateFN:e.Studies.calculatePivotPoints,inputs:{Type:[\"standard\",\"fibonacci\"],Continuous:!1,Shading:!1},outputs:{Pivot:\"auto\",\"Resistance 1\":\"#b82c0b\",\"Support 1\":\"#699158\",\"Resistance 2\":\"#e36460\",\"Support 2\":\"#b3d987\",\"Resistance 3\":\"#ffd0cf\",\"Support 3\":\"#d3e8ae\"},parameters:{init:{opacity:.2}}},Alligator:{name:\"Alligator\",overlay:!0,seriesFN:e.Studies.displayAlligator,calculateFN:e.Studies.calculateAlligator,inputs:{\"Show Lines\":!0,\"Jaw Period\":13,\"Jaw Offset\":8,\"Teeth Period\":8,\"Teeth Offset\":5,\"Lips Period\":5,\"Lips Offset\":3,\"Show Fractals\":!1},outputs:{Jaw:\"#0000FF\",Teeth:\"#FF0000\",Lips:\"#00DD00\"}},Gator:{name:\"Gator Oscillator\",seriesFN:e.Studies.displayGator,calculateFN:e.Studies.calculateAlligator,inputs:{\"Jaw Period\":13,\"Jaw Offset\":8,\"Teeth Period\":8,\"Teeth Offset\":5,\"Lips Period\":5,\"Lips Offset\":3},outputs:{\"Increasing Bar\":\"#00DD00\",\"Decreasing Bar\":\"#FF0000\"},centerline:0},\"Ichimoku Clouds\":{name:\"Ichimoku Clouds\",overlay:!0,calculateFN:e.Studies.calculateIchimoku,seriesFN:e.Studies.displayIchimoku,inputs:{\"Conversion Line Period\":9,\"Base Line Period\":26,\"Leading Span B Period\":52,\"Lagging Span Period\":26},outputs:{\"Conversion Line\":\"#0000FF\",\"Base Line\":\"#FF0000\",\"Leading Span A\":\"#00FF00\",\"Leading Span B\":\"#FF0000\",\"Lagging Span\":\"#808000\"}},\"Perf Idx\":{name:\"Performance Index\",centerline:1,initializeFN:e.Studies.initPriceRelative,seriesFN:e.Studies.displayVsComparisonSymbol,calculateFN:e.Studies.calculatePerformance,inputs:{Period:120,\"Comparison Symbol\":\"SPY\"},outputs:{Result:\"auto\",Gain:\"#00DD00\",Loss:\"#FF0000\"},deferUpdate:!0},Beta:{name:\"Beta\",centerline:1,initializeFN:e.Studies.initPriceRelative,seriesFN:e.Studies.displayVsComparisonSymbol,calculateFN:e.Studies.calculateBeta,inputs:{Period:20,\"Comparison Symbol\":\"SPY\"},deferUpdate:!0},Ulcer:{name:\"Ulcer Index\",calculateFN:e.Studies.calculateUlcerIndex,inputs:{Period:14,Field:\"field\"}},\"Bal Pwr\":{name:\"Balance of Power\",range:\"-1 to 1\",centerline:0,calculateFN:e.Studies.calculateBalanceOfPower,inputs:{Period:14,\"Moving Average Type\":\"ma\"}},\"Trend Int\":{name:\"Trend Intensity Index\",calculateFN:e.Studies.calculateTrendIntensity,range:\"0 to 100\",inputs:{Period:14,Field:\"field\",\"Signal Period\":9},outputs:{TII:\"auto\",Signal:\"#FF0000\"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:\"auto\",studyOverSoldValue:20,studyOverSoldColor:\"auto\"}}},Choppiness:{name:\"Choppiness Index\",calculateFN:e.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:61.8,studyOverBoughtColor:\"auto\",studyOverSoldValue:38.2,studyOverSoldColor:\"auto\"}},attributes:{studyOverBoughtValue:{min:50,step:\"0.1\"},studyOverSoldValue:{max:50,step:\"0.1\"}}},Disparity:{name:\"Disparity Index\",calculateFN:e.Studies.calculateDisparity,inputs:{Period:14,Field:\"field\",\"Moving Average Type\":\"ma\"}},\"Rainbow MA\":{name:\"Rainbow Moving Average\",overlay:!0,calculateFN:e.Studies.calculateRainbow,seriesFN:e.Studies.displayRainbowMA,inputs:{Period:2,Field:\"field\"},outputs:{SMA1:\"#FF0000\",SMA2:\"#FF7F00\",SMA3:\"#FFFF00\",SMA4:\"#7FFF00\",SMA5:\"#00FF7F\",SMA6:\"#00FFFF\",SMA7:\"#007FFF\",SMA8:\"#0000FF\",SMA9:\"#7F00FF\",SMA10:\"#FF00FF\"}},\"Rainbow Osc\":{name:\"Rainbow Oscillator\",calculateFN:e.Studies.calculateRainbow,seriesFN:e.Studies.displayRainbowOsc,centerline:0,inputs:{Period:2,Field:\"field\",\"HHV/LLV Lookback\":10},outputs:{\"Positive Bar\":\"#00DD00\",\"Negative Bar\":\"#FF0000\"}},\"Pring KST\":{name:\"Pring's Know Sure Thing\",calculateFN:e.Studies.calculateKST,inputs:{Field:\"field\",\"Lightest Rate of Change Period\":10,\"Lightest SMA Period\":10,\"Light Rate of Change Period\":15,\"Light SMA Period\":10,\"Heavy Rate of Change Period\":20,\"Heavy SMA Period\":10,\"Heaviest Rate of Change Period\":30,\"Heaviest SMA Period\":15,\"Signal Period\":9},outputs:{KST:\"#00DD00\",KSTSignal:\"#FF0000\"}},\"Pring Sp-K\":{name:\"Pring's Special K\",calculateFN:e.Studies.calculateSpecialK,inputs:{Field:\"field\",Interval:[\"daily\",\"weekly\"]}},Darvas:{name:\"Darvas Box\",underlay:!0,calculateFN:e.Studies.calculateDarvas,seriesFN:e.Studies.displayDarvas,inputs:{\"ATH Lookback Period\":100,\"Exit Field\":[\"close\",\"high/low\"],\"Ghost Boxes\":!0,\"Stop Levels\":!1,\"Level Offset\":.01,\"Price Minimum\":5,\"Volume Spike\":!1,\"Volume % of Avg\":400},outputs:{Darvas:\"#5F7CB8\",Ghost:\"#699158\",Levels:\"auto\"},customRemoval:!0,attributes:{\"Price Minimum\":{min:.01,step:.01},yaxisDisplayValue:{hidden:!0},panelName:{hidden:!0},flippedEnabled:{hidden:!0}}},Supertrend:{name:\"Supertrend\",overlay:!0,seriesFN:e.Studies.displaySupertrend,calculateFN:e.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:3},outputs:{Uptrend:\"#8cc176\",Downtrend:\"#b82c0c\"},attributes:{Multiplier:{min:.1,step:.1}}},\"vol profile\":{name:\"Volume Profile\",underlay:!0,seriesFN:e.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{\"Bars Color\":\"#b64a96\"},customRemoval:!0,parameters:{init:{displayBorder:!0,displayVolume:!1,numberOfBars:30,widthPercentage:.25}},attributes:{yaxisDisplayValue:{hidden:!0},panelName:{hidden:!0},flippedEnabled:{hidden:!0}}},Vortex:{name:\"Vortex Indicator\",calculateFN:e.Studies.calculateVortex,centerline:1,outputs:{\"+VI\":\"#00FF00\",\"-VI\":\"#FF0000\"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:1.1,studyOverBoughtColor:\"auto\",studyOverSoldValue:.9,studyOverSoldColor:\"auto\"}},attributes:{studyOverBoughtValue:{min:1,step:\"0.01\"},studyOverSoldValue:{max:1,step:\"0.01\"}}},ZigZag:{name:\"ZigZag\",overlay:!0,seriesFN:e.Studies.displayZigZag,calculateFN:e.Studies.calculateZigZag,inputs:{\"Distance(%)\":10},parameters:{init:{label:!1}},attributes:{\"Distance(%)\":{min:.1,step:.1}}},PSY:{name:\"Psychological Line\",range:\"0 to 100\",calculateFN:e.Studies.calculatePsychologicalLine,inputs:{Period:20}},\"MA Dev\":{name:\"Moving Average Deviation\",calculateFN:e.Studies.calculateMADev,seriesFN:e.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:\"field\",\"Moving Average Type\":\"ma\",\"Points Or Percent\":[\"Points\",\"Percent\"]},outputs:{\"Increasing Bar\":\"#00DD00\",\"Decreasing Bar\":\"#FF0000\"}},Shinohara:{name:\"Shinohara Intensity Ratio\",calculateFN:e.Studies.calculateShinohara,inputs:{Period:26},outputs:{\"Strong Ratio\":\"#E99B54\",\"Weak Ratio\":\"#5F7CB8\"}},stochastics:{name:\"Stochastics\",range:\"0 to 100\",calculateFN:e.Studies.calculateStochastics,inputs:{Period:14,Field:\"field\",Smooth:!0},outputs:{Fast:\"auto\",Slow:\"#FF0000\"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:\"auto\",studyOverSoldValue:20,studyOverSoldColor:\"auto\"}}},PVAT:{name:\"Projected Volume at Time\",range:\"0 to max\",yAxis:{ground:!0,initialMarginTop:0,zoom:0},calculateFN:e.Studies.calculateProjectedVolume,seriesFN:e.Studies.displayProjectedVolume,inputs:{\"Lookback Days\":10,\"Anchor Time\":\"09:30\",\"Alert Threshold\":[\"+50%\",\"+40%\",\"+30%\",\"+20%\",\"+10%\",\"None\",\"-10%\",\"-20%\",\"-30%\",\"-40%\",\"-50%\"]},outputs:{\"Average Line\":\"#fe641c\",\"Alert Bar\":\"#cfbd0e\",\"Up Volume\":\"#8cc176\",\"Down Volume\":\"#b82c0c\"},attributes:{\"Anchor Time\":{placeholder:\"hh:mm:ss\",step:1},\"Alert Threshold\":{defaultSelected:\"+50%\"}}},PAV:{name:\"Projected Aggregate Volume\",range:\"0 to max\",yAxis:{ground:!0,initialMarginTop:0,zoom:0},calculateFN:e.Studies.calculateProjectedVolume,seriesFN:e.Studies.displayProjectedVolume,inputs:{\"Lookback Days\":10,\"Anchor Time\":\"09:30\"},outputs:{\"Average Line\":\"#fe641c\",\"Up Volume\":\"#8cc176\",\"Down Volume\":\"#b82c0c\"},attributes:{\"Anchor Time\":{placeholder:\"hh:mm:ss\",step:1}}}})):console.error(\"studiesAdvanced feature requires first activating studies feature.\")},({CIQ:d.c,SplinePlotter:d.d,timezoneJS:d.e,$$:d.a,$$$:d.b}.CIQ||d.c).activateImports(n,s,o,l,h,c,null);i(9),i(11);var g=function(t={}){let e={initialSymbol:{symbol:\"AAPL\",name:\"Apple Inc\",exchDisp:\"NASDAQ\"},enabledAddOns:{extendedHours:!0,fullScreen:!0,inactivityTimer:!0,rangeSlider:!0},onNewSymbolLoad:{removeSeries:t=>\"study\"!==t.parameters.bucket,loadError(t,e){}},restore:!0,initialData:void 0,lookupDriver:u.c.ChartEngine.Driver.Lookup.ChartIQ,marketFactory:u.c.Market.Symbology.factory,chartEngineParams:{preferences:{labels:!1,currentPriceLine:!0,whitespace:0}},quoteFeeds:[{quoteFeed:t.quoteFeed,behavior:{refreshInterval:1,bufferSize:200}}],selector:{sideNav:\".ciq-sidenav\",sidePanel:\"cq-side-panel\",lookupComponent:\".ciq-search cq-lookup\",studyLegend:\"cq-study-legend\",timeSpanEvent:\".stx-markers cq-item.span-event\",markersMenuItem:\".stx-markers cq-item\",themesMenuItem:\"cq-themes\",tfcTradePanel:\".stx-trade-panel\",tfcToggle:\".stx-trade\"},themes:{builtInThemes:{\"ciq-day\":\"Day\",\"ciq-night\":\"Night\"},defaultTheme:\"ciq-night\"},menuPeriodicity:[{type:\"item\",label:\"1 D\",cmd:\"Layout.setPeriodicity(1,1,'day')\"},{type:\"item\",label:\"1 W\",cmd:\"Layout.setPeriodicity(1,1,'week')\"},{type:\"item\",label:\"1 Mo\",cmd:\"Layout.setPeriodicity(1,1,'month')\"},{type:\"separator\"},{type:\"item\",label:\"1 Min\",cmd:\"Layout.setPeriodicity(1,1,'minute')\"},{type:\"item\",label:\"5 Min\",cmd:\"Layout.setPeriodicity(1,5,'minute')\"},{type:\"item\",label:\"10 Min\",cmd:\"Layout.setPeriodicity(1,10,'minute')\"},{type:\"item\",label:\"15 Min\",cmd:\"Layout.setPeriodicity(3,5,'minute')\"},{type:\"item\",label:\"30 Min\",cmd:\"Layout.setPeriodicity(1,30,'minute')\"},{type:\"item\",label:\"1 Hour\",cmd:\"Layout.setPeriodicity(2,30,'minute')\"},{type:\"item\",label:\"4 Hour\",cmd:\"Layout.setPeriodicity(8,30,'minute')\"},{type:\"separator\"},{type:\"item\",label:\"1 Sec\",cmd:\"Layout.setPeriodicity(1,1,'second')\"},{type:\"item\",label:\"10 Sec\",cmd:\"Layout.setPeriodicity(1,10,'second')\"},{type:\"item\",label:\"30 Sec\",cmd:\"Layout.setPeriodicity(1,30,'second')\"},{type:\"separator\"},{type:\"item\",label:\"250 MSec\",cmd:\"Layout.setPeriodicity(1,250,'millisecond')\"}],menuChartStyle:[{type:\"radio\",label:\"Candle\",cmd:\"Layout.ChartType('candle')\"},{type:\"radio\",label:\"Bar\",cmd:\"Layout.ChartType('bar')\"},{type:\"radio\",label:\"Colored Bar\",cmd:\"Layout.ChartType('colored_bar')\"},{type:\"radio\",label:\"Line\",cmd:\"Layout.ChartType('line')\"},{type:\"radio\",label:\"Vertex Line\",cmd:\"Layout.ChartType('vertex_line')\"},{type:\"radio\",label:\"Step\",cmd:\"Layout.ChartType('step')\"},{type:\"radio\",label:\"Mountain\",cmd:\"Layout.ChartType('mountain')\"},{type:\"radio\",label:\"Baseline\",cmd:\"Layout.ChartType('baseline_delta')\"},{type:\"radio\",label:\"Hollow Candle\",cmd:\"Layout.ChartType('hollow_candle')\"},{type:\"radio\",label:\"Volume Candle\",cmd:\"Layout.ChartType('volume_candle')\"},{type:\"radio\",label:\"Colored HLC Bar\",cmd:\"Layout.ChartType('colored_hlc')\"},{type:\"radio\",label:\"Scatterplot\",cmd:\"Layout.ChartType('scatterplot')\"},{type:\"radio\",label:\"Histogram\",cmd:\"Layout.ChartType('histogram')\"}],menuChartAggregates:[{type:\"separator\"},{type:\"radio\",label:\"Heikin Ashi\",cmd:\"Layout.ChartType('heikinashi')\"},{type:\"radioOptions\",label:\"Kagi\",cmd:\"Layout.ChartType('kagi')\",options:\"Layout.showAggregationEdit('kagi')\"},{type:\"radioOptions\",label:\"Line Break\",cmd:\"Layout.ChartType('linebreak')\",options:\"Layout.showAggregationEdit('linebreak')\"},{type:\"radioOptions\",label:\"Renko\",cmd:\"Layout.ChartType('renko')\",options:\"Layout.showAggregationEdit('renko')\"},{type:\"radioOptions\",label:\"Range Bars\",cmd:\"Layout.ChartType('rangebars')\",options:\"Layout.showAggregationEdit('rangebars')\"},{type:\"radioOptions\",label:\"Point & Figure\",cmd:\"Layout.ChartType('pandf')\",options:\"Layout.showAggregationEdit('pandf')\"}],menuChartPreferences:[{type:\"checkbox\",label:\"Range Selector\",cmd:\"Layout.RangeSlider()\",cls:\"rangeslider-ui\"},{type:\"checkbox\",label:\"Extended Hours\",cmd:\"Layout.ExtendedHours()\",cls:\"extendedhours-ui\"},{type:\"checkbox\",label:\"Hide Outliers\",cmd:\"Layout.Outliers()\",cls:\"outliers-ui\"},{type:\"checkbox\",label:\"Market Depth\",cmd:\"Layout.MarketDepth()\",cls:\"cryptoiq-ui\"},{type:\"checkbox\",label:\"L2 Heat Map\",cmd:\"Layout.L2Heatmap()\",cls:\"cryptoiq-ui\"}],menuYAxisPreferences:[{type:\"checkbox\",label:\"Log Scale\",cmd:\"Layout.ChartScale('log')\"},{type:\"checkbox\",label:\"Invert\",cmd:\"Layout.FlippedChart()\"}],menuViewConfig:{},menuStudiesConfig:{alwaysDisplayDialog:{ma:!0,AVWAP:!0}},rangeMenu:[{type:\"range\",label:\"1D\",cmd:\"set(1,'today')\"},{type:\"range\",label:\"5D\",cmd:\"set(5,'day',30,2,'minute')\"},{type:\"range\",label:\"1M\",cmd:\"set(1,'month',30,8,'minute')\"},{type:\"range\",label:\"3M\",cmd:\"set(3,'month')\",cls:\"hide-sm\"},{type:\"range\",label:\"6M\",cmd:\"set(6,'month')\",cls:\"hide-sm\"},{type:\"range\",label:\"YTD\",cmd:\"set(1,'YTD')\",cls:\"hide-sm\"},{type:\"range\",label:\"1Y\",cmd:\"set(1,'year')\"},{type:\"range\",label:\"5Y\",cmd:\"set(5,'year',1,1,'week')\",cls:\"hide-sm\"},{type:\"range\",label:\"All\",cmd:\"set(1,'all')\",cls:\"hide-sm\"}],drawingTools:[{type:\"dt\",tool:\"annotation\",group:\"text\",label:\"Annotation\",shortcut:\"t\"},{type:\"dt\",tool:\"arrow\",group:\"markings\",label:\"Arrow\",shortcut:\"a\"},{type:\"dt\",tool:\"line\",group:\"lines\",label:\"Line\",shortcut:\"l\"},{type:\"dt\",tool:\"horizontal\",group:\"lines\",label:\"Horizontal\",shortcut:\"h\"},{type:\"dt\",tool:\"vertical\",group:\"lines\",label:\"Vertical\",shortcut:\"v\"},{type:\"dt\",tool:\"rectangle\",group:\"markings\",label:\"Rectangle\",shortcut:\"r\"},{type:\"dt\",tool:\"segment\",group:\"lines\",label:\"Segment\"},{type:\"dt\",tool:\"callout\",group:\"text\",label:\"Callout\"},{type:\"dt\",tool:\"average\",group:\"statistics\",label:\"Average Line\"},{type:\"dt\",tool:\"channel\",group:\"lines\",label:\"Channel\"},{type:\"dt\",tool:\"continuous\",group:\"lines\",label:\"Continuous\"},{type:\"dt\",tool:\"crossline\",group:\"lines\",label:\"Crossline\"},{type:\"dt\",tool:\"freeform\",group:\"lines\",label:\"Doodle\"},{type:\"dt\",tool:\"elliottwave\",group:\"technicals\",label:\"Elliott Wave\"},{type:\"dt\",tool:\"ellipse\",group:\"markings\",label:\"Ellipse\",shortcut:\"e\"},{type:\"dt\",tool:\"retracement\",group:\"fibonacci\",label:\"Fib Retracement\"},{type:\"dt\",tool:\"fibprojection\",group:\"fibonacci\",label:\"Fib Projection\"},{type:\"dt\",tool:\"fibarc\",group:\"fibonacci\",label:\"Fib Arc\"},{type:\"dt\",tool:\"fibfan\",group:\"fibonacci\",label:\"Fib Fan\"},{type:\"dt\",tool:\"fibtimezone\",group:\"fibonacci\",label:\"Fib Time Zone\"},{type:\"dt\",tool:\"gannfan\",group:\"technicals\",label:\"Gann Fan\"},{type:\"dt\",tool:\"gartley\",group:\"technicals\",label:\"Gartley\"},{type:\"dt\",tool:\"pitchfork\",group:\"technicals\",label:\"Pitchfork\"},{type:\"dt\",tool:\"quadrant\",group:\"statistics\",label:\"Quadrant Lines\"},{type:\"dt\",tool:\"ray\",group:\"lines\",label:\"Ray\"},{type:\"dt\",tool:\"regression\",group:\"statistics\",label:\"Regression Line\"},{type:\"dt\",tool:\"check\",group:\"markings\",label:\"Check\"},{type:\"dt\",tool:\"xcross\",group:\"markings\",label:\"Cross\"},{type:\"dt\",tool:\"focusarrow\",group:\"markings\",label:\"Focus\"},{type:\"dt\",tool:\"heart\",group:\"markings\",label:\"Heart\"},{type:\"dt\",tool:\"star\",group:\"markings\",label:\"Star\"},{type:\"dt\",tool:\"speedarc\",group:\"technicals\",label:\"Speed Resistance Arc\"},{type:\"dt\",tool:\"speedline\",group:\"technicals\",label:\"Speed Resistance Line\"},{type:\"dt\",tool:\"timecycle\",group:\"technicals\",label:\"Time Cycle\"},{type:\"dt\",tool:\"tirone\",group:\"statistics\",label:\"Tirone Levels\"},{type:\"dt\",tool:\"trendline\",group:\"text\",label:\"Trend Line\"}],drawingToolGrouping:[\"All\",\"Favorites\",\"Text\",\"Statistics\",\"Technicals\",\"Fibonacci\",\"Markings\",\"Lines\"],menuRendering:{separator:()=>\"\\n\\t\\t\\t\\t\\t<cq-separator></cq-separator>\",item:({label:t,cmd:e})=>`\\n\\t\\t\\t\\t\\t<cq-item stxtap=\"${e}\">${t}</cq-item>`,radio:({label:t,cmd:e,cls:i})=>`\\n\\t\\t\\t\\t\\t<cq-item \\n\\t\\t\\t\\t\\t\\t${i?`class=\"${i}\"`:\"\"} \\n\\t\\t\\t\\t\\t\\tstxsetget=\"${e}\">${t}<span class=\"ciq-radio\"><span></span></span>\\n\\t\\t\\t\\t\\t</cq-item>`,checkbox:({label:t,cmd:e,cls:i})=>`\\n\\t\\t\\t\\t\\t<cq-item \\n\\t\\t\\t\\t\\t\\t${i?`class=\"${i}\"`:\"\"} \\n\\t\\t\\t\\t\\t\\tstxsetget=\"${e}\">${t}<span class=\"ciq-checkbox ciq-active\"><span></span></span>\\n\\t\\t\\t\\t\\t</cq-item>`,radioOptions:({label:t,cmd:e,options:i,cls:a})=>`\\n\\t\\t\\t\\t\\t<cq-item ${a?`class=\"${a}\"`:\"\"}>\\n\\t\\t\\t\\t\\t\\t<span class=\"ciq-edit\" stxtap=\"${i}\"></span>\\n\\t\\t\\t\\t\\t\\t<div stxsetget=\"${e}\">${t}<span class=\"ciq-radio\"><span></span></span></div>\\n\\t\\t\\t\\t\\t</cq-item>`,range:({label:t,cmd:e,cls:i})=>`\\n\\t\\t\\t\\t\\t<div ${i?`class=\"${i}\"`:\"\"} stxtap=\"${e}\">${t}</div>\\n\\t\\t\\t\\t`,dt:({tool:t,group:e,label:i,shortcut:a})=>`\\n\\t\\t\\t\\t\\t<cq-item \\n\\t\\t\\t\\t\\t\\tclass=\"ciq-tool\" \\n\\t\\t\\t\\t\\t\\tcq-tool=\"${t}\" \\n\\t\\t\\t\\t\\t\\t${a?`cq-tool-shortcut=\"${a}\"`:\"\"}\\n\\t\\t\\t\\t\\t\\tcq-tool-group=\"${e}\" \\n\\t\\t\\t\\t\\t\\tstxtap=\"tool('${t}')\"\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t<span class=\"icon ${t}\"></span>\\n\\t\\t\\t\\t\\t\\t<label>${i}</label>\\n\\t\\t\\t\\t\\t</cq-item>\\n\\t\\t\\t\\t`},getMenu(t,e){let i=this[t];if(i)return!0===e&&(e=(t,e)=>t.label>e.label?1:-1),\"function\"==typeof e&&(i=i.sort(e)),this[t].map(t=>this.menuRendering[t.type](t))},addOns:{tooltip:{ohl:!0,volume:!0,series:!0,studies:!0},inactivityTimer:{minutes:30},animation:{animationParameters:{tension:.3}},rangeSlider:{},fullScreen:{},extendedHours:{filter:!0},continuousZoom:{periodicities:[{period:1,interval:\"month\"},{period:1,interval:\"week\"},{period:1,interval:\"day\"},{period:8,interval:30},{period:1,interval:30},{period:5,interval:1},{period:1,interval:1},{period:10,interval:1,timeUnit:\"second\"},{period:1,interval:1,timeUnit:\"second\"}],boundaries:{maxCandleWidth:15,minCandleWidth:3}},forecasting:{moduleName:\"PlotComplementer\",id:\"forecast\",decorator:{symbol:\"_fcst\",display:\" Forecast\"},renderingParameters:{chartType:\"channel\",opacity:.5,pattern:\"dotted\"},quoteFeed:t.forecastQuoteFeed,behavior:{refreshInterval:60}},outliers:{}},plugins:{timeSpanEventPanel:{menuItemSelector:\".stx-markers cq-item.span-event\",loadSample:!0,showTooltip:!0,infoPanel:{durationEvent:\"main\",spanEvent:\"main\",singleEvent:\"main\"}},marketDepth:{volume:!0,mountain:!0,step:!0,record:!0,height:\"50%\",orderbook:!0},tfc:{moduleName:\"TFC\"},termStructure:{pointFreshnessTimeout:1,postInstall({uiContext:t,extension:e}){new(u.c.getFn(\"UI.CurveEdit\"))(null,t);const i=t.topNode.querySelector(\"cq-datepicker\");i&&i.registerCallback(t=>e.setCurveDate(t))}},visualEarnings:{menuContainer:\".ciq-dropdowns\"}},channels:{crosshair:\"layout.crosshair\",headsUp:\"layout.headsUp\",sidenav:\"layout.sidenav\",drawing:\"channel.drawing\",drawingPalettes:\"channel.drawingPalettes\",breakpoint:\"channel.breakpoint\",containerSize:\"channel.containerSize\",sidenavSize:\"channel.sidenavSize\",sidepanelSize:\"channel.sidepanelSize\",pluginPanelHeight:\"channel.pluginPanelHeight\",tfc:\"channel.tfc\",tc:\"channel.tc\",recognia:\"channel.recognia\",dialog:\"channel.dialog\"},dialogs:{view:{tag:\"cq-view-dialog\"},aggregation:{tag:\"cq-aggregation-dialog\"},timezone:{tag:\"cq-timezone-dialog\"},language:{tag:\"cq-language-dialog\"},theme:{tag:\"cq-theme-dialog\"},study:{tag:\"cq-study-dialog\",attributes:{\"cq-study-axis\":!0,\"cq-study-panel\":\"alias\"}},fibSettings:{tag:\"cq-fib-settings-dialog\"},share:{tag:\"cq-share-dialog\"}},eventMarkersImplementation:t.markerSample,scrollbarStyling:{refresh(e){\"function\"==typeof t.scrollStyle&&(e.__ps||(e.__ps=new t.scrollStyle(e,{suppressScrollX:!0})),e.__ps.update(e))}},createChart:function(t){return u.c.UI?(new u.c.UI.Chart).createChartAndUI({container:t,config:this}).stx:u.c.ChartEngine.create({container:t,config:this})}};return t.quoteFeed||(e.quoteFeeds.length=0),e},m=i(3);let f=new class{constructor(){this.maxTicks=2e4,this.url=\"https://simulator.chartiq.com/datafeed\",this.postAjax=this.postAjax.bind(this),this.fetchInitialData=this.fetchInitialData.bind(this),this.fetchUpdateData=this.fetchUpdateData.bind(this),this.fetchPaginationData=this.fetchPaginationData.bind(this),this.formatChartData=this.formatChartData.bind(this)}postAjax(t,e){var i=new XMLHttpRequest;t+=(-1==t.indexOf(\"?\")?\"?\":\"&\")+(new Date).getTime(),i.open(\"GET\",t),i.onload=function(){e(this.status,this.responseText)},i.onerror=function(){e(500)},i.send()}fetchInitialData(t,e,i,a,r){console.log(\"https://simulator.chartiq.com/datafeed\");var n=this.url+\"?session=\"+encodeURIComponent(a.quoteDriverID)+\"&identifier=\"+t+\"&startdate=\"+e.toISOString()+\"&enddate=\"+i.toISOString()+\"&interval=\"+a.interval+\"&period=\"+a.period+\"&extended=\"+(a.extended?1:0);this.postAjax(n,function(e,i){if(200==e){var a=this.formatChartData(i,t);r({quotes:a,moreAvailable:!0,attribution:{source:\"simulator\",exchange:\"RANDOM\"}})}else r({error:i||e})}.bind(this))}fetchUpdateData(t,e,i,a){var r=this.url+\"?session=\"+i.quoteDriverID+\"&identifier=\"+t+\"&startdate=\"+e.toISOString()+\"&interval=\"+i.interval+\"&period=\"+i.period+\"&extended=\"+(i.extended?1:0);this.postAjax(r,(e,i)=>{if(200==e){var r=this.formatChartData(i,t);a({quotes:r,attribution:{source:\"simulator\",exchange:\"RANDOM\"}})}else a({error:i||e})})}fetchPaginationData(t,e,i,a,r){var n=this.url+\"?session=\"+a.quoteDriverID+\"&identifier=\"+t+\"&startdate=\"+e.toISOString()+\"&enddate=\"+i.toISOString()+\"&interval=\"+a.interval+\"&period=\"+a.period+\"&extended=\"+(a.extended?1:0);this.postAjax(n,function(a,n){if(200==a){var s=this.formatChartData(n,t);r({quotes:s,moreAvailable:e.getTime()>0,upToDate:i.getTime()>Date.now(),attribution:{source:\"simulator\",exchange:\"RANDOM\"}})}else r({error:n||a})}.bind(this))}formatChartData(t,e){for(var i=JSON.parse(t),a=[],r=0;r<i.length;r++){var n={};n.DT=new Date(i[r].DT),n.Open=i[r].Open,n.High=i[r].High,n.Low=i[r].Low,n.Close=i[r].Close,n.Volume=i[r].Volume,a.push(n)}return a}};let y=g({scrollStyle:m.a,quoteFeed:f}).createChart();window.stxx=y}]);","extractedComments":[]}